(self.webpackChunk=self.webpackChunk||[]).push([[2143],{13144:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});const r='<svg width="22" height="22" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">\n  <path fill="#000000" fill-opacity="0.15" d="M11 22C17.0751 22 22 17.0751 22 11C22 4.92487 17.0751 0 11 0C4.92487 0 0 4.92487 0 11C0 17.0751 4.92487 22 11 22Z"/>\n  <path fill="#ffffff" d="M11 21C16.5228 21 21 16.5228 21 11C21 5.47715 16.5228 1 11 1C5.47715 1 1 5.47715 1 11C1 16.5228 5.47715 21 11 21Z"/>\n  <path fill="currentColor" d="M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z"/>\n  <path fill="#ffffff" d="M11 16C13.7614 16 16 13.7614 16 11C16 8.23858 13.7614 6 11 6C8.23858 6 6 8.23858 6 11C6 13.7614 8.23858 16 11 16Z"/>\n</svg>\n'},43747:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});const r='<svg width="18" height="18" viewBox="0 0 18 18" xmlns="http://www.w3.org/2000/svg">\n  <path fill="#000000" fill-opacity="0.15" d="M9 18C13.9706 18 18 13.9706 18 9C18 4.02944 13.9706 0 9 0C4.02944 0 0 4.02944 0 9C0 13.9706 4.02944 18 9 18Z"/>\n  <path fill="#ffffff" d="M9 17C13.4183 17 17 13.4183 17 9C17 4.58172 13.4183 1 9 1C4.58172 1 1 4.58172 1 9C1 13.4183 4.58172 17 9 17Z"/>\n  <path fill="currentColor" d="M9 15C12.3137 15 15 12.3137 15 9C15 5.68629 12.3137 3 9 3C5.68629 3 3 5.68629 3 9C3 12.3137 5.68629 15 9 15Z"/>\n  <path fill="#ffffff" fill-opacity="0.5" d="M9 13C11.2091 13 13 11.2091 13 9C13 6.79086 11.2091 5 9 5C6.79086 5 5 6.79086 5 9C5 11.2091 6.79086 13 9 13Z"/>\n</svg>'},24306:(e,t,s)=>{"use strict";s.d(t,{G:()=>i});var r=s(2421);function i(){return(0,r.l)({isViewportChanged:!0})}},85311:(e,t,s)=>{"use strict";var r=s(52322),i=s(72998);var a=s(28316),n=s(53163),o=s(26287);function c(e){return t=>s=>r=>{switch(r.type){case"UI/SET_LANG":{const s=(0,o.kL)(t.getState()),i=s&&s.country_code||"ru";e.setLocale({lang:r.payload.lang,countryCode:i});break}case"I18N/SET_LOCALE":e.setLocale(r.payload);break;case"I18N/WITH_INTL":{const s=r.payload(e);if(s)return t.dispatch(s);break}}return s(r)}}var d=s(29299);var l=s(70021),u=s(55158),p=s(65741),g=s(73364),m=s(613);const h=e=>({title:e}),f=({state:e,productId:t,brandName:s})=>{const r=(0,u.Gt)({state:e,productId:t}).data;return r?{title:`${r.product.name} — ${s}`}:h(s)},v=({state:e,entityId:t,brandName:s})=>{const r=(0,l.nM)({state:e,entityId:t}).data;if(r)switch(r.type){case"branch":return r.name_ex.extension?{title:`${r.name_ex.primary}, ${r.name_ex.extension} — ${s}`}:{title:`${r.name_ex.primary} — ${s}`};case"attraction":return{title:`${(0,m.T)(r.name,r.subtype_name)} — ${s}`};case"building":case"route":case"station_platform":case"street":case"adm_div":case"crossroad":case"parking":case"gate":case"road":return r.name?{title:`${r.name} — ${s}`}:h(s);default:return h(s)}return h(s)},b=(e,t)=>"search"===e.type&&e.query?{title:`${e.query} — ${t}`}:h(t);const y=function(){let e;return(t,s,r)=>{const i=function(e,t){const s=e.appContext.frames[0],{brandName:r}=t;if(!s){const t=(0,o.Z_)(e);return{title:`${t.admDiv.data&&t.admDiv.data.name||"Global"} — ${r}`}}switch(s.type){case"entity":case"gallery":return v({state:e,entityId:s.entityId,brandName:r});case"search":return b(s,r);case"product":return f({state:e,productId:s.productId,brandName:r});default:return h(r)}}(t.getState(),r);i&&!(0,p.Z)(e,i)&&(e=i,window.isServerRendered||(s.setTitle(i.title),t.dispatch((0,g.T)())))}}();function x(e,t){return s=>r=>i=>{r(i),y(s,e,t)}}const j=window,w=()=>({location:window.location,open:(e,t,s)=>window.open(e,t,s),reload(e=!1){window.location.reload(e)},delayClose(e=0){j.setTimeout((()=>j.close()),e)},historyPush(e,t){j.history.pushState(e,"",t)},historyReplace(e,t){j.history.replaceState(e,"",t)},historyBack(){j.history.back()},setTitle(e){j.document.title=e}});var _=s(23),C=s(67753),I=s(88032),k=s(53074),O=s(29600),S=s(80186),N=s(97825);const M=()=>{if("undefined"==typeof document)return{width:N.BU,height:N.AS};const e=document.body,t=document.documentElement;return{width:Math.max(e.offsetWidth,t.clientWidth,t.offsetWidth),height:Math.max(e.offsetHeight,t.clientHeight,t.offsetHeight)}};var T=s(23150),P=s(12593),E=s(57953),L=s(52981),R=s(95359);function z(){const e="ryan";return(0,C.Mf)((0,T.Oo)({id:e,type:"window:popstate",handler:e=>(0,O.dc)(e.state)}),(0,T.Oo)({id:e,type:"window:resize",handler:()=>(0,C.vP)((0,k.nc)(M()),(0,S.en)())}),(0,T.Oo)({id:e,type:"window:message",handler:e=>function(e){if(e.data)try{const t=JSON.parse(e.data);if("mkb"===t.type&&t.id)return(0,C.vP)((0,R.IW)(),(0,L.xo)({id:t.id,type:"branch"}));if("state"===t.type&&t.url)return(0,E.k)({url:t.url})}catch(e){}return(0,C.ZT)()}(e)}),(0,T.Oo)({id:e,type:"common:escapeKeyUp",handler:()=>(0,P.rA)()}),(0,T.Oo)({id:e,type:"common:arrowLeftKeyDown",handler:()=>(0,P.$q)("backward")}),(0,T.Oo)({id:e,type:"common:arrowRightKeyDown",handler:()=>(0,P.$q)("forward")}),(0,T.Oo)({id:e,type:"common:spaceKeyDown",handler:()=>(0,P.$q)("forward")}),(0,T.Oo)({id:e,type:"common:arrowUpKeyDown",handler:()=>(0,P.$q)("backward")}),(0,T.Oo)({id:e,type:"common:arrowDownKeyDown",handler:()=>(0,P.$q)("forward")}),(0,T.Oo)({id:e,type:"myGeolocation:update",handler:e=>(0,P.CV)(e)}),(0,T.Oo)({id:e,type:"myGeolocation:error",handler:e=>(0,P.oD)(e)}))}var A=s(24973),F=s(34323),B=s(7763),Z=s(354);var U=s(65649),H=s(86023);var D=s(56104),$=s(55795),V=s(10961),q=s(10484),G=s(45544);const W="testRemoteConfig";(0,G.w)({name:W,percentRange:[0,0],groups:["cg","tg"]});function Q(){return(0,C.Mf)((0,V.m)({value:!1}),(0,D.yy)({showSlugsNeededOnlyForStartup:!1}),(0,I.zA)({timezone:(new Date).getTimezoneOffset()}),(0,Z.gF)({sessionId:e=>e.config.sessionId,tabId:e=>e.config.tabId,currentAdmDiv:o.Z_,refererHost:e=>e.session.refererHost,refererUrl:e=>e.session.refererUrl,utm:e=>e.session.utm,startURL:e=>e.session.startURL,dataLocale:U.O,statHash:e=>e.session.statHash,searchFrameQuery:e=>{const t=e.appContext.frames[0];return t&&"search"===t.type&&"query"===t.searchType?t:void 0}},(({sessionId:e,tabId:t,currentAdmDiv:s,refererHost:r,refererUrl:i,utm:a,startURL:n,dataLocale:o,statHash:c,searchFrameQuery:d})=>{window.__bss={tabId:t,sessionId:e};const l=s.admDiv.data&&s.admDiv.data.overlapRegionId||"0";let u;return c&&(u=function(e){try{return JSON.parse((0,H.NV)(e))}catch(e){return}}(c)),(0,F.X)({overlapRegionId:l,refererHost:r,refererUrl:i,utm:a,link:n,dataLocale:"0"===l?void 0:o,crossTab:u,searchFrameParams:d&&{frameId:d.id,query:d.query,rubricId:d.tabCatalog.rubricId||(0,q.fp)(d)}})})),z(),(0,Z.gF)({region:o.kL,lang:e=>e.appContext.lang},(({region:e,lang:t})=>{const s=e&&e.country_code||"ru";return(0,B.Gm)({lang:t,countryCode:s})})),(0,C.xJ)((e=>e.session.is3dEnabled?"force_3d"===(0,$.z)("is3dDisabled")?(0,k.Tj)({is3dEnabled:!0}):(0,k.Tj)({is3dEnabled:(0,A.isWebGlAvailable)()}):(0,C.ZT)())),(0,I.mn)({time:Date.now()}),(0,k.nc)({width:window.innerWidth,height:window.innerHeight}),(0,C.Rh)((e=>(0,C.PQ)((()=>{e.featureTestRemoteConfig&&console.log(`trce=${(0,G.c)(W,e.experiments)}`)})))))}var K=s(42313),J=s(77878),Y=s(64693);function X(e){const{activeLayer:t,activeSublayer:s,zoom:r,rotation:i,pitch:a,relief:n,showSnow:o}=e.appContext,c=(0,K.ls)(e),d=t||o.allowSnowStyle?[{name:ee(t,o.allowSnowStyle)}]:void 0,l=(0,Y.oA)([s?{name:te(s)}:void 0,n?{name:"reliefSubLayer"}:void 0]);return{map:{inviewport:c,zoomLevel:r,rotation:i,pitch:a,enabledMapLayers:d,enabledMapSubLayers:l.length?l:void 0}}}function ee(e,t){if(t&&!e)return"winterLayer";switch(e){case"eta":return"ctxLayer";case"realty":return"realtyLayer";case"friends":return"friendsLayer";case"photos":return"photosLayer";case"metro":return"metroLayer";case"exchange":return"exchangeCurrencyLayer";case"backTo2004":return"backTo2004Layer";case"roadAccident":return"trafficIncidentLayer";case"parkings":return"parkingLayer";case"tourism":return"touristLayer";default:return void(0,J.H)({message:`Не удалось получить название слоя для поля map.enabledMapLayers в ExtraParams: слой ${e} не существует`,level:"error",id:"q2ee0",payload:{type:"debug",subtype:"BssTrackerV3"}})}}function te(e){switch(e){case"realtyPriceSale":return"realtyBuySubLayer";case"realtyPriceRent":return"realtyRentSubLayer";case"realtyWalkDistance":return"realtyWalkDistanceSubLayer";case"realtyIsochroneWalking":return"realtyPedestrianIsochrone";case"realtyIsochroneDriving":return"realtyCarIsochrone";default:return void(0,J.H)({message:`Не удалось получить название подслоя для поля map.enabledMapSubLayers в ExtraParams: слой ${e} не существует`,level:"error",id:"fw42g",payload:{type:"debug",subtype:"BssTrackerV3"}})}}var se=s(44154);const re=[["search","entity"],["search","product"],["product","entity"],["directions","direction"],["userProfile","collection"],["userProfile","currentReview"],["userProfile","entity"],["userProfile","achievements"],["userProfile","userFriendsActivity"],["publicFavorites","collection"],["collection","entity"],["entity","collection"],["prices","offer"],["prices","offers"],["prices","offers","offer"],["directions","entity"],["rubricator","rubric"],["entity","unconfirmedReviews"],["directions","tUgc"],["search","tUgc"],["entity","unconfirmedReviews","currentReview"],["entity","currentReview"],["entity","offer"],["entity","userFriendsActivity"],["realty","realtyCard"],["realty","entity"],["exchange","entity"],["friendsList","userPublicProfile"],["friendsList","userPublicProfile","currentReview"],["userPublicProfile","currentReview"],["friendsList","userPublicProfile","entity"],["userPublicProfile","entity"]];const ie=[["entity","pending","direction","error","tUgc","realtyCard"]];function ae(e,t){let s=[...e];var r,i;s[0]&&(r=s[0].type,i=t.type,r===i||ie.find((e=>e.includes(r)&&e.includes(i))))&&(s[0].victimsId&&(t.victimsId=s[0].victimsId),s=s.slice(1)),s=[t,...s];const a=re.find((e=>{const t=[...e].reverse();return!(s.length<t.length)&&t.every(((e,t)=>{return("search"===(r=s[t]).type&&"offers"===r.searchType?r.searchType:"pending"===r.type?"entity":r.type)===e;var r}))}));return a?s.slice(0,a.length):[t]}function ne(e,t){return e.reduce(((e,s)=>s.every((e=>!!t.find((t=>t.id===e.id))))?e:[...e,s]),[])}var oe=s(51604),ce=s(98399),de=s(8082),le=s(2784),ue=s(6801),pe=s(27215),ge=s(42858),me=s(11149),he=s(21466);var fe=s(13754),ve=s(83575),be=s(10504),ye=s(55164),xe=s(66071),je=s(27926),we=s(19196),_e=s(44853),Ce=s(52372);const Ie=({width:e=24,height:t=24,color:s="currentColor"})=>(0,r.jsx)("svg",Object.assign({width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.73743 3H15.2808L14.7808 5H21.4771L19.0953 10.9544L21.6181 16H10.2193L10.7193 14H7.38028L9.20249 21.7444L7.25565 22.2025L2.73743 3ZM6.90969 12H13.2808L12.7808 14H18.382L16.9048 11.0456L18.523 7H12.2193L12.7193 5H5.26263L6.90969 12Z",fill:s})}));var ke=s(92141),Oe=s(44149),Se=s(6340),Ne=s(45346),Me=s(22970);const Te=e=>{var{width:t=24,height:s=24,color:i="currentColor"}=e,a=(0,Me._T)(e,["width","height","color"]);return(0,r.jsxs)("svg",Object.assign({width:t,height:s,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a,{children:[(0,r.jsx)("mask",Object.assign({id:"path-1-inside-1_420_7939",fill:"white"},{children:(0,r.jsx)("path",{d:"M12.9999 22.0171L11.0002 22.0193C10.9978 21.9191 10.9951 21.819 10.992 21.7188C10.986 21.5237 10.9761 21.2434 10.9608 20.9045C10.93 20.2255 10.8776 19.3175 10.7912 18.3931C10.7232 17.6664 10.3772 16.7732 9.63075 16.0656C8.90106 15.3738 7.72375 14.7982 5.875 14.7982H5.23145L4.96485 14.2125C4.195 12.5212 4 11.4004 4 9.84C4 5.76673 7.2499 2 12 2C16.7501 2 20 5.76673 20 9.84C20 11.4004 19.805 12.5212 19.0352 14.2125L18.7685 14.7982H18.125C16.2762 14.7982 15.0973 15.3739 14.3661 16.0661C13.6181 16.7741 13.2714 17.6673 13.2035 18.3931C13.1171 19.3167 13.066 20.2239 13.0366 20.9026C13.022 21.2412 13.0127 21.5214 13.0072 21.7163C13.0043 21.8166 13.0019 21.9168 12.9999 22.0171Z"})})),(0,r.jsx)("path",{d:"M12.9999 22.0171L13.002 24.0171L14.9591 24.015L14.9994 22.0584L12.9999 22.0171ZM11.0002 22.0193L9.00074 22.0663L9.04662 24.0215L11.0024 24.0193L11.0002 22.0193ZM10.992 21.7188L12.9911 21.6569V21.6569L10.992 21.7188ZM10.9608 20.9045L12.9587 20.814L10.9608 20.9045ZM10.7912 18.3931L12.7825 18.2069L10.7912 18.3931ZM9.63075 16.0656L8.25479 17.517L8.25479 17.517L9.63075 16.0656ZM5.23145 14.7982L3.41115 15.6268L3.94436 16.7982H5.23145V14.7982ZM4.96485 14.2125L6.78515 13.384L4.96485 14.2125ZM19.0352 14.2125L17.2148 13.384L17.2148 13.384L19.0352 14.2125ZM18.7685 14.7982V16.7982H20.0556L20.5889 15.6268L18.7685 14.7982ZM14.3661 16.0661L12.9911 14.6136L12.9911 14.6136L14.3661 16.0661ZM13.2035 18.3931L11.2122 18.2069V18.2069L13.2035 18.3931ZM13.0366 20.9026L11.0385 20.816V20.816L13.0366 20.9026ZM13.0072 21.7163L11.008 21.6594L11.008 21.6594L13.0072 21.7163ZM8.96282 20.995C8.97768 21.323 8.98722 21.5937 8.99301 21.7807L12.9911 21.6569C12.9848 21.4537 12.9746 21.1637 12.9587 20.814L8.96282 20.995ZM8.79987 18.5794C8.88235 19.4613 8.93294 20.335 8.96282 20.995L12.9587 20.814C12.9271 20.1159 12.8729 19.1738 12.7825 18.2069L8.79987 18.5794ZM8.25479 17.517C8.61893 17.8622 8.77291 18.2911 8.79987 18.5794L12.7825 18.2069C12.6735 17.0417 12.1355 15.6842 11.0067 14.6141L8.25479 17.517ZM5.875 16.7982C7.27613 16.7982 7.94084 17.2194 8.25479 17.517L11.0067 14.6141C9.86127 13.5283 8.17136 12.7982 5.875 12.7982V16.7982ZM5.23145 16.7982H5.875V12.7982H5.23145V16.7982ZM3.14454 15.0411L3.41115 15.6268L7.05176 13.9697L6.78515 13.384L3.14454 15.0411ZM2 9.84C2 11.671 2.25014 13.0761 3.14454 15.0411L6.78515 13.384C6.13985 11.9663 6 11.1297 6 9.84H2ZM12 0C6.08693 0 2 4.72149 2 9.84H6C6 6.81197 8.41288 4 12 4V0ZM22 9.84C22 4.72149 17.9131 0 12 0V4C15.5871 4 18 6.81197 18 9.84H22ZM20.8555 15.0411C21.7499 13.0761 22 11.671 22 9.84H18C18 11.1297 17.8601 11.9663 17.2148 13.384L20.8555 15.0411ZM20.5889 15.6268L20.8555 15.0411L17.2148 13.384L16.9482 13.9697L20.5889 15.6268ZM18.125 16.7982H18.7685V12.7982H18.125V16.7982ZM15.741 17.5185C16.0568 17.2196 16.7237 16.7982 18.125 16.7982V12.7982C15.8287 12.7982 14.1377 13.5282 12.9911 14.6136L15.741 17.5185ZM15.1948 18.5794C15.2215 18.2938 15.3751 17.8649 15.741 17.5185L12.9911 14.6136C11.8612 15.6833 11.3212 17.0408 11.2122 18.2069L15.1948 18.5794ZM15.0348 20.9891C15.0633 20.3304 15.1125 19.4587 15.1948 18.5794L11.2122 18.2069C11.1216 19.1747 11.0688 20.1174 11.0385 20.816L15.0348 20.9891ZM15.0064 21.7731C15.0117 21.5867 15.0206 21.3165 15.0348 20.9891L11.0385 20.816C11.0233 21.1659 11.0138 21.4561 11.008 21.6594L15.0064 21.7731ZM11.0024 24.0193L13.002 24.0171L12.9977 20.0171L10.998 20.0193L11.0024 24.0193ZM8.99301 21.7807C8.99594 21.8753 8.99849 21.9705 9.00074 22.0663L12.9996 21.9724C12.9972 21.8678 12.9944 21.7626 12.9911 21.6569L8.99301 21.7807ZM14.9994 22.0584C15.0014 21.9627 15.0037 21.8677 15.0064 21.7731L11.008 21.6594C11.005 21.7655 11.0024 21.871 11.0003 21.9759L14.9994 22.0584Z",fill:i,mask:"url(#path-1-inside-1_420_7939)"})]}))},Pe=e=>{var{width:t=24,height:s=24,color:i="currentColor"}=e,a=(0,Me._T)(e,["width","height","color"]);return(0,r.jsx)("svg",Object.assign({width:t,height:s,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a,{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 5C13.8954 5 13 5.89543 13 7V17C13 19.2091 11.2091 21 9 21C6.79086 21 5 19.2091 5 17V15H7V17C7 18.1046 7.89543 19 9 19C10.1046 19 11 18.1046 11 17V7C11 4.79086 12.7909 3 15 3C17.2091 3 19 4.79086 19 7V10.126C20.7252 10.5701 22 12.1362 22 14C22 16.2091 20.2091 18 18 18C15.7909 18 14 16.2091 14 14C14 12.1362 15.2748 10.5701 17 10.126V7C17 5.89543 16.1046 5 15 5ZM2 10C2 7.79086 3.79086 6 6 6C8.20914 6 10 7.79086 10 10C10 12.2091 8.20914 14 6 14C3.79086 14 2 12.2091 2 10Z",fill:i})}))},Ee=e=>{var{width:t=24,height:s=24,color:i="currentColor"}=e,a=(0,Me._T)(e,["width","height","color"]);return(0,r.jsx)("svg",Object.assign({width:t,height:s,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a,{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.73743 3H15.2808L14.7808 5H21.4771L19.0953 10.9544L21.6181 16H10.2193L10.7193 14H7.38028L9.20249 21.7444L7.25565 22.2025L2.73743 3Z",fill:i})}))},Le=e=>{var{width:t=32,height:s=32,color:i="currentColor"}=e,a=(0,Me._T)(e,["width","height","color"]);return(0,r.jsx)("svg",Object.assign({width:t,height:s,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a,{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 27V24H24C25.1046 24 26 23.1046 26 22V10.882L21 8.38197V8C21 5.23858 18.7614 3 16 3C13.5603 3 11.5287 4.74734 11.0884 7.05881C7.65314 7.50556 5 10.4429 5 14C5 16.38 6.18818 18.4814 8 19.7452V25.4648C8 26.1335 8.33421 26.758 8.8906 27.1289L11.6972 29H14C15.1046 29 16 28.1046 16 27ZM13.1398 7.09233C14.7598 7.35762 16.1928 8.17906 17.2362 9.35419C17.3212 9.25358 17.4275 9.1682 17.5528 9.10557L19 8.38197V8C19 6.34315 17.6569 5 16 5C14.6595 5 13.5244 5.87916 13.1398 7.09233ZM11 10C11 9.44772 11.4477 9 12 9C12.5523 9 13 9.44772 13 10V12C13 12.5523 12.5523 13 12 13C11.4477 13 11 12.5523 11 12V10ZM19 13.9999C19 12.9077 18.7499 11.874 18.3038 10.9528C18.3523 10.9372 18.4002 10.9178 18.4472 10.8943L20 10.1179L24 12.1179V21.9999H16V19.7451C17.8118 18.4813 19 16.3799 19 13.9999Z",fill:i})}))},Re=e=>{var{width:t=32,height:s=32,color:i="currentColor"}=e,a=(0,Me._T)(e,["width","height","color"]);return(0,r.jsxs)("svg",Object.assign({width:t,height:s,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a,{children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 13C22.933 13 24.5 11.433 24.5 9.5C24.5 7.567 22.933 6 21 6C19.067 6 17.5 7.567 17.5 9.5C17.5 11.433 19.067 13 21 13Z",fill:i}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.5 12C15.5 14.2091 13.7091 16 11.5 16C9.29086 16 7.5 14.2091 7.5 12C7.5 9.79086 9.29086 8 11.5 8C13.7091 8 15.5 9.79086 15.5 12Z",fill:i}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 23.4411C18.0001 19.4906 15.2954 17 11.5 17C7.28743 17 5.00021 19.4906 5 23.4411C5 24.8544 6.18125 26 7.6384 26H15.3616C16.8187 26 18 24.8544 18 23.4411Z",fill:i}),(0,r.jsx)("path",{d:"M20.9782 14C24.4817 14 26.9783 16.2139 26.9782 19.7255C26.9782 20.9817 25.8878 22 24.5428 22H19.8975C19.7951 21.2971 19.6165 20.6275 19.365 20H24.5428C24.6899 20 24.9782 19.9185 24.9782 19.7254C24.9782 18.467 24.5443 17.5844 23.9266 17.0072C23.2939 16.416 22.3098 16 20.9782 16C19.4088 16 18.4652 16.4406 17.9191 16.9752C17.8083 17.0836 17.7035 17.206 17.6069 17.3437L17.5661 17.3038C17.0955 16.8471 16.5737 16.4578 16.011 16.1363C16.9981 14.7754 18.6769 14 20.9782 14Z",fill:i}),(0,r.jsx)("path",{d:"M20.9672 14C24.4707 14 26.9673 16.2139 26.9672 19.7255C26.9672 20.9817 25.8768 22 24.5318 22H19.8866C19.7841 21.2971 19.6055 20.6275 19.354 20L18.489 18.5C18.6362 18.5 18.5 18.5 18.5 18.5L17.5551 17.3038C17.0845 16.8471 16.5627 16.4578 16 16.1363C16.9871 14.7754 18.666 14 20.9672 14Z",fill:i})]}))};var ze=s(42714),Ae=s(44344);const Fe=e=>{switch(!0){case!!(t=e.frames).length&&(0,he.B7)(t[t.length-1]):return"routeSearchIcon";case"friends"===e.activeLayer:return"friendsLayerIcon";case(e=>{const[t,s]=e;return"publicFavorites"===(null==t?void 0:t.type)||"collection"===(null==t?void 0:t.type)&&"publicFavorites"===(null==s?void 0:s.type)||"entity"===(null==t?void 0:t.type)&&"collection"===(null==s?void 0:s.type)})(e.frames):return"interestingIcon";case"realty"===e.activeLayer:return"realtyLayerIcon"}var t;return"dashboardIcon"},Be=({tp:e,dispatch:t,isMobileDevice:s,featureGuide:i,featureReadOnly:a,featureRealty:n,lang:o,directionsStoreLink:c})=>{const d=[{title:e._t("Поиск"),name:"dashboardIcon",onClick:()=>t((0,C.vP)((0,P.kn)(),(0,ke.kG)({isMinimized:!1}))),urlParams:{type:"root"},getIcon:e=>e?(0,r.jsx)(je.g,{width:24,height:24,color:"currentColor"}):(0,r.jsx)(Te,{})},{title:e._t("Маршруты"),name:"routeSearchIcon",onClick:()=>{s?"ru"===o?t((0,Ne.x)("routeSearchFullscreenPopup")):window.open(c):t((0,C.vP)((0,O.BN)(),(0,me.b)()))},urlParams:{type:"directions"},getIcon:e=>e?(0,r.jsx)(Pe,{}):(0,r.jsx)(we.Z,{})}];return a||d.push({title:e._t("Друзья"),name:"friendsLayerIcon",layerName:"friendsLayer",onClick:()=>t((0,C.vP)(!s&&ze.m.openFriendsList(Ae.i.openPublicProfile),(0,fe.tj)({newLayer:"friends"}))),urlParams:{type:"friends"},getIcon:e=>e?(0,r.jsx)(Re,{}):(0,r.jsx)(_e._,{})}),!a&&i&&d.push({title:e._t("Гид"),name:"interestingIcon",onClick:()=>t((0,C.vP)((0,ve.a)((0,C.PQ)((()=>be.Y.set((()=>!1))))),(0,O.BN)(),(0,ye.$)("interesting"))),urlParams:{type:"interesting"},getIcon:e=>e?(0,r.jsx)(Ee,{}):(0,r.jsx)(Ie,{})}),n&&d.push({title:e._t("Жильё"),name:"realtyLayerIcon",layerName:"realtyLayer",urlParams:{type:"realty"},getIcon:e=>e?(0,r.jsx)(Le,{}):(0,r.jsx)(Ce.b,{}),onClick:()=>t((0,xe.T)())}),d};var Ze=s(46042),Ue=s(94146),He=s(28564);const De=(0,Ze.P)("setNavigationIsFriendsClicked",(0,Ue.x)("appContext",((e,{isClicked:t})=>Object.assign(Object.assign({},e),{navigation:Object.assign(Object.assign({},e.navigation),{isFriendsClicked:t})})))),$e=(0,C.gQ)("setIsFriendsClicked",(({isClicked:e})=>(0,C.vP)((0,He.d)({name:"isFriendsClicked",value:e?"clicked":""}),De({isClicked:e}))));var Ve=s(4135);const qe=()=>({frameId:e},t,s)=>{if(!s)return;const{layerName:r,name:i,position:a}=s,n=(0,o.fq)(t),c=(0,U.O)(t);return Object.assign({action:"tap",uiElement:{name:i,ownerName:"sideIconMenu",position:a,frameUuid:e}},r?{payload:{mapLayer:{name:r,entity:{type:"mapLayer",segmentInfo:(0,Ve.U)({locale:c,region_id:n})},enableMapLayer:!0}}}:{})};var Ge=s(81187),We=s(86687),Qe=s(35253),Ke=s(98584),Je=s(66908),Ye=s(85843),Xe=s(63993);const et=()=>{const{css:e,s:t}=(0,ue.y)(tt),s=(0,pe.v9)((e=>(e=>e.appContext.navigation)(e))).isFriendsClicked,{isMobileDevice:i}=(0,Se.Z)(),{useBssHandler:a}=(0,Je.T)(),n=(0,pe.I0)(),o=a(qe),c=(0,pe.v9)((e=>"friends"===e.appContext.activeLayer));(0,le.useEffect)((()=>{c&&!s&&n($e({isClicked:!0}))}),[n,s,c]);const{items:d,activeItem:l}=(()=>{const e=(0,ge.T)(),t=(0,pe.v9)((e=>e.session.platform)),s=(0,Oe.Og)({platform:t,type:"modalGeoPromoDirect"}),{lang:r,isMobileDevice:i,featureReadOnly:a,featureRealty:n,featureGuide:o}=(0,Se.Z)(),c=(0,pe.v9)((e=>e.appContext)),d=(0,pe.I0)();return{items:Be({tp:e,dispatch:d,isMobileDevice:i,featureGuide:o,featureReadOnly:a,featureRealty:n,directionsStoreLink:s,lang:r}),activeItem:Fe(c)}})();return(0,r.jsx)("div",Object.assign({className:e(t.wrapper)},{children:d.map(((a,d)=>(0,le.createElement)(Ge.E,Object.assign({},a.urlParams,{key:`${a.name}_navigation_item`}),(u=>(0,r.jsxs)("div",Object.assign({},Ye.dx.n("wat-navigation-bar-item"),Ye.dx.t(`${a.name}`),Ye.dx.s(a.name===l?"active":"inactive"),{onClick:()=>(({layerName:e,name:t,onClick:s},r)=>{o({position:r,layerName:e,name:t}),n((0,fe.tj)({newLayer:void 0})),s()})(a,d+1),className:e(t.item,l===a.name&&t.isActive)},{children:[(0,r.jsx)("div",Object.assign({className:e(t.icon)},{children:a.getIcon(a.name===l,i)})),(0,r.jsx)(We.Z,Object.assign({color:"inherit",href:u},{children:a.title})),"friendsLayerIcon"===a.name&&!s&&!c&&(0,r.jsx)("div",{className:e(t.badge)})]}))))))}))},tt=(0,ue.k)((({mobile:e})=>({wrapper:Object.assign(Object.assign({boxSizing:"border-box"},e?{width:"100%",paddingTop:8,paddingBottom:8,paddingStart:16,paddingEnd:16,flexDirection:"row",justifyContent:"space-around",borderTop:"1px solid #E5E7EE"}:{height:"100%",width:Qe.dp.navigationWidth,paddingTop:16,flexDirection:"column",boxShadow:"-1px 0px 0px 0px #0000000D inset"}),{display:"flex",gap:8,zIndex:Qe.W5.top,background:Ke.O.white}),item:Object.assign(Object.assign({},Xe.MY),{boxSizing:"border-box",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:8,color:Ke.O.gray_989bab,gap:2,position:"relative",flexGrow:e?1:"unset","&:hover":{cursor:"pointer",color:Ke.O.green_30ad00}}),icon:{width:32,height:32,display:"flex",justifyContent:"center",alignItems:"center",alignContent:"center"},isActive:{color:Ke.O.green_30ad00},badge:{position:"absolute",top:0,right:8,borderRadius:"100%",background:Ke.O.red_e10d0d,width:8,height:8}})));var st=s(32260);const rt={frames:[],storiesPopupData:{},friendsOnMap:st.EV.defaultState,friendInOtherDomain:de.Z.defaultState,navigation:{isFriendsClicked:!1},graveyard:[],staticFrames:{map:{id:""},sidebar:{id:""},dashboard:{id:""}},center:{lat:55.035257,lon:82.901115},zoom:11,rotation:0,pitch:0,lang:"ru",defaultLocale:"ru_RU",activeLayer:void 0,activeSublayer:void 0,showPrivacyPolicyBanner:!1,weak:{dashboard:{transitions:{rubricsId:(0,oe.Ue)("")}},rubricator:{transition:(0,oe.Ue)("")},rubric:{transition:(0,oe.Ue)("")},markers:{catalog:{},realty:{}},suggests:{},notifications:[],productsSearchCount:0,emailVerificationStatus:void 0,mapInteractionStarted:!1,isMapViewRepresentedInOriginalRequest:!1,isClearRootPageStart:!1,showSlugsNeededOnlyForStartup:!0,isLangRepresentedInOriginalRequest:!0,wasBc:!1,newYearPlaceholder:{text:"",iconType:"tree"},favoritesUIState:{}},ruler:{isActive:!1,points:[]},showTrafficOnMap:!1,relief:!1,showAirplaneLogo:!0,showSnow:{status:"off",intensity:25,allowSnowStyle:!1},isImmersiveMapEnabled:!1,isImmersivePromoViewed:!1,isImmersivePromoRunning:!1},it=[function(e,t){switch(t.type){case"MAP/SYNC_VIEW":return function(e,t){const s={};void 0!==t.lat&&void 0!==t.lon&&(s.center={lon:t.lon,lat:t.lat});void 0!==t.zoom&&(s.zoom=t.zoom);void 0!==t.rotation&&(s.rotation=t.rotation);void 0!==t.pitch&&(s.pitch=t.pitch);return Object.assign(Object.assign({},e),s)}(e,t.payload);case"MAP/SET_FLOORS":return function(e,t){return Object.assign(Object.assign({},e),{floors:{floorsId:t.id,currentFloor:t.currentFloor}})}(e,t.payload);case"MAP/REMOVE_FLOORS":return function(e){return Object.assign(Object.assign({},e),{floors:void 0})}(e);case"MAP/SELECT_FLOOR":return function(e,t){if(!e.floors)return e;return Object.assign(Object.assign({},e),{floors:Object.assign(Object.assign({},e.floors),{currentFloor:t.floorIndex,isManuallySelected:t.isManuallySelected})})}(e,t.payload);case"UI/SET_DEFAULT_LOCALE":return Object.assign(Object.assign({},e),{defaultLocale:t.payload.locale});case"UI/SET_LANG":case"I18N/SYNC_LANG":return Object.assign(Object.assign({},e),{lang:t.payload.lang});case"UI/SET_STATIC_FRAMES_PARAMS":return Object.assign(Object.assign({},e),{staticFrames:{map:{id:t.payload.mapFrameId},sidebar:{id:t.payload.sidebarFrameId},dashboard:{id:t.payload.dashboardFrameId}}});case"UI/SET_RULER":return Object.assign(Object.assign({},e),{ruler:Object.assign(Object.assign({},e.ruler),t.payload)});case"UI/TOGGLE_TRAFFIC":return Object.assign(Object.assign({},e),{showTrafficOnMap:!e.showTrafficOnMap});case"UI/TOGGLE_AIRPLANE_LOGO":return Object.assign(Object.assign({},e),{showAirplaneLogo:!e.showAirplaneLogo});case"UI/SET_SHOW_SNOW":return Object.assign(Object.assign({},e),{showSnow:Object.assign(Object.assign({},e.showSnow),t.payload)});default:return e}},function(e,t){switch(t.type){case"UI/ADD_FRAME":return function(e,t){const s=e.frames,r=Object.assign({},t.payload),i=ae(e.frames,r),a=function(e,t){return!(!e.length||!t.length||e[e.length-1].id===t[t.length-1].id||1===e.length&&1===t.length&&e[0].type===t[0].type&&"tUgc"===e[0].type)}(s,i),n=a?[...e.graveyard,s]:e.graveyard;a&&(r.victimsId=s.map((e=>e.id)));return Object.assign(Object.assign({},e),{frames:i,graveyard:n})}(e,t);case"UI/REMOVE_FRAME":return function(e,t){const s=e.frames.find((e=>t.payload.id===e.id));if(!s)return e;const r=s.victimsId?(i=e.graveyard,a=s.victimsId,i.find((e=>e.every((e=>!!a.find((t=>t===e.id))))))):void 0;var i,a;return Object.assign(Object.assign({},e),{frames:r||e.frames.filter((e=>e.id!==t.payload.id)),graveyard:r?ne(e.graveyard,r):e.graveyard})}(e,t);case"UI/REMOVE_RIGHT_FRAMES":return function(e,t){let s=-1;if(e.frames.some(((e,r)=>e.id===t.payload.id&&(s=r,!0))),s<0)return e;return Object.assign(Object.assign({},e),{frames:e.frames.slice(s)})}(e,t);case"UI/REPLACE_FRAME":return function(e,t){const s=function(e,t){let s=!1;const r=e.map((e=>e.id!==t.id||e===t||(0,se.w)(e,t)?e:(s=!0,t)));return s?r:e}(e.frames,t.payload);if(s===e.frames)return e;return Object.assign(Object.assign({},e),{frames:s})}(e,t);case"UI/CLEAR_FRAMES":return function(e){if(!e.frames.length)return e;return Object.assign(Object.assign({},e),{frames:[],graveyard:[]})}(e);case"UI/KILL_FRAMES":return function(e){if(!e.frames.length)return e;const t=e.frames;return Object.assign(Object.assign({},e),{frames:[],graveyard:[...e.graveyard,t]})}(e);case"UI/RESURRECT_FRAMES":return function(e){if(!e.graveyard.length)return Object.assign(Object.assign({},e),{frames:[],graveyard:[]});const t=e.graveyard[e.graveyard.length-1],s=t.map((t=>e.frames.find((e=>e.id===t.id))||t));return Object.assign(Object.assign({},e),{frames:s,graveyard:e.graveyard.slice(0,-1)})}(e);default:return e}},function(e,t){switch(t.type){case"UI/OPEN_POPUP":return function(e,t){return Object.assign(Object.assign({},e),{popup:"createReview"===t.type?Object.assign(Object.assign({},t),{isModal:!0}):t})}(e,t.payload);case"UI/CLOSE_POPUP":return function(e){if(!e.popup)return e;return Object.assign(Object.assign({},e),{popup:void 0})}(e)}return e},function(e,t){switch(t.type){case"WEAK/SET_DASHBOARD_RUBRICS_ID":return function(e,t){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{dashboard:Object.assign(Object.assign({},e.weak.dashboard),{transitions:Object.assign(Object.assign({},e.weak.dashboard.transitions),{rubricsId:t})})})})}(e,t.payload);case"WEAK/SET_RUBRICATOR_ID":return function(e,t){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{rubricator:Object.assign(Object.assign({},e.weak.rubricator),{transition:t})})})}(e,t.payload);case"WEAK/SET_RUBRIC_ID":return function(e,t){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{rubric:{transition:t}})})}(e,t.payload);case"SUGGEST/SET_SUGGEST_ID":return function(e,t){const s=e.weak.suggests[t.suggesterKey]||{};return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{suggests:Object.assign(Object.assign({},e.weak.suggests),{[t.suggesterKey]:Object.assign(Object.assign({},s),{suggestId:t.suggestId})})})})}(e,t.payload);case"SUGGEST/SET_QUERY":return function(e,t){const s=e.weak.suggests[t.suggesterKey]||{};return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{suggests:Object.assign(Object.assign({},e.weak.suggests),{[t.suggesterKey]:Object.assign(Object.assign({},s),{query:t.query})})})})}(e,t.payload);case"SUGGEST/TOGGLE":return function(e,t){const s=e.weak.suggests[t.suggesterKey]||{};if(s.show===t.show)return e;return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{suggests:Object.assign(Object.assign({},e.weak.suggests),{[t.suggesterKey]:Object.assign(Object.assign({},s),{show:t.show,highlightedIndex:void 0})})})})}(e,t.payload);case"SUGGEST/HIGHLIGHT_SUGGESTION":return function(e,t){const s=e.weak.suggests[t.suggesterKey]||{};if(s.highlightedIndex===t.index)return e;return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{suggests:Object.assign(Object.assign({},e.weak.suggests),{[t.suggesterKey]:Object.assign(Object.assign({},s),{highlightedIndex:t.index})})})})}(e,t.payload);case"UI/SHOW_NOTIFICATION":return function(e,t){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{notifications:[...e.weak.notifications,t]})})}(e,t.payload);case"UI/HIDE_NOTIFICATION":return function(e,t){const s=e.weak.notifications.filter((e=>e.id!==t.id));if(s.length===e.weak.notifications.length)return e;return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{notifications:s})})}(e,t.payload);case"WEAK/MAP_INTERACTION_START":return e.weak.mapInteractionStarted?e:Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{mapInteractionStarted:!0})});case"MAP/SET_FLOORS":return function(e,t){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{floors:{floorNames:t.floorNames,firmsToFloorIndexMap:t.firmsToFloorIndexMap}})})}(e,t.payload);case"MAP/REMOVE_FLOORS":return function(e){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{floors:void 0})})}(e);case"WEAK/PATCH":return function(e,t){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),t)})}(e,t.payload);case"WEAK/SET_CATALOG_MARKERS_ID":return function(e,t){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{markers:Object.assign(Object.assign({},e.weak.markers),{catalog:{[t.frameId]:t.markersId}})})})}(e,t.payload);case"WEAK/SET_REVIEW_RATING":return function(e,{rating:t}){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{reviewRating:t})})}(e,t.payload);case"WEAK/REMOVE_REVIEW_RATING":return function(e){return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{reviewRating:void 0})})}(e);case"BSS/TRACK_ACTION":return function(e,t){if(e.weak.wasBc)return e;if(t.autoEvent||"tap"!==t.action)return e;return Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{wasBc:!0})})}(e,t.payload)}return e}];function at(e=rt,t){return it.reduce(((e,s)=>s(e,t)),e)}const nt=e=>({appContext:at,config:(0,ce.L)(e)});var ot=s(84604);function ct(e){return{locale:(0,U.O)(e)}}var dt=s(45827);var lt=s(19561),ut=s(77608),pt=s(68879),gt=s(1950),mt=s(86740),ht=s(58666);var ft=s(19981),vt=s(2933),bt=s(47187),yt=s(91282),xt=s(25568),jt=s(73039);const wt=(0,le.memo)((e=>(0,r.jsx)(ft.E,{loader:vt.H.searchResults,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:_t(e)}))),_t=e=>t=>{var s;if("error"===t)throw ft.t;const i=(0,G.c)(jt.Bm,null===(s=e.config)||void 0===s?void 0:s.experiments),a="search"===e.frame.type&&"query"===e.frame.searchType&&e.frame.tabCatalog.rubricId?(0,xt.i)(e.frame.tabCatalog.rubricId,i):void 0;return(0,r.jsx)(bt.u,Object.assign({header:(0,r.jsx)("div",{style:{height:"105px",background:Ke.O.gray_f2f2f2,borderBottom:`1px solid ${Ke.O.gray_e6e6e6}`}}),sidebar:(0,r.jsx)("div",{}),areFiltersOpened:e.frameContext.areFiltersOpened},{children:(0,r.jsx)(r.Fragment,{children:Array(10).fill("").map(((e,t)=>(0,r.jsx)(yt.c,{withoutPhotos:!a,isMedia:null==a?void 0:a.isMedia},t)))})}))};var Ct=s(4125),It=s(60786),kt=s(18586),Ot=s(18869),St=s(71686),Nt=s(87627),Mt=s(68428);const Tt=(0,l.T3)(),Pt=(0,It.P1)([({state:e,props:t})=>Tt({state:e,entityId:t.frame.entityId,searchId:t.frame.searchId}),({state:e})=>(0,Ot.J)(e),({state:e,props:t})=>(0,Nt.Ec)(t.frame.entityId)(e),({state:e,props:t})=>{var s;return null===(s=e.data.reviewSearch[(0,Mt.l)(t.frame,"reviews")||""])||void 0===s?void 0:s.meta.status}],((e,t,s,r)=>({entity:e,searchCtx:(0,St.Jn)(t),searchKeyword:s,reviewStatus:r}))),Et=(0,kt.X1)(((e,t)=>Pt({state:e,props:t})));var Lt=s(69554),Rt=s(76329);function zt(e,t){const s=t.appContext.frames.find(Rt.B);if(!s||"geometry"!==e.origin||!e.geometry||"polyline"!==e.geometry.type)return;const r=e.geometry.eventData&&e.geometry.eventData.id;return"string"==typeof r&&r?(0,Lt.f)({activeDirectionId:r,frameId:s.id}):void 0}var At=s(19631);var Ft=s(68276);const Bt=(0,kt.Z3)((e=>({subscribeOnEvents:t=>e(function({id:e}){return(0,T.Oo)({id:e,type:"map:click",handler:zt,stopIfHandled:!0,priority:At.U.Frame})}(t)),removeListeners:t=>e((0,T.xg)(t)),fetchData({entityId:t,searchCtx:s,searchKeyword:r}){e((0,Ft.DV)({id:t,albumId:N.n4,searchCtx:s,searchKeyword:r}))}})));var Zt=s(88210),Ut=s(49793),Ht=s(77351),Dt=s(36209),$t=s(47697),Vt=s(96917),qt=s(77295),Gt=s(67511),Wt=s(9073);var Qt=s(87770),Kt=s(16617),Jt=s(66017);const Yt=[void 0,void 0];var Xt=s(85982);function es(e,t,s){return[Math.round(255*e),Math.round(255*t),Math.round(255*s)]}function ts(e,t,s){let r=s;return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}var ss=s(10857),rs=s(73775);function is(e,t){const[s,r]=function(e){const t=e[0]/255,s=e[1]/255,r=e[2]/255,i=Math.max(t,s,r),a=Math.min(t,s,r),n=i-a;let o=0;0===n?o=0:i===t?o=(s-r)/n%6:i===s?o=(r-t)/n+2:i===r&&(o=(t-s)/n+4);const c=(a+i)/2;return[60*o,0===n?0:n/(1-Math.abs(2*c-1)),c]}((0,ss.o)(e));return(0,rs.v)(function(e){const t=e[0]/360,s=e[1],r=e[2];if(0===s)return es(r,r,r);const i=r<.5?r*(1+s):r+s-r*s,a=2*r-i;return es(ts(a,i,t+1/3),ts(a,i,t),ts(a,i,t-1/3))}([s,r,t]))}var as=s(54974),ns=s(50922),os=s(67443),cs=s(32712);var ds=s(88765),ls=s(27956),us=s(16701),ps=s(63632),gs=s(20517),ms=s(87599),hs=s(15894),fs=s(90793),vs=s(24664);const bs=(0,le.memo)((({children:e,styles:t,style:s,containerRef:i,allPhotosText:a})=>{const{css:n,s:o}=(0,ue.y)(ys);return(0,r.jsx)("div",Object.assign({className:n(o.root,t),ref:i,style:s,"data-text":null!=a?a:""},{children:e}))}));bs.displayName="SnapItem";const ys=(0,ue.k)({root:{scrollSnapAlign:"center",scrollSnapStop:"always",flexBasis:"100%",flexShrink:0,flexGrow:0}});var xs=s(13562),js=s(72799),ws=s(98224),_s=s(36804);const Cs=e=>({frameId:t},s)=>{if(e.videoId)return{uiElement:{name:"videoPreview",ownerName:"placeCardFull",frameUuid:t},action:"tap",payload:{video:{entity:{id:e.videoId,type:"video"}},placeItem:(0,_s.s)({state:s,entityFrameId:t})}}},Is=({position:e})=>({frameId:t},s)=>({uiElement:{name:"galleryPreview",ownerName:"placeCardFull",frameUuid:t},action:"tap",payload:{placeItem:(0,_s.s)({state:s,entityFrameId:t,position:e})}}),ks=({position:e,photo:t})=>({frameId:s},r)=>{const{photoPayload:i}=(0,ws.fE)({state:r,frameId:s,photo:t});return i||(0,J.H)({message:"Не удалось сформировать payload.photo для события показа карточки фотографии v-q9j7s",level:"error",id:"wlakw",payload:{type:"debug",subtype:"BssTrackerV3"}}),{uiElement:{name:"photoCardMini",ownerName:"placeCardFull",frameUuid:s,position:e},payload:{placeItem:(0,_s.s)({state:r,entityFrameId:s,position:e}),photo:i}}},Os=()=>({showEventParams:e,frameId:t},s)=>{var r;if(!e)return;const i=null===(r=e.payload)||void 0===r?void 0:r.placeItem;if(i)return{uiElement:Object.assign(Object.assign({},e.uiElement),{frameUuid:t}),action:"tap",payload:{placeItem:i}};(0,J.H)({message:"Не удалось сформировать payload.placeItem для события Тапнул в фотофон в шапке карточки (a-d2ub5)",level:"error",id:"mlksa",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify((0,q.iF)(s.appContext.frames,t))}})},Ss=(0,le.memo)((({photo:e,position:t})=>{const{css:s,s:i}=(0,ue.y)(Ns),{lang:a}=(0,Se.Z)(),{bssRef:n}=(0,Je.T)(ks({position:t,photo:e}),{threshold:.7}),o=(0,Je.T)().useBssHandler(Is,{position:t}),c=(0,pe.I0)(),d=(0,as.$)((t=>{t.preventDefault(),t.stopPropagation(),c((0,Z._N)((e=>(0,q.t0)(e.appContext.frames,"entity")),(t=>t&&(0,O.BN)((0,js.l)({entityId:t.entityId,searchId:t.searchId,entityType:t.entityType,photoId:e.id}))))),o()}));return(0,r.jsx)("div",Object.assign({className:s(i.root),ref:n,onClick:d},Ye.dx.n("wat-firm-photo"),{children:(0,r.jsx)(xs.j,{src:e.preview_urls["328x170"],src2x:e.preview_urls["656x340"],lazyLoadVisibilityOffset:-50,borderRadius:"8px",backgroundColor:Ke.O.black_transparent_06,isLoadingForced:1===t,alt:"ru"===a?"Фото":void 0})}))}));Ss.displayName="PhotoCaruselItem";const Ns=(0,ue.k)({root:{width:"100%",height:"100%",cursor:"pointer"}});var Ms=s(63724),Ts=s(52674),Ps=s(33956),Es=s(20094);const Ls=(0,le.memo)((({video:e})=>{var t,s;const{css:i,s:a}=(0,ue.y)(Rs),{lang:n}=(0,Se.Z)(),o=(0,pe.I0)(),{bssRef:c,useBssHandler:d}=(0,Je.T)((l={videoId:e.id},({frameId:e},t)=>{if(l.videoId)return{uiElement:{name:"videoPreview",ownerName:"placeCardFull",frameUuid:e},payload:{video:{entity:{id:l.videoId,type:"video"}},placeItem:(0,_s.s)({state:t,entityFrameId:e})}}}));var l;const u=d(Cs,{videoId:e.id}),p=(0,as.$)((e=>{e.preventDefault(),e.stopPropagation(),o((0,Z._N)((e=>(0,q.t0)(e.appContext.frames,"entity")),(e=>e&&(0,O.BN)((0,Ts.O)({entityId:e.entityId,searchId:e.searchId}))))),u()}));return(0,r.jsxs)("div",Object.assign({className:i(a.root),ref:c,onClick:p},Ye.dx.n("wat-video-entry"),{children:[(0,r.jsx)(xs.j,{src:(null===(s=null===(t=e.videos)||void 0===t?void 0:t[0])||void 0===s?void 0:s.thumbnailUrl)||"",lazyLoadVisibilityOffset:0,borderRadius:"8px",backgroundColor:Ke.O.black_transparent_06,isLoadingForced:!0,alt:"ru"===n?"Подложка":void 0}),(0,r.jsx)("div",Object.assign({className:i(a.playLayer)},{children:(0,r.jsx)("div",Object.assign({className:i(a.play)},{children:(0,r.jsx)(Ms.s,{})}))}))]}))}));Ls.displayName="AdsVideoCaruselItem";const Rs=(0,ue.k)({root:{width:"100%",height:"100%",cursor:"pointer",backgroundSize:"cover",backgroundPosition:"center",display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},playLayer:{position:"absolute",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},play:{display:"flex",justifyContent:"center",alignItems:"center",width:48,height:40,overflow:"hidden",borderRadius:8,background:(0,Es.j)(Ke.O.red_fe5000,.8),color:Ke.O.white,transition:`${Ps.l.short}ms ${Ps.Z.base}`,"*:hover>&":{background:Ke.O.red_fe5000}}});var zs=s(40464),As=s(50722);const Fs=(0,le.memo)((({adsImage:e})=>{const{css:t,s}=(0,ue.y)(Bs),{lang:i}=(0,Se.Z)(),{bssRef:a,useBssHandler:n}=(0,Je.T)((({frameId:e},t)=>{const s=(0,_s.s)({state:t,entityFrameId:e,position:1});if(s)return{uiElement:{position:1,ownerName:"placeCardFull",name:"photoBackground",frameUuid:e},payload:{placeItem:s}};(0,J.H)({message:"Не удалось сформировать payload.placeItem для события Увидел фотофон в шапке карточки (v-yj0ye)",level:"error",id:"lkdaj",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify((0,q.iF)(t.appContext.frames,e))}})})),o=n(Os),c=(0,pe.I0)(),d=(0,as.$)((e=>{e.preventDefault(),e.stopPropagation(),c((0,Z._N)((e=>(0,q.t0)(e.appContext.frames,"entity")),(e=>e&&(0,O.BN)((0,js.l)({entityId:e.entityId,searchId:e.searchId,entityType:e.entityType,photoId:As.Pn}))))),o()}));return(0,r.jsx)("div",Object.assign({ref:a,className:t(s.root),onClick:d},{children:(0,r.jsx)(xs.j,{src:(0,zs.W)(e.url,"328x170"),src2x:(0,zs.W)(e.url,"656x340"),lazyLoadVisibilityOffset:0,borderRadius:"8px",backgroundColor:Ke.O.black_transparent_06,isLoadingForced:!0,alt:"ru"===i?"Фото":void 0})}))}));Fs.displayName="AdsImageCaruselItem";const Bs=(0,ue.k)({root:{width:"100%",height:"100%",cursor:"pointer"}});var Zs=s(7477),Us=s(49224),Hs=s(67185),Ds=s(69003);const $s=(0,le.memo)((({scrollboxRef:e,maxDots:t=5,dotSize:s=6,smallDotSize:i=4,gap:a=4,color:n=Ke.O.white})=>{const{css:o,s:c,dir:d}=(0,ue.y)(Vs),[l,u]=function({scrollboxRef:e}){const{rtl:t}=(0,Se.Z)(),s=t?-1:1,[r,i]=(0,le.useState)(0),[a,n]=(0,le.useState)(0);return(0,le.useEffect)((()=>{const t=e.current;if(!t)return;n(t.children.length);const r=()=>{const e=t.offsetWidth/2+t.scrollLeft*s,r=t.scrollWidth/t.children.length,a=Math.floor(e/r);i(a)};return t.addEventListener("scroll",r),()=>{t.removeEventListener("scroll",r)}}),[e,s]),[r,a]}({scrollboxRef:e}),p=Math.floor(t/2),g=Math.max(0,Math.min(u-t,l-p)),m=Math.max(0,u-Math.max(t,l+1+p)),h=(s+a)*(m-g);return u?(0,r.jsx)("div",Object.assign({className:o(c.root),style:(0,lt.Qo)({gap:a,marginStart:h},d)},{children:(0,Ds.D)(u,(e=>{const t=g>0&&e<=g,a=m>0&&e+1>=u-m,p=t||a?i:s;return(0,r.jsx)("div",{className:o(c.dot,l===e&&c._active,e<g||e>=u-m?c._hidden:void 0),style:(0,lt.Qo)({width:p,height:p,marginStart:t?s-i:void 0,marginEnd:a?s-i:void 0,color:n},d)},e)}))})):null}));$s.displayName="CarouselDots";const Vs=(0,ue.k)({root:{display:"flex",alignItems:"center",justifyContent:"center",transition:`${Ps.l.short}ms ${Ps.Z.base}`},dot:{borderRadius:Qe.E0.oval,overflow:"hidden",opacity:.3,background:Ke.O.white,transition:`${Ps.l.short}ms ${Ps.Z.base}`},_active:{opacity:1},_hidden:{opacity:0}});var qs=s(41568);const Gs=(0,le.memo)((({media:e,position:t,activeVideoId:s,addVideoToSelectActive:i})=>{const{css:a,s:n}=(0,ue.y)(Ws),{bssRef:o}=(0,Je.T)(ks({position:t,photo:e}),{threshold:.7}),c=(0,Je.T)().useBssHandler(Is,{position:t}),d=(0,pe.I0)(),l=(0,as.$)((t=>{t.preventDefault(),t.stopPropagation(),d((0,Z._N)((e=>(0,q.t0)(e.appContext.frames,"entity")),(t=>t&&(0,O.BN)((0,js.l)({entityId:t.entityId,searchId:t.searchId,entityType:t.entityType,photoId:e.id}))))),c()}));return(0,r.jsx)("div",Object.assign({className:a(n.root),ref:o,onClick:l},Ye.dx.n("wat-firm-photo"),{children:(0,r.jsx)(qs.O,{data:e,previewSize:["328x170","656x340"],activeVideoId:s,addVideoToSelectActive:i,externalOnClick:!0,mediaPosition:t,lazyLoadVisibilityOffset:-50,borderRadius:"8px",backgroundColor:Ke.O.black_transparent_06,isLoadingForced:1===t,visibilityThreshold:.7,isPlayOnHover:!1})}))}));Gs.displayName="MediaCaruselItem";const Ws=(0,ue.k)({root:{width:"100%",height:"100%",cursor:"pointer"}}),Qs=(0,le.memo)((({entity:e,items:t,activeVideoId:s,addVideoToSelectActive:i})=>{const{css:a,s:n,dir:o}=(0,ue.y)(Ks),c=(0,ge.T)(),d=(0,le.useRef)(null),{bssRef:l}=(0,Je.T)((({frameId:e},t)=>({uiElement:{name:"galleryPreview",ownerName:"placeCardFull",frameUuid:e},payload:{placeItem:(0,_s.s)({state:t,entityFrameId:e})}}))),u=t.length,p=(0,le.useMemo)((()=>(0,lt.Qo)({flexBasis:u>1?272:"100%"},o)),[u,o]);return(0,r.jsxs)("div",Object.assign({className:a(n.root),ref:void 0!==t[0]?l:void 0},{children:[(0,r.jsx)(vs.S,Object.assign({offset:16,gap:16,containerRef:d},{children:t.map(((o,d)=>{var l;const u=d===t.length-1&&t.length>1&&o,g=null!==(l=null==o?void 0:o.key)&&void 0!==l?l:"skeletonId"+d;return(0,r.jsxs)(bs,Object.assign({allPhotosText:u?c._t("Все фото"):void 0,styles:u?n.lastItemWithText:n.item,style:p},{children:[o?(0,r.jsx)(Js,{item:o,activeVideoId:s,addVideoToSelectActive:i}):(0,r.jsx)(Hs.b,{height:170,borderRadius:8}),0===d&&(0,r.jsx)("div",Object.assign({className:a(n.logo)},{children:(0,r.jsx)(Zs.T,{size:64,entity:e,isLoadingForced:!0})}))]}),g)}))})),(0,r.jsx)(Xt.N,{children:(0,r.jsx)(Us.o,{offset:24,scrollboxRef:d},u)}),u>1&&(0,r.jsx)("div",Object.assign({className:a(n.dots)},{children:(0,r.jsx)($s,{scrollboxRef:d},u)}))]}))})),Ks=(0,ue.k)({root:{position:"relative",marginBottom:12,marginStart:-24,marginEnd:-24},item:{position:"relative",height:170,transition:`flex-basis ${Ps.l.veryshort}ms ${Ps.Z.base}`},lastItemWithText:{position:"relative",height:170,"&::before":{content:'""',position:"absolute",pointerEvents:"none",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",borderRadius:5},"&::after":{content:"attr(data-text)",position:"absolute",pointerEvents:"none",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:Ke.O.white}},logo:{position:"absolute",bottom:12,start:12,width:64,height:64,pointerEvents:"none"},dots:{position:"absolute",start:0,end:0,bottom:8,display:"flex",justifyContent:"center",pointerEvents:"none"}}),Js=({item:e,activeVideoId:t,addVideoToSelectActive:s})=>{let i=null;if(!e)return null;switch(!0){case"photo"in e:i=(0,r.jsx)(Ss,{photo:e.photo,position:e.position},e.key);break;case"video"in e:i=(0,r.jsx)(Ls,{video:e.video},e.key);break;case"media"in e:i=(0,r.jsx)(Gs,{media:e.media,position:e.position,activeVideoId:t,addVideoToSelectActive:s},e.key);break;case"adsImage"in e:i=(0,r.jsx)(Fs,{adsImage:e.adsImage},e.key);break;default:i=null}return i};var Ys=s(93281),Xs=s(84789),er=s(14897),tr=s(68393);const sr=(0,le.memo)((()=>{const{css:e,s:t}=(0,ue.y)(rr),s=[(0,Ys.d)({isLabelShown:!0,isSmallIcon:!0}),(0,er.T)({frameType:"entity",ownerName:"placeCardFull",isLabelShown:!0,isSmallIcon:!0}),(0,Xs.t)({isLabelShown:!0,isSmallIcon:!0})];return(0,r.jsx)("div",Object.assign({className:e(t.actions)},{children:s.map(((s,i)=>!!s&&(0,r.jsx)("div",Object.assign({className:e(t.action)},{children:(0,r.jsx)(tr.W,Object.assign({dataT:s.type,icon:s.icon,size:24,onClick:s.onClick,href:s.href},{children:s.label}))}),i)))}))})),rr=(0,ue.k)({actions:{display:"flex",marginBottom:12},action:{marginEnd:12}});var ir=s(74584),ar=s(87837),nr=s(43486);const or=(0,le.memo)((e=>{var t,s,i;const{entity:a,frame:n,frameContext:o}=e,{css:c,s:d}=(0,ue.y)(cr),u=(0,ge.T)(),p=(0,Se.Z)(),g=(0,pe.I0)(),{name:m,address:h}=(0,fs.Ky)(a,u,{config:p,useSingleComponentForBranch:!0}),f=function(e){var t;const{frame:s,entity:r}=e,i="context"in r?null===(t=null==r?void 0:r.context)||void 0===t?void 0:t.entrance_id:void 0,a=s.entranceId||i;return a&&function(e,t){var s;const r="links"in e&&(null===(s=e.links)||void 0===s?void 0:s.database_entrances),i=t&&r?r.find((e=>e.id===t)):void 0;return null==i?void 0:i.entity_name}(r,a)}({frame:n,entity:a}),v=(0,ls.U)({entity:a,config:p,tp:u}),b="route"===a.type?(0,gs.s)(a):void 0,y=(0,us.P)(a,p.defaultCountryCode,n.point),x="is_deleted"in a&&!!a.is_deleted,{isSearchBot:j}=p,w=(0,Vt.A)(a),_="station"===a.type&&(0,hs.h)(a)?null===(t=a.routes)||void 0===t?void 0:t[0]:void 0,I=null===(i=null===(s=a.ads)||void 0===s?void 0:s.options)||void 0===i?void 0:i.color,k=I?`radial-gradient(139.86% 100% at 26.96% 0%, ${is(I,.92)} 0%, ${Ke.O.white} 100%)`:void 0,{hasAward:O,awardName:S,awardIconUrl:M,awardTag:T,awardLabelLink:P}=(0,le.useMemo)((()=>(0,ar.k)(a)),[a])||{},E=function(e){var t,s,r,i,a,n;const{entity:o}=e,{featureVideoInGallery:c}=(0,Se.Z)(),{searchCtx:d,searchKeyword:u}=(0,Qt.Y)({entityId:o.id}),{data:p,isLoading:g}=(0,Ft.gx)({id:o.id,albumId:N.n4,searchCtx:d,searchKeyword:u},{enabled:!c}),{data:m,isLoading:h}=Kt.cY.useAlbum({objectId:o.id,albumId:N.n4,searchCtx:d,searchKeyword:u},{enabled:c}),f=c?h:g,v=c?m:p,b=!!(null===(r=null===(s=null===(t=o.ads)||void 0===t?void 0:t.options)||void 0===s?void 0:s.videos)||void 0===r?void 0:r[0]),y=(0,pe.v9)((e=>b?(0,l.Tv)({state:e,entityId:o.id}):void 0)),x=null===(n=null===(a=null===(i=o.ads)||void 0===i?void 0:i.options)||void 0===a?void 0:a.images)||void 0===n?void 0:n[0],j=b&&!(null==y?void 0:y.data)&&(!(null==y?void 0:y.meta)||"loading"===y.meta.status)||!x&&f,w=null==v?void 0:v.pages[0].items,_=(0,le.useMemo)((()=>{var e,t;if(j)return Yt;const s=[];if((null===(t=null===(e=null==y?void 0:y.data)||void 0===e?void 0:e.videos)||void 0===t?void 0:t[0])?s.push({video:y.data,key:y.data.id}):x&&s.push({adsImage:x,key:x.url}),w){const e=Math.min(w.length,10-s.length);for(let t=0;t<e;t++){const e=w[t];if(!e)break;const r=(0,Jt.$O)(e)?{photo:e}:{media:e};s.push(Object.assign(Object.assign({},r),{position:s.length+1,key:e.id}))}}else f&&!s.length&&s.push(void 0);return s}),[j,w,y,x,f]);return{isShown:"__empty"!==o.id&&(j||!!_.length),items:_}}({entity:a}),R=(0,as.$)((()=>{var e;g((0,C.vP)((e={frameId:n.id},(0,cs.zs)({uiElement:{name:"rating",ownerName:"placeCardFull",frameUuid:e.frameId},action:"tap"})),(0,ns.nc)(["Card","Header_rating","Click"]),(0,os.I)({tab:"reviews",frame:n,entity:a})))})),z=(0,as.$)((()=>{_&&g((0,L.ko)({id:_.id,type:"route",searchId:n.searchId}))})),A=(0,ps.r)((0,Y.oA)([...m,f])),F=j?(0,q.s5)(n,u,j,A):A,{addVideoToSelectActive:B,activeVideoId:Z}=(0,ir.F)();return(0,r.jsxs)("div",Object.assign({className:c(d.root),style:{background:k}},Ye.dx.n("wat-header-card"),{children:[(0,r.jsx)(Wt.v,{frame:n,frameContext:o}),(0,r.jsx)(Xt.N,{children:(0,r.jsx)(sr,{})}),E.isShown&&(0,r.jsx)(Qs,{entity:a,items:E.items,activeVideoId:Z,addVideoToSelectActive:B}),(0,r.jsxs)(ds.w,Object.assign({className:c(d.name,x&&d.grayText)},{children:[(0,r.jsx)("span",Object.assign({},Ye.dx.n("wat-card-title"),{children:F}))," ",!x&&(0,r.jsx)(Gt.g,{entity:a})]})),["building","attraction"].includes(a.type)&&!!(null==h?void 0:h.length)&&(0,r.jsx)("div",Object.assign({className:c(d.address,x&&d.grayText)},{children:(0,r.jsx)(Ut.v,Object.assign({inline:!0},{children:h}))})),!!v.length&&(0,r.jsx)("div",Object.assign({className:c(d.extension)},{children:(0,r.jsx)(Ut.v,Object.assign({inline:!0},{children:[...v,!!_&&(0,r.jsx)(Ge.E,Object.assign({type:"route",id:_.id},{children:e=>(0,r.jsx)(We.Z,Object.assign({onClick:z,href:e},{children:_.name}))}),"metroLine")]}))})),!!b&&(0,r.jsx)("div",Object.assign({className:c(d.extension)},{children:b})),!!y&&(0,r.jsx)("div",Object.assign({className:c(d.extension)},{children:y})),!x&&!(!w&&!O)&&(0,r.jsxs)("div",Object.assign({className:c(d.row)},{children:[!!w&&(0,r.jsx)(Dt.w,{children:(0,r.jsxs)("div",Object.assign({className:c(d.rating)},Ye.dx.n("wat-rating"),{onClick:R},{children:[O?(0,r.jsx)("div",Object.assign({className:c(d.ratingAwards)},{children:(0,r.jsx)(ms.U,{color:Ke.O.gray_262626,size:14})})):(0,r.jsx)(Ht.i,{color:Ke.O.gray_262626,size:14,rating:w.stars}),(0,r.jsx)("div",Object.assign({className:c(d.ratingValue)},{children:w.stars})),!!w.count&&(0,r.jsx)("div",Object.assign({className:c(d.ratingCount)},{children:u._nt(["%% оценка","%% оценки","%% оценок"],w.count)}))]}))}),O&&T&&S&&(0,r.jsx)("div",Object.assign({className:c(d.awards)},{children:(0,r.jsx)(nr.X,{tag:T,name:S,ownerName:"placeCardFull",iconUrl:M,link:P})}))]})),x&&(0,r.jsx)($t.k,Object.assign({code:410},{children:(0,r.jsxs)("div",Object.assign({className:c(d.deleted)},Ye.dx.n("wat-deleted-entity-block"),{children:[(0,r.jsx)("div",Object.assign({className:c(d.redText)},{children:"branch"===a.type?u._t("Филиал удалён из справочника"):u._t("Объект удалён из справочника")})),"branch"===a.type&&(0,r.jsx)("div",{children:u._t("Возможно, он закрылся насовсем либо временно не работает")})]}))})),(0,r.jsx)(qt.f,{entity:a,withoutLogo:E.isShown}),"branch"===a.type&&a.name_ex.legal_name&&!a.ads&&(0,r.jsx)("div",Object.assign({className:c(d.legalName)},{children:(0,r.jsx)("div",Object.assign({className:c(d.side)},{children:(0,r.jsx)("div",Object.assign({className:c(d.legalNameText,d.grayText)},{children:a.name_ex.legal_name}))}))}))]}))})),cr=(0,ue.k)({root:{padding:"16px 24px"},name:Object.assign(Object.assign({},Xe.hC),{paddingTop:4}),extension:{marginTop:4,color:Ke.O.gray_5c5c5c},address:{marginTop:4,color:Ke.O.gray_262626},rating:{marginStart:-1,display:"flex",alignItems:"center",cursor:"pointer"},row:{display:"flex",alignItems:"center",marginTop:8},ratingValue:{marginStart:4},ratingCount:{marginStart:8,color:Ke.O.gray_5c5c5c},ratingAwards:{display:"flex"},awards:{display:"flex",marginInlineStart:12},deleted:{marginTop:8},redText:{color:Ke.O.red_fe5000},grayText:{color:Ke.O.gray_5c5c5c},legalName:{marginTop:10,paddingTop:10,display:"flex",borderTop:`solid 1px ${Ke.O.gray_e6e6e6}`},side:{flexGrow:1},legalNameText:{marginBottom:4}});var dr=s(67049),lr=s(82584),ur=s(96481);function pr(e){switch(e){case"services":case"providers":return"services";default:return e}}var gr=s(69742),mr=s(76775),hr=s(21617),fr=s(13130),vr=s(85916);const br=["services"];function yr(e,t,s,r){if(t.length<2)return;const i=xr(jr(e,t,s,r));return i.length<2?void 0:{formattedTabs:i}}function xr(e){return e.reduce(((e,t)=>{if(-1===br.indexOf(t.uiKey))return e.concat(t);const s=e.find((e=>e.uiKey===t.uiKey));return s?(t.count&&(s.count=(s.count||0)+t.count),t.isSelected&&(s.isSelected=!0),e):e.concat(t)}),[])}function jr(e,t,s,r){const i=(0,ur.d)(t,r);return t.map((t=>({key:t.tab,uiKey:pr(t.tab),label:_r(e,t.tab,s),count:wr(t.tab)?t.count:void 0,badgeCount:t.badgeCount,isSelected:t.tab===i,isDefault:t.tab===(0,gr.R)(e)[0]})))}function wr(e){switch(e){case"discounts":case"reviews":case"photos":case"inside":case"menu":case"prices":case"realty":return!0;default:return!1}}function _r(e,t,s){const r=(0,mr.i)(e);switch(t){case"contacts":return r?s._t("Инфо"):s._t("Контакты");case"info":return s._t("Инфо");case"reviews":return s._t("Отзывы");case"photos":return s._t("Фото");case"menu":return(0,fr.J)(e)?function(e){const{rubrics:t,tp:s}=e;switch((0,vr.a)(t)){case"menu":return s._t("Меню");case"prices":return s._t("Цены");default:return""}}({rubrics:e.rubrics,tp:s}):"";case"prices":const{tabLabel:t}=(0,hr.d)({entity:e,tp:s});return t;case"realty":return s._t("Недвижимость");case"inside":return s._t("В здании");case"services":case"providers":return s._t("Службы");case"discounts":return s._t("Скидки")}}var Cr=s(4338),Ir=s(64516);function kr(e){return{isActive:e.isSelected||!1,amount:e.count||0,uploadPricesPromo:"menu"===e.key&&0===e.count||void 0}}const Or=e=>({frameId:t},s)=>{const r=(0,_s.s)({state:s,entityFrameId:t});if("menu"!==e.key||void 0!==e.count)return{uiElement:{name:Sr(e.key),ownerName:"placeCardFull",frameUuid:t},payload:{placeItem:r,tabPreviewInfo:"menu"===e.key?kr(e):void 0},action:"tap"}};function Sr(e){switch(e){case"info":return"cardInformation";case"contacts":return"cardContacts";case"discounts":return"cardDiscounts";case"reviews":return"cardReviews";case"photos":return"cardGallery";case"prices":case"menu":return"cardPrices";case"realty":return"cardRealty";case"inside":return"cardBuildingOrgs";case"providers":case"services":return"cardServiceOrgs"}}var Nr=s(90612);const Mr=(0,le.memo)((e=>{const t=(0,pe.I0)(),{tab:s,onSelect:i,href:a,entityId:n,entityType:o}=e,{bssRef:c,useBssHandler:d}=(0,Je.T)((e=>({frameId:t},s)=>{const r=(0,_s.s)({state:s,entityFrameId:t});switch(e.key){case"prices":return{uiElement:{name:"cardPricesPreview",ownerName:"placeCardFull",frameUuid:t},payload:{placeItem:r}};case"menu":if(void 0===e.count)return;return{uiElement:{name:"cardPricesPreview",ownerName:"placeCardFull",frameUuid:t},payload:{placeItem:r,tabPreviewInfo:kr(e)}};case"realty":return{uiElement:{name:"cardRealtyPreview",ownerName:"placeCardFull",frameUuid:t},payload:{placeItem:r}};default:return}})(s)),l=d(Or,s),u=(0,as.$)((e=>{e.isSelected||(l(),i(e))})),p=(0,Nr.qA)({id:n,type:o});return(0,le.useEffect)((()=>{"realty"!==s.key||s.isSelected||window.setTimeout((()=>{c.current&&(p.isLoading||t((0,Ir.I)({targetBoundingClientRect:c.current.getBoundingClientRect(),type:"realty",to:"bottomMiddle",offset:-12})))}),0)}),[c.current,p.isLoading]),(0,r.jsx)(Cr.O,{tabRef:c,tab:s,href:a,onSelect:u})}));Mr.displayName="EntityCardTab";var Tr=s(35680),Pr=s(36566),Er=s(70258);const Lr=({formattedTabs:e,entity:t,handleTabClick:s})=>{const{css:i,s:a}=(0,ue.y)(Rr);return(0,r.jsx)(Tr.O,Object.assign({bgColor:Ke.O.gray_f2f2f2},{children:n=>(0,r.jsx)(dr.m,{tabs:e,renderTab:e=>{const o=i=>(0,r.jsx)(Mr,{href:i,tab:e,onSelect:s,entityType:t.type,entityId:t.id});return(0,r.jsx)("div",Object.assign({className:i(a.tabWrapper),onClick:e=>n(e.currentTarget.offsetWidth,e.currentTarget.offsetLeft)},{children:(()=>{switch(e.key){case"realty":return(0,r.jsx)(Ge.E,Object.assign({type:"realty",entityId:(0,Er.V)(t)},{children:o}));case"photos":return(0,r.jsx)(Ge.E,Object.assign({type:"gallery",entityId:t.id,entityType:t.type},{children:o}));default:return(0,r.jsx)(Pr.E,Object.assign({entity:t,tab:e.isDefault?void 0:e.key},{children:o}))}})()}),e.key)}})}))};Lr.displayName=(0,Ct.I)("src/modules/entity/containers/content/components/tabs");const Rr=(0,ue.k)({tabWrapper:{margin:"0 8px",":first-child":{marginStart:0},":last-child":{marginEnd:0}}}),zr=(0,lr.C)((({tabs:e,frameTab:t,entity:s},{tp:r})=>yr(s,e,r,t)))((0,gt.$)()(Lr));var Ar=s(66662);const Fr=e=>(0,r.jsx)(ft.E,{loader:vt.H.contactsTab,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:t=>(0,r.jsx)(Ar.T,{asyncStatus:t,hasPinnedGoods:!!e.entity.has_pinned_goods})}),Br=e=>(0,r.jsx)(ft.E,{loader:vt.H.infoTab,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>(0,r.jsx)(Ar.T,{asyncStatus:e})});var Zr=s(86028),Ur=s(44661);const Hr=e=>(0,r.jsx)(ft.E,{loader:vt.H.pricesTab,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>"loading"===e?(0,r.jsx)(Zr.N,{}):(0,r.jsx)(Ur.j,{code:500})}),Dr=e=>(0,r.jsx)(ft.E,{loader:vt.H.insideTab,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>(0,r.jsx)(Ar.T,{asyncStatus:e})}),$r=e=>(0,r.jsx)(ft.E,{loader:vt.H.servicesTab,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>(0,r.jsx)(Ar.T,{asyncStatus:e})});var Vr=s(84128);const qr=e=>(0,r.jsx)(ft.E,{loader:vt.H.discountsTab,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>(0,r.jsx)(Ar.T,{asyncStatus:e})}),Gr=e=>(0,r.jsx)(ft.E,{loader:vt.H.realtyTab,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>(0,r.jsx)(Ar.T,{asyncStatus:e})});var Wr=s(57935),Qr=s(32252);const Kr=(e,{tp:t,dateFns:s})=>({headerText:(0,Qr.w)({entity:e.entity,format:"short",ctx:{dateFns:s,tp:t}}),bodyText:(0,Qr.w)({entity:e.entity,format:"long",ctx:{dateFns:s,tp:t}})}),Jr=e=>{const{s:t,css:s}=(0,ue.y)(Yr),{headerText:i,bodyText:a}=(0,Wr.Gb)(Kr,e);return i&&a?(0,r.jsxs)("div",Object.assign({className:s(t.root)},{children:[(0,r.jsx)("div",Object.assign({className:s(t.header)},{children:i})),(0,r.jsx)("div",Object.assign({className:s(t.body)},{children:a}))]})):null},Yr=(0,ue.k)({root:{background:Ke.O.gray_f2f2f2,textAlign:"center",paddingBottom:12},header:Object.assign(Object.assign({},Xe.Rw),{paddingTop:16,paddingBottom:12,paddingStart:0,paddingEnd:0}),body:Object.assign(Object.assign({},Xe.oN),{padding:"0 20px"})});var Xr=s(67848);const ei=e=>(0,r.jsx)(ft.E,{loader:vt.H.menuTab,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Xr.Q}),ti=e=>(0,r.jsx)(ft.E,{loader:vt.H.mediaTab,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Xr.Q});var si=s(16279),ri=s(25717),ii=s(88288),ai=s(6872),ni=s(3797),oi=s(92582);const ci=({entity:e,frame:t,featureReadOnly:s,frameContext:i})=>{const a=(0,pe.I0)(),{css:n,s:c}=(0,ue.y)(di),d=(0,le.useRef)(null),l=(0,Se.Z)(),u=(0,si.M)({entityId:e.id,dataLocaleSelector:U.O,isEnabled:"branch"===e.type&&(0,ri.V)(e)&&!e.has_pinned_goods}),p="has_realty"in e&&e.has_realty,g=(0,pe.v9)(ii.hp),{data:m}=(0,ii.C3)(g,{enabled:!!(0,ni.J)(e)||p}),h="undefined"==typeof window||window.isServerRendered,f=(0,pe.v9)(o.kL),{data:v}=(0,ai.Hv)({objectId:e.id},{enabled:!!e.id}),b=null==v?void 0:v.albums.find((e=>e.id===N.n4)),y=b?b.count||0:void 0,x=null==v?void 0:v.albums.find((e=>e.id===N.Ok)),j=v&&x?x.count:v?0:void 0,w=null==m?void 0:m.pages[0].total,_=(0,pe.v9)((r=>{var i;return(0,Nt.Q6)({state:r,entityId:e.id,entityReviewsSearchId:t.tabReviews?(0,oe.Gp)(t.tabReviews.entityReviewsSearchId):"",orgReviewsSearchId:t.tabReviews?(0,oe.Gp)(t.tabReviews.orgReviewsSearchId):"",featureReadOnly:s,photosCount:y,menuPhotosCount:j,offersCount:null===(i=u.data)||void 0===i?void 0:i.total,realtyCount:w})})),C=t.tab||(0,gr.R)(e)[0],I=(0,le.useCallback)((()=>{d.current&&d.current.scrollIntoView({behavior:"smooth"})}),[d]),k=(0,le.useRef)(null),O=(0,oi.K)(t,i,l),S=O?O+2:0,{isSticky:M}=(({stickyRef:e,offset:t=0})=>{const[s,r]=(0,le.useState)(!1),{isMobileDevice:i}=(0,Se.Z)(),a=(0,pe.v9)((e=>e.appContext.isMobileAppBannerClosed)),n=i&&!a?88:0;return(0,le.useEffect)((()=>{const s=new IntersectionObserver((([e])=>{r(e.intersectionRatio<1)}),{rootMargin:`-${t+n+1}px 0px 0px 0px`,threshold:[1]}),i=e.current;return i&&s.observe&&s.observe(i),()=>{i&&s.unobserve&&s.unobserve(i)}}),[e,t,a,i,n]),{isSticky:s}})({stickyRef:k,offset:S});return(0,r.jsxs)("div",Object.assign({},Ye.dx.n("wat-entity-tab"),{className:n(c.contentContainer),ref:d},{children:[(0,r.jsx)(Jr,{entity:e}),(0,r.jsxs)("div",Object.assign({style:{top:S,"--sticky-offset":-S+"px","--sticky-height":`${S}px`},className:n(c.stickyWrapper,M&&c.isSticky)},{children:[(0,r.jsx)("div",{ref:k,className:n(c.empty)}),(0,r.jsx)(zr,{tabs:_,frameTab:C,handleTabClick:s=>{a((0,os.I)({tab:s.key,frame:t,entity:e}))},regionCode:null==f?void 0:f.uri_code,entity:e})]})),(()=>{switch(C){case"contacts":if((0,fr.J)(e))return(0,mr.i)(e)?(0,r.jsx)(Fr,{scrollToTabs:I,entity:e,frame:t}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Fr,{scrollToTabs:I,entity:e,frame:t}),h&&(0,r.jsx)(Br,{entity:e,frameId:t.id,searchId:t.searchId,gtaId:t.gtaId,isHidden:!0})]});break;case"info":return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Br,{entity:e,frameId:t.id,searchId:t.searchId,gtaId:t.gtaId}),h&&(0,fr.J)(e)&&(0,r.jsx)(Fr,{scrollToTabs:I,entity:e,frame:t,isHidden:!0})]});case"reviews":return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Vr.U,{frame:t,entity:e}),h&&(0,r.jsx)(Br,{entity:e,frameId:t.id,searchId:t.searchId,gtaId:t.gtaId,isHidden:!0}),h&&(0,fr.J)(e)&&(0,r.jsx)(Fr,{scrollToTabs:I,entity:e,frame:t,isHidden:!0})]});case"photos":return(0,r.jsx)(ti,{frame:t,entity:e,searchId:t.searchId});case"inside":return(0,r.jsx)(Dr,{frame:t});case"services":case"providers":return(0,r.jsx)($r,{frame:t,entity:e});case"discounts":if((0,fr.J)(e))return(0,r.jsx)(qr,{entity:e});break;case"prices":if((0,fr.J)(e)&&t.tabPrices)return(0,r.jsx)(Hr,{frameId:t.id,entity:e,entitySearchId:t.searchId,offersSearchId:t.tabPrices.searchId});break;case"realty":if(t.tabRealty){const t=(0,ni.J)(e);return(0,r.jsx)(Gr,{onlyFirstPage:t})}break;case"menu":if((0,fr.J)(e))return(0,r.jsx)(ei,{entity:e,searchId:t.searchId});break;default:return null}})()]}))},di=(0,ue.k)({contentContainer:{display:"flex",flexDirection:"column",flexGrow:1,"@media print":{background:"#fff"}},stickyWrapper:{position:"sticky",top:0,zIndex:Qe.W5.top},isSticky:{"::after":{content:'""',position:"absolute",top:"var(--sticky-offset, 0px)",left:0,right:0,width:"100%",height:"var(--sticky-height, 0px)",backgroundColor:Ke.O.white}},empty:{width:"100%"},searchBackground:{position:"absolute",top:0,left:0,right:8,backgroundColor:Ke.O.white,zIndex:2}});var li=s(11162),ui=s(31449),pi=s(66988);var gi=s(75490),mi=s(46461),hi=s(46824),fi=s(50894),vi=s(98795);const bi=()=>{const e=[(0,fi.k)({isLabelShown:!0}),(0,vi.d)({isLabelShown:!0})];return(0,r.jsx)(hi.q,Object.assign({appearance:"transparent"},{children:e.map(((e,t)=>e&&(0,r.jsx)(hi.Q,Object.assign({icon:e.icon,grow:"maximize"===e.type,type:"whiteWithShadow",onClick:e.onClick},{children:e.label}),`${e.type}-${t}`)))}))};var yi=s(22027),xi=s(69088),ji=s(71768);const wi=({search:e})=>({frameId:t},s)=>{const r=(0,ji.z)({state:s,isSuccess:!0,search:e}),i=(0,_s.s)({state:s,entityFrameId:t});return{uiElement:{name:"moreProductOffers",ownerName:"cardRealty",frameUuid:t},payload:{mapLayer:{name:"realtyLayer",entity:{type:"mapLayer",segmentInfo:(0,Ve.U)({locale:(0,U.O)(s),region_id:(0,o.yH)(s)})},enableMapLayer:!0},productOffersList:r,placeItem:i},action:"tap"}};function _i(){const e=(0,ge.T)(),t=(0,pe.I0)(),{frame:s,entity:r}=(0,yi.j)(),i=(0,pe.v9)(ii.hp),{data:a}=(0,ii.C3)(i),{isMobileDevice:n}=(0,Se.Z)(),o=null==a?void 0:a.pages[0],{useBssHandler:c}=(0,Je.T)(),d=c(wi,{search:o}),l=(0,as.$)((()=>{var e,i;s&&r&&(null==d||d(),t((0,C.vP)((0,fe.tj)({newLayer:"realty"}),(0,xe.T)({suggestId:r.id,entity:{id:r.id,type:r.type},categoryId:null===(e=s.tabRealty)||void 0===e?void 0:e.currentCategoryValue,filters:null===(i=s.tabRealty)||void 0===i?void 0:i.currentFiltersValues}),(0,xi.vr)({entityId:r.id}))))}));if("realty"===(null==s?void 0:s.tab)&&r&&(0,ni.J)(r))return{type:"seeRealtyAds",label:n?e._t("Смотреть всё"):e._t("Смотреть все объявления"),icon:void 0,href:void 0,onClick:l}}var Ci=s(48236);const Ii=(0,le.memo)((()=>{const e=_i();return e?(0,r.jsx)(Ci.z,Object.assign({appearance:"secondary",wide:!0,sharp:!0,onClick:e.onClick},{children:e.label})):null}));Ii.displayName="OpenRealtyLayerBtn";var ki=s(99265),Oi=s(67361),Si=s(99863),Ni=s(33451);const Mi=(0,C.gQ)("choosePhonePopup",(({entityId:e})=>(0,O.BN)((0,Ni.Mw)({id:(0,Y.by)(),type:"choosePhone",entityId:e}))));function Ti({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",viewBox:"0 0 32 32"},{children:(0,r.jsx)("path",{fill:e,fillRule:"evenodd",d:"M18.896 4.039a2.54 2.54 0 00-.432-.035l-1.66.001L16.068 4a2.024 2.024 0 00-1.449.59C11.528 7.67 10 11.917 10 16.008c0 4.11 1.527 8.357 4.623 11.429.378.375.891.562 1.426.562h2.016c.291-.008.2-.018.512-.03a2.51 2.51 0 002.421-2.596l-.01-.139a3.01 3.01 0 00-.024-.188l-.782-4.516-.038-.185a3.02 3.02 0 00-2.925-2.308l-1.79-.011-.06-.188a7.923 7.923 0 01-.33-1.91l-.003-.25a5.282 5.282 0 01.29-1.589l.027-.073h1.846a3.018 3.018 0 002.982-2.502l.781-4.594a2.502 2.502 0 00-1.897-2.848l-.17-.034zM18.49 6.01a.5.5 0 01.417.486l-.007.09-.774 4.592a1 1 0 01-.866.827l-.12.007H14c-.718 1.388-1.051 2.718-1 3.99.046 1.145.32 2.343.824 3.592l.176.418 3.148.019a1 1 0 01.953.714l.027.116.776 4.515a.5.5 0 01-.474.584l-.872.029-.81.017c-.26.004-.509.006-.748.006-3-3-4-7-4-10.01 0-2.99 1-6.99 4-10.003l1.132.006 1.273-.002a.5.5 0 01.086.007z",clipRule:"evenodd"})}))}var Pi=s(44314),Ei=s(56704);function Li(){const e=(0,pe.I0)(),{entity:t}=(0,yi.j)(),s=(0,Pi.P)({entity:t}).currentCongestion,i=(0,Je.T)().useBssHandler(Ri,{currentCongestion:s}),a=(0,Ei.b)(t,"phone"),n=(0,as.$)((()=>{t&&(i(),a.length>1?e(Mi({entityId:t.id})):window.location.assign(`tel:${a[0].value}`))}));if(a.length)return{type:"phone",label:void 0,icon:(0,r.jsx)(Ti,{color:Ke.O.black}),href:void 0,onClick:n}}const Ri=e=>({frameId:t},s)=>{const{currentCongestion:r}=e,i=(0,_s.s)({state:s,entityFrameId:t,currentCongestion:r});return i||(0,J.H)({message:"Не удалось сформировать placeItem для событие для UiElement.name: showPhone (a-d67cp)",level:"error",id:"fgd7e",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify((0,q.iF)(s.appContext.frames,t))}}),{uiElement:{name:"showPhone",ownerName:"cardContacts",frameUuid:t},action:"tap",payload:{placeItem:i}}},zi=(0,le.memo)((()=>{const e=[(0,fi.k)(),(0,Si.o)({isLabelShown:!0}),_i(),(0,Oi.h)(),(0,ki.n)(),(0,Xs.t)({color:Ke.O.black,isLabelShown:!0}),Li(),(0,Ys.d)({color:Ke.O.black}),(0,er.T)({frameType:"entity",ownerName:"actionBar",color:Ke.O.black})];return(0,r.jsx)(hi.q,{children:e.map(((e,t)=>e&&(0,r.jsx)(hi.Q,Object.assign({dataT:e.type,dataPs:Fi(e),type:Ai(e.type),grow:!0,icon:e.icon,href:e.href,containerRef:"bssRef"in e?e.bssRef:void 0,onClick:e.onClick},{children:e.label}),t)))})}));function Ai(e){switch(e){case"back":case"map":return"gray";case"addPhoto":case"seeRealtyAds":case"addMenuPhoto":return"blue";default:return"whiteWithBorder"}}function Fi(e){return"bookmark"===e.type&&e.isBookmarked}const Bi=(0,le.memo)((()=>(0,pe.v9)((e=>!!e.appContext.isDataViewerMinimized))?(0,r.jsx)(bi,{}):(0,r.jsx)(zi,{}))),Zi=(0,le.memo)((()=>{const e=(0,ki.n)();return e?(0,r.jsx)(Ci.z,Object.assign({appearance:"secondary",wide:!0,sharp:!0,containerRef:e.bssRef,onClick:e.onClick},{children:e.label})):null})),Ui=(0,le.memo)((()=>{const e=(0,Oi.h)();return e?(0,r.jsx)(Ci.z,Object.assign({appearance:"secondary",wide:!0,sharp:!0,onClick:e.onClick},{children:e.label})):null}));function Hi(){window.clickstream&&window.clickstream.sendEvent({eventCategory:"2GIS_Online",eventAction:"Показ страницы",value:"",properties:[{key:"URL",value:window.location.href}]})}const Di=(0,le.memo)((({entityId:e})=>{const t=(0,pe.v9)((t=>{var s;const r=(0,l.nM)({state:t,entityId:e});return"branch"===(null===(s=null==r?void 0:r.data)||void 0===s?void 0:s.type)?r.data:void 0}));return(0,le.useEffect)((()=>{const e=(null==t?void 0:t.rubrics.find((({kind:e})=>"primary"===e)))||(null==t?void 0:t.rubrics[0]);var s;t&&e&&(s={eventCategory:"2GIS_Online",eventAction:"Показ карточки организации",value:"",properties:[{key:"organizationCategory",value:e.name},{key:"organizationName",value:t.name_ex.primary}]},window.clickstream&&window.clickstream.sendEvent(s))}),[e]),null}));class $i extends le.PureComponent{constructor(){super(...arguments),this.listenersId=(0,Y.by)()}componentDidMount(){this.props.subscribeOnEvents({id:this.listenersId}),this.props.fetchData({entityId:this.props.frame.entityId,searchCtx:this.props.searchCtx,searchKeyword:this.props.searchKeyword})}componentWillUnmount(){this.props.removeListeners({id:this.listenersId})}render(){const{entity:e,errorCode:t,status:s,frame:i,s:a}=this.props;return e?(0,r.jsxs)("div",Object.assign({className:(0,pt.iv)(a.root)},(0,Ye.n)("wat-entity-card"),(0,Ye.t)(e.type),{children:[(0,r.jsx)(Zt.k,{statusIds:i.statusId}),(0,r.jsx)(gi.T,Object.assign({contentScrollId:(0,li.k)(i),fixedContentFooter:this.renderFixedFooter()},{children:this.renderContent()})),(0,r.jsx)(Di,{entityId:e.id})]})):"error"===s?(0,r.jsx)("div",Object.assign({className:(0,pt.iv)(a.error)},(0,Ye.n)("wat-entity-card-error"),{children:(0,r.jsx)(Ur.j,{code:t,type:"entity"})})):(0,r.jsx)(ui.P,{})}renderContent(){const{entity:e,frame:t,frameContext:s,s:i,bssRef:a,featureReadOnly:n}=this.props;return(0,r.jsx)(mi.M.Provider,Object.assign({value:{showEventOrdinal:this.props.showEventOrdinal}},{children:(0,r.jsxs)("div",Object.assign({className:(0,pt.iv)(i.entity),ref:a},{children:[(0,r.jsx)(or,{entity:e,frame:t,frameContext:s}),(0,r.jsx)(ci,{entity:e,frame:t,frameContext:s,featureReadOnly:n})]}))}))}renderFixedFooter(){const{frame:e,entity:t}=this.props,s=(0,ni.J)(t);return(0,r.jsxs)(r.Fragment,{children:["photos"===e.tab&&(0,r.jsx)(Xt.N,{children:(0,r.jsx)(Ui,{})}),"menu"===e.tab&&(0,r.jsx)(Xt.N,{children:(0,r.jsx)(Zi,{})}),"realty"===e.tab&&s&&(0,r.jsx)(Xt.N,{children:(0,r.jsx)(Ii,{})}),(0,r.jsx)(Xt.i,{children:(0,r.jsx)(Bi,{})})]})}}$i.displayName=(0,Ct.I)("src/modules/entity");const Vi=(0,mt.z)(pi._X)((0,ut.$)(Et,Bt)((0,lr.C)((({frame:e,entity:t},{config:s})=>{const{meta:r,data:i}=t,a=s.featureReadOnly;return"point"===e.entityType?{entity:{id:"__empty",type:"point",point:i&&"point"in i&&i.point||e.point,region_id:"0",segment_id:"0"},status:"success",errorCode:void 0,featureReadOnly:a}:{entity:i,status:r&&r.status,errorCode:r&&"error"===r.status?r.code:void 0,featureReadOnly:a}}))((0,pt.D2)({root:{height:"100%"},entity:{minHeight:"100%",display:"flex",flexDirection:"column"},error:{marginTop:100}})((0,gt.$)()($i)))));var qi=s(9023);class Gi extends le.PureComponent{render(){const{s:e}=this.props;return(0,r.jsxs)("div",Object.assign({className:(0,pt.iv)(e.gta)},{children:[(0,r.jsx)("div",{className:(0,pt.iv)(e.gtaContent)}),(0,r.jsx)("div",{className:(0,pt.iv)(e.gtaLink)})]}))}}Gi.displayName=(0,Ct.I)("src/shared/kit/skeletons");const Wi={gta:{margin:8,borderRadius:Qe.E0.default,overflow:"hidden"},gtaContent:{height:168,background:Ke.O.gray_f2f2f2},gtaLink:{height:40,backgroundColor:Ke.O.blue_028eff}},Qi=(0,pt.D2)(Wi)(Gi);class Ki extends le.PureComponent{render(){const{s:e}=this.props;return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",Object.assign({className:(0,pt.iv)(e.row)},{children:(0,r.jsx)("div",{className:(0,pt.iv)(e.cityBlock)})})),(0,r.jsx)("div",Object.assign({className:(0,pt.iv)(e.row)},{children:(0,r.jsx)("div",Object.assign({className:(0,pt.iv)(e.rubricatorWrapper)},{children:(0,r.jsx)(qi.C,{})}))})),(0,r.jsx)("div",Object.assign({className:(0,pt.iv)(e.row)},{children:(0,r.jsx)("div",{className:(0,pt.iv)(e.feedback)})})),(0,r.jsx)("div",Object.assign({className:(0,pt.iv)(e.row)},{children:(0,r.jsx)(Qi,{})}))]})}}Ki.displayName=(0,Ct.I)("src/shared/kit/skeletons");const Ji={cityBlock:{background:Ke.O.gray_929292,width:"100%",height:228},row:{marginBottom:"8px"},rubricatorWrapper:{marginTop:16,marginBottom:8,marginStart:8,marginEnd:8},feedback:{background:Ke.O.gray_929292,padding:"12px 16px",marginTop:16,marginBottom:8,marginStart:8,marginEnd:8,height:132,borderRadius:Qe.E0.default}},Yi=(0,pt.D2)(Ji)(Ki);function Xi(e){return"error"===e?(0,r.jsx)("div",Object.assign({style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}},{children:(0,r.jsx)(Ur.j,{code:500})})):(0,r.jsx)(Yi,{})}const ea=e=>(0,r.jsx)(ft.E,{loader:vt.H.dashboard,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Xi});function ta(e){return"error"===e?(0,r.jsx)("div",Object.assign({style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}},{children:(0,r.jsx)(Ur.j,{code:500})})):(0,r.jsx)("div",{})}const sa=e=>(0,r.jsx)(ft.E,{loader:vt.H.product,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:ta}),ra=e=>(0,r.jsx)(ft.E,{loader:vt.H.offer,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Xr.Q});class ia extends le.PureComponent{render(){if("entity"===this.props.frame.subtype)return(0,r.jsx)(ui.P,{})}}ia.displayName=(0,Ct.I)("src/modules/pending");const aa=ia,na=e=>(0,r.jsx)(ft.E,{loader:vt.H.directions,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Xr.Q}),oa=e=>(0,r.jsx)(ft.E,{loader:vt.H.publicFavorites,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Xr.Q}),ca=e=>(0,r.jsx)(ft.E,{loader:vt.H.collection,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Xr.Q}),da=e=>(0,r.jsx)(ft.E,{loader:vt.H.direction,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Xr.Q}),la=e=>(0,r.jsx)(ft.E,{loader:vt.H.prices,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Xr.Q}),ua=e=>(0,r.jsx)(ft.E,{loader:vt.H.rubricator,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Xr.Q}),pa=e=>(0,r.jsx)(ft.E,{loader:vt.H.rubric,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Xr.Q}),ga=e=>(0,r.jsx)(ft.E,{loader:vt.H.userProfile,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Xr.Q});var ma=s(48302),ha=s(94040),fa=s(10962);const va=(0,le.memo)((()=>{const e=(0,ge.T)(),{s:t,css:s}=(0,ue.y)(ba);return(0,r.jsx)(fa.s,{title:e._gg("Что-то пошло не так"),message:e._gg("Чтобы оставить отзыв, найдите компанию по названию или адресу через строку поиска"),code:500,additionalContent:(0,r.jsxs)("div",Object.assign({className:s(t.logos)},{children:[(0,r.jsx)(ma.x,{height:20}),(0,r.jsx)(ha.Z,{height:20})]}))})})),ba=(0,ue.k)({logos:{marginTop:40,display:"flex",alignItems:"center",justifyContent:"center"}}),ya=({frame:e,frameContext:t})=>{const{code:s,subtype:i}=e;return(0,r.jsxs)("div",{children:[(0,r.jsx)(Wt.v,{frame:e,frameContext:t}),(0,r.jsx)("div",Object.assign({style:{paddingTop:44}},{children:"sbol-review"===i?(0,r.jsx)(va,{}):(0,r.jsx)(Ur.j,{code:s,type:i})}))]})},xa=e=>(0,r.jsx)(ft.E,{loader:vt.H.unconfirmedReviews,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Xr.Q}),ja=e=>(0,r.jsx)(ft.E,{loader:vt.H.currentReview,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Xr.Q}),wa=e=>(0,r.jsx)(ft.E,{loader:vt.H.tUgcCard,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Xr.Q}),_a=le.memo((e=>(0,r.jsx)(bt.u,Object.assign({sidebar:(0,r.jsx)("div",{}),areFiltersOpened:e.areFiltersOpened},{children:(0,r.jsx)(Zr.N,{squareLogo:e.squareLogo,logoSize:e.logoSize})}))));_a.displayName="SearchSkeleton";const Ca=e=>(0,r.jsx)(ft.E,{loader:vt.H.realty,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Ia(e.frameContext.areFiltersOpened)}),Ia=e=>t=>"loading"===t?(0,r.jsx)(_a,{squareLogo:!0,logoSize:100,areFiltersOpened:e}):(0,r.jsx)(Ur.j,{code:500}),ka=e=>(0,r.jsx)(ft.E,{loader:vt.H.realtyCard,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Oa}),Oa=e=>"loading"===e?(0,r.jsx)(ui.P,{}):(0,r.jsx)(Ur.j,{code:500}),Sa=e=>(0,r.jsx)(ft.E,{loader:vt.H.achievementsFrame,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Xr.Q}),Na=e=>(0,r.jsx)(ft.E,{loader:vt.H.userFriendsActivity,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Xr.Q});var Ma=s(43270);const Ta=e=>(0,r.jsx)(ft.E,{loader:vt.H.exchange,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Pa(e.frameContext.areFiltersOpened)}),Pa=e=>t=>"loading"===t?(0,r.jsx)(_a,{squareLogo:!0,logoSize:100,areFiltersOpened:e}):(0,r.jsx)(Ur.j,{code:500}),Ea=e=>(0,r.jsx)(ft.E,{loader:vt.H.galleryAlbum,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Xr.Q}),La=e=>(0,r.jsx)(ft.E,{loader:vt.H.friendsListFrame,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Xr.Q}),Ra=e=>(0,r.jsx)(ft.E,{loader:vt.H.userPublicProfileFrame,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Xr.Q});s(20755);var za=s(55476),Aa=s(8476),Fa=s(26239),Ba=s(47949),Za=s(80837);const Ua=({id:e,onClose:t})=>{var s,i,a,n,o,c,d;const u=(0,ge.T)(),p=(0,pe.I0)(),{css:g,s:m}=(0,ue.y)(Ha),{friendsDebugToken:h,isMobileDevice:f,rtl:v,featurePublicProfile:b}=(0,Se.Z)(),{profile:y,state:x,isMyProfile:j,selfState:w,isMyFriendProfile:_}=Ba.userModel.useUserProfile(e),C=Ba.userModel.useIsMyFriend(e);Ba.userModel.useMoveToUserMarker(x);const I=b?_:C,{profiles:k,sharedRoute:O}=(0,pe.v9)(st.EV.getFriendsOnMap),S="work"===(null===(i=null===(s=null==x?void 0:x.locationPlace)||void 0===s?void 0:s.status)||void 0===i?void 0:i.id)||"home"===(null===(n=null===(a=null==x?void 0:x.locationPlace)||void 0===a?void 0:a.status)||void 0===n?void 0:n.id)||null===(c=null===(o=null==x?void 0:x.locationPlace)||void 0===o?void 0:o.object)||void 0===c?void 0:c.id,N=(0,pe.v9)(za.Pc)||!!h,M=(0,pe.v9)((e=>S?(0,l.wj)({state:e,entityId:S}):void 0)),T=null===(d=k[e])||void 0===d?void 0:d.session,P=T&&T.expiresAt&&T.expiresAt-T.serverTime,E=T&&(()=>{var t,s;return Fa.i.bss.showSharerProfile({publicProfileId:e,expirationTime:T.expiresAt?Math.round((T.expiresAt-T.serverTime)/1e3):void 0,sessionId:T.sessionId,sharerLocationPlace:null===(s=null===(t=null==x?void 0:x.locationPlace)||void 0===t?void 0:t.status)||void 0===s?void 0:s.id})}),{bssRef:L,useBssHandler:R}=(0,Je.T)(f?Fa.i.bss.showSharingGeoFrame():void 0),z=R(Fa.i.bss.sendFriendRequestFromProfile,{publicProfileId:e});(0,le.useEffect)((()=>{S&&!j&&p((0,Za.$)({id:S,searchId:void 0}))}),[p,S,j]);const A=()=>{var e;if(y.isError)return(0,r.jsx)(Ba.jJ,{});if(y.isSuccess){const{public_user:s}=y.data,i=(null==O?void 0:O.sharerId)===(null==x?void 0:x.id),a=i&&(null===(e=null==O?void 0:O.pointB)||void 0===e?void 0:e.title)||((null==M?void 0:M.data)&&"name"in M.data?M.data.name:void 0),n=j||null==w?void 0:w.location,o=Ba.E9.getUserStatus({state:x,entityName:a,selfUserLocation:n,eta:i?null==O?void 0:O.eta:void 0,tp:u,rtl:v});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ba.YS,{isAuthorized:N,isMyFriendProfile:I,avatarUrl:Ba.E9.getUserAvatar(s,f),status:o,user:s,isMyProfile:j,broadcastTime:P,onClose:t,onAddFriend:z,bssShowFunction:E}),!f&&!j&&(0,r.jsx)("div",Object.assign({className:g(m.banner)},{children:(0,r.jsx)(Ba.cn,{userId:s.public_user_id,userName:s.name})}))]})}return(0,r.jsx)(Ba.Q3,{})};return f?(0,r.jsx)("div",Object.assign({className:g(m.mobileWrapper),ref:L},{children:A()})):(0,r.jsx)("div",Object.assign({className:g(m.wrapper)},{children:A()}))},Ha=(0,ue.k)({wrapper:{display:"flex",flexDirection:"column",padding:24},mobileWrapper:{backgroundColor:Ke.O.white,borderTopLeftRadius:8,borderTopRightRadius:8,boxShadow:"0px -3px 10px rgba(38, 38, 38, 0.15)"},banner:{marginTop:24}}),Da=({frame:e})=>{var t,s;const i=(0,pe.I0)(),{isMobileDevice:a}=(0,Se.Z)(),n=(0,pe.v9)(za.bG),o=(0,pe.v9)(Aa.r),c=(0,pe.v9)(za.zP),d=null===(t=n.data)||void 0===t?void 0:t.access_token,l=(null===(s=n.data)||void 0===s?void 0:s.public_user_id)||o,{data:u,isError:p}=Fa.i.useSubscribeSessionQuery({token:d,userId:l,sessionId:e.sessionId},{enabled:!c});return(0,le.useEffect)((()=>{u&&u.isFriend&&!a?(i((0,R.t7)({id:e.id})),i(Ae.i.openPublicProfile({userId:u.id})),i((0,fe.tj)({newLayer:"friends"}))):u?(i(st.EV.updateFriendsOnMapModel({type:"sharer"})),i((0,R.D_)(e.id,(e=>Object.assign(Object.assign({},e),{userId:null==u?void 0:u.id}))))):p&&(i((0,R.t7)({id:e.id})),i(Fa.i.openBroadcastEndedPopup({sessionId:e.sessionId})))}),[p,i,e,u,a]),!u||u.isFriend&&!a?(0,r.jsx)(Ba.Q3,{}):(0,r.jsx)(Ua,{id:u.id,onClose:()=>{i((0,C.vP)((0,O.BN)(),(0,R.t7)({id:e.id})))}})},$a=e=>[...e.featurePublicProfile?[]:["userPublicProfile"]];class Va extends le.PureComponent{constructor(){super(...arguments),this.state={errorMessage:"",error:""}}render(){const e=this.props.s,t="entity"===this.props.frame.type?this.props.frame.entityType:this.props.frame.type;return(0,le.createElement)("div",Object.assign({className:(0,lt.iv)(e.frame,$a(this.props.config).includes(this.props.frame.type)&&e.frameOverflowHidden)},Ye.Z({n:"wat-frame",t}),{ref:this.props.bssRef,key:this.props.frame.id}),this.renderContent())}componentDidCatch(e,t){if(this.setState({errorMessage:e.message,error:`${e.message}\n\n${e.stack}`}),e===ft.t)return;const s=e.message&&e.message.toString()+t&&t.componentStack?` Comp stack: ${t.componentStack}`:"",r=e.stack&&-1!==e.stack.indexOf("removeChild")?e.stack.replace("Error: Failed to execute 'removeChild' on 'Node': The node to be removed is not a child of this node.","removeChild").replace(/https:\/\/d-assets\.2gis\.ru/g,"assets").replace(/vendor/g,"v"):e.stack;(0,J.H)({message:s,level:"fatal",id:"m8bkw",payload:{type:"exception",subtype:"FrameRenderFailed",stack:r}})}renderContent(){if(this.state.error)return(0,r.jsxs)("div",Object.assign({style:{padding:"16px"}},Ye.Z({n:"wat-error-frame",v:this.state.errorMessage}),{children:[(0,r.jsx)("div",Object.assign({style:{padding:"16px 0"}},{children:(0,r.jsx)(Ur.j,{code:500})})),(0,r.jsx)("div",Object.assign({style:{display:"flex",justifyContent:"center",paddingBottom:16}},{children:this.props.i18n.tp._t("Или покажите это разработчикам")})),(0,r.jsx)("pre",Object.assign({style:{display:"block",background:"#eee",overflowX:"scroll",padding:"10px"}},{children:`Session id: ${this.props.config.sessionId}\n            User id: ${this.props.config.userId}\n            ${this.state.error}`}))]}));switch(this.props.frame.type){case"gallery":return(0,r.jsx)(Ea,{frame:this.props.frame,frameContext:this.props.frameContext,isMenuPhoto:"menu"===this.props.frame.entityType});case"dashboard":return(0,r.jsx)(ea,{frame:this.props.frame,frameContext:this.props.frameContext});case"search":return(0,r.jsx)(wt,{frame:this.props.frame,frameContext:this.props.frameContext,config:this.props.config});case"directions":return(0,r.jsx)(na,{frame:this.props.frame,frameContext:this.props.frameContext});case"direction":return(0,r.jsx)(da,{frame:this.props.frame});case"entity":return(0,r.jsx)(Vi,{frame:this.props.frame,frameContext:this.props.frameContext});case"product":return(0,r.jsx)(sa,{frame:this.props.frame,frameContext:this.props.frameContext});case"offer":return(0,r.jsx)(ra,{frame:this.props.frame});case"pending":return(0,r.jsx)(aa,{frame:this.props.frame});case"publicFavorites":return(0,r.jsx)(oa,{frame:this.props.frame,frameContext:this.props.frameContext});case"collection":return(0,r.jsx)(ca,{frame:this.props.frame,frameContext:this.props.frameContext});case"prices":return(0,r.jsx)(la,{frame:this.props.frame});case"rubricator":return(0,r.jsx)(ua,{frame:this.props.frame,frameContext:this.props.frameContext});case"rubric":return(0,r.jsx)(pa,{frame:this.props.frame,frameContext:this.props.frameContext});case"userProfile":return(0,r.jsx)(ga,{frame:this.props.frame});case"unconfirmedReviews":return(0,r.jsx)(xa,{frame:this.props.frame});case"currentReview":return(0,r.jsx)(ja,{frame:this.props.frame});case"tUgc":return(0,r.jsx)(wa,{frame:this.props.frame});case"error":return(0,r.jsx)(ya,{frame:this.props.frame,frameContext:this.props.frameContext});case"realty":return(0,r.jsx)(Ca,{frame:this.props.frame,frameContext:this.props.frameContext});case"realtyCard":return(0,r.jsx)(ka,{frame:this.props.frame});case"exchange":return(0,r.jsx)(Ta,{frame:this.props.frame,frameContext:this.props.frameContext});case"achievements":return(0,r.jsx)(Sa,{frame:this.props.frame});case"userFriendsActivity":return(0,r.jsx)(Na,{frame:this.props.frame});case"friendsList":return(0,r.jsx)(La,{frame:this.props.frame});case"userPublicProfile":return(0,r.jsx)(Ra,{frame:this.props.frame});case"sharingGeo":return(0,r.jsx)(Da,{frame:this.props.frame})}}}const qa=(0,mt.z)(((e,t)=>(0,ht.xl)({state:t,frame:e.frame})))((0,pt.D2)({frame:{background:"#fff",flex:"1 1 100%",height:"100%",overflowX:"hidden",overflowY:"auto"},frameOverflowHidden:{overflowY:"hidden"}})((0,gt.$)()((0,Ma.R)()(Va))));var Ga=s(33511),Wa=s(3560);const Qa=e=>(0,r.jsx)(ft.E,{loader:vt.H.suggestList,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:Xr.Q});var Ka=s(99636),Ja=s(25057),Ya=s(57695);const Xa=(0,It.P1)([({state:e})=>(0,Ja.eq)(e,"primary"),({state:e})=>{var t;return null===(t=e.appContext.weak.newYearPlaceholder)||void 0===t?void 0:t.text},({state:e,props:t})=>"search"===t.frame.type&&"query"===t.frame.searchType?(0,Ya.rO)({state:e,searchId:(0,q.QB)(t.frame,"actual")}):void 0],((e,t,s)=>{var r,i;return{suggest:e,newYearPlaceholder:t,queryFix:null===(i=null===(r=null==s?void 0:s.data)||void 0===r?void 0:r.searchAttributes)||void 0===i?void 0:i.query_fix}}));var en=s(40204),tn=s(66204),sn=s(29736),rn=s(2206);const an="primary",nn=(0,C.gQ)("handleInput",(({query:e})=>(0,C.vP)((0,tn.xU)({suggesterKey:an,query:e}),(0,tn.r4)({suggesterKey:an,index:void 0}),(0,en.p_)({suggesterKey:an,show:!0}),(0,en.XC)()))),on=(0,C.gQ)("handleSubmit",(({frameId:e})=>(0,B.$0)((({tp:t})=>(0,Z.gF)({suggest:e=>(0,Ja.eq)(e,an),primarySuggestions:e=>(0,Ja.iE)(e),searchAttributes:e=>(0,Ja.yw)(e,"primary"),featureRealty:e=>e.config.featureRealty},(({suggest:s,primarySuggestions:r,searchAttributes:i,featureRealty:a})=>{if(!s||!s.query)return(0,C.ZT)();const n=a&&r?(0,rn.r)(r,t):r?[...r]:[],{highlightedIndex:o,query:c}=s;if(void 0!==o){const t=n[o];if(t)return(0,en.en)({suggestion:t,query:c,pickedIndex:o,frameId:e,suggestions:n||[],searchAttributes:i})}return c?(0,C.vP)((0,sn.vc)({query:c,frameId:e}),(0,en.p_)({suggesterKey:an,show:!1}),(0,en._m)({query:c})):(0,C.ZT)()})))))),cn="primary",dn=(0,kt.Z3)(((e,t)=>({handleInput(t){e(nn({query:t}))},handleSubmit(){e(on({frameId:t.frame.id}))},handleInputClick(t){e((0,en.ff)({query:t,suggesterKey:cn}))},handleNavigation(t){e((0,en.$N)({suggesterKey:cn,keyCode:t}))}})));var ln=s(53483),un=s(4116);function pn(e){switch(e.type){case"search":return"inbuilding"===e.searchType?e.parentSearchQuery:e.query;case"entity":case"product":return e.query}}class gn extends le.PureComponent{constructor(){super(...arguments),this.handleChange=e=>{this.props.handleInput(e),this.props.bssSearchBarInput({query:e})},this.handleKeyUp=e=>{e.stopPropagation()},this.handleKeyDown=e=>{if(e.stopPropagation(),[un.HI,un.P9,un.O_].indexOf(e.keyCode)>-1)return e.preventDefault(),void(this.props.suggest&&this.props.suggest.show&&this.props.handleNavigation(e.keyCode));e.keyCode,un.q7},this.handleSubmit=e=>{var t;e.preventDefault(),this.props.isMobileDevice&&this.props.inputRef&&(null===(t=this.props.inputRef.current)||void 0===t||t.blur()),this.props.handleSubmit()},this.handleClick=()=>{this.props.handleInputClick(this.props.query||""),this.props.bssSearchBarTap()},this.onClear=()=>{this.props.bssClearSearchBarTap()}}render(){var e;const{query:t,autoFocus:s,lightText:i,inputRef:a,withH1Header:n,placeholder:o}=this.props;return(0,r.jsx)("form",Object.assign({onSubmit:this.handleSubmit},{children:(0,r.jsx)(ln.M,{placeholder:o,value:t||"",onChange:this.handleChange,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,autoFocus:s,lightText:i,onClick:this.handleClick,onClear:this.onClear,inputRef:a,displayH1Header:n,showHamburger:!(null===(e=this.props.suggest)||void 0===e?void 0:e.show)})}))}}gn.displayName=(0,Ct.I)("src/modules/searchBar/containers/suggestInput");const mn=(0,gt.$)()((0,mt.z)(void 0,((e,t)=>({bssSearchBarInput({query:s}){e((0,cs.zs)({uiElement:{name:"searchBar",ownerName:"searchBarWrapper",frameUuid:t.ownerFrameId},action:"textInput",payload:{searchRequest:{text:s}}}))},bssSearchBarTap(){const s=(0,ht.EW)(t.frame);e((0,cs.zs)({uiElement:{name:"searchBar",ownerName:s,frameUuid:t.ownerFrameId},action:"tap"}))},bssClearSearchBarTap(){e((0,cs.zs)({uiElement:{name:"clear",ownerName:"searchBar",frameUuid:t.ownerFrameId},action:"tap"}))}})))((0,pe.$j)(((e,t)=>Xa({state:e,props:t})),dn)((0,lr.C)((({suggest:e,frame:t,customPlaceholder:s,newYearPlaceholder:r,queryFix:i},{config:a,tp:n})=>{const o=t&&i&&((e,t)=>{if("search"===e.type&&"query"===e.searchType&&t)return t.corrected_query})(t,i),c=t&&pn(t),d=n._pt("Поиск в 2ГИС","Поиск в %1",[a.brandName]),l=(({customPlaceholder:e,newYearPlaceholder:t,astronauticsDayPlaceholder:s})=>{switch(!0){case void 0!==e:return e;case void 0!==t:return t;case void 0!==s:return s;default:return}})({customPlaceholder:s,newYearPlaceholder:a.featureNewYear?r:void 0,astronauticsDayPlaceholder:a.featureAstronauticsDay?"Поехали":void 0});return{query:o||(e&&void 0!==e.query?e.query:c)||"",placeholder:l||d,isMobileDevice:a.isMobileDevice}}))(gn))));var hn=s(56976),fn=s(90198);const vn="primary",bn=["tree","bag","hat","sock","toy","mandarins"],yn=((0,C.gQ)("getNewYearRandomSearchBarDecor",(()=>(0,C.Rh)((({featureNewYear:e})=>e?(0,B.$0)((({tp:e})=>{const t=[e._gg("3-я ул. Строителей, 25, кв.12"),e._gg("Если снежинка не растает"),e._gg("Загадайте желание"),e._gg("Мы дождались 2024!")];return(0,D.yy)({newYearPlaceholder:{text:t[Math.floor(Math.random()*t.length)],iconType:bn[Math.floor(Math.random()*bn.length)]}})})):(0,C.ZT)())))),{framesLength:e=>e.appContext.frames.length,isDataViewerMinimized:e=>e.appContext.isDataViewerMinimized||!1,suggest:e=>(0,Ja.eq)(e,"primary")}),xn={subscribeOnPopState:e=>(0,T.Oo)({id:e,type:"window:popstate",handler:()=>(0,tn.p_)({suggesterKey:vn,show:!1})}),unsubscribeOnPopState:e=>(0,T.xg)({id:e}),hideSuggest:()=>(0,tn.p_)({suggesterKey:vn,show:!1}),handleLogoClick:P.kn,closeLastFrame:P.yt};class jn extends le.PureComponent{constructor(){super(...arguments),this.state={isDataViewerMinimized:this.props.isDataViewerMinimized,forceFocus:!1},this.popStateListenerId=(0,Y.by)(),this.inputRef=le.createRef(),this.closeSuggest=()=>{this.props.showSuggest&&this.props.hideSuggest()},this.handleBackClick=()=>{var e;const{config:{isMobileDevice:t}}=this.props;this.props.showSuggest&&(t&&(null===(e=this.inputRef.current)||void 0===e||e.blur()),this.props.hideSuggest())},this.handleLogoClick=()=>{this.props.handleLogoClick()},this.handleBlur=()=>{this.props.hideSuggest()}}static getDerivedStateFromProps(e,t){return e.autoFocus&&!e.isDataViewerMinimized&&t.isDataViewerMinimized?Object.assign(Object.assign({},t),{isDataViewerMinimized:e.isDataViewerMinimized,forceFocus:!0}):Object.assign(Object.assign({},t),{isDataViewerMinimized:e.isDataViewerMinimized,forceFocus:!1})}componentDidMount(){this.props.subscribeOnPopState(this.popStateListenerId)}componentWillUnmount(){this.props.unsubscribeOnPopState(this.popStateListenerId)}componentDidUpdate(){this.state.forceFocus&&this.inputRef&&this.inputRef.current&&this.inputRef.current.focus()}render(){const{frame:e,showSuggest:t,autoFocus:s,isInputWithH1Header:i,wrapperHeight:a,showBackButton:n,showBorder:o,s:c}=this.props;return(0,r.jsx)("div",Object.assign({className:(0,pt.iv)(c.root),style:{height:a}},Ye.dx.n("wat-search-bar-wrapper"),Ye.dx.t(e.type),{children:(0,r.jsxs)(hn.B,Object.assign({onBlur:this.handleBlur,initialFocus:s},{children:[(0,r.jsx)("div",Object.assign({className:(0,pt.iv)(c.focusController)},{children:(0,r.jsx)(Wa.k,Object.assign({showBackButton:n,showLogo:!n,showBorder:o,handleBackClick:this.handleBackClick,handleLogoClick:this.handleLogoClick},{children:(0,r.jsx)(mn,{frame:e,autoFocus:s,inputRef:this.inputRef,withH1Header:i})}))})),t&&(0,r.jsx)(Ka.r,Object.assign({onBackgroundClick:this.closeSuggest,stretchContent:!0},{children:(0,r.jsx)(Qa,{frame:e,inputRef:this.inputRef})}))]}))}))}}const wn=(0,fn.G)({selectors:yn,handlers:xn})((0,Ma.R)()((0,lr.C)(((e,{config:t})=>{const{frame:s,frameContext:r,isDataViewerMinimized:i,framesLength:a,suggest:n}=e,o=(0,oi.K)(s,r,t);if(!o)return;const c=!(!n||!n.show);return{wrapperHeight:o,autoFocus:!t.isMobileDevice&&!i&&0===a,isInputWithH1Header:"search"===s.type&&"query"===s.searchType&&1===a,showSuggest:c,showBackButton:c,showBorder:!c}}))((0,pt.D2)((({mobile:e})=>({root:{paddingTop:16,margin:e?"0 12px":"0 16px",pointerEvents:"auto",boxSizing:"border-box"},focusController:{position:"relative",zIndex:Qe.W5.top},promo:{paddingTop:16,paddingBottom:0,paddingStart:12,paddingEnd:12}})))(jn))));var _n=s(32002),Cn=s(54015),In=s(5924);class kn extends le.PureComponent{constructor(){super(...arguments),this.state={doNotRender:"undefined"!=typeof window&&!window.isServerRendered,isActive:!!this.props.frameContext&&this.props.frameContext.isRightMost}}componentDidMount(){this.props.fadeInWithoutDelay?this.setState({doNotRender:!1}):this.fadeInTimer=window.setTimeout((()=>this.setState({doNotRender:!1})),Ps.l.long)}componentDidUpdate(){const{frameContext:e}=this.props;e&&e.isRightMost!==this.state.isActive&&(e.isRightMost?this.stylesTimer=window.setTimeout((()=>{this.setState({isActive:e.isRightMost}),this.stylesTimer=void 0}),Ps.l.long):this.setState({isActive:!1}))}componentWillUnmount(){this.fadeInTimer&&window.clearTimeout(this.fadeInTimer),this.stylesTimer&&window.clearTimeout(this.stylesTimer)}render(){const{frameWidth:e,frameContext:t,children:s,s:i}=this.props;if(!t)return null;const{isActive:a}=this.state;return(0,r.jsx)("div",Object.assign({className:(0,lt.iv)(i.panel,this.state.doNotRender&&i._fadedOut),style:{width:e}},{children:!this.state.doNotRender&&(0,r.jsx)("div",Object.assign({className:(0,lt.iv)(i.content,a?i._highlighted:i._regular)},{children:s({frameContext:t})}))}))}}const On={panel:{width:"352px",minWidth:"352px",height:"100%",display:"flex",flexDirection:"column",position:"relative",transition:`opacity ${Ps.l.short}ms`,opacity:1,zIndex:1},content:{height:"100%"},_regular:{":before":{content:'""',position:"absolute",start:"-1px",top:"0",bottom:"0",width:"1px",height:"100%",background:(0,Es.j)(Ke.O.black,.1)},":after":{content:'""',position:"absolute",top:"0",end:"-1px",bottom:"0",width:"1px",height:"100%",background:(0,Es.j)(Ke.O.black,.1)}},_highlighted:{boxShadow:_n.q.outerLeft},_fadedOut:{opacity:0}},Sn=(0,pe.$j)((()=>{const e=(0,Cn.b)(),t=(0,It.P1)([({props:t,state:s})=>e({state:s,frameId:t.frameId}),({state:e,props:t})=>(0,In.L)(t.frameId)(e)],((e,t)=>({frameContext:e,frameWidth:t})));return(0,kt.X1)(((e,s)=>t({state:e,props:s})))}))((0,pt.D2)(On)(kn));var Nn=s(96729),Mn=s(29973);const Tn={container:{cursor:"pointer",background:"rgba(255, 255, 255, .85)",width:"24px",height:"24px",padding:"8px 0",borderRadius:`logical ${Qe.E0.default} 0 0 ${Qe.E0.default}`,textAlign:"center",boxShadow:_n.q.popup,color:Ke.O.gray_262626}};function Pn(e){switch(e){case"minimize":return(0,r.jsx)(Mn.E,{direction:"start"});case"maximize":return(0,r.jsx)(Mn.E,{direction:"end"});default:return(0,r.jsx)(Nn.x,{})}}const En=(0,pt.D2)(Tn)((function(e){const{type:t,onClick:s,s:i}=e;return(0,r.jsx)("div",Object.assign({},Ye.dx.n("wat-ear"),{className:(0,lt.iv)(i.container),onClick:s},{children:Pn(t)}))}));class Ln extends le.PureComponent{render(){const{width:e,children:t,s}=this.props;return(0,r.jsxs)("div",Object.assign({className:(0,lt.iv)(s.root),style:{width:e}},{children:[(0,r.jsx)("div",{className:(0,lt.iv)(s.bg)}),(0,r.jsx)("div",Object.assign({className:(0,lt.iv)(s.children)},{children:t}))]}))}}const Rn={root:{position:"absolute",top:0,start:0,bottom:0,zIndex:Qe.W5.base},bg:{width:"100%",height:"100%",position:"relative",background:Ke.O.white,boxShadow:_n.q.outerRight,zIndex:Qe.W5.base},children:{position:"absolute",top:"16px",end:"-24px",zIndex:Qe.W5.bottom}},zn=(0,pt.D2)(Rn)(Ln);const An=Fn;function Fn({frames:e,isMinimized:t,dataViewerWidth:s},{config:{rtl:r}}){let i="none";return t&&(i=r?`translate3d(${s}px, 0, 0)`:`translate3d(-${s}px, 0, 0)`),{arrowEarType:t?"maximize":"minimize",showCloseEar:!(e[0]&&"dashboard"===e[0].type),showArrowEar:!0,transform:i}}var Bn=s(72443),Zn=s(4213),Un=s(77203);var Hn=s(5);class Dn extends le.PureComponent{constructor(){super(...arguments),this.prevFrames=[],this.handleMinimizeClick=()=>{const{frames:e,isMinimized:t,bssOnMinimizeClick:s,handleMinimizeClick:r}=this.props;s(e,t),r()}}UNSAFE_componentWillReceiveProps(){this.prevFrames=this.props.frames.slice().reverse()}componentDidUpdate(){this.props.isMinimized&&function(e,t){if(e.length!==t.length)return!0;for(let s=0;s<e.length;s++)if(e[s].id!==t[s].id)return!0;return!1}(this.prevFrames,this.props.frames.slice().reverse())&&this.props.unMinimize()}render(){const{frames:e,isMinimized:t,s,dataViewerWidth:i,transform:a,config:n}=this.props;return(0,r.jsxs)("div",Object.assign({className:(0,pt.iv)(s.root,t&&s._minimized),style:{transform:a,pointerEvents:t?"none":"all"}},{children:[(0,r.jsx)(Ga.j.Provider,Object.assign({value:{frameId:(0,Y.by)()}},{children:(0,r.jsx)(et,{})})),(0,r.jsx)(zn,Object.assign({width:i||Hn.M.width},{children:this.renderEars()})),(0,r.jsx)("div",Object.assign({style:{display:"flex",height:"100%",overflow:"hidden",width:i?i-Hn.M.width+"px":0}},Ye.dx.n("wat-frames"),{children:e.slice().reverse().map(((e,t)=>{return(0,r.jsx)(Sn,Object.assign({frameId:e.id,fadeInWithoutDelay:this.prevFrames[t]&&(s=e,i=this.prevFrames[t],"search"===s.type&&"search"===i.type?s.searchType===i.searchType:s.type===i.type)},{children:({frameContext:t})=>(0,r.jsxs)(Ga.j.Provider,Object.assign({value:{frameId:e.id}},{children:[(0,Un.U)(e,t,n)&&(0,r.jsx)("div",Object.assign({style:{position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none",zIndex:Qe.W5.top}},{children:(0,r.jsx)(wn,{frame:e,frameContext:t})})),(0,r.jsx)("div",Object.assign({style:{position:"relative",zIndex:Qe.W5.base,height:"100%"}},{children:(0,r.jsx)(qa,{frame:e,frameContext:t})}))]}))}),e.id);var s,i}))}))]}))}renderEars(){const{showArrowEar:e,showCloseEar:t,arrowEarType:s}=this.props;if(e||t)return(0,r.jsxs)("div",{children:[t&&(0,r.jsx)("div",Object.assign({},Ye.dx.n("wat-close-btn"),{style:{marginBottom:8,pointerEvents:"all"}},{children:(0,r.jsx)(En,{type:"close",onClick:this.props.handleCloseClick})})),e&&(0,r.jsx)("div",Object.assign({},Ye.dx.n("wat-minimize-btn"),{style:{marginBottom:8,pointerEvents:"all"}},{children:(0,r.jsx)(En,{type:s,onClick:this.handleMinimizeClick})}))]})}}Dn.displayName=(0,Ct.I)("src/modules/dataViewer");const $n={root:{height:"100%",display:"flex",position:"absolute",transition:`transform ${Ps.l.short}ms`,zIndex:Qe.W5.base},_minimized:{"@media print":{display:"none !important"}}},Vn=(0,mt.z)(void 0,(e=>({bssOnMinimizeClick(t,s){if(!t[0])return;const r={action:"tap",uiElement:{name:s?"expandArrow":"collapseArrow",ownerName:(0,ht.EW)(t[0]),frameUuid:t[0].id}};return e((0,cs.zs)(r))}})))((0,ut.$)((e=>({frames:(0,Bn.T)(e),dataViewerWidth:(0,Zn.w)(e),isMinimized:e.appContext.isDataViewerMinimized})),((e,t)=>({handleCloseClick(){e((0,P.yt)())},handleMinimizeClick(){e((0,ke.kG)({isMinimized:!t.isMinimized}))},unMinimize(){e((0,ke.kG)({isMinimized:!1}))}})))((0,lr.C)(An)((0,Ma.R)()((0,pt.D2)($n)(Dn)))));var qn=s(33354),Gn=s(49169),Wn=s(84962);function Qn({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m12.466.27 1 1.732-2.464 1.423v4.844l4.196-2.422V3.002h2v2.845l2.465 1.423-1 1.732-2.465-1.423-4.196 2.423 4.196 2.423 2.465-1.423 1 1.732-2.465 1.423v2.845h-2v-2.845l-4.196-2.423v4.845l2.464 1.423-1 1.732-2.464-1.423-2.464 1.423-1-1.732 2.464-1.423v-4.845l-4.196 2.422v2.846h-2v-2.846L.342 12.734l1-1.732 2.464 1.422 4.196-2.423L3.806 7.58 1.342 9.002l-1-1.732 2.464-1.422V3.002h2v2.846l4.196 2.421V3.425L6.538 2.002l1-1.732 2.464 1.423L12.466.27Z",fill:e})}))}var Kn=s(31881),Jn=s(56546);class Yn extends le.PureComponent{constructor(){super(...arguments),this.state={isActive:{min:this.props.currentValue.min!==this.props.min,max:this.props.currentValue.max!==this.props.max&&this.props.currentValue.max!==this.props.min},value:this.props.currentValue},this.boxRef=le.createRef(),this.handleSideMouseDown=e=>{if(this.props.isDisabled||!this.boxRef.current)return;const t="rtl"===this.props.dir?this.boxRef.current.getBoundingClientRect().left+this.boxRef.current.clientWidth-e.pageX:e.pageX-this.boxRef.current.getBoundingClientRect().left,s=this.pxToValue(t);this.setState({moving:{side:"max",sliderStart:t,mouseStart:e.pageX}}),this.updateSide(s,"max"),window.document.addEventListener("mouseup",this.handleSideUp),window.document.addEventListener("mousemove",this.handleSideMove)},this.handleSideUp=()=>{window.document.removeEventListener("mousemove",this.handleSideMove),window.document.removeEventListener("mouseup",this.handleSideUp),this.applyChanges(this.state.value),this.setState({moving:void 0})},this.handleSideMove=e=>{const{moving:t}=this.state;if(!t)return;const{side:s,sliderStart:r,mouseStart:i}=t,a=r+(e.pageX-i);this.updateSide(this.pxToValue(a),s)},this.updateSide=(e,t)=>{const{value:s,isActive:r}=this.state,i=this.limitSideValue(Math.round(e)),a=Object.assign(Object.assign({},r),{[t]:i!==this.props.max&&i!==this.props.min});if("min"===t&&i>s.max||"max"===t&&i<s.min)return this.applyChanges({min:i,max:i}),void this.setState({isActive:a,value:{min:i,max:i}});this.applyChanges(Object.assign(Object.assign({},s),{[t]:i})),this.setState({isActive:a,value:Object.assign(Object.assign({},s),{[t]:i})})},this.applyChanges=e=>{const{onChange:t,tag:s}=this.props,r=this.props.min===e.min&&this.props.max===e.max;t({valueType:"single",name:s,value:(0,Kn.C)(e.min,e.max),isChecked:!r})},this.limitSideValue=(e,t=!0)=>{if(!t)return e<0?0:e;const{min:s,max:r}=this.props;return e<s?s:e>r?r:e},this.valueToPercent=e=>{const t=Math.round(100*this.valueToProgress(e));return t>100?100:t<0?0:t}}static getDerivedStateFromProps(e,t){return t.moving?t:Object.assign(Object.assign({},t),{isActive:{min:e.currentValue.min!==e.min,max:e.currentValue.max!==e.max&&e.currentValue.max!==e.min}})}render(){const{isDisabled:e,s:t,dir:s}=this.props,{value:i,isActive:a,moving:n}=this.state,o=this.valueToPercent(i.min),c=this.valueToPercent(i.max),d=(0,lt.Qo)({start:`${o}%`,width:c-o+"%"},s);return(0,r.jsx)("div",Object.assign({},Ye.dx.n("wat-filter-widget-slider"),Ye.dx.t(this.props.tag),{children:(0,r.jsxs)("div",Object.assign({className:(0,lt.iv)(t.barWrapper,e&&t._disabledBarWrapper),onMouseDown:this.handleSideMouseDown},{children:[(0,r.jsx)("div",{className:(0,lt.iv)(t.bar)}),(0,r.jsxs)("div",Object.assign({className:(0,lt.iv)(t.valueBox),ref:this.boxRef},{children:[(0,r.jsx)("div",{className:(0,lt.iv)(t.bar,!e&&t._activeBar),style:d}),(0,r.jsx)("div",{className:(0,lt.iv)(t.slider,t._sliderMax,a.max&&t._activeSlider,e&&t._disabledSlider,n&&t._movingSlider),style:(0,lt.Qo)({start:`${c}%`},s)})]}))]}))}))}pxToValue(e){if(!this.boxRef.current)return 0;const{isLog:t,min:s,max:r}=this.props;return t?s*Math.pow(2,e*Math.log2(r/s)/this.boxRef.current.clientWidth):(r-s)*e/this.boxRef.current.clientWidth+s}valueToProgress(e){const{isLog:t,min:s,max:r}=this.props,i=this.limitSideValue(e);return t?Math.log2(i/s)/Math.log2(r/s):(i-s)/(r-s)}}const Xn={barWrapper:{height:"24px",position:"relative",cursor:"pointer",userSelect:"none"},_disabledBarWrapper:{cursor:"auto"},bar:{width:"100%",height:"8px",position:"absolute",top:"8px",background:Ke.O.gray_e6e6e6,borderRadius:Qe.E0.default,marginStart:-4,paddingEnd:8},_activeBar:{background:Ke.O.blue_028eff,borderRadius:Qe.E0.defaultOnlyEnd},fillBar:{height:"8px",position:"absolute",top:"8px"},valueBox:{position:"absolute",height:"100%",left:0,right:0},slider:{width:"24px",height:"24px",border:`2px solid ${Ke.O.blue_028eff}`,boxSizing:"border-box",position:"absolute",borderRadius:"50%",backgroundColor:"#fff",cursor:"grab"},_movingSlider:{cursor:"grabbing"},_sliderMin:{marginStart:"-24px"},_sliderMax:{marginStart:"-12px"},_activeSlider:{":before":{content:'""',display:"block",backgroundColor:Ke.O.blue_028eff,borderRadius:"50%",position:"absolute",width:"8px",height:"8px",top:0,bottom:0,start:0,end:0,margin:"auto"}},_disabledSlider:{border:`1px solid ${Ke.O.gray_f2f2f2}`,pointerEvents:"none",cursor:"auto",":before":{backgroundColor:Ke.O.gray_bbbbbb}}},eo=(0,lr.C)((({min:e,max:t,currentValue:s})=>{const r=s?(0,Jn.E)(s):[],i=r[0]?Number(r[0]):void 0,a=r[1]?Number(r[1]):void 0;return{currentValue:{min:void 0!==i?i:e,max:void 0!==a?a:t}}}))((0,pt.D2)(Xn)(Yn));var to=s(38356);const so=e=>({frameId:t},s)=>{const r=(0,U.O)(s),i=(0,o.fq)(s);return{uiElement:{name:"winterLayerIcon",ownerName:"map",frameUuid:t},action:"tap",payload:{mapLayer:{name:"winterLayer",enableMapLayer:e,entity:{type:"mapLayer",segmentInfo:(0,Ve.U)({locale:r,region_id:i})}}}}},ro=(0,le.memo)((()=>{const e=(0,ge.T)(),{css:t,s}=(0,ue.y)(io),i=(0,pe.I0)(),{bssRef:a,useBssHandler:n}=(0,Je.T)((({frameId:e},t)=>{const s=(0,U.O)(t),r=(0,o.fq)(t);return{uiElement:{name:"winterLayerIcon",ownerName:"map",frameUuid:e},payload:{mapLayer:{name:"winterLayer",entity:{type:"mapLayer",segmentInfo:(0,Ve.U)({locale:s,region_id:r})}}}}})),c=n(so,!0),d=n(so,!1),l=(0,pe.v9)((e=>e.appContext.showSnow)),{isMobileDevice:u}=(0,Se.Z)(),p=(0,le.useCallback)((()=>{const e="on"===l.status||u?"off":"on";i((0,to.Ep)(e,!l.allowSnowStyle)),l.allowSnowStyle?d():c()}),[i,c,d,l.status,l.allowSnowStyle,u]),g=(0,le.useCallback)((e=>{var t;i((0,to.o8)({intensity:Number(null===(t=e.value)||void 0===t?void 0:t.split(",")[1])}))}),[i]),m=l.allowSnowStyle;return(0,r.jsxs)("div",Object.assign({className:t(s.root),ref:a},{children:[(0,r.jsx)(Xt.N,{children:(0,r.jsx)("div",{children:m&&(0,r.jsxs)("div",Object.assign({className:t(s.slider,m&&s._slider_active)},{children:[(0,r.jsx)("div",Object.assign({className:t(s.sliderHeader)},{children:e._t("Интенсивность снегопада")})),(0,r.jsx)(eo,{onChange:g,min:0,max:200,currentValue:`0,${l.intensity}`})]}))})}),(0,r.jsxs)("div",Object.assign({className:t(s.control,m&&s._control_active),onClick:p},{children:[(0,r.jsx)(Qn,{color:m?Ke.O.blue_c5eeff:Ke.O.blue_028eff}),(0,r.jsx)(Xt.N,{children:(0,r.jsx)("div",Object.assign({className:t(s.controlText)},{children:e._t("Новогоднее настроение")}))})]}))]}))}));ro.displayName="SnowControl";const io=(0,ue.k)((({mobile:e})=>({root:{position:"relative"},control:{display:"flex",justifyContent:"center",alignItems:"center",height:40,width:e?40:211,color:Ke.O.gray_929292,background:Ke.O.white,boxShadow:_n.q.popup,borderRadius:e?"50%":Qe.E0.default,cursor:"pointer",zIndex:Qe.W5.base,":hover":{color:Ke.O.gray_262626}},controlText:{marginStart:8},sliderHeader:{marginBottom:4},slider:{position:"absolute",top:48,end:0,display:"flex",flexDirection:"column",justifyContent:"center",width:179,height:64,paddingStart:16,paddingEnd:16,borderRadius:Qe.E0.default,background:Ke.O.white,boxShadow:_n.q.popup,transition:"width 200ms"},_slider_active:{width:179,paddingStart:16,paddingEnd:16},_control_active:{backgroundColor:Ke.O.blue_028eff,color:Ke.O.white,":hover":{backgroundColor:Ke.O.blue_0070cc,color:Ke.O.white}}}))),ao=(0,It.P1)([({state:e})=>e.appContext.zoom,({state:e})=>(0,o.kL)(e),({state:e})=>e.session.is3dEnabled],((e,t,s)=>({zoom:e,projectData:t,is3d:s}))),no=(0,kt.X1)(((e,t)=>ao({state:e,props:t}))),oo=(0,kt.Z3)((e=>({onZoomChange:t=>e((0,C.vP)((0,xi.$x)({zoom:t}),(0,C.xJ)((e=>(0,T.Kn)({type:"map:moveend",event:{center:[e.appContext.center.lon,e.appContext.center.lat],zoom:t,rotation:e.appContext.rotation,pitch:e.appContext.pitch}})))))})));var co=s(3585);var lo=s(55180);function uo({color:e="currentColor",width:t=32,height:s=32}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:e,width:t,height:s},{children:(0,r.jsx)("path",{d:"M8 15h16v2H8z"})}))}var po=s(67487),go=s(57475);const mo=e=>{const{title:t,to:s,children:i,delay:a,offset:n,fixedWidth:o,isNowraped:c}=e,{ref:d,addTooltip:l}=(0,go.s)({title:t,to:s,delay:a,offset:n,fixedWidth:o,isNowraped:c});return(0,r.jsxs)(r.Fragment,{children:[i(d),l]})};class ho extends le.Component{constructor(){super(...arguments),this.step=1,this.onZoomInClick=()=>{const{zoom:e,onZoomChange:t,maxZoom:s}=this.props,r=e+this.step;t(r>s?s:r)},this.onZoomOutClick=()=>{const{zoom:e,onZoomChange:t,minZoom:s}=this.props,r=e-this.step;t(r<s?s:r)}}render(){const{zoom:e,maxZoom:t,minZoom:s,i18n:{tp:i}}=this.props,a=i._t("Изменить масштаб");return(0,r.jsx)(mo,Object.assign({title:a,to:"centerStart"},{children:i=>(0,r.jsxs)(Wn.Z,Object.assign({isVertical:!0,innerRef:i},{children:[(0,r.jsx)(po.o,Object.assign({onClick:this.onZoomInClick,dataT:"zoom-in",disabled:e>=t,ariaLabel:a},{children:(0,r.jsx)(lo.X,{})})),(0,r.jsx)(po.o,Object.assign({onClick:this.onZoomOutClick,dataT:"zoom-out",disabled:e<=s,ariaLabel:a},{children:(0,r.jsx)(uo,{})}))]}))}))}}ho.displayName=(0,Ct.I)("src/features/mapControl/zoom");const fo=(0,kt.$j)(no,oo)((0,lr.C)((({projectData:e,is3d:t,zoom:s})=>{const r=(0,co.d)({project:e,is3d:t});return{zoom:s,minZoom:r.min,maxZoom:r.max}}))((0,gt.$)()(ho)));class vo extends le.PureComponent{constructor(){super(...arguments),this.beforeMoveState=void 0,this.onChangeStartHandler=e=>{this.bindHandlers(),this.beforeMoveState={x:e.clientX,y:e.clientY},this.props.onChangeStart&&this.props.onChangeStart(e)},this.onChangeHandler=(0,Y.P2)((e=>{this.beforeMoveState&&this.props.onChange&&this.props.onChange({x:this.beforeMoveState.x-e.clientX,y:this.beforeMoveState.y-e.clientY})}),1e3/60),this.onChangeEndHandler=e=>{this.unbindHandlers(),this.beforeMoveState&&this.props.onChangeEnd&&this.props.onChangeEnd({x:this.beforeMoveState.x-e.clientX,y:this.beforeMoveState.y-e.clientY})},this.unbindHandlers=()=>{window.removeEventListener("mouseup",this.onChangeEndHandler),window.removeEventListener("mousemove",this.onChangeHandler)},this.bindHandlers=()=>{window.addEventListener("mouseup",this.onChangeEndHandler),window.addEventListener("mousemove",this.onChangeHandler)}}render(){const{children:e,dataN:t}=this.props;return(0,r.jsx)("div",Object.assign({onMouseDown:this.onChangeStartHandler},t?Ye.dx.n(t):{},{children:e}))}componentWillUnmount(){this.unbindHandlers()}}vo.displayName=(0,Ct.I)("src/shared/kit/mouseMoveHandler");const bo=vo,yo=(0,It.P1)([({state:e})=>e.session.is3dEnabled],(e=>({is3d:e}))),xo=(0,kt.X1)(((e,t)=>yo({state:e,props:t})));var jo=s(56238),wo=s(70857);const _o=(0,kt.Z3)((e=>({onCenterClick({pitch:t}){const s=(0,wo.q)(t);e((0,jo.xN)({pitch:s?0:45,duration:2e3,animate:!0,zoom:s?void 0:17,rotation:0}))},onRingRotate({rotation:t}){e((0,jo.xN)({rotation:t}))},pushToHistory(){e((0,O.BN)())},toggle3d(){e((0,Z._N)((e=>e.session.is3dEnabled),(e=>(0,k.Tj)({is3dEnabled:!e}))))}})));function Co({disabled:e=!1}){return(0,r.jsxs)("svg",Object.assign({width:"58",height:"58",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsxs)("defs",{children:[(0,r.jsx)("path",{d:"M26,52 C11.6405965,52 0,40.3594035 0,26 C0,11.6405965 11.6405965,0 26,0 C40.3594035,0 52,11.6405965 52,26 C52,40.3594035 40.3594035,52 26,52 Z M26,42 C34.836556,42 42,34.836556 42,26 C42,17.163444 34.836556,10 26,10 C17.163444,10 10,17.163444 10,26 C10,34.836556 17.163444,42 26,42 Z",id:"path-1"}),(0,r.jsxs)("filter",Object.assign({x:"-8.7%",y:"-8.7%",width:"117.3%",height:"117.3%",filterUnits:"objectBoundingBox",id:"filter-2"},{children:[(0,r.jsx)("feOffset",{dx:"0",dy:"0",in:"SourceAlpha",result:"shadowOffsetOuter1"}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"1.5",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),(0,r.jsx)("feColorMatrix",{values:"0 0 0 0 0.149019608   0 0 0 0 0.149019608   0 0 0 0 0.149019608  0 0 0 0.5 0",type:"matrix",in:"shadowBlurOuter1"})]})),(0,r.jsxs)("linearGradient",Object.assign({x1:"50%",y1:"81.6633181%",x2:"50%",y2:"0%",id:"linearGradient-3"},{children:[(0,r.jsx)("stop",{stopColor:"#E33B1E",offset:"0%"}),(0,r.jsx)("stop",{stopColor:"#F7561B",offset:"100%"})]}))]}),(0,r.jsx)("g",Object.assign({id:"Map-Controls",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},{children:(0,r.jsx)("g",Object.assign({id:"2gis5-map-controls-elements",transform:"translate(-317.000000, -901.000000)"},{children:(0,r.jsx)("g",Object.assign({id:"Group-2-Copy-7",transform:"translate(320.000000, 904.000000)"},{children:(0,r.jsxs)("g",Object.assign({id:"outer-ring"},{children:[(0,r.jsxs)("g",Object.assign({id:"Combined-Shape"},{children:[(0,r.jsx)("use",{fill:"black",fillOpacity:"1",filter:"url(#filter-2)",xlinkHref:"#path-1"}),(0,r.jsx)("use",{fill:"#FFFFFF",fillRule:"evenodd",xlinkHref:"#path-1"})]})),(0,r.jsx)("rect",{id:"Rectangle-13",fill:"#E6E6E6",x:"45",y:"24",width:"4",height:"4",rx:"2"}),(0,r.jsx)("rect",{id:"Rectangle-13-Copy-2",fill:"#E6E6E6",x:"3",y:"24",width:"4",height:"4",rx:"2"}),(0,r.jsx)("polygon",{id:"Path-2",fill:e?"#E6E6E6":"#000000",points:"29 44 26 50 23 44"}),(0,r.jsx)("polygon",{id:"Path-2",fill:e?"#E6E6E6":"url(#linearGradient-3)",points:"29 8 23 8 26 2"})]}))}))}))}))]}))}function Io({color:e="currentColor",fill:t="#FFFFFF"}){return(0,r.jsxs)("svg",Object.assign({width:"38",height:"38",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsxs)("defs",{children:[(0,r.jsx)("circle",{id:"rotate-inner-ring-b",cx:"16",cy:"16",r:"16"}),(0,r.jsxs)("filter",Object.assign({x:"-14.1%",y:"-14.1%",width:"128.1%",height:"128.1%",filterUnits:"objectBoundingBox",id:"rotate-inner-ring-a"},{children:[(0,r.jsx)("feOffset",{in:"SourceAlpha",result:"shadowOffsetOuter1"}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"1.5",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),(0,r.jsx)("feColorMatrix",{values:"0 0 0 0 0.149019608 0 0 0 0 0.149019608 0 0 0 0 0.149019608 0 0 0 0.5 0",in:"shadowBlurOuter1"})]}))]}),(0,r.jsxs)("g",Object.assign({fill:"none",fillRule:"evenodd"},{children:[(0,r.jsxs)("g",Object.assign({transform:"translate(3 3)"},{children:[(0,r.jsx)("use",{fill:"#000",filter:"url(#rotate-inner-ring-a)",xlinkHref:"#rotate-inner-ring-b"}),(0,r.jsx)("use",{style:{fill:t,transition:"fill .25s linear"},xlinkHref:"#rotate-inner-ring-b"})]})),(0,r.jsx)("path",{d:"M15.759 21.144c0-1.19-1.106-1.666-2.548-1.666h-.406v-1.512h.336c1.456 0 2.366-.532 2.366-1.484 0-.882-.77-1.358-1.61-1.358-1.162 0-1.904.742-2.002 1.792h-1.834c.224-2.016 1.624-3.248 3.948-3.248 1.694 0 3.444.812 3.444 2.73 0 .98-.602 1.806-1.372 2.226a2.656 2.656 0 0 1 1.638 2.464c0 2.058-1.778 3.094-3.92 3.094-2.324 0-3.696-1.512-3.822-3.374h1.82c.14 1.022.798 1.918 2.058 1.918 1.05 0 1.904-.63 1.904-1.582zm6.426-7.294c3.22 0 5.642 1.05 5.642 5.068 0 4.032-2.422 5.082-5.642 5.082h-3.01V13.85h3.01zm-.084 1.568h-.924v7.014h.924c1.848 0 3.654-.462 3.654-3.514 0-3.038-1.806-3.5-3.654-3.5z",style:{fill:e,transition:"fill .25s linear"}})]}))]}))}var ko=s(78574);var Oo=s(4283);class So extends le.PureComponent{constructor(){super(...arguments),this.state={isHoverOnClickableInner:!1,isRotationInProgress:!1},this.rotationState=void 0,this.renderControl=e=>{const{pitch:t,s}=this.props,i=this.setColors();return(0,r.jsxs)("div",Object.assign({ref:e,className:(0,pt.iv)(s.root),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},{children:[(0,r.jsx)("div",Object.assign({className:(0,pt.iv)(s.inner),style:{transform:`rotateX(${t}deg)`}},{children:(0,r.jsx)(Io,{color:i.color,fill:i.fill})})),this.renderOuterRing(),(0,r.jsx)("div",{className:(0,pt.iv)(s.clickableInner),onClick:this.handleCenterClick,onMouseEnter:this.onClickableInnerMouseEnter,onMouseLeave:this.onClickableInnerMouseLeave})]}))},this.onMouseEnter=()=>{this.props.hoverableHandlers.onMouseEnter()},this.onMouseLeave=()=>{this.props.hoverableHandlers.onMouseLeave(),this.state.isHoverOnClickableInner&&this.setState({isHoverOnClickableInner:!1})},this.onClickableInnerMouseEnter=()=>{this.setState({isHoverOnClickableInner:!0})},this.onClickableInnerMouseLeave=()=>{this.setState({isHoverOnClickableInner:!1})},this.setColors=()=>{const{isHoverOnClickableInner:e}=this.state,{pitch:t}=this.props;if(e)return{color:(0,Es.j)(Ke.O.white,.7),fill:Ke.O.blue_028eff};return(0,wo.q)(t)?{color:Ke.O.white,fill:Ke.O.blue_028eff}:{color:Ke.O.gray_262626,fill:Ke.O.white}},this.onRotationStart=e=>{const t=e.currentTarget.children.item(0);if(t){const{left:s,width:r}=t.getBoundingClientRect(),i=e.clientX-s<=r/2?1:-1;this.rotationState={initialRotation:this.props.rotation,sign:i},this.setState({isRotationInProgress:!0})}},this.onRotationEnd=({y:e})=>{if(!this.rotationState)return;const{rotation:t,onRingRotate:s}=this.props;0!==t&&0===e&&s({rotation:0}),this.rotationState=void 0,this.props.pushToHistory(),this.setState({isRotationInProgress:!1})},this.rotate=({y:e})=>{if(!this.rotationState)return;const t=180*e/(window.innerHeight/3),s=Math.round(this.rotationState.initialRotation+this.rotationState.sign*t)%360;this.props.onRingRotate({rotation:s})},this.handleCenterClick=e=>{const{is3d:t}=this.props;return this.props.bssOn3dControlClick(),t?t&&0===e.button&&e.altKey?((0,Oo.J)("is3dDisabled","1"),this.props.toggle3d(),void location.reload()):void this.props.onCenterClick({rotation:this.props.rotation,pitch:this.props.pitch}):((0,Oo.J)("is3dDisabled",void 0),this.props.toggle3d(),void location.reload())}}render(){const{i18n:e,is3d:t,s}=this.props,{isRotationInProgress:i}=this.state;return t?i?this.renderControl():(0,r.jsx)(mo,Object.assign({title:e.tp._t("Чтобы вращать карту, зажимайте Ctrl вместе с кнопкой мыши и двигайте курсор"),to:"centerStart",offset:12,fixedWidth:273},{children:e=>this.renderControl(e)})):(0,r.jsxs)("div",Object.assign({className:(0,pt.iv)(s.root),onClick:this.handleCenterClick},{children:[(0,r.jsx)("div",Object.assign({className:(0,pt.iv)(s.inner)},{children:(0,r.jsx)(Io,{color:Ke.O.gray_929292,fill:Ke.O.gray_f2f2f2})})),(0,r.jsx)("div",Object.assign({className:(0,pt.iv)(s.ring)},{children:(0,r.jsx)(Co,{disabled:!0})}))]}))}renderOuterRing(){const{rotation:e,s:t}=this.props,s=(0,r.jsx)("div",Object.assign({className:(0,pt.iv)(t.ring),style:{transform:`rotate(${e}deg)`}},{children:(0,r.jsx)(Co,{})}));return(0,r.jsx)(bo,Object.assign({onChangeStart:this.onRotationStart,onChange:this.rotate,onChangeEnd:this.onRotationEnd,dataN:"wat-map-controls-3d-outer-ring"},{children:s}))}}So.displayName=(0,Ct.I)("src/features/mapControl/rotate");const No=(0,kt.$j)(xo,_o)((0,ko.$)((0,gt.$)()((0,pt.D2)({root:{position:"relative",width:58,height:58},ring:{position:"absolute",top:0,start:0,lineHeight:0,cursor:"pointer"},inner:{width:38,height:38,position:"absolute",top:10,start:10},clickableInner:{width:32,height:32,position:"absolute",top:13,borderRadius:"50%",cursor:"pointer",start:0,end:0,margin:"auto"},tooltip:{width:273,padding:16}})((0,mt.z)(void 0,((e,t)=>({bssOn3dControlClick(){e((0,cs.zs)({uiElement:{name:"map3DControl",frameUuid:t.ownerFrameId},action:"tap"}))}})))(So))))),Mo=(0,It.P1)([({state:e})=>e.appContext.weak.floors&&e.appContext.weak.floors.floorNames,({state:e})=>e.appContext.floors&&e.appContext.floors.currentFloor,({state:e})=>(0,K.S)(e)],((e,t,s)=>({floorNames:e,currentFloor:t,markersOnFloors:s}))),To=(0,kt.X1)(((e,t)=>Mo({state:e,props:t}))),Po=(0,kt.Z3)((e=>({onClickFloor(t){e((0,jo.EL)({floorIndex:t,isManuallySelected:!0}))}})));class Eo extends le.PureComponent{constructor(){super(...arguments),this.handleClick=()=>{const{onClick:e,index:t}=this.props;e(t)}}render(){const{disabled:e,label:t,s,hasResults:i}=this.props;return(0,r.jsx)("button",Object.assign({className:(0,pt.iv)(s.control),disabled:e,onClick:this.handleClick},{children:(0,r.jsx)("div",Object.assign({className:(0,pt.iv)(s.label,i&&s._hasResults)},{children:t}))}))}}Eo.displayName=(0,Ct.I)("src/features/mapControl/floorsControl/ui/desktop");const Lo={control:{background:Ke.O.white,height:32,width:32,color:Ke.O.gray_262626,cursor:"pointer",borderBottom:`1px solid ${Ke.O.gray_e6e6e6}`,boxSizing:"border-box",flexShrink:0,":first-child":{borderBottom:"none"},":hover":{color:(0,Es.j)(Ke.O.gray_262626,.7)},":active":{color:Ke.O.blue_028eff},":disabled":{background:Ke.O.gray_f2f2f2,color:Ke.O.gray_929292,cursor:"default"}},label:Object.assign(Object.assign({},Xe.FY),{position:"relative",lineHeight:"32px",textAlign:"center",height:"100%"}),_hasResults:{":after":{content:'""',position:"absolute",top:4,end:4,width:4,height:4,borderRadius:"50%",background:Ke.O.blue_028eff}}},Ro=(0,pt.D2)(Lo)(Eo),zo=(e,t)=>(null==e?void 0:e.reduce(((e,s,r)=>{const i=!!(t&&t[r]||[]).length;return e.push({floorName:s,hasResults:i}),e}),[]))||[];class Ao extends le.PureComponent{constructor(){super(...arguments),this.state={noScroll:!0,scrollPosition:"top"},this.scrollerContainer=le.createRef(),this.contentContainer=le.createRef(),this.onClickFloor=e=>{this.props.onClickFloor(e)},this.detectHasScroll=()=>{const e=this.scrollerContainer.current,t=this.contentContainer.current;e&&t&&e.clientHeight<t.clientHeight&&this.setState({noScroll:!1})},this.onScroll=e=>{const t=this.scrollerContainer.current;if(this.state.noScroll||!t)return;const s=e.currentTarget.scrollTop;0!==s?s+t.clientHeight!==t.scrollHeight?this.setState({scrollPosition:"middle"}):this.setState({scrollPosition:"bottom"}):this.setState({scrollPosition:"top"})}}componentDidMount(){setTimeout(this.detectHasScroll,0)}componentDidUpdate(e){e.floors.length!==this.props.floors.length&&setTimeout(this.detectHasScroll,0)}render(){const{s:e,floors:t,currentFloor:s}=this.props;return(0,r.jsx)("div",Object.assign({className:(0,pt.iv)(e.root)},{children:(0,r.jsxs)("div",Object.assign({className:(0,pt.iv)(e.container)},{children:[!this.state.noScroll&&(0,r.jsx)(r.Fragment,{children:"top"!==this.state.scrollPosition&&(0,r.jsx)("div",{className:(0,pt.iv)(e.scrollGradientTop)})}),(0,r.jsx)("div",Object.assign({className:(0,pt.iv)(e.scroller),ref:this.scrollerContainer,onScroll:this.onScroll},{children:(0,r.jsx)("div",Object.assign({className:(0,pt.iv)(e.content),ref:this.contentContainer},{children:t.map(((e,t)=>(0,r.jsx)(Ro,{label:e.floorName,disabled:t===s,onClick:this.onClickFloor,index:t,hasResults:e.hasResults},t)))}))})),!this.state.noScroll&&(0,r.jsx)(r.Fragment,{children:"bottom"!==this.state.scrollPosition&&(0,r.jsx)("div",{className:(0,pt.iv)(e.scrollGradientBottom)})})]}))}))}}Ao.displayName=(0,Ct.I)("src/features/mapControl/floorsControl/ui/desktop");const Fo={root:{position:"relative"},container:{display:"flex",maxHeight:"40vh",background:Ke.O.white,width:32,overflow:"hidden",borderRadius:Qe.E0.default,boxShadow:_n.q.popup},scroller:{width:"100%",overflowX:"hidden",overflowY:"auto",paddingEnd:17,marginEnd:-17},content:{display:"flex",flexDirection:"column-reverse"},scrollGradientTop:{pointerEvents:"none",height:40,width:32,position:"absolute",backgroundImage:`linear-gradient(to bottom, ${Ke.O.gray_f2f2f2}, ${Ke.O.gray_f2f2f2} 1px, rgba(255, 255, 255, 0))`},scrollGradientBottom:{height:40,width:32,position:"absolute",bottom:0,pointerEvents:"none",backgroundImage:`linear-gradient(to top, ${Ke.O.gray_f2f2f2}, ${Ke.O.gray_f2f2f2} 1px, rgba(255, 255, 255, 0))`}},Bo=(0,kt.$j)(To,Po)((0,lr.C)((({markersOnFloors:e,floorNames:t,currentFloor:s})=>{if(t)return{floors:zo(t,e),currentFloor:s}}))((0,pt.D2)(Fo)(Ao))),Zo=()=>{const e=(0,pe.I0)(),{css:t,s}=(0,ue.y)(Uo),i=(0,le.useRef)(null),a=(0,le.useRef)(null),n=(0,pe.v9)((e=>{var t,s;return null===(s=null===(t=e.appContext)||void 0===t?void 0:t.floors)||void 0===s?void 0:s.currentFloor}))||0,o=(0,pe.v9)((e=>{var t,s,r;return null===(r=null===(s=null===(t=e.appContext)||void 0===t?void 0:t.weak)||void 0===s?void 0:s.floors)||void 0===r?void 0:r.floorNames})),c=(0,pe.v9)(K.S),d=(0,pe.v9)((e=>!!e.appContext.weak.floors)),l=zo(o,c),u=(0,le.useCallback)((()=>{if(i.current){const t=i.current.offsetHeight/2+i.current.scrollTop,s=Math.abs(Math.floor(t/40)-1);s!==n&&e((0,jo.EL)({floorIndex:s,isManuallySelected:!0}))}}),[n,e]);return(0,le.useEffect)((()=>{const e=i.current;if(e)return e.addEventListener("scrollend",u),()=>e.removeEventListener("scrollend",u)}),[u,d]),(0,le.useEffect)((()=>{if(i.current&&a.current){const e=i.current;e.style.scrollBehavior="auto",a.current.scrollIntoView({block:"center"}),e.style.scrollBehavior="smooth"}}),[l]),d?(0,r.jsx)("div",Object.assign({className:t(s.control)},{children:(0,r.jsxs)("ul",Object.assign({className:t(s.list),ref:i},{children:[(0,r.jsx)("li",{className:t(s.item)}),l.map((({floorName:e,hasResults:o},c)=>{return(0,r.jsx)("li",Object.assign({className:t(s.item,c===n&&s.active,o&&s.hasResults),onClick:(d=c,()=>{if(d!==n&&i.current){const e=d>n?-40:40;i.current.scrollBy({top:e})}}),ref:c===n?a:void 0},{children:e}),e);var d})),(0,r.jsx)("li",{className:t(s.item)})]}))})):null},Uo=(0,ue.k)({control:{position:"relative",width:40,borderRadius:4,backgroundColor:Ke.O.white,boxShadow:_n.q.popup,"&:before":{position:"absolute",content:'""',width:32,height:1,left:"50%",top:40,transform:"translate(-50%, 0)",backgroundColor:Ke.O.gray_e6e6e6},"&:after":{position:"absolute",content:'""',width:32,height:1,left:"50%",top:80,transform:"translate(-50%, 0)",backgroundColor:Ke.O.gray_e6e6e6}},list:{height:120,position:"relative",overflow:"auto",display:"flex",flexDirection:"column-reverse",scrollSnapType:"y mandatory","&::-webkit-scrollbar":{display:"none"}},item:{position:"relative",height:40,display:"flex",flex:"0 0 40px",alignItems:"center",justifyContent:"center",scrollSnapAlign:"center",fontSize:18,color:Ke.O.gray_929292},active:{color:Ke.O.black},hasResults:{":after":{content:'""',position:"absolute",top:4,end:4,width:4,height:4,borderRadius:"50%",background:Ke.O.blue_028eff}}});var Ho=s(72484);const Do=(0,kt.Z3)((e=>({onFeedbackClick(){e((0,Ho.U)("online5"))}})));class $o extends le.PureComponent{constructor(){super(...arguments),this.state={expand:!0===this.props.expand||void 0===this.props.expand,leftPosition:void 0,doNotAnimate:!0,expandExternal:!!this.props.expand},this.initialTimeout=void 0,this.setSizeTimeout=void 0,this.textContainer=le.createRef(),this.onMouseEnter=()=>{this.initialTimeout&&clearTimeout(this.initialTimeout),this.state.doNotAnimate||this.setState({expand:!0})},this.onMouseLeave=()=>{this.state.doNotAnimate?this.setState({doNotAnimate:!1,expand:!1}):this.setState({expand:!1})},this.onClick=()=>{this.props.onClick()}}static getDerivedStateFromProps(e,t){return!1===e.expand?Object.assign(Object.assign({},t),{expandExternal:!1}):null}componentDidMount(){const e=this.textContainer.current;e&&(this.initialTimeout=setTimeout((()=>{this.setState({doNotAnimate:!1,expand:!1})}),3e3),this.setSizeTimeout=setTimeout((()=>{const t=e.offsetWidth>220?220:e.offsetWidth;this.setState({leftPosition:-t})}),0))}componentWillUnmount(){this.initialTimeout&&clearTimeout(this.initialTimeout),this.setSizeTimeout&&clearTimeout(this.setSizeTimeout)}render(){const{text:e,s:t,href:s,dir:i,icon:a,color:n,bgColor:o,withShadow:c}=this.props,{expand:d,expandExternal:l,doNotAnimate:u}=this.state,p=n?{color:n}:{},g=o?{backgroundColor:o}:{};return(0,r.jsx)("a",Object.assign({href:s,onClick:this.onClick,target:s?"_blank":void 0,className:(0,pt.iv)(t.wrapper),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},{children:(0,r.jsxs)("div",Object.assign({className:(0,pt.iv)(t.inner,!u&&t._hasTransition,c&&t._withShadow),style:(0,lt.Qo)(Object.assign(Object.assign({start:d||l?this.state.leftPosition:void 0},p),g),i)},{children:[(0,r.jsx)("div",Object.assign({className:(0,pt.iv)(t.icon)},{children:a})),(0,r.jsx)("div",Object.assign({className:(0,pt.iv)(t.text,(d||l)&&t._showed),ref:this.textContainer},{children:e}))]}))}))}}$o.displayName=(0,Ct.I)("src/shared/components/expandControl");const Vo={wrapper:Object.assign(Object.assign({},Xe.oN),{cursor:"pointer",position:"relative",display:"block",width:40,height:40}),inner:{position:"absolute",transform:"translateZ(0)",top:0,bottom:0,start:0,end:0,display:"flex",flexDirection:"row-reverse",alignItems:"center",paddingTop:8,paddingBottom:8,paddingStart:4,paddingEnd:0,boxSizing:"border-box",opacity:1,borderRadius:Qe.E0.oval,color:Ke.O.white,background:(0,Es.j)(Ke.O.black,.85),overflow:"hidden"},_hasTransition:{transition:"left 200ms"},icon:{flex:"0 0 40px",width:40,height:40,display:"flex",alignItems:"center",justifyContent:"center"},text:{flex:"0 0 auto",display:"inline-block",paddingTop:0,paddingBottom:0,paddingStart:24,paddingEnd:8,transform:"translateZ(0)",pointerEvents:"none",opacity:0},_showed:{opacity:1,transition:"opacity 200ms 75ms"},_withShadow:{boxShadow:"0 1px 3px 0 rgba(38, 38, 38, 0.5)"}},qo=(0,ko.$)((0,pt.D2)(Vo)($o));function Go({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M4.92 27.08l2.25-6.77A10.5 10.5 0 1 1 16.5 26a10.57 10.57 0 0 1-4.81-1.17zm7-4.43l.39.22a8.52 8.52 0 1 0-3.15-3.15l.22.39-1.3 3.81z"})}))}class Wo extends le.PureComponent{constructor(){super(...arguments),this.onFeedbackClick=()=>{const{onFeedbackClick:e,bssOnFeedbackClick:t}=this.props;e(),t()}}render(){const{i18n:e}=this.props;return(0,r.jsx)("div",Object.assign({},Ye.dx.n("wat-feedback-btn"),{children:(0,r.jsx)(qo,{onClick:this.onFeedbackClick,icon:(0,r.jsx)(Go,{}),text:e.tp._t("Обратная связь")},"feedback")}))}}Wo.displayName=(0,Ct.I)("src/features/mapControl/feedbackControl");const Qo=(0,mt.z)(void 0,((e,t)=>({bssOnFeedbackClick(){e((0,cs.zs)({uiElement:{name:"feedbackButton",ownerName:"home",frameUuid:t.ownerFrameId},action:"tap"}))}})))((0,kt.$j)(void 0,Do)((0,gt.$)()(Wo)));var Ko=s(53427),Jo=s(55805),Yo=s(31389);const Xo=32;function ec({allowed:e,position:t}){return{isEnabled:!!e&&(!!t||void 0)}}const tc=le.memo((()=>{const{geolocation:e}=(0,pe.v9)((e=>e.session)),{isEnabled:t}=(0,Wr.Gb)(ec,e),s=(0,pe.I0)(),i=(0,ge.T)()._t("Моё местоположение"),a=()=>s(!1===t?(0,Yo.Fd)():(0,Yo.ck)()),{css:n,s:o}=(0,ue.y)(sc);return(0,r.jsx)(mo,Object.assign({to:"centerStart",title:i,isNowraped:!0},{children:e=>(0,r.jsx)("div",Object.assign({className:n(o.root),ref:e},(0,Jo.P)({label:i}),{children:(0,r.jsx)("button",Object.assign({onClick:a,className:n(o.control),disabled:!1},Ye.n("wat-control-my-geolocation"),{children:void 0===t?(0,r.jsx)("span",{className:n(o.loader)}):(0,r.jsx)("span",Object.assign({className:n(o.icon,t&&o._active)},{children:(0,r.jsx)(Ko.Y,{})}))}))}))}))})),sc=(0,ue.k)((({mobile:e})=>({root:{width:e?40:Xo,background:Ke.O.white,boxShadow:_n.q.popup,borderRadius:Qe.E0.default,display:"flex",flexDirection:"column",overflow:"hidden"},control:Object.assign(Object.assign({},Xe.FY),{position:"relative",background:Ke.O.white,height:e?40:Xo,width:e?40:Xo,cursor:"pointer",color:Ke.O.gray_262626,borderBottom:`1px solid ${Ke.O.gray_e6e6e6}`,boxSizing:"border-box",":last-child":{borderBottom:"none"}}),icon:{display:"flex",alignItems:"center",justifyContent:"center",":hover":{opacity:.7},":active":{color:Ke.O.blue_028eff}},_active:{color:Ke.O.blue_028eff},loader:{position:"absolute",boxSizing:"content-box",borderWidth:2,borderRadius:"50%",borderStyle:"solid",borderColor:Ke.O.blue_028eff,color:"transparent",top:0,right:0,bottom:0,left:0,opacity:0,transition:`top, right, bottom, left, opacity ${Ps.Z.base}`,animationIterationCount:"infinite",animationDuration:`${Ps.l.spinner}ms`,animationName:{"0%":{top:14,right:14,bottom:14,left:14,opacity:1},"50%":{top:2,right:2,bottom:2,left:2,opacity:0}}}})));var rc=s(94137);const ic=(0,It.P1)([({state:e})=>(0,za.bG)(e).data,({state:e})=>(0,za.zP)(e)],((e,t)=>({user:e,userStatusIsUnknown:t}))),ac=(0,kt.X1)(((e,t)=>ic({state:e,props:t})));var nc=s(27516),oc=s(67817);const cc=(0,kt.Z3)((e=>({onLogin(){e((0,nc.mk)())},openUserProfile(){e((0,C.Rh)((({featureChronologyPlaces:e})=>(0,oc.D)(e?"places":"favorites"))))}})));var dc=s(24606);var lc=s(55206),uc=s(38479),pc=s(68745),gc=s(78728),mc=s(59128),hc=s(91440);function fc({color:e="currentColor"}){return(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,r.jsx)("path",{d:"M16 14h2v5h-2v-5z"}),(0,r.jsx)("path",{d:"M28.3 23.6L19.6 7.7c-.8-1.5-2.6-2-4.1-1.2-.5.3-.9.7-1.2 1.2L5.7 23.6c-.5.9-.5 2.1 0 3 .6.9 1.6 1.4 2.7 1.4h17.3c1.1 0 2-.6 2.6-1.5.5-.9.5-2 0-2.9zm-1.8 2c-.2.3-.5.4-.9.4H8.4c-.6 0-1-.4-1-1 0-.2 0-.3.1-.5l8.6-15.9c.3-.4.9-.6 1.4-.3.2.1.3.2.4.4l8.6 15.8c.2.3.2.7 0 1.1z"}),(0,r.jsx)("path",{d:"M16 21h2v2h-2v-2z"})]}))}function vc({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M24.2 28.5L16 23.3l-8.2 5.2 2.2-9.7-7.6-6.1 9.9-.8L16 3l3.7 9 9.9.8-7.6 6 2.2 9.7zM16 20.9l5.2 3.3-1.4-6.2 4.6-3.7-6-.5L16 8.2l-2.4 5.7-6 .5 4.6 3.7-1.5 6.2 5.3-3.4z"})}))}function bc({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M20.6 11.5l4.3-6.7-1.7-1.1-4.4 7c-.8-.2-1.6-.4-2.4-.4l3.5-5.5-1.7-1.1L16 7.1l-2.2-3.4-1.7 1.1L14.8 9l-1 1.6-.6.1-4.4-7-1.6 1.1 4.3 6.7c-4.3 2.5-5.7 8-3.2 12.3s8 5.7 12.3 3.2 5.7-8 3.2-12.3c-.8-1.3-1.9-2.4-3.2-3.2zM16 26.3c-3.9 0-7-3.1-7-7s3.1-7 7-7 7 3.1 7 7-3.1 7-7 7z"})}))}function yc({color:e="#262626"}){return(0,r.jsxs)("svg",Object.assign({width:"32",height:"32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 23c0-5.6324 4.5314-9 9-9v2c-3.2531 0-6.45281 2.2338-6.93702 6H14v2H6v-1ZM24 13.5l4.5 4.5-7.4196 7.2481L18.8246 26H16v-2.8246l.7519-2.2558L24 13.5Zm0 3 1.5 1.5-5.5 5.5-1.5.5H18v-.5l.5-1.5 5.5-5.5Z",fill:e}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 11c0 2.7614-2.2386 5-5 5s-5-2.2386-5-5c0-2.76142 2.2386-5 5-5s5 2.23858 5 5Zm-5 3c1.6569 0 3-1.3431 3-3 0-1.65685-1.3431-3-3-3s-3 1.34315-3 3c0 1.6569 1.3431 3 3 3Z",fill:e}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m18.2336 16.7664 1.4693-1.4693C18.2766 14.4503 16.6341 14 15 14v2c1.1205 0 2.2346.265 3.2336.7664Z",fill:e})]}))}function xc({color:e="#262626"}){return(0,r.jsxs)("svg",Object.assign({width:"32",height:"32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{d:"m22.2929 11.2919 4.707 4.707-4.707 4.707-1.414-1.414 2.292-2.293h-11.585v-2h11.585l-2.292-2.293 1.414-1.414Z",fill:e}),(0,r.jsx)("path",{d:"M18.216 5.222c-1.455-.296-2.976-.296-4.431 0-.704.144-1.399.36-2.067.642-.654.276-1.283.618-1.869 1.015-.583.393-1.13.844-1.627 1.342-.497.497-.948 1.043-1.343 1.627-.395.585-.737 1.214-1.013 1.869-.283.668-.498 1.363-.642 2.066C5.076 14.51 5 15.256 5 15.999c0 .743.076 1.489.224 2.216.144.703.359 1.398.642 2.066.276.654.618 1.283 1.014 1.869.394.583.845 1.13 1.342 1.627.497.497 1.044.948 1.628 1.343.585.395 1.214.737 1.868 1.014.668.282 1.363.498 2.067.641.727.149 1.472.224 2.215.224.744 0 1.489-.075 2.216-.224.703-.143 1.399-.359 2.067-.641.654-.277 1.631-.938 2.217-1.334l-1.468-1.338c-.48.324-.994.603-1.529.83-.546.23-1.113.407-1.687.524-1.19.242-2.442.242-3.631 0-.574-.117-1.142-.294-1.688-.524-.535-.227-1.048-.506-1.527-.829-.478-.324-.928-.694-1.334-1.1-.406-.406-.776-.855-1.099-1.333-.324-.479-.603-.993-.83-1.528-.23-.546-.407-1.114-.524-1.688C7.062 17.22 7 16.608 7 15.999c0-.61.062-1.221.183-1.816.117-.574.294-1.141.524-1.687.227-.535.506-1.049.83-1.527.323-.479.693-.928 1.099-1.334.406-.407.856-.777 1.333-1.099.48-.324.993-.604 1.528-.83.546-.231 1.114-.407 1.688-.525 1.189-.242 2.441-.242 3.631 0 .574.118 1.141.294 1.687.525.535.226 1.049.506 1.528.829L22.5 7.2c-.585-.396-1.563-1.06-2.217-1.336-.668-.282-1.364-.498-2.067-.642Z",fill:e})]}))}const jc=()=>(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},{children:(0,r.jsx)("path",{fill:"#262626",fillRule:"evenodd",d:"M6.05 17.001C6.551 22.054 10.814 26 16 26s9.448-3.946 9.95-8.999h2.009C27.45 23.16 22.29 28 16 28S4.55 23.16 4.041 17zM27.621 13c.166.647.28 1.315.337 2l-3.14-.001-.517 2.59a3 3 0 01-2.764 2.406L21.36 20H20a3 3 0 01-2.995-2.824L17 17v-2.001h-2V17a3 3 0 01-2.824 2.995L12 20h-1.36a3 3 0 01-2.902-2.238l-.04-.174L7.18 15H4.041c.057-.684.17-1.352.337-2h23.244zm-14.623 1.999H9.22l.44 2.197a1 1 0 00.863.797l.118.007H12a1 1 0 00.993-.883L13 17v-2.001zm9.781 0H19V17a1 1 0 00.883.993L20 18h1.36a1 1 0 00.951-.69l.03-.114.44-2.197zM16 4c4.843 0 9.016 2.869 10.912 7h-2.25A9.995 9.995 0 0016 6a9.996 9.996 0 00-8.662 5h-2.25C6.984 6.869 11.158 4 16 4z"})})),wc=({color:e="currentColor"})=>(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:(0,r.jsx)("path",{d:"M8 5a1 1 0 011.341-.94l.106.046 16 8a1 1 0 01.14 1.705l-.113.07-13 7-.948-1.761 11.303-6.088L10 6.618V27H8V5z",fill:e,fillRule:"evenodd"})}));var _c=s(41198);const Cc={handleOpenProfile:pc.s,handleEditUserProfile:gc.Z,handleLogout:_c.k},Ic=e=>{switch(e){case"edit":return(0,r.jsx)(yc,{});case"achievements":return(0,r.jsx)(bc,{});case"photos":return(0,r.jsx)(hc.P,{});case"reviews":return(0,r.jsx)(vc,{});case"feedbacks":return(0,r.jsx)(fc,{});case"favorites":return(0,r.jsx)(mc.r,{});case"missions":return(0,r.jsx)(jc,{});case"places":return(0,r.jsx)(wc,{});case"logout":return(0,r.jsx)(xc,{})}};class kc extends le.PureComponent{render(){const{s:e,listsToRender:t}=this.props;return(0,r.jsx)("nav",Object.assign({className:(0,pt.iv)(e.root)},Ye.dx.n("wat-avatar-toast"),{children:t.map(((t,s)=>(0,r.jsx)("ul",Object.assign({className:(0,pt.iv)(e.list)},{children:t.map(((t,s)=>(0,r.jsxs)("li",Object.assign({className:(0,pt.iv)(e.item),onClick:this.handleMenuItemClick(t.type)},Ye.dx.n("wat-avatar-toast-item"),Ye.dx.t(t.type),{children:[(0,r.jsx)("div",Object.assign({className:(0,pt.iv)(e.icon)},{children:Ic(t.type)})),t.title]}),s)))}),s)))}))}handleMenuItemClick(e){return()=>{const{handleOpenProfile:t,handleEditUserProfile:s,handleLogout:r}=this.props;"logout"!==e?("edit"===e&&s(),t(e)):r()}}}const Oc={root:{display:"block",boxShadow:_n.q.popup,borderRadius:Qe.E0.default,background:Ke.O.white,padding:"12px 0",minWidth:192},list:{boxSizing:"border-box",position:"relative",boxShadow:_n.q.innerBorderBottomBase,"&:not(:last-child)":{paddingBottom:8},"&:nth-child(1n+2)":{paddingTop:12},"&:last-child":{boxShadow:"none"}},item:{position:"relative",display:"flex",alignItems:"center",whiteSpace:"nowrap",paddingTop:0,paddingBottom:0,paddingStart:16,paddingEnd:8,listStyleType:"none",color:Ke.O.gray_929292,cursor:"pointer",":hover":{color:Ke.O.blue_028eff}},icon:{postion:"absolute",height:32,width:32,color:Ke.O.gray_262626,start:0,marginEnd:16}},Sc=(0,pt.D2)(Oc)(kc),Nc=(0,fn.G)({selectors:()=>({isUserAuthorized:za.Pc}),handlers:Cc})((0,lr.C)((({isUserAuthorized:e},{tp:t,config:s})=>{if(!e)return;const r=[{title:t._t("Награды"),type:"achievements"},{title:t._t("Отзывы"),type:"reviews"},{title:t._t("Фотографии"),type:"photos"},{title:t._t("Уточнения"),type:"feedbacks"}];s.featureAgents&&s.dashboardCarouselItems.includes("agents2020")&&r.unshift({title:t._gg("Миссии"),type:"missions"}),r.unshift({title:t._t("Избранное"),type:"favorites"}),s.featureChronologyPlaces&&r.unshift({title:t._t("Мои места"),type:"places"});return{listsToRender:[r,[{title:t._t("Редактировать"),type:"edit"},{title:t._t("Выйти"),type:"logout"}]]}}))((0,gt.$)()(Sc)));class Mc extends le.PureComponent{constructor(){super(...arguments),this.avatarRef=le.createRef(),this.renderInner=()=>{const{showAvatar:e,avatar:t,userStatusIsUnknown:s,i18n:i,s:a}=this.props;return s?null:e?(0,r.jsx)(lc.q,{initials:this.renderInitials,src:t}):(0,r.jsxs)("div",Object.assign({className:(0,pt.iv)(a.button)},{children:[(0,r.jsx)(rc.u,{}),(0,r.jsx)(Xt.N,{children:(0,r.jsx)("div",Object.assign({className:(0,pt.iv)(a.buttonName)},Ye.dx.n("wat-enter"),{children:i.tp._t("Войти")}))})]}))},this.onLogin=()=>{const{showAvatar:e,onLogin:t,openUserProfile:s,trackLoginClick:r}=this.props;e?s():(r(),t())},this.renderInitials=()=>this.props.initials}render(){const{s:e,showRedOutline:t,showAvatar:s,i18n:{tp:i}}=this.props;return(0,r.jsx)(uc.T,{children:({isHovered:a,hoverHandlers:n})=>(0,r.jsxs)("div",Object.assign({},n,{children:[(0,r.jsx)("div",Object.assign({className:(0,pt.iv)(e.root,t&&e._redOutline),onClick:this.onLogin},Ye.dx.n("wat-auth-control"),{ref:this.avatarRef},{children:s?this.renderInner():(0,r.jsx)(mo,Object.assign({to:"bottomMiddle",title:i._t("Вход в аккаунт"),offset:8,isNowraped:!0},{children:e=>(0,r.jsx)("div",Object.assign({ref:e,style:{display:"flex"}},{children:this.renderInner()}))}))})),a&&(0,r.jsx)(Xt.N,{children:(0,r.jsx)("div",Object.assign({className:(0,pt.iv)(e.tooltip)},{children:(0,r.jsx)(Nc,{})}))})]}))})}}Mc.displayName=(0,Ct.I)("src/features/mapControl/authControl");const Tc={root:Object.assign(Object.assign({},Xe.oN),{display:"flex",alignItems:"center",cursor:"pointer",minWidth:40,height:40,borderRadius:Qe.E0.oval,color:Ke.O.gray_262626,background:Ke.O.white,boxShadow:_n.q.popup,overflow:"hidden",":hover":{color:(0,Es.j)(Ke.O.gray_262626,.7)}}),_redOutline:{outline:"2px solid red"},tooltip:{position:"absolute",top:40,end:0,paddingTop:8,zIndex:Qe.W5.top},button:{display:"flex",justifyContent:"center",alignItems:"center",padding:"0 4px"},buttonName:Object.assign({paddingTop:0,paddingBottom:0,paddingStart:4,paddingEnd:8},Xe.Rw)},Pc=(0,mt.z)(void 0,((e,t)=>({trackLoginClick(){const s={uiElement:{name:"authorisationButton",ownerName:"home",frameUuid:t.ownerFrameId},action:"tap"};return e((0,cs.zs)(s))}})))((0,kt.$j)(ac,cc)((0,lr.C)((({user:e,userStatusIsUnknown:t},{config:s,tp:r})=>{const i=s.isConfigOverridden,a=(null==e?void 0:e.avatar_preview_tpl)?e.avatar_preview_tpl.replace("{width}","80").replace("{height}","80"):null==e?void 0:e.avatar;return t||!e?{userStatusIsUnknown:t,showAvatar:!1,showRedOutline:i}:{userStatusIsUnknown:!1,showAvatar:!0,initials:(0,dc.C)(e,r),avatar:a,showRedOutline:i}}))((0,pt.D2)(Tc)((0,gt.$)()(Mc)))));function Ec({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:e,width:32,height:32},{children:(0,r.jsx)("path",{d:"M19 5.59L5.59 19 13 26.41 26.41 13zM8.41 19L10 17.41l2.29 2.3 1.42-1.42-2.3-2.29L13 14.41l2.29 2.3 1.42-1.42-2.3-2.29L16 11.41l2.29 2.3 1.42-1.42-2.3-2.29L19 8.41 23.59 13 13 23.59z"})}))}const Lc={activate:function(){return(0,ke.s_)({isActive:!0})},deactivate:function(){return(0,ke.s_)({isActive:!1,points:[]})}};class Rc extends le.Component{constructor(){super(...arguments),this.onClick=()=>(this.props.bssOnClick(),this.props.ruler.isActive?this.props.deactivate():this.props.activate())}render(){const{i18n:e,ruler:t}=this.props,s=e.tp._t("Линейка");return(0,r.jsx)(mo,Object.assign({to:"centerStart",title:s},{children:e=>(0,r.jsx)(Wn.Z,{children:(0,r.jsx)(po.o,Object.assign({isActive:t.isActive,onClick:this.onClick,dataT:"ruler",innerRef:e,ariaLabel:s},{children:(0,r.jsx)(Ec,{})}))})}))}}Rc.displayName=(0,Ct.I)("src/features/mapControl/rulerControl");const zc=(0,mt.z)(void 0,((e,t)=>({bssOnClick(){e((0,cs.zs)({action:"tap",uiElement:{name:"ruler",frameUuid:t.ownerFrameId}}))}})))((0,gt.$)()(Rc)),Ac=(0,fn.G)({selectors:{ruler:e=>e.appContext.ruler},handlers:Lc})(zc);var Fc=s(27373),Bc=s(3836),Zc=s(79597);const Uc=e=>({frameId:t})=>{if(e.mode)return{action:"tap",uiElement:{name:"trafficJam",frameUuid:t},payload:{trafficJam:{turnedOn:!!e.active,mode:e.mode}}}};var Hc=s(16838),Dc=s(10982);const $c=(0,It.P1)([e=>{const t=(0,o.kL)(e);return t?(0,Hc.s)(t.code)(e):Dc.Y},e=>e.appContext.showTrafficOnMap,e=>{var t;return null===(t=(0,q.t0)(e.appContext.frames,"directions"))||void 0===t?void 0:t.tab}],((e,t,s)=>({traffic:e,isTrafficOn:t,directionsFrameTab:s})));function Vc({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({viewBox:"0 0 18 18",width:"18",height:"18"},{children:(0,r.jsx)("path",{fill:e,fillRule:"evenodd",d:"M5 10h1a3 3 0 0 1 3-3V6a4 4 0 0 0-4 4m4 6A6 6 0 0 1 9 4a6 6 0 0 1 0 12M9 0a9 9 0 0 0-9 9c0 .688.084 1.355.23 2h.839c.493 3.945 3.852 7 7.931 7 4.079 0 7.438-3.055 7.931-7h.839c.146-.645.23-1.312.23-2a9 9 0 0 0-9-9"})}))}const qc=({onClick:e,title:t,href:s,active:i,disabled:a,dimension:n=0})=>{const{css:o,s:c}=(0,ue.y)(Gc),d=(e=>{switch(e){case 0:return"zero";case 1:return"low";case 2:case 3:return"normal";case 4:case 5:return"medium";case 6:return"mediumHigh";case 7:return"high";case 8:case 9:case 10:case 11:return"critical";default:throw new Error("Ошибка получения трафика")}})(n);return(0,r.jsx)(mo,Object.assign({title:t,to:"bottomMiddle"},{children:l=>(0,r.jsx)(We.Z,Object.assign({href:s,onClick:e},{children:(0,r.jsx)("button",Object.assign({type:"button",className:o(c.root,d&&c[d],d&&i&&c[`active_${d}`]),disabled:a},Ye.dx.n("wat-traffic-control"),{ref:l},(0,Jo.P)({label:t}),{children:n||(0,r.jsx)(Vc,{})}))}))}))},Gc=(0,ue.k)((({mobile:e})=>({root:{fontSize:20,lineHeigh:"16px",fontWeight:400,cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",width:32,height:32,borderRadius:Qe.E0.oval,color:Ke.O.gray_262626,background:Ke.O.white,boxShadow:_n.q.popupBorderBottom,overflow:"hidden",border:"solid 4px",":hover":Object.assign({},e?{}:{color:(0,Es.j)(Ke.O.gray_262626,.7)}),":disabled":{background:Ke.O.white,borderColor:Ke.O.gray_e6e6e6,color:Ke.O.gray_929292,cursor:"default"}},zero:{borderColor:Ke.O.white},low:{borderColor:"#00991C"},normal:{borderColor:"#53B551"},medium:{borderColor:"#F0B61E"},mediumHigh:{borderColor:Ke.O.red_fe5000},high:{borderColor:"#E10D0D"},critical:{borderColor:"#8C1010"},active_zero:{color:Ke.O.green_299400},active_low:{backgroundColor:"#00991C",color:Ke.O.white},active_normal:{backgroundColor:"#53B551",color:Ke.O.white},active_medium:{backgroundColor:"#F0B61E",color:Ke.O.black},active_mediumHigh:{backgroundColor:Ke.O.red_fe5000,color:Ke.O.white},active_high:{backgroundColor:"#E10D0D",color:Ke.O.white},active_critical:{backgroundColor:"#8C1010",color:Ke.O.white}}))),Wc=()=>{const e=(0,ge.T)(),t=(0,pe.I0)(),{traffic:s,isTrafficOn:i,directionsFrameTab:a}=(0,pe.v9)($c),n=s&&s.data&&s.data.score,o=(0,Fc.k$)(s)||(0,Bc.V)(s),c=(e=>{switch(e){case"bus":return"routeSearchCtx";case"car":return"routeSearchCar";case"pedestrian":return"routeSearchPedestrian";default:return"default"}})(a),d=(0,Zc.W)({type:"traffic"}),l=e._t("Пробки"),{useBssHandler:u}=(0,Je.T)(),p=u(Uc,{mode:c,active:i}),g=(0,as.$)((()=>{p(),t((0,P.$C)())}));return(0,r.jsx)(qc,{active:i,onClick:g,title:l,href:d,dimension:n,disabled:o})};var Qc=s(47818),Kc=s(1184);const Jc=(0,C.gQ)("switchLanguage",(e=>(0,C.vP)((0,He.d)({name:"lang",value:e.lang}),(0,C.PQ)((()=>{const e=window.location.pathname+window.location.search,{payload:t}=(0,Qc.Q)(e);t.lang=void 0;const s=(0,Qc.M)((0,Y.oA)((0,Kc.s0)(t)));return(0,E.k)({url:s,name:"_self"})})))));var Yc=s(51203);function Xc(e){switch(e){case"ru":return"Русский";case"en":return"English";case"ar":return"Arabic";case"cs":return"Čeština";case"es":return"Español";case"az":return"Azərbaycanca";case"uz":return"O'zbek";case"kk":return"Қазақ";case"hy":return"Հայերեն";case"ka":return"ქართული";default:return}}const ed=({currentLang:e},{config:t})=>{const s=t.supportedLangs;return{langs:(0,Y.oA)(s.map((t=>{const s=Xc(t);if(s)return{caption:s,code:t,isActive:t===e}})))}};const td={root:{display:"inline-flex",flexDirection:"column",boxShadow:_n.q.popup,borderRadius:Qe.E0.default,background:Ke.O.white,padding:"4px",cursor:"pointer"},item:{display:"block",whiteSpace:"nowrap",paddingTop:4,paddingBottom:4,paddingStart:36,paddingEnd:12,":hover":{color:Ke.O.gray_929292},position:"relative",color:Ke.O.gray_262626},icon:{position:"absolute",height:24,width:24,top:0,start:4,color:Ke.O.green_299400}},sd=(0,pt.D2)(td)((function(e){const{s:t,onSelect:s}=e,{langs:i}=(0,Wr.Gb)(ed,e);return(0,r.jsx)("ul",Object.assign({className:(0,lt.iv)(t.root)},{children:i.map((({caption:e,code:i,isActive:a})=>(0,le.createElement)("li",Object.assign({className:(0,lt.iv)(t.item)},Ye.dx.n("wat-language-item"),Ye.dx.v(e),{key:i,onClick:()=>s({lang:i})}),a&&(0,r.jsx)("div",Object.assign({className:(0,lt.iv)(t.icon)},{children:(0,r.jsx)(Yc.J,{})})),e)))}))}));function rd(e){switch(e){case"ru":return"Ру";case"en":return"En";case"ar":return"Ar";case"cs":return"Cs";case"es":return"Es";case"az":return"Az";case"uz":return"Uz";case"kk":return"Kz";default:return e}}const id={onLanguageSelect:Jc};const ad={root:{position:"relative"},tooltip:{position:"absolute",end:40,bottom:0},text:{fontWeight:Xe.Ue.bold}},nd=(0,fn.G)({handlers:id,selectors:{lang:e=>e.appContext.lang}})((0,pt.D2)(ad)((function({lang:e,onLanguageSelect:t,s}){const[i,a]=le.useState(!1),n=(0,as.$)((()=>a(!i))),o="Change language",{ref:c,addTooltip:d}=(0,go.s)({title:o,to:"centerStart"});return(0,r.jsxs)("div",Object.assign({className:(0,lt.iv)(s.root)},{children:[(0,r.jsx)("div",Object.assign({ref:c},{children:(0,r.jsx)(Wn.Z,Object.assign({isVertical:!0},{children:(0,r.jsx)(po.o,Object.assign({isActive:i,onClick:n,dataT:"language",ariaLabel:o},{children:(0,r.jsx)("div",Object.assign({className:(0,lt.iv)(s.text)},{children:rd(e)}))}))}))})),i&&(0,r.jsx)("div",Object.assign({className:(0,lt.iv)(s.tooltip)},{children:(0,r.jsx)(sd,{currentLang:e,onSelect:t})})),d]}))})));var od=s(69367),cd=s(32318);const dd={frameId:e=>(e=>{const t=e.appContext.frames;return t&&t[0]&&"direction"===t[0].type?t&&t[1]&&t[1].id:t&&t[0]&&t[0].id})(e)},ld={openSharingPopup:od.q};const ud=(0,fn.G)({handlers:ld,selectors:dd})((function({openSharingPopup:e,frameId:t}){const s=(0,ge.T)()._t("Поделиться"),i=(0,le.useCallback)((()=>e({frameId:t})),[e,t]),{ref:a,addTooltip:n}=(0,go.s)({title:s,to:"centerStart"});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(po.o,Object.assign({onClick:i,dataT:"share",innerRef:a,ariaLabel:s},{children:(0,r.jsx)(cd.m,{color:Ke.O.gray_262626})})),n]})}));function pd({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M6 13v6a3 3 0 0 0 3 3h1v3h12v-3h1a3 3 0 0 0 3-3v-6zm14 10h-8v-4h8zm4-4a1 1 0 0 1-1 1h-1v-3H10v3H9a1 1 0 0 1-1-1v-4h16zM12 8h8v3h2V6H10v5h2V8z"})}))}const gd=(0,mt.z)(void 0,((e,t)=>({bssOnClick(){e((0,cs.zs)({action:"tap",uiElement:{name:"print",frameUuid:t.ownerFrameId}}))}})))((e=>{const t=(0,ge.T)()._t("Печать"),{ref:s,addTooltip:i}=(0,go.s)({title:t,to:"centerStart"}),a=(0,le.useCallback)((()=>{e.bssOnClick(),window.print()}),[e.ownerFrameId]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(po.o,Object.assign({onClick:a,dataT:"print",innerRef:s,ariaLabel:t},{children:(0,r.jsx)(pd,{color:Ke.O.gray_262626})})),i]})}));var md=s(75954);function hd(){return(0,r.jsxs)("svg",Object.assign({width:"24",height:"24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{d:"M0 8.588c0-3.006 0-4.51.585-5.657A5.367 5.367 0 0 1 2.931.585C4.079 0 5.58 0 8.587 0h6.825c3.006 0 4.51 0 5.658.585a5.367 5.367 0 0 1 2.345 2.346C24 4.079 24 5.58 24 8.587v6.825c0 3.006 0 4.51-.585 5.658a5.367 5.367 0 0 1-2.345 2.345C19.92 24 18.418 24 15.412 24H8.587c-3.005 0-4.508 0-5.656-.585A5.367 5.367 0 0 1 .585 21.07C0 19.92 0 18.418 0 15.412V8.587Z",fill:"#7FE740"}),(0,r.jsx)("path",{fillRule:"evenodd",d:"M3.703 11.625c0-2.906 1.875-4.688 4.594-4.688 2.11 0 3.712 1.073 4.323 2.912.054.161.2.276.37.276h7.213c.207 0 .375.168.375.375v2.063a.375.375 0 0 1-.375.374h-1.568a.375.375 0 0 0-.375.354l-.146 2.481a.375.375 0 0 1-.374.353h-1.636a.375.375 0 0 1-.375-.353l-.146-2.482a.375.375 0 0 0-.374-.352h-2.16a.395.395 0 0 0-.375.29c-.566 1.944-2.201 3.085-4.377 3.085-2.72 0-4.594-1.782-4.594-4.688Zm1.969-.008c0 .664.215 1.508 1.312 1.508 1.098 0 1.313-.844 1.313-1.508 0-.648-.215-1.492-1.313-1.492-1.098 0-1.312.844-1.312 1.492Z",fill:"#224249"})]}))}const fd=()=>({frameId:e})=>({uiElement:{name:"otelloPromoButton",ownerName:"map",frameUuid:e},action:"tap"}),vd={32:"4504222397630173",38:"5348647327760881",9:"1267260165455895",1:"141360258613345"},bd=(e,t)=>{const s=e&&vd[e];if(s)return`${t}search/?geo_id=${s}&utm_source=2gis-mapbutton`},yd=(0,le.memo)((({projectId:e,isMobile:t})=>{const s=(0,ge.T)(),{s:i,css:a}=(0,ue.y)(xd),{featureOtelloMapControl:n,otelloUrl:o}=(0,Se.Z)(),{bssRef:c,useBssHandler:d}=(0,Je.T)((({frameId:e})=>({uiElement:{name:"otelloPromoButton",ownerName:"map",frameUuid:e}}))),l=d(fd),u=(0,as.$)((()=>{l()})),p=n&&(e=>e&&vd[e])(e);return p?(0,r.jsx)("div",Object.assign({ref:c},{children:(0,r.jsxs)(We.Z,Object.assign({href:bd(e,o),onClick:u,external:!0,styles:i.link,dataN:"wat-otello-map-control"},{children:[(0,r.jsx)(hd,{}),(0,r.jsx)("div",Object.assign({className:a(i.text)},{children:t?s._gg("Отелло 2ГИС"):s._gg("Отели с кешбэком 10%")}))]}))})):null}));yd.displayName="OtelloMapControl";const xd=(0,ue.k)({link:{display:"flex",alignItems:"center",gap:6,paddingTop:8,paddingStart:8,paddingEnd:4,paddingBottom:8,backgroundColor:"#2A5860",color:Ke.O.white,borderRadius:Qe.E0.default,boxShadow:"0px 1px 3px 0px rgba(38, 38, 38, 0.50)",whiteSpace:"nowrap",transition:"background-color 250ms ease","&:hover":{color:Ke.O.white,backgroundColor:"#2A626A"}},text:{paddingEnd:12}});var jd=s(66369);function wd({color:e="currentColor"}){return(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",viewBox:"0 0 32 32"},{children:[(0,r.jsx)("path",{fill:e,fillRule:"evenodd",d:"M7.592 12.758a1 1 0 01.97-.758h6.439v4H6.78l.81-3.242zM6.282 18l-.69 2.758A1 1 0 006.562 22h8.439v-4H6.28zm2.28-8a3 3 0 00-2.91 2.272l-2 8A3 3 0 006.562 24H17V10H8.563z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:e,fillRule:"evenodd",d:"M19.707 5.293l-.905-.906-.66 1.098-3 5-.142.238V24h10.438a3 3 0 002.91-3.728L28 18.877v-5.154l-.142-.238-3-5L24.566 8h-2.152l-2.707-2.707zM26 17v-2.723L23.434 10H21.586l-.293-.293-2.095-2.094L17 11.277v4.105l2.553-1.277.553-.276.494.37 3.733 2.8H26zm-9 .618V22h8.438a1 1 0 00.97-1.243l-.378-1.515-.03-.119V19h-2.333l-.267-.2-3.506-2.63L17 17.619z",clipRule:"evenodd"})]}))}var _d=s(78882);const Cd={30:{center:[40.26825,43.64086],zoom:13.61,rotation:8},1267655302447129:{center:[40.26825,43.64086],zoom:13.61,rotation:8},131:{center:[39.94661,43.99218],zoom:13.865,rotation:71},1267655302447105:{center:[39.94661,43.99218],zoom:13.865,rotation:71},1267655302447113:{center:[41.62489,43.28599],zoom:13},134:{center:[42.479292,43.327285],zoom:13.5,rotation:37.32},89:{center:[42.479292,43.327285],zoom:13.5,rotation:37.32},1267655302447111:{center:[42.479292,43.327285],zoom:13.5,rotation:37.32},1267655302447119:{center:[44.55747,42.73412],zoom:13.084,rotation:138},1267655302447133:{center:[42.479292,43.327285],zoom:13.5,rotation:37.32},154:{center:[44.90747,42.73412],zoom:13.084,rotation:138},114:{center:[44.90747,42.73412],zoom:13.084,rotation:138},1267655302447110:{center:[44.90747,42.73412],zoom:13.084,rotation:138},115:{center:[45.71025,42.96048],zoom:13.35,rotation:-8},1267655302447124:{center:[45.71025,42.96048],zoom:13.35,rotation:-8},151:{center:[46.8992,42.8473],zoom:12.612,rotation:11},113:{center:[46.8992,42.8473],zoom:12.612,rotation:11},1267655302447109:{center:[46.8992,42.8473],zoom:12.612,rotation:11},1267655302447164:{center:[35.11619,69.17253],zoom:13.516,rotation:1},9:{center:[60.03383,56.80337],zoom:13.584,rotation:-11},109:{center:[60.03383,56.80337],zoom:13.584,rotation:-11},1267655302447178:{center:[60.03383,56.80337],zoom:13.584,rotation:-11},15:{center:[59.80304,55.2568],zoom:13.134},"87 ":{center:[59.80304,55.2568],zoom:13.134},1267655302447186:{center:[59.80304,55.2568],zoom:13.134},11260016975675394:{center:[88.22694,50.91009],zoom:13.635,rotation:75},20:{center:[84.92519,51.93505],zoom:13.559},4:{center:[84.92519,51.93505],zoom:13.559},1267655302447126:{center:[84.92519,51.93505],zoom:13.559},206:{center:[87.93171,52.94994],zoom:13.581,rotation:-1},1267655302447155:{center:[87.93171,52.94994],zoom:13.581,rotation:-1},69:{center:[91.37715,53.032742],zoom:13.527,rotation:-1},1267655302447123:{center:[91.37715,53.032742],zoom:13.527,rotation:-1},7:{center:[92.80989,55.89808],zoom:13.357,rotation:5},1267655302447130:{center:[92.80989,55.89808],zoom:13.357,rotation:5},130:{center:[94.42404,51.73232],zoom:12.828,rotation:10},1267655302447121:{center:[94.42404,51.73232],zoom:12.828,rotation:10},11:{center:[104.84251,51.8636],zoom:13.275,rotation:10},1267655302447152:{center:[104.84251,51.8636],zoom:13.275,rotation:10},37:{center:[107.5801,51.86159],zoom:12.784,rotation:3},1267655302447108:{center:[107.5801,51.86159],zoom:12.784,rotation:3},88:{center:[154.72168,49.3321],zoom:13},1267655302447177:{center:[154.72168,49.3321],zoom:13},25:{center:[131.84304,43.03251],zoom:13.638,rotation:-19},1267655302447132:{center:[131.84304,43.03251],zoom:13.638,rotation:-19},82:{center:[150.82871,59.47647],zoom:12.821,rotation:5},158:{center:[150.82871,59.47647],zoom:12.821,rotation:5},1267655302447162:{center:[150.82871,59.47647],zoom:12.821,rotation:5},95:{center:[160.53667,54.72734],zoom:13},1267655302447128:{center:[160.53667,54.72734],zoom:13},563967860670632:{center:[83.4322,49.6307],zoom:12.45,rotation:22},91:{center:[83.4322,49.6307],zoom:12.45,rotation:22},67:{center:[76.96932,43.11889],zoom:13.099,rotation:-57},"70030076149164491":{center:[76.96932,43.11889],zoom:13.099,rotation:-57},112:{center:[78.5421,42.3947],zoom:13.804,rotation:5},99:{center:[56.13557,25.92894],zoom:13.505},237:{center:[56.13557,25.92894],zoom:13.505},sa:{center:[39.60383,24.46559],zoom:14.098,rotation:-4}},Id={zoom:13,pitch:45,rotation:0};function kd(e){const t=function(e){return e.projectId&&Cd[e.projectId]||e.regionId&&Cd[e.regionId]||e.countryCode&&Cd[e.countryCode]||void 0}(e);if(!t)return;const{center:s,zoom:r,pitch:i,rotation:a}=Object.assign(Object.assign({},Id),t);return[{main:[{center:s,zoom:r-1,pitch:i-30,rotation:a,duration:1},...new Array(1).fill(null).map(((e,t)=>({zoom:r-1+2*(t+1)/1,pitch:i-30+30*(t+1)/1,rotation:a-0*(t+1)/1,duration:5e3,easing:"easeInOutSine"})))]}]}var Od=s(29759),Sd=s(43149),Nd=s(17942),Md=s(99968);const Td=(0,le.memo)((()=>{var e;const{s:t,css:s}=(0,ue.y)(Pd),i=(0,pe.I0)(),a=(0,ge.T)(),{feature3dRelief:n}=(0,Se.Z)(),[c,d]=(0,le.useState)(!1);(0,_d.K)(((e,{isTerrainSupported:t})=>{if(!n)return;let s=Od.tO.local.getItem("isTerrainSupported");null==s&&(s=t(),Od.tO.local.setItem("isTerrainSupported",s)),d(s)}),[]);const l=(0,pe.v9)((e=>e.appContext.relief)),u=(0,pe.v9)((e=>e.appContext.activeLayer)),p=(0,Je.T)().useBssHandler(Sd.V),g=(0,Je.T)().useBssHandler(Md.U,{type:"roadAccident",enableMapLayer:!1,autoEvent:!0}),m=(0,as.$)((()=>{i((0,Nd.y)(!l)),p({isActive:!l}),l||"roadAccident"!==u||(i((0,fe.zG)({layer:"roadAccident"})),g())})),h=null===(e=(0,pe.v9)(o.kG))||void 0===e?void 0:e.data,f=(0,pe.v9)(o.kL),v=(0,le.useMemo)((()=>{var e,t;return null===(t=null===(e=null==h?void 0:h.admDiv)||void 0===e?void 0:e.find((({type:e})=>"region"===e)))||void 0===t?void 0:t.id}),[h]),b=(0,le.useMemo)((()=>kd({regionId:v,projectId:null==f?void 0:f.id,countryCode:null==f?void 0:f.country_code})),[v,f]);return n&&c&&(b||l)?(0,r.jsxs)("div",Object.assign({className:s(t.root,l&&t._active),onClick:m},{children:[(0,r.jsx)(wd,{}),(0,r.jsx)(Xt.N,{children:(0,r.jsx)("div",Object.assign({className:s(t.label)},{children:a._t("3D-рельеф")}))})]})):null}));Td.displayName="ReliefControl";const Pd=(0,ue.k)({root:Object.assign(Object.assign({paddingStart:8,paddingEnd:16,display:"flex",alignItems:"center",cursor:"pointer",minWidth:40,height:40},Xe.oN),{borderRadius:jd.E.default,color:Ke.O.gray_262626,background:Ke.O.white,boxShadow:_n.q.popup,overflow:"hidden",":hover":{background:Ke.O.gray_f2f2f2}}),label:{marginStart:4},_active:{color:Ke.O.white,background:Ke.O.blue_028eff,":hover":{background:Ke.O.blue_0070cc}}});var Ed=s(89594),Ld=s(54444);function Rd(){return(0,r.jsxs)("svg",Object.assign({width:"32",height:"32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("g",Object.assign({filter:"url(#Awards2gisA)"},{children:(0,r.jsx)("path",{d:"M18.254 30h-3.12V2h1.733C24.071 2 29 7.643 29 13.484c0 2.238-.565 4.137-1.733 6.563l-.867 2.078h-1.733c-2.804 0-4.333 1.64-4.333 1.64-1.575 1.41-2.08 4.237-2.08 6.235Z",fill:"url(#Awards2gisB)"})})),(0,r.jsx)("g",Object.assign({filter:"url(#Awards2gisC)"},{children:(0,r.jsx)("path",{d:"M15.554 30H12.98c-.319-2.107-.324-4.683-1.931-6.234-.23-.222-1.42-1.641-4.024-1.641h-1.61l-.804-2.078C3.525 17.62 3 15.722 3 13.484 3 7.643 7.577 2 14.267 2c6.69 0 11.266 5.643 11.266 11.484 0 2.238-.525 4.137-1.61 6.563l-.804 2.078h-1.61c-2.603 0-4.023 1.64-4.023 1.64-1.462 1.41-1.932 4.237-1.932 6.235Z",fill:"url(#Awards2gisD)"})})),(0,r.jsx)("path",{d:"m16.408 10.318-1.894-3.784a.271.271 0 0 0-.494 0l-1.894 3.784-3.679.48c-.237.03-.332.346-.156.52l2.765 2.743-.932 4.191c-.056.248.182.454.395.342l3.748-1.966 3.748 1.966c.213.111.45-.094.395-.342l-.932-4.19 2.765-2.743c.176-.175.08-.49-.156-.522l-3.68-.479Z",fill:"url(#Awards2gisE)"}),(0,r.jsxs)("defs",{children:[(0,r.jsxs)("linearGradient",Object.assign({id:"Awards2gisB",x1:"22.067",y1:"2",x2:"13.248",y2:"29.952",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{stopColor:"#59471A"}),(0,r.jsx)("stop",{offset:".396",stopColor:"#7C5A0C"}),(0,r.jsx)("stop",{offset:".634",stopColor:"#422F04"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#352A0C"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"Awards2gisD",x1:"19.095",y1:"2",x2:"9.733",y2:"29.553",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{stopColor:"#C3A966"}),(0,r.jsx)("stop",{offset:".396",stopColor:"#F4D181"}),(0,r.jsx)("stop",{offset:".615",stopColor:"#CFB468"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#A28C54"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"Awards2gisE",x1:"14.267",y1:"5.68",x2:"10.583",y2:"18.385",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{stopColor:"#271C03"}),(0,r.jsx)("stop",{offset:".356",stopColor:"#705310"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#4E3805"})]})),(0,r.jsxs)("filter",Object.assign({id:"Awards2gisA",x:"15.134",y:"2",width:"14.866",height:"30",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},{children:[(0,r.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,r.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,r.jsx)("feOffset",{dx:"1",dy:"2"}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,r.jsx)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,r.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.04 0"}),(0,r.jsx)("feBlend",{in2:"shape",result:"effect1_innerShadow_624_7579"})]})),(0,r.jsxs)("filter",Object.assign({id:"Awards2gisC",x:"3",y:"2",width:"23.533",height:"30",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},{children:[(0,r.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,r.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,r.jsx)("feOffset",{dx:"1",dy:"2"}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,r.jsx)("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),(0,r.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.04 0"}),(0,r.jsx)("feBlend",{in2:"shape",result:"effect1_innerShadow_624_7579"})]}))]})]}))}const zd=()=>({frameId:e})=>({uiElement:{name:"award2gisIcon",ownerName:"map",frameUuid:e},action:"tap"});var Ad=s(42527);const Fd=(0,le.memo)((()=>{const{s:e,css:t}=(0,ue.y)(Bd),{_t:s}=(0,ge.T)(),i=(0,pe.I0)(),{bssRef:a,useBssHandler:n}=(0,Je.T)((({frameId:e})=>({uiElement:{name:"award2gisIcon",ownerName:"map",frameUuid:e}}))),c=n(zd),d=s("Премия 2ГИС"),l=(0,Zc.W)({type:"catalogSearch",query:d}),u=(0,pe.v9)(o.kG),p=null==u?void 0:u.data,g=Ad.H.checkAwardRegion(p),m=(0,le.useCallback)((()=>{i((0,C.xJ)((e=>(0,Z.zh)((t=>(0,Ed.gB)({query:d,viewpoint:t,regionId:(0,Ld.k)(e)})))))),c()}),[i,d,c]);return g?(0,r.jsx)("div",Object.assign({ref:a},{children:(0,r.jsxs)(We.Z,Object.assign({href:l,onClick:m,styles:e.root},{children:[(0,r.jsx)(Rd,{}),(0,r.jsx)("span",Object.assign({className:t(e.text)},{children:d}))]}))})):null})),Bd=(0,ue.k)({root:{display:"flex",alignItems:"center",paddingStart:4,paddingEnd:12,paddingBottom:4,paddingTop:4,borderRadius:Qe.E0.default,color:Ke.O.white,backgroundColor:"#222A51",boxShadow:"0px 1px 3px rgba(38, 38, 38, 0.5)",transition:"background-color 250ms ease","&:hover":{color:Ke.O.white,backgroundColor:"#2F3A6F"}},text:{paddingInlineStart:4,paddingInlineEnd:4,whiteSpace:"nowrap"},streamIcon:{paddingStart:8,"& > svg":{display:"block"}}});var Zd=s(3454),Ud=s(80895);const Hd=({hasLongFrame:e})=>{const{_t:t}=(0,ge.T)(),{s,css:i}=(0,ue.y)($d),a=(0,Ud.A)(Zd.t9,"friends"),n=e?s.hasLongFrame:s.link;return(0,r.jsx)(We.Z,Object.assign({onClick:a,styles:n},{children:(0,r.jsx)("div",Object.assign({className:i(s.text)},{children:t("Дружите и выигрывайте!")}))}))};Hd.displayName="FriendsPromoCompetitionControl";const Dd={display:"block",paddingTop:10,paddingStart:36,paddingEnd:36,paddingBottom:10,color:Ke.O.white,backgroundColor:Ke.O.green_002400,backgroundImage:"url(/public/promo/friendsPromoCompetitionButton.png)",backgroundSize:"cover",borderRadius:Qe.E0.default,boxShadow:_n.q.popup,"&:hover":{color:Ke.O.white,backgroundColor:Ke.O.green_007000}},$d=(0,ue.k)({link:Object.assign(Object.assign({},Dd),{"@media (max-width: 1350px)":{display:"none"}}),hasLongFrame:Object.assign(Object.assign({},Dd),{"@media (max-width: 1580px)":{display:"none"}}),text:Object.assign({},Xe.q0)}),Vd=(0,le.memo)((({hasLongFrame:e})=>{const{_t:t}=(0,ge.T)(),{s,css:i}=(0,ue.y)(Gd),{featureFriendsPromo:a}=(0,Se.Z)(),n=(0,Ud.A)(Zd.t9,"friends");if(!a)return null;const o=e?s.hasLongFrame:s.link;return(0,r.jsx)(We.Z,Object.assign({onClick:n,styles:o},{children:(0,r.jsx)("div",Object.assign({className:i(s.text)},{children:t("Ваши друзья на карте!")}))}))}));Vd.displayName="FriendsPromoControl";const qd={display:"block",paddingTop:10,paddingStart:36,paddingEnd:36,paddingBottom:10,color:Ke.O.white,backgroundColor:"#0B3045",backgroundImage:"url(/public/promo/friendsPromoButton.png)",backgroundSize:"cover",borderRadius:Qe.E0.default,boxShadow:_n.q.popup,"&:hover":{color:Ke.O.white,backgroundColor:"#061B26"}},Gd=(0,ue.k)({link:Object.assign(Object.assign({},qd),{"@media (max-width: 1350px)":{display:"none"}}),hasLongFrame:Object.assign(Object.assign({},qd),{"@media (max-width: 1580px)":{display:"none"}}),text:Object.assign({},Xe.q0)});var Wd=s(66263);function Qd({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",viewBox:"0 0 32 32"},{children:(0,r.jsx)("path",{fill:e,d:"M8 10.143v12.824l5.065-2.17 6 3L24 21.68V8.857l1.303-.558a.5.5 0 01.697.46V23l-7 3-6-3-6.303 2.701a.5.5 0 01-.697-.46V11l2-.857zm12.243 5.1L16 19.485l-4.243-4.242a6 6 0 118.486 0zM16 16.657l2.828-2.829a4 4 0 10-5.656 0L16 16.657z"})}))}const Kd=(0,le.memo)((()=>{const e=(0,ge.T)(),t=Wd.l.$isEnabled.use(),s=t?e._t("Отключить реалистичные дороги"):e._t("Включить реалистичные дороги"),{ref:i,addTooltip:a}=(0,go.s)({title:s,to:"centerStart"}),n=(0,Ud.A)(Wd.l.$isEnabled.set,!t);return(0,r.jsx)(Wn.Z,{children:(0,r.jsxs)(po.o,Object.assign({onClick:n,dataT:"immersion",ariaLabel:s,innerRef:i,isActive:t},{children:[(0,r.jsx)(Qd,{}),a]}))})}));Kd.displayName="ImmersionControl";const Jd=(0,le.memo)((e=>{const{dataViewerWidth:t}=e,{css:s,s:i,inline:a}=(0,ue.y)(Yd),{godmode:n,supportedLangs:c,featureNewYear:d,feature2gisAwardPromoMain:l,featureFriendsPromoCompetition:u}=(0,Se.Z)(),p=(0,pe.v9)((e=>e.appContext.frames)),g=(0,le.useMemo)((()=>!!p.find((e=>"search"===e.type||"exchange"===e.type||"realty"===e.type))),[p]),m=c.length>1,h=(0,pe.v9)((e=>e.session.is3dEnabled)),f=n||h||(0,Y.$K)((0,$.z)("is3dDisabled")),v=(0,pe.v9)((e=>"backTo2004"===e.appContext.activeLayer)),b=(0,pe.v9)((e=>!!e.appContext.weak.floors)),y=!v&&b,x=(0,pe.v9)(o.kL),j=h&&d,w=l,_=(0,pe.v9)(Wd.l.getIsAvailable);return(0,r.jsxs)("div",Object.assign({className:s(i.root),style:a({start:t})},{children:[(0,r.jsx)("div",Object.assign({className:s(i.top,i.row)},{children:(0,r.jsx)(Gn.g,Object.assign({justifyContent:"flex-end"},{children:(0,r.jsxs)("div",Object.assign({className:s(i._pointerNone,i.viewControls,i.topControls)},{children:[(0,r.jsx)("div",Object.assign({className:s(i.topControl)},{children:u?(0,r.jsx)(Hd,{hasLongFrame:g}):(0,r.jsx)(Vd,{hasLongFrame:g})})),j&&(0,r.jsx)("div",Object.assign({className:s(i.topControl)},{children:(0,r.jsx)(ro,{})})),(0,r.jsxs)(Dt.w,{children:[(0,r.jsx)("div",Object.assign({className:s(i.topControl)},{children:(0,r.jsx)(yd,{projectId:null==x?void 0:x.id})})),w&&(0,r.jsx)("div",Object.assign({className:s(i.topControl)},{children:(0,r.jsx)(Fd,{})})),(0,r.jsx)("div",Object.assign({className:s(i.topControl)},{children:(0,r.jsx)(Td,{})})),(0,r.jsx)("div",Object.assign({className:s(i.topControl)},{children:(0,r.jsx)(md.et,{})})),(0,r.jsx)("div",Object.assign({className:s(i.topControl)},{children:(0,r.jsx)(Wc,{})})),(0,r.jsx)("div",Object.assign({className:s(i.topControl)},{children:(0,r.jsx)(Pc,{})}))]})]}))}))})),(0,r.jsx)("div",Object.assign({className:s(i.middle,i._pointerNone)},{children:(0,r.jsxs)("div",Object.assign({className:s(i.middleControls)},{children:[(0,r.jsxs)("div",Object.assign({className:s(i.viewControls)},{children:[y&&(0,r.jsx)("div",Object.assign({className:s(i.controlFloors)},{children:(0,r.jsx)(Bo,{})})),(0,r.jsxs)("div",{children:[h&&(0,r.jsx)("div",Object.assign({className:s(i.control)},{children:(0,r.jsx)(Ac,{})})),(0,r.jsx)(Dt.w,{children:(0,r.jsx)("div",Object.assign({className:s(i.control)},{children:(0,r.jsx)(tc,{})}))}),(0,r.jsx)("div",Object.assign({className:s(i.control)},{children:(0,r.jsx)(fo,{})}))]})]})),f&&(0,r.jsx)(Dt.w,{children:(0,r.jsx)("div",Object.assign({className:s(i.rotationControl)},{children:(0,r.jsx)(qn.N,{children:({rotation:e,pitch:t})=>(0,r.jsx)(No,{rotation:e,pitch:t})})}))}),_&&(0,r.jsx)("div",Object.assign({className:s(i.immersionControl)},{children:(0,r.jsx)(Kd,{})}))]}))})),(0,r.jsxs)("div",Object.assign({className:s(i.bottom,i._pointerNone)},{children:[(0,r.jsx)("div",Object.assign({className:s(i.control)},{children:(0,r.jsxs)(Wn.Z,Object.assign({isVertical:!0},{children:[(0,r.jsx)(ud,{}),(0,r.jsx)(gd,{})]}))})),m&&(0,r.jsx)("div",Object.assign({className:s(i.control)},{children:(0,r.jsx)(nd,{})})),(0,r.jsx)(Dt.w,{children:(0,r.jsx)("div",Object.assign({className:s(i.feedbackControl)},{children:(0,r.jsx)(Qo,{})}))})]}))]}))}));Jd.displayName="DesktopMapControls";const Yd=(0,ue.k)({root:{position:"absolute",top:0,bottom:0,end:16,pointerEvents:"none","& *":{userSelect:"none"},"@media print":{display:"none !important"}},top:{position:"absolute",top:16,start:0,end:0},row:{marginEnd:40,"&:not(:first-child)":{paddingTop:16,marginEnd:-40}},middle:{position:"absolute",top:0,end:4,bottom:"25%",display:"flex",alignItems:"flex-end",flexDirection:"column",justifyContent:"flex-end",height:"50%",transform:"translateY(25%)"},bottom:{position:"absolute",end:0,bottom:16,display:"flex",alignItems:"center",justifyContent:"flex-end",flexDirection:"column"},control:{width:32,padding:"8px 0"},feedbackControl:{paddingTop:8},topControl:{marginEnd:16,":empty":{display:"none",margin:0}},controlFloors:{width:32,padding:8},middleControls:{display:"flex",flexDirection:"column",alignItems:"flex-end"},viewControls:{display:"flex",alignItems:"flex-end"},rotationControl:{display:"flex",flexDirection:"column",alignItems:"center",width:32,padding:"8px 0"},immersionControl:{width:32,padding:"6px 0"},topControls:{position:"fixed"},_pointerNone:{pointerEvents:"none","& > *":{pointerEvents:"auto"}}});const Xd={layout:{overflowY:"hidden",position:"absolute",top:0,start:0,width:"100%",height:"100%",overflow:"hidden",zIndex:Qe.W5.base,pointerEvents:"none"},layer:{transform:"translateZ(0px)",width:"100%",height:"100%",position:"absolute",top:0,start:0,overflow:"hidden","& > *":{position:"relative",pointerEvents:"auto",zIndex:Qe.W5.base}},bottom:{zIndex:Qe.W5.bottom},base:{zIndex:Qe.W5.base},top:{zIndex:Qe.W5.top,visibility:"hidden","& > *":{position:"absolute",visibility:"visible",zIndex:Qe.W5.top,"&:empty":{visibility:"hidden"}}}},el=(0,pt.D2)(Xd)((function(e){const{bottom:t,base:s,top:i,s:a}=e;return(0,r.jsxs)("div",Object.assign({className:(0,lt.iv)(a.layout)},Ye.dx.n("wat-layout"),{children:[(0,r.jsx)("div",Object.assign({className:(0,lt.iv)(a.layer,a.base)},{children:s})),(0,r.jsx)("div",Object.assign({className:(0,lt.iv)(a.layer,a.bottom)},{children:t})),(0,r.jsx)("div",Object.assign({className:(0,lt.iv)(a.layer,a.top)},{children:i}))]}))})),tl=(0,It.P1)([({state:e})=>(0,o.kL)(e),({state:e})=>e.session.godmode||!1,({state:e})=>(0,za.Pc)(e),({state:e})=>0===e.appContext.frames.length,({state:e})=>e.appContext.lang],((e,t,s,r,i)=>({region:e,godmode:t,showLogoutButton:s,isDashboard:r,lang:i}))),sl=(0,kt.X1)(((e,t)=>tl({state:e,props:t})));var rl=s(23215);const il=e=>(0,C.vP)((0,O.BN)(),(0,ye.$)(e)),al=(0,kt.Z3)((e=>({showFeedback(){e((0,C.vP)((0,ve.a)((0,C.PQ)((()=>be.Y.set((()=>!1))))),(0,Ho.U)("online5")))},openInteresting(){e((0,C.vP)((0,ve.a)((0,C.PQ)((()=>be.Y.set((()=>!1))))),il("interesting")))},openGuidebook(){e((0,C.vP)((0,ve.a)((0,C.PQ)((()=>be.Y.set((()=>!1))))),il("guidebook")))},openPopupAddOrg(){e((0,C.vP)((0,ve.a)((0,C.PQ)((()=>be.Y.set((()=>!1))))),(0,rl.r)({subtype:"addOrg"})))},openPrintWindow(){e((0,C.PQ)((()=>{be.Y.set((()=>!1)),window.print()})))},onLogoutClick(){e((0,_c.k)())}})));class nl extends le.PureComponent{render(){const{s:e}=this.props;return(0,r.jsx)("div",{className:(0,pt.iv)(e.root)})}}nl.displayName=(0,Ct.I)("src/modules/sideBar/components/underHamburger");const ol={root:{position:"absolute",top:"16px",end:"16px",width:"40px",height:"40px",borderRadius:Qe.E0.oval,background:"#fff",boxShadow:"0 1px 3px 0 rgba(38, 38, 38, 0.5)",cursor:"pointer"},logo:{margin:8,width:"24px",height:"24px",display:"inline-block",verticalAlign:"middle"}},cl=(0,pt.D2)(ol)(nl);class dl extends le.PureComponent{render(){const{s:e,isSideBarShown:t,isIndicatorShown:s,onClick:i,i18n:{tp:a}}=this.props,n=a._t("Меню");return(0,r.jsx)("button",Object.assign({className:(0,pt.iv)(e.root),onClick:i,"data-hamburger":!0},Ye.n("wat-hamburger"),(0,Jo.P)({label:n}),{children:(0,r.jsx)(mo,Object.assign({title:n,to:"bottomBottomEnd",offset:12},{children:i=>(0,r.jsxs)("div",Object.assign({className:(0,pt.iv)(e.hamburger,s&&e._withDot),ref:i},{children:[(0,r.jsx)("span",{className:(0,pt.iv)(e.hamburgerLine,e._line1,t&&e._opened)}),(0,r.jsx)("span",{className:(0,pt.iv)(e.hamburgerLine,e._line2,t&&e._opened)}),(0,r.jsx)("span",{className:(0,pt.iv)(e.hamburgerLine,e._line3,t&&e._opened)}),(0,r.jsx)("span",{className:(0,pt.iv)(e.hamburgerLine,e._line4,t&&e._opened)})]}))}))}))}}dl.displayName=(0,Ct.I)("src/modules/sideBar/components/hamburger");const ll=(0,pt.D2)((e=>({root:{position:"absolute",top:"16px",end:"16px",width:"24px",height:"24px",padding:8,cursor:"pointer"},hamburger:{width:"16px",height:"14px",position:"relative",display:"inline-block",verticalAlign:"middle",margin:"5px 4px"},_withDot:{"&:after":{position:"absolute",height:"8px",width:"8px",end:"-4px",top:"-4px",background:Ke.O.red_fe5000,borderRadius:"50%",content:'""'}},hamburgerLine:{position:"absolute",height:"2px",width:"16px",background:Ke.O.gray_262626,borderRadius:Qe.E0.oval,start:0,transition:`background ${Ps.l.short}ms ease-in-out,\n      transform ${Ps.l.short}ms ease-in-out,\n      left ${Ps.l.short}ms ease-in-out,\n      top ${Ps.l.short}ms ease-in-out`,transform:"translateZ(0)","[data-hamburger]:hover &":{background:e.colors.green_299400_brand}},_line1:{top:0},_line2:{top:"6px"},_line3:{top:"6px"},_line4:{top:"12px"},_opened:{background:e.colors.green_299400_brand,"&:nth-child(1)":{transform:"scale(0)",left:"50%",top:"6px"},"&:nth-child(2)":{transform:"rotate(45deg)"},"&:nth-child(3)":{transform:"rotate(-45deg)"},"&:nth-child(4)":{transform:"scale(0)",left:"50%",top:"6px"}}})))((0,gt.$)()(dl));var ul=s(70877);const pl=(0,pt.D2)((({mobile:e})=>({root:{height:"100%",flexDirection:"column",position:"absolute",top:0,end:0,bottom:0,background:Ke.O.white,transition:e?"initial":`transform ${Ps.l.short}ms ease-in-out, visibility ${Ps.l.short}ms`,boxShadow:_n.q.popup,"@media print":{display:"none !important"}}})))((function(e){const[t,s]=(0,le.useState)(!1);(0,le.useEffect)((()=>s(!0)),[]);const{isMobileDevice:i}=(0,Se.Z)(),{children:a,type:n,isHidden:o,s:c,dir:d}=e,l=function(e,t){if(t)return"100%";if("sideMenu"===e)return Qe.dp.sideMenuWidth}(n,i),u={width:l,display:t?"flex":"none",transform:o?`logical translateX(${l}px)`:"logical translateX(0)",visibility:o?"hidden":"visible"};return(0,r.jsx)("div",Object.assign({className:(0,pt.iv)(c.root),style:(0,lt.Qo)(u,d)},{children:a}))}));function gl({color:e="currentColor"}){return(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,r.jsx)("path",{d:"M16 5a11 11 0 1 0 11 11A11 11 0 0 0 16 5zm0 20a9 9 0 1 1 9-9 9 9 0 0 1-9 9z"}),(0,r.jsx)("path",{d:"M11.07 20.93l7.74-2.12 2.12-7.74-7.74 2.12zm3.74-6.12l3.26-.88-.88 3.26-3.26.88z"})]}))}function ml({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M25 14V6H7v8H5v9a3 3 0 0 0 3 3h16a3 3 0 0 0 3-3v-9zM9 8h14v6h-5v1a2 2 0 0 1-4 0v-1H9zm16 15a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1v-7h5.13a4 4 0 0 0 7.74 0H25z"})}))}var hl=s(10881);function fl({color:e="currentColor"}){return(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,r.jsx)("path",{d:"M19 18V6H5v15a5 5 0 0 0 5 5h12a5 5 0 0 0 5-5v-3zm-6 3a3 3 0 0 1-6 0V8h10v10h-4zm12 0a3 3 0 0 1-3 3h-8a5 5 0 0 0 1-3v-1h10z"}),(0,r.jsx)("path",{d:"M9 10h6v2H9zM9 14h4v2H9z"})]}))}function vl({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M5 7v15a3 3 0 0 0 3 3h16a3 3 0 0 0 3-3V7zm20 2v2.32l-9 3.6-9-3.6V9zm-1 14H8a1 1 0 0 1-1-1v-8.52l9 3.6 9-3.6V22a1 1 0 0 1-1 1z"})}))}var bl=s(93532);class yl extends le.PureComponent{constructor(){super(...arguments),this.onClick=()=>{const{bssName:e,bssPayload:t,onClick:s,bssOnClick:r}=this.props;e&&r(e,t),s&&s()}}render(){const{href:e,text:t,icon:s,tall:i,checkMark:a,color:n,s:o,theme:c,dataN:d,description:l}=this.props;return(0,r.jsxs)("li",Object.assign({className:(0,pt.iv)(o.item,i&&o._tall,s&&o._withIcon),style:{color:n}},{children:[!!s&&(0,r.jsx)("div",Object.assign({className:(0,pt.iv)(o.icon)},{children:s})),(0,r.jsxs)("div",{children:[(0,r.jsx)(We.Z,Object.assign({color:n?"inherit":"gray",external:!0,href:e,dataN:d,onClick:this.onClick},{children:t})),a&&(0,r.jsx)("div",Object.assign({className:(0,pt.iv)(o.check)},{children:(0,r.jsx)("div",Object.assign({className:(0,pt.iv)(o.checkInner)},{children:(0,r.jsx)(Yc.J,{color:c.colors.green_30ad00_brand})}))})),l&&(0,r.jsx)("div",Object.assign({className:(0,pt.iv)(o.description)},{children:l}))]})]}))}}const xl={item:{paddingTop:4,paddingBottom:4,paddingStart:72,paddingEnd:0,display:"flex",alignItems:"center",position:"relative",":hover":{cursor:"pointer"}},_withIcon:{paddingStart:20},_tall:{paddingTop:12,paddingBottom:20,paddingStart:72,paddingEnd:0},icon:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:Xe.oN.lineHeight,marginEnd:20,color:Ke.O.gray_262626,zIndex:Qe.W5.base},check:{display:"inline-block",position:"relative",width:24,height:10,marginStart:4},checkInner:{position:"absolute",bottom:-10},description:Object.assign({marginTop:4,color:Ke.O.gray_929292},Xe.yG)},jl=(0,mt.z)(void 0,(e=>({bssOnClick(t,s){e((0,Z._N)((e=>e.appContext.staticFrames.sidebar.id),(e=>{const r={action:"tap",uiElement:{name:t,ownerName:"sidebar",frameUuid:e},payload:s};return(0,cs.zs)(r)})))}})))((0,pt.D2)(xl)(yl));var wl=s(52087);const _l=e=>{const{cookieName:t,text:s,reload:i}=e,[a,n]=(0,le.useState)(!1);(0,le.useEffect)((()=>{(0,$.z)(t)&&n(!0)}),[]);const o=(0,le.useCallback)((()=>{a?(0,Oo.J)(t,void 0):(0,Oo.J)(t,"1"),n(!a),i&&location.reload()}),[a]);return(0,r.jsx)(jl,{color:a?Ke.O.gray_262626:void 0,text:s,onClick:o,icon:a?(0,r.jsx)(wl.J,{width:30,height:30}):void 0})},Cl=e=>Object.keys(e).map((t=>encodeURIComponent(`${t}=${JSON.stringify(e[t])}`))).join("&");var Il=s(52175),kl=s(5975);const Ol=e=>{const{overrideConfig:t,config:s}=e;if(!t)return{};const r=t.split("&"),i={};for(const e of r){const[t,r]=decodeURIComponent(e).split("=");let a;try{a=(0,Il.GK)(s[t],decodeURIComponent(r),t)}catch(e){console.error("проблема в getObjectFromOverrideConfig.ts: не смогли распарсить конфиг",(0,kl.e)(e))}void 0!==a&&(i[t]=a)}return Object.keys(i).length?Object.assign(Object.assign({},i),{isConfigOverridden:!0}):{}},Sl=(0,le.memo)((({defaultValue:e,experiment:t,isMonline:s})=>{const{css:i,s:a}=(0,ue.y)(Nl),n=(0,Se.Z)(),o=(0,$.z)("overrideConfig"),c=Ol({overrideConfig:o,config:n}),[d,l]=(0,le.useState)(!1),u=(0,le.useCallback)((e=>{let s=c.experiments;if(c.experiments){const r=c.experiments.find((e=>e.name===t.name));if(r){const i=s.indexOf(r);s[i]={name:t.name,value:e}}else s.push({name:t.name,value:e})}else s=[{name:t.name,value:e}];const r=Object.assign(Object.assign({},c),{experiments:s}),i=Cl(r);location.href=`/_/config/set?${i}`}),[c]);return(0,r.jsxs)("div",Object.assign({className:i(a.list,s&&a._wide)},{children:[(0,r.jsx)(We.Z,Object.assign({onClick:()=>l((e=>!e)),styles:a.button},{children:t.name})),d&&t.values.map((s=>(0,r.jsx)("div",Object.assign({onClick:()=>u(`${s}_1`)},{children:(0,r.jsxs)("label",Object.assign({className:i(a.item)},{children:[(0,r.jsx)("input",{type:"radio",value:s,defaultChecked:`${s}_1`===e,name:t.name}),(0,r.jsx)("span",{children:`${s}_1`})]}))}),s)))]}))}));Sl.displayName="ExperimentRadio";const Nl=(0,ue.k)({button:{background:"transparent",color:Ke.O.gray_262626},list:{display:"flex",flexDirection:"column",paddingTop:4,paddingBottom:4,paddingStart:72,paddingEnd:0},_wide:{paddingStart:24},item:{cursor:"pointer",color:Ke.O.gray_929292,wordBreak:"break-all",":hover":{color:Ke.O.gray_262626},"& > input:checked + span":{color:Ke.O.gray_262626}}}),Ml=(0,le.memo)((()=>{const{css:e,s:t}=(0,ue.y)(Tl),s=(0,Se.Z)(),i=s.availableExperiments,{clientId:a,experiments:n}=s,o="30"===a;return(0,r.jsx)(r.Fragment,{children:!!i.length&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",Object.assign({className:e(t.title,o&&t._wide)},{children:"🔬 Эксперименты"})),i.map((e=>{const t=((e,t)=>{const s=e.find((e=>e.name===t.name));return s?s.value:`${t.values.filter((e=>e.match(/without/)))[0]}_1`})(n,e);return(0,r.jsx)(Sl,{experiment:e,defaultValue:t,isMonline:o},e.name)}))]})})}));Ml.displayName="Experiments";const Tl=(0,ue.k)({title:{paddingTop:4,paddingBottom:4,paddingStart:28,paddingEnd:0},_wide:{paddingStart:0}}),Pl=(0,le.memo)((({name:e,isDefaultEnabled:t,isMonline:s})=>{const i=(0,Se.Z)(),{css:a,s:n}=(0,ue.y)(El),o=(0,$.z)("overrideConfig"),c=Ol({overrideConfig:o,config:i}),[d,l]=(0,le.useState)(t),u=(0,le.useCallback)((()=>{l(!d);const t=Object.assign(Object.assign({},c),{[e]:!d}),s=Cl(t);location.href=`/_/config/set?${s}`}),[d,e,c]);return(0,r.jsxs)("li",Object.assign({className:a(n.item,s&&n._mobile,d&&n._withIcon,d&&s&&n._mobileWithIcon)},{children:[d&&(0,r.jsx)("div",Object.assign({className:a(n.icon,s&&n._mobileIcon)},{children:(0,r.jsx)(wl.J,{width:s?16:30,height:s?16:30})})),(0,r.jsx)(We.Z,Object.assign({color:d?"inherit":"gray",onClick:u,styles:n._button},{children:e}))]}))}));Pl.displayName="FeatureCheckbox";const El=(0,ue.k)({item:{paddingTop:4,paddingBottom:4,paddingStart:72,paddingEnd:0,display:"flex",alignItems:"center",position:"relative",":hover":{cursor:"pointer"}},_button:{background:"transparent"},icon:{display:"flex",height:16,width:32,alignItems:"center",lineHeight:"16px",marginEnd:20,color:Ke.O.gray_262626,zIndex:0},_withIcon:{paddingStart:20,width:16},_mobileIcon:{marginEnd:8},_mobile:{paddingStart:24},_mobileWithIcon:{paddingStart:0}}),Ll=(0,le.memo)((()=>{const e=(0,Se.Z)(),{clientId:t}=e,s="30"===t,i=Object.keys(e).filter((e=>e.match(/^feature/gi)));i.sort();const{css:a,s:n}=(0,ue.y)(Rl);return(0,r.jsx)(r.Fragment,{children:!!i.length&&(0,r.jsxs)("div",{children:[(0,r.jsx)("div",Object.assign({className:a(n.title,s&&n._wide)},{children:"👷‍♂️ Фиче-свитчер"})),i.map((t=>(0,r.jsx)(Pl,{name:t,isDefaultEnabled:!!e[t],isMonline:s},t)))]})})}));Ll.displayName="Features";const Rl=(0,ue.k)({title:{paddingTop:4,paddingBottom:4,paddingStart:28,paddingEnd:0},_wide:{paddingTop:4,paddingBottom:4,paddingStart:0,paddingEnd:0}}),zl=(0,le.memo)((()=>{const{godmode:e}=(0,Se.Z)();return e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ll,{}),(0,r.jsx)(Ml,{})]}):null}));zl.displayName="FeatureAndExperimentsSwitcher";var Al=s(17783);const Fl=(0,s(73985).c)(!0),Bl=le.memo((()=>{const e=Fl.use();return(0,r.jsx)(Al.ReactQueryDevtools,{initialIsOpen:!1,toggleButtonProps:{style:{display:e?"block":"none"}}})})),Zl=()=>{const{s:e,css:t}=(0,ue.y)(Ul);return(0,r.jsxs)("ul",Object.assign({className:t(e.list)},{children:[(0,r.jsx)(jl,{text:"Визуализатор моков",href:"/_/mocks/explore"}),(0,r.jsx)(jl,{text:"Config debug",href:"/_/config"}),(0,r.jsx)(jl,{text:"Config reset",href:"/_/config/reset"}),(0,r.jsx)(_l,{cookieName:"bssDebugMode",text:"Логгировать BSS в консоль",reload:!0}),(0,r.jsx)(_l,{cookieName:"is3dDisabled",text:"Включить 2D-карту",reload:!0}),(0,r.jsx)(_l,{cookieName:"mapDebugMode",text:"Включить дебаг карты",reload:!0}),(0,r.jsx)(_l,{cookieName:"searchDebugMode",text:"Включить дебаг поиска",reload:!0}),(0,r.jsx)(jl,{text:"react-query devtools",onClick:()=>{Fl.set((e=>!e))}}),(0,r.jsx)(zl,{})]}))},Ul=(0,ue.k)({list:{boxSizing:"border-box",padding:"28px 0",position:"relative",borderBottom:`1px solid ${Ke.O.gray_e6e6e6}`,"&:last-child":{borderBottom:"none"}}}),Hl=()=>(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"66",height:"28",viewBox:"0 0 66 28"},{children:(0,r.jsx)("path",{fill:"#FFBA00",fillRule:"evenodd",d:"M11.753 9v9.595c0 2.51-.837 3.654-2.93 3.654-1.739 0-2.576-1.112-2.576-3.654V9H0v10.74C0 24.76 3.478 28 8.823 28c5.7 0 9.177-3.24 9.177-8.26V9h-6.247zM43.15 22.233V3H37v24.903l10.27.096c5.863.065 9.73-3.705 9.73-9.439 0-5.863-3.423-9.503-9.89-9.503h-2.186l.032 5.444h1.521c2.79 0 4.279 1.482 4.279 3.898 0 2.48-1.331 3.93-3.296 3.898l-4.311-.064zM31.146 9c-1.977 0-3.854.486-4.447 2.363l-1.417-2.33H21L21.033 28h6.39V17.675c0-2.04 1.285-3.108 3.36-3.108H35V9h-3.854zM65 28V9h-6v19h6zM62 7c2.218 0 4-1.573 4-3.5S64.218 0 62 0s-4 1.573-4 3.5S59.782 7 62 7z"})}));function Dl({height:e=24,width:t=78}){return(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:t,height:e,viewBox:"0 0 78 24",fill:"none"},{children:[(0,r.jsx)("mask",Object.assign({id:"mask0_205_485",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24"},{children:(0,r.jsx)("path",{d:"M18.0408 23.9889C18.5711 23.9778 19.1051 23.9444 19.6279 23.8518C20.1582 23.7554 20.6551 23.6072 21.1372 23.3589C21.6156 23.1217 22.0494 22.8067 22.424 22.4361C22.7985 22.0655 23.1174 21.6356 23.3548 21.1649C23.5995 20.6868 23.7553 20.2014 23.8517 19.6751C23.9481 19.1563 23.9778 18.63 23.9889 18.1038C23.9963 17.8629 23.9963 17.622 24 17.3811V6.6152C24 6.37431 24 6.13342 23.9889 5.89253C23.9778 5.36998 23.9444 4.84003 23.8517 4.32119C23.7553 3.79494 23.5995 3.30574 23.3548 2.83138C23.1137 2.36442 22.7985 1.93453 22.424 1.56022C22.0494 1.18962 21.6119 0.874614 21.1372 0.637431C20.6514 0.396541 20.1582 0.240889 19.6279 0.144534C19.1051 0.0518839 18.5711 0.01853 18.0408 0.00741198C17.9407 0.00741198 17.8405 0.00370599 17.6774 0H6.99011L5.96663 0.011118C5.43634 0.022236 4.90235 0.0555899 4.37948 0.14824C3.8492 0.244595 3.35229 0.396541 2.87021 0.641137C2.39184 0.87832 1.95797 1.19333 1.58344 1.56393C1.2089 1.93453 0.889988 2.36442 0.652658 2.83508C0.404203 3.31316 0.252163 3.79864 0.155748 4.32489C0.0556242 4.84373 0.025958 5.36998 0.0111248 5.89623C0.00370828 6.13712 0.00370828 6.37801 0 6.6189V17.3848C0 17.6257 0.00370828 17.8666 0.0111248 18.1075C0.0222497 18.63 0.0556242 19.16 0.148331 19.6788C0.244747 20.2051 0.400494 20.6943 0.645241 21.1686C0.886279 21.6356 1.20148 22.0655 1.57602 22.4398C1.95056 22.8104 2.38813 23.1254 2.86279 23.3626C3.34858 23.6035 3.84178 23.7591 4.37206 23.8555C4.89493 23.9481 5.42892 23.9815 5.95921 23.9926C6.05933 23.9926 6.15946 23.9963 6.32262 24H16.4425L18.0334 23.9926L18.0408 23.9889Z",fill:"#299400"})})),(0,r.jsxs)("g",Object.assign({mask:"url(#mask0_205_485)"},{children:[(0,r.jsx)("rect",{width:"24",height:"24",fill:"#19AA1E"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0H24V7.875L0 4.125V0Z",fill:"#FFB919"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 21.375L24 17.625V24H0V21.375Z",fill:"#82D714"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 3.65057L8.37739 4.95952C9.42023 4.29942 10.6609 3.9375 12 3.9375C13.8547 3.9375 15.5206 4.6318 16.7336 5.85103C16.8867 6.00488 17.0311 6.16574 17.1664 6.33282L24 7.40055V8.34942L17.8603 7.39011C18.3164 8.26544 18.5625 9.24071 18.5625 10.236C18.5625 11.5218 18.2749 12.8038 17.6804 14.091L17.6623 14.13L17.4098 14.671H16.8127C15.5798 14.671 14.762 15.0398 14.2273 15.6934C13.8075 16.2066 13.5647 16.8984 13.483 17.6532L13.4805 17.6768L13.4686 17.7974L13.4635 17.8499L13.4538 17.9525C13.4225 18.2895 13.4016 18.5753 13.391 18.8082L24 17.1506V18.0994L0 21.8494V20.9006L10.6209 19.241L10.6163 19.028L10.6149 18.9679L10.614 18.9371L10.6123 18.8896C10.6028 18.6313 10.5791 18.3002 10.5412 17.8989L10.5339 17.8228L10.5209 17.691C10.4447 16.9322 10.2055 16.2316 9.78681 15.7108C9.25772 15.0528 8.44744 14.6786 7.22446 14.6711L7.18727 14.671H6.59022L6.33773 14.13C5.73095 12.8297 5.4375 11.5348 5.4375 10.236C5.4375 8.60268 6.10013 7.02329 7.2664 5.85103C7.30007 5.81719 7.33408 5.78375 7.36844 5.75072L0 4.59942V3.65057Z",fill:"white"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4.875C15.3506 4.875 17.625 7.45397 17.625 10.236C17.625 11.3529 17.3813 12.5151 16.8127 13.7335C13.5157 13.7335 12.7019 16.0947 12.548 17.5803L12.5382 17.6793C12.486 18.2095 12.4559 18.6349 12.4476 18.9556L11.5546 19.0952L11.5544 19.0663C11.551 18.7301 11.5192 18.2585 11.4591 17.6515L11.4565 17.625C11.3143 16.1426 10.5176 13.7335 7.18727 13.7335C6.61868 12.5151 6.375 11.3529 6.375 10.236C6.375 7.45397 8.64937 4.875 12 4.875Z",fill:"#0073FA"})]})),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M35.0202 4C31.2805 4 28.476 6.30318 28.5002 10.3031H31.9757C31.9277 8.70305 32.9347 7.15154 35.0202 7.15154C36.6023 7.15154 37.6089 8.21811 37.6089 9.57586C37.6089 10.9818 36.5063 11.7575 34.7326 12.6303C32.4073 13.7695 31.0171 14.303 28.5002 15.1517V19.7577H41.2046V16.3635H33.1985C34.3967 16.0001 35.5715 15.5396 36.6261 15.0302C39.4309 13.6728 41.0848 12.1454 41.0848 9.40582C41.0848 6.10906 38.6397 4 35.0202 4ZM57.8403 12.727V11.5152H49.8342V14.4241H54.3886C53.9091 15.9275 52.3511 16.8485 50.4815 16.8485C47.485 16.8485 45.759 14.4727 45.759 11.9998C45.759 9.52697 47.4609 7.15154 50.5053 7.15154C52.279 7.15154 53.7655 7.95138 54.3644 9.33321H57.8403C57.2169 6.4484 54.6043 4 50.4093 4C45.5194 4 42.4032 7.36975 42.4032 11.9998C42.4032 16.6303 45.615 20 50.2895 20C55.1556 20 57.8403 16.7273 57.8403 12.727ZM59.6624 19.7577H63.0182V4.24229H59.6624V19.7577ZM74.4281 8.84864H77.904C77.5443 5.89085 74.9794 4 71.2642 4C67.5007 4 64.9596 5.79379 64.9596 8.72713C64.9596 11.9757 68.0279 12.9697 70.2093 13.3335C72.2947 13.6728 74.4281 13.9881 74.4281 15.394C74.4281 16.5091 73.4453 17.0907 71.6954 17.0907C69.8737 17.0907 68.6033 16.1698 68.1715 14.9091H64.6959C65.0314 17.9636 68.0997 20 71.5276 20C75.2431 20 78 18.4 78 15.0302C78 11.3941 75.0992 10.9332 72.2947 10.4483C70.1851 10.0849 68.5074 9.74554 68.5074 8.55746C68.5074 7.58795 69.3942 6.90889 71.1441 6.90889C73.1815 6.90889 74.0922 7.80615 74.4281 8.84864Z",fill:"#262626"})]}))}const $l=(0,le.memo)((()=>{const{brandCode:e,defaultCountryCode:t}=(0,Se.Z)();return"urbi"===e?(0,r.jsx)(Hl,{}):"RU"===t?(0,r.jsx)(ma.x,{}):(0,r.jsx)(Dl,{})}));function Vl({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({width:32,height:32,xmlns:"http://www.w3.org/2000/svg"},{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 7H4v2h11.888c-.354 1.65-1.528 3.559-3.283 5.674-.154.187-.312.373-.473.56A32.076 32.076 0 0 1 9.172 11H6.895c1.125 2.13 2.497 4.066 3.89 5.736-1.29 1.388-2.7 2.785-4.101 4.174-.466.462-.932.923-1.391 1.383l1.414 1.414c.444-.444.898-.894 1.357-1.349 1.354-1.341 2.75-2.725 4.048-4.113a36.89 36.89 0 0 0 3.128 3.011l.738-2.008a35.821 35.821 0 0 1-2.521-2.49c.235-.269.465-.538.688-.807 1.861-2.245 3.414-4.625 3.776-6.951H20V7h-7V5h-2v2Zm11.566 6h-2.13l-5.134 14h2.13l1.284-3.5h5.57l1.283 3.5H27.7l-2-5.5h-.019L22.566 13Zm.986 8.5L21.5 15.904 19.45 21.5h4.103Z",fill:e})}))}$l.displayName="Logo";const ql=le.memo((()=>{const{lang:e,supportedLangs:t}=(0,Se.Z)(),s=(0,pe.I0)();return(0,r.jsx)(r.Fragment,{children:t.map(((t,i)=>{const a=Xc(t);if(!a)return null;const n=t===e;return(0,r.jsx)(jl,{text:a,icon:0===i?(0,r.jsx)(Vl,{}):void 0,checkMark:n,onClick:()=>(t=>{t!==e&&s(Jc({lang:t}))})(t)},t)}))})}));function Gl({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M7 25h18v2H7zM14 9V8a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v8a3 3 0 0 0 3 3v1a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V9zM7 7h4a1 1 0 0 1 1 1v5H6V8a1 1 0 0 1 1-1zm-1 9v-1h6v1a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1zm17 4a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1v-1h2a3 3 0 0 0 3-3v-5h9z"})}))}const Wl=(0,le.memo)((({blockStyles:e})=>{const t=(0,ge.T)(),{css:s}=(0,ue.y)(Ql),{desktopAppLink:i}=(0,Se.Z)(),a=(0,Oe.Og)({platform:"android",type:"sideMenu"}),n=(0,Oe.Og)({platform:"ios",type:"sideMenu"});return(0,r.jsx)(Dt.w,{children:(0,r.jsxs)("ul",Object.assign({className:s(e)},{children:[a&&(0,r.jsx)(jl,{text:t._t("Android"),href:a,bssName:"Android2gis",icon:(0,r.jsx)(Gl,{})}),n&&(0,r.jsx)(jl,{text:t._t("iOS"),href:n,bssName:"iOS2gis"}),i&&(0,r.jsx)(jl,{text:t._t("ПК-версия"),href:`${i}?utm_source=online&utm_medium=product&utm_campaign=sidebar`,bssName:"PC2gis"})]}))})})),Ql=(0,ue.k)({});var Kl=s(31559),Jl=s(6113);const Yl=({place:e})=>{var t,s;const r=(0,Se.Z)(),{zoom:i}=(0,pe.v9)(K.Z1),a=null===(s=null===(t=(0,pe.v9)(o.kG))||void 0===t?void 0:t.data)||void 0===s?void 0:s.countryCode,n=`?utm_medium=${e}&utm_campaign=2gis5`;return!(i>8)||a&&Jl.Qd.includes(a)?{licenseAgrUrl:`${r.licenseAgr}${n}`,privacyUrl:`${r.privacyUrl}${n}`}:{licenseAgrUrl:`https://law.2gis.com.cy/licensing-agreement${n}`,privacyUrl:`https://law.2gis.com.cy/privacy${n}`}};var Xl=s(32629);const eu=({color:e="currentColor",width:t="24",height:s="24"})=>(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:t,height:s,viewBox:"0 0 24 24"},{children:(0,r.jsx)("path",{fill:e,fillRule:"evenodd",d:"M12 3a7 7 0 0 0-6.49 9.626l.217.538.576.078C9.471 13.668 11 15.798 11 20h2c0-4.202 1.53-6.332 4.697-6.758l.576-.078.217-.538A7 7 0 0 0 12 3zm0 2a5 5 0 0 1 5 5l-.008.278c-.02.37-.08.732-.181 1.086l-.17.035c-2.12.471-3.652 1.633-4.58 3.43l-.061.123-.061-.124c-.928-1.796-2.46-2.958-4.58-3.429l-.171-.035A5 5 0 0 1 12 5z"})})),tu=[{key:"2ГИС Армения",href:"https://2gis.am/",domain:"2gis.am"},{key:"2ГИС Казахстан",href:"https://2gis.kz/",domain:"2gis.kz"},{key:"2ГИС Киргизия",href:"https://2gis.kg/",domain:"2gis.kg"},{key:"2ГИС ОАЭ",href:"https://2gis.ae/",domain:"2gis.ae"},{key:"2ГИС Узбекистан",href:"https://2gis.uz/",domain:"2gis.uz"},{key:"2ГИС Беларусь",href:"https://2gis.by/",domain:"2gis.by"},{key:"2ГИС Азербайджан",href:"https://2gis.az/",domain:"2gis.az"},{key:"2ГИС Россия",href:"https://2gis.ru/",domain:"2gis.ru"}],su=(0,le.memo)((e=>{const{css:t,s}=(0,ue.y)(ru),i=(0,ge.T)(),{baseDomain:a}=(0,Se.Z)(),{region:n,godmode:o,lang:c,openGuidebook:d,openPopupAddOrg:l,openInteresting:u,showFeedback:p,openPrintWindow:g,showLogoutButton:m,onLogoutClick:h}=e,f="2gis.ru"===a&&"ru"===c,v="2gis.ru"===a&&"ru"===c,{regionName:b,regionId:y,showJobLink:x,showApi2gisLink:j,licenseAgrUrl:w,privacyUrl:_,showGuidebook:C,showInteresting:I,dataSalesLink:k,brandName:O,showLanguageSwitcher:S,adsLink:N}=(({region:e})=>{const t=(0,pe.v9)((0,Kl.tb)("interesting")),s=(0,pe.v9)((0,Kl.tb)("guidebook")),{licenseAgrUrl:r,privacyUrl:i}=Yl({place:"sidebar"}),a=(0,Se.Z)();return(0,le.useMemo)((()=>{var n,o;const{brandName:c,dataSales:d,showDataSalesLink:l,showJobLink:u,showApi2gisLink:p,dashboardCarouselItems:g,featureCart:m,adsLink:h}=a,f=-1!==g.indexOf("guidebook"),v=-1!==g.indexOf("interesting");return{regionId:e&&e.id||"0",brandName:c,licenseAgrUrl:r,privacyUrl:i,showJobLink:u,showApi2gisLink:p,regionName:null==e?void 0:e.name,showGuidebook:f&&!!(null===(n=null==s?void 0:s.collections)||void 0===n?void 0:n.length),showInteresting:v&&!!(null===(o=null==t?void 0:t.collections)||void 0===o?void 0:o.length),dataSalesLink:l?`${d}?utm_source=online&utm_medium=product&utm_campaign=sidebar`:void 0,showCart:m,showLanguageSwitcher:a.supportedLangs.length>1,adsLink:h}}),[a,r,i,s,t,e])})({region:n});return(0,r.jsxs)("div",Object.assign({className:t(s.container)},Ye.dx.n("wat-sidebar"),{children:[(0,r.jsx)("div",Object.assign({className:t(s.header)},{children:(0,r.jsx)("a",Object.assign({href:"/",className:t(s.logo)},{children:(0,r.jsx)($l,{})}))})),(0,r.jsx)("div",Object.assign({className:t(s.listWrap)},{children:(0,r.jsxs)(bl.Xs,{children:[o&&(0,r.jsx)(Zl,{}),(C||I)&&(0,r.jsxs)("ul",Object.assign({className:t(s.list,s._tallList)},{children:[C&&(0,r.jsx)(Dt.w,{children:(0,r.jsx)(jl,{text:i._t("Путеводитель по городу"),icon:(0,r.jsx)(gl,{}),bssName:"guidebookIcon",tall:!0,onClick:d})}),I&&(0,r.jsx)(Dt.w,{children:(0,r.jsx)(jl,{text:i._t("Интересные места"),icon:(0,r.jsx)(ml,{}),bssName:"interestingIcon",tall:!0,onClick:u})})]})),(0,r.jsx)(Wl,{blockStyles:s.list}),(0,r.jsxs)("ul",Object.assign({className:t(s.list)},{children:[(0,r.jsxs)(Dt.w,{children:[(0,r.jsx)(jl,{text:i._t("Добавить организацию"),icon:(0,r.jsx)(hl.e,{}),dataN:"wat-add-org-button",bssName:"addFirm2gis",onClick:l}),(0,r.jsx)(jl,{text:i._t("Вход для бизнеса"),href:`http://account.2gis.com/?language=${c}&id=${y}&utm_source=2gisonline&utm_medium=products&utm_campaign=sidebar`,bssName:"businessAuthIcon"}),(0,r.jsx)(jl,{text:i._t("Реклама"),href:`${N}?language=${c}&id=${y}&utm_medium=product&utm_source=online&utm_campaign=sidebar`,bssName:"ads2gis"})]}),j&&(0,r.jsx)(jl,{text:i._t("API %1",[O]),href:`http://redirect.2gis.com/api/?language=${c}&id=${y}&utm_medium=product&utm_source=online&utm_campaign=sidebar`,bssName:"API2gis"}),k&&(0,r.jsx)(jl,{text:i._t("Данные %1",[O]),href:k})]})),x&&(0,r.jsx)("ul",Object.assign({className:t(s.list)},{children:(0,r.jsx)(jl,{text:i._t("Работа в %1",[O]),href:`http://job.2gis.ru/?city=${b}&utm_medium=product&utm_source=online&utm_campaign=sidebar`,icon:(0,r.jsx)(fl,{}),bssName:"job2gis"})})),(0,r.jsxs)("ul",Object.assign({className:t(s.list)},{children:[(0,r.jsx)(Dt.w,{children:(0,r.jsx)(jl,{text:i._t("Обратная связь"),onClick:p,icon:(0,r.jsx)(vl,{}),bssName:"feedback2gis"})}),"ru"===c&&(0,r.jsx)(jl,{text:i._t("Справка"),href:"https://help.2gis.ru/",bssName:"helpIcon"}),(0,r.jsx)(jl,{href:w,text:i._t("Лицензионное соглашение"),bssName:"license2gis"}),(0,r.jsx)(jl,{href:_,text:i._t("Политика конфиденциальности")})]})),(0,r.jsx)(Xt.N,{children:(0,r.jsx)("ul",Object.assign({className:t(s.list)},{children:(0,r.jsx)(jl,{text:i._t("Печать"),onClick:g,icon:(0,r.jsx)(pd,{}),bssName:"print"})}))}),(0,r.jsxs)(r.Fragment,{children:[v&&(0,r.jsx)("ul",Object.assign({className:t(s.list)},{children:(0,r.jsx)(jl,{text:i._gg("Отели и гостиницы"),href:"https://otello.ru/",icon:(0,r.jsx)(Xl.S,{color:"#262626"}),dataN:"wat-hotels"})})),f&&(0,r.jsx)("ul",Object.assign({className:t(s.list)},{children:tu.filter((({domain:e})=>e!==a)).map((({key:e,href:t,domain:s},a)=>(0,r.jsx)(jl,Object.assign({text:i._gg(e),href:t,dataN:"wat-domain"},0===a?{icon:(0,r.jsx)(eu,{width:"32px",height:"32px"})}:null),s)))}))]}),S&&(0,r.jsx)(Xt.i,{children:(0,r.jsx)("ul",Object.assign({className:t(s.list)},{children:(0,r.jsx)(ql,{})}))}),m&&(0,r.jsx)(Dt.w,{children:(0,r.jsx)("ul",Object.assign({className:t(s.list)},{children:(0,r.jsx)(jl,{text:i._t("Выйти"),onClick:h,dataN:"wat-logout-button"})}))})]})}))]}))})),ru=(0,ue.k)({container:{height:"100%"},header:{padding:"20px 24px"},list:{boxSizing:"border-box",padding:"28px 0",position:"relative",borderBottom:`1px solid ${Ke.O.gray_e6e6e6}`,"&:last-child":{borderBottom:"none"}},_tallList:{padding:"16px 0"},listWrap:{flex:"1 1 auto",position:"relative",height:"calc(100% - 72px)"},logo:{display:"flex",width:120,height:28,alignItems:"center",cursor:"pointer"}}),iu=le.memo((e=>{const{lang:t,region:s,godmode:i,openPopupAddOrg:a,showLogoutButton:n,openInteresting:o,openGuidebook:c,openPrintWindow:d,onLogoutClick:l,bssOnFeedbackClick:u,showFeedback:p}=e,g=be.Y.use(),m=(0,as.$)((()=>{const{bssSideMenuClick:t}=e;be.Y.set((e=>!e)),g||t()})),h=(0,as.$)((()=>{p(),u()}));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Xt.N,{children:(0,r.jsx)(cl,{})}),(0,r.jsx)(pl,Object.assign({type:"sideMenu",isHidden:!g},{children:(0,r.jsx)(su,{lang:t,region:s,showFeedback:h,openPopupAddOrg:a,godmode:i,showLogoutButton:n,openInteresting:o,openGuidebook:c,openPrintWindow:d,onLogoutClick:l})})),g?(0,r.jsx)(ll,{isSideBarShown:g,onClick:m}):(0,r.jsx)(Xt.N,{children:(0,r.jsx)(ll,{isSideBarShown:g,onClick:m})})]})}));iu.displayName="Sidebar";const au=(0,mt.z)(void 0,ul.r)((0,kt.$j)(sl,al)(iu));var nu=s(75310),ou=s(11251);const cu=(0,kt.X1)((e=>({notifications:e.appContext.weak.notifications})));var du=s(76171);const lu=(0,kt.Z3)((e=>({onNotificationClick(t){e((0,du.y)({id:t}))}})));function uu({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M19.19 12.14l.44-2.21a3 3 0 0 0-2-3.44l-2.15-.71-.38.77a22.31 22.31 0 0 1-4.75 6.18L10 13v11.94l10.17.61h.31a5 5 0 0 0 4.88-3.93l1.85-8.49zm4.21 9.06a3 3 0 0 1-3.11 2.36l-8.29-.5V14a24.08 24.08 0 0 0 4.48-5.75l.53.18a1 1 0 0 1 .66 1.15l-.86 4.32 8 1zM6 13h2v12H6z"})}))}class pu extends le.PureComponent{constructor(){super(...arguments),this.handleClick=()=>{this.props.onClick(this.props.notification.id)}}render(){const{title:e,message:t,icon:s,s:i,bssRef:a}=this.props;return(0,r.jsxs)("div",Object.assign({ref:a,className:(0,pt.iv)(i.notification)},Ye.dx.n("wat-notification"),Ye.dx.t("error"===s?"error":"success"),{onClick:this.handleClick},{children:[(0,r.jsx)("div",Object.assign({className:(0,pt.iv)(i.icon,"error"===s&&i._error)},{children:(0,r.jsx)(uu,{})})),(0,r.jsx)("div",Object.assign({className:(0,pt.iv)(i.title)},{children:e})),(0,r.jsx)("div",Object.assign({className:(0,pt.iv)(i.message)},{children:t}))]}))}componentDidMount(){this.hideTimer=window.setTimeout((()=>{this.handleClick()}),6e3)}componentWillUnmount(){window.clearTimeout(this.hideTimer)}}pu.displayName=(0,Ct.I)("src/modules/notifications/components/notification");const gu={notification:{background:Ke.O.white,paddingTop:20,paddingBottom:20,paddingStart:56,paddingEnd:12,boxShadow:_n.q.popup,borderRadius:Qe.E0.isolate,cursor:"pointer",position:"relative",animationName:{from:{transform:"translateY(30px)",opacity:0},to:{transform:"translateY(0)",opacity:1}},animationDuration:`${Ps.l.short}ms`},icon:{color:Ke.O.green_299400,position:"absolute",top:16,start:12},_error:{color:Ke.O.red_fe5000,transform:"rotate(180deg)"},title:Object.assign(Object.assign({},Xe.Rw),{marginBottom:4}),message:Object.assign({},Xe.oN)},mu=(0,mt.z)((e=>{const{notification:t}=e,s=t.payload.bssName;if(s)return{uiElement:{name:s,frameUuid:e.notification.id},payload:t.payload.payload}}))((0,lr.C)((({notification:e})=>{const{type:t,payload:s}=e;return{title:s.title,message:s.message,icon:"success"===t?"success":"error"}}))((0,pt.D2)(gu)(pu)));class hu extends le.PureComponent{constructor(){super(...arguments),this.handleNotificationClick=e=>{this.props.onNotificationClick(e)}}render(){const{notifications:e,s:t}=this.props;return e.length?(0,r.jsx)("div",Object.assign({className:(0,pt.iv)(t.root)},{children:e.slice(-3).map((e=>(0,r.jsx)("div",Object.assign({className:(0,pt.iv)(t.item)},{children:(0,r.jsx)(mu,{notification:e,onClick:this.handleNotificationClick},e.id)}),e.id)))})):null}}hu.displayName=(0,Ct.I)("src/modules/notifications");const fu=(0,kt.$j)(cu,lu)((0,pt.D2)((({mobile:e})=>({root:{position:"absolute",top:72,end:e?"initial":16,width:e?"100%":304,boxSizing:"border-box",paddingStart:e?20:0,paddingEnd:e?20:0},item:{marginBottom:16}})))(hu));function vu(){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"46",height:"20",viewBox:"0 0 46 20",fill:"none"},{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.94557 4C3.10921 4 0.981934 5.72727 1.00012 8.72727H3.63648C3.60012 7.52727 4.36375 6.36364 5.94557 6.36364C7.14557 6.36364 7.90921 7.16364 7.90921 8.18182C7.90921 9.23636 7.07284 9.81818 5.72739 10.4727C3.96375 11.3273 2.90921 11.7273 1.00012 12.3636V15.8182H10.4547V13.4545H4.56375C5.47513 13.0746 6.3622 12.6575 7.16375 12.2727C9.29102 11.2545 10.5456 10.1091 10.5456 8.05455C10.5456 5.58182 8.69102 4 5.94557 4ZM14.6365 6.54545H20.091V4.18182H12.091V15.8182H14.6365V6.54545ZM23.9092 4.18182H21.3638V15.8182H23.891L28.6365 8.38182V15.8182H31.1819V4.18182H28.6365L23.9092 11.6182V4.18182ZM43.9637 11.4545H41.3274C40.9274 12.7455 39.7092 13.6364 38.2728 13.6364C36.1819 13.6364 34.8183 11.8364 34.8183 10C34.8183 8.16364 36.1456 6.36364 38.3456 6.36364C39.8001 6.36364 40.9274 7.25455 41.3274 8.54545H43.9637C43.5819 5.94545 41.5274 4 38.2728 4C34.6728 4 32.2728 6.52727 32.2728 10C32.2728 13.4727 34.6728 16 38.2728 16C41.5274 16 43.5819 14.0909 43.9637 11.4545Z",fill:"currentColor"})}))}function bu(){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"40",height:"20",fill:"none",viewBox:"0 0 40 20"},{children:(0,r.jsx)("path",{fill:"currentColor",d:"M2 8.727C1.982 5.727 4.05 4 6.808 4c2.669 0 4.472 1.582 4.472 4.054 0 2.055-1.22 3.2-3.288 4.219-.778.382-1.644.909-2.527 1.181h5.903V16H2v-3.34c1.856-.636 2.881-1.333 4.596-2.187 1.308-.655 2.12-1.237 2.12-2.291 0-1.018-.742-1.818-1.908-1.818-1.538 0-2.28 1.163-2.245 2.363H2zM23.635 9.636v.91c0 3-1.98 5.454-5.568 5.454-3.447 0-5.815-2.527-5.815-6s2.298-6 5.903-6c3.094 0 5.02 1.836 5.48 4h-2.563c-.442-1.036-1.538-1.636-2.846-1.636-2.245 0-3.5 1.781-3.5 3.636 0 1.854 1.273 3.636 3.483 3.636 1.378 0 2.527-.69 2.88-1.818h-3.358V9.636h5.904zM27.453 16h-2.475V4h2.475v12zM38.43 7.636h-2.564c-.248-.781-.919-1.454-2.421-1.454-1.29 0-1.945.509-1.945 1.236 0 .891 1.237 1.146 2.793 1.418l.068.012c2.047.36 4.139.727 4.139 3.425C38.5 14.8 36.467 16 33.727 16c-2.527 0-4.79-1.527-5.037-3.818h2.563c.318.945 1.255 1.636 2.598 1.636 1.29 0 2.015-.436 2.015-1.272 0-1.032-1.505-1.28-3.01-1.53l-.1-.016c-1.61-.273-3.872-1.018-3.872-3.455 0-2.2 1.874-3.545 4.65-3.545 2.739 0 4.63 1.418 4.895 3.636z"})}))}const yu=(0,le.memo)((()=>{const{brandName:e,lang:t}=(0,Se.Z)();if("Urbi"===e)return null;return"ru"===t?(0,r.jsxs)(xu,{children:[(0,r.jsx)(vu,{}),false]}):(0,r.jsxs)(xu,{children:[(0,r.jsx)(bu,{}),false]})})),xu=({children:e})=>{const{css:t,s}=(0,ue.y)(ju),{lang:i}=(0,Se.Z)(),a="ru"===i?"https://dev.2gis.ru":"https://dev.2gis.com";return(0,r.jsx)(We.Z,Object.assign({external:!0,href:a,styles:s.root},{children:(0,Y.oA)(e).map(((e,i)=>(0,r.jsx)("div",Object.assign({className:t(s.item)},{children:e}),i)))}))},ju=(0,ue.k)({root:{display:"flex",justifyContent:"flex-end",height:16,marginBottom:3},item:{marginStart:8,color:Ke.O.gray_262626}}),wu=(0,le.memo)((()=>{const{s:e,css:t}=(0,ue.y)(_u),{comma:s}=(0,Se.Z)(),i=(0,ge.T)(),{licenseAgrUrl:a,privacyUrl:n}=Yl({place:"map-footer"});return(0,r.jsxs)("div",Object.assign({className:t(e.copyright)},{children:[(0,r.jsx)(yu,{}),(0,r.jsx)(We.Z,Object.assign({color:"dark",external:!0,href:a},{children:i._t("Лицензионное соглашение")})),s," ",(0,r.jsx)(We.Z,Object.assign({color:"dark",external:!0,href:n},{children:i._t("Политика конфиденциальности").toLowerCase()}))]}))})),_u=(0,ue.k)({copyright:Object.assign(Object.assign({position:"absolute",bottom:16,end:72,textAlign:"right"},Xe.Vz),{userSelect:"none"})});class Cu extends le.PureComponent{render(){const{s:e,links:t}=this.props;return(0,r.jsx)("div",Object.assign({className:(0,pt.iv)(e.root)},Ye.dx.n("wat-awesome-dash"),{children:t.map((({url:t,name:s},i)=>(0,r.jsx)("a",Object.assign({className:(0,pt.iv)(e.item),href:t},{children:s}),i)))}))}}Cu.displayName=(0,Ct.I)("src/modules/seoDash");const Iu={root:{position:"absolute",bottom:0,left:0,right:0,height:21,overflowY:"scroll",background:Ke.O.white},item:Object.assign(Object.assign({},Xe.FY),{display:"inline-block",margin:"0 4px",color:Ke.O.blue_0072ce})},ku=(0,fn.G)({selectors:()=>({seoStoreData:e=>e.data.seoStore}),handlers:{}})((0,lr.C)((({seoStoreData:e})=>{var t,s;if(null===(s=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.links)||void 0===s?void 0:s.length)return{links:e.data.links}}))((0,pt.D2)(Iu)(Cu)));var Ou=s(66030),Su=s(13829),Nu=s(60555);const Mu=(0,C.gQ)("handleEditClick",(e=>(0,C.vP)((0,O.BN)(),(0,Su.b)(e),(0,Nu.y)())));var Tu=s(91128);const Pu={onEditClick:Mu};class Eu extends le.PureComponent{constructor(){super(...arguments),this.handleEditClick=()=>{this.props.onEditClick(this.props.toast.item)}}render(){const{title:e,s:t,i18n:s}=this.props;return(0,r.jsxs)("div",Object.assign({className:(0,pt.iv)(t.root)},Ye.dx.n("wat-added-to-collection"),{children:[(0,r.jsx)("span",Object.assign({className:(0,pt.iv)(t.title)},{children:e})),(0,r.jsx)(Ci.z,Object.assign({dataN:"wat-change-collection-button",onClick:this.handleEditClick,compact:!0,appearance:"primary"},{children:s.tp._t("Изменить")}))]}))}}const Lu={root:{display:"flex",alignItems:"center",paddingTop:12,paddingBottom:12,paddingStart:16,paddingEnd:12,width:"max-content",maxWidth:312,boxSizing:"border-box",wordBreak:"break-word",background:Ke.O.white,borderRadius:Qe.E0.default,boxShadow:_n.q.popup,"& > button":{flexShrink:0}},title:{marginEnd:12}},Ru=(0,pt.D2)(Lu)((0,gt.$)()(Eu)),zu=(0,fn.G)({selectors:({toast:e})=>({collection:(0,Ou.nA)(e.collectionId)}),handlers:Pu})((0,lr.C)(((e,t)=>{const{collection:s}=e,{tp:r}=t;if(s)return{title:r._t("Добавлено в «%1»",[(0,Tu.c)(s,t)])}}))(Ru));var Au=s(24568),Fu=s(75502),Bu=s(36291);const Zu=({onClose:e,timeout:t,children:s,targetBoundingClientRect:i,to:a,offset:n})=>{const o=le.useRef(null);return(0,Fu.k)(o,e,t),(0,Au.t)(o,e),(0,r.jsx)(Bu.k,Object.assign({innerRef:o,targetBoundingClientRect:i,to:a,offset:n||8},{children:s}))};const Uu=(0,le.memo)((({type:e,to:t})=>{const{css:s,s:i,dir:a}=(0,ue.y)(Hu),n=(0,Ud.A)(Nu.y),c=(0,ge.T)(),{bssRef:d}=(0,Je.T)((l={type:e},(e,t)=>{const s=function(e){if("layer_exchange"===e)return"exchangeCurrencyLayerPromo"}(l.type);if(s)return{uiElement:{name:s,frameUuid:t.appContext.staticFrames.map.id}}}));var l;const u=(0,pe.v9)(o.kL),p=(0,le.useMemo)((()=>"centerEnd"===t?[i._center,"rtl"===a&&i._rtl]:i._default),[t]),g=(0,le.useMemo)((()=>{switch(e){case"layer_metro":return c._t("Включите&nbsp;слой&nbsp;с&nbsp;метро, так удобнее планировать маршруты");case"realty":return c._gg("Покажем, все объявления в этом доме");case"ppng":return c._gg("Теперь строим маршруты\n для грузового транспорта!");case"layer_realty_heatmap":return(null==u?void 0:u.flags.metro)?c._gg("Покажем,&nbsp;сколько&nbsp;минут&nbsp;идти&nbsp;пешком&nbsp;до&nbsp;метро"):c._gg("Недвижимость&nbsp;города&nbsp;теперь&nbsp;на&nbsp;карте.\nВыбирайте&nbsp;её&nbsp;в&nbsp;отдельном&nbsp;слое");case"layer_realty_sublayers":return(null==u?void 0:u.flags.metro)?c._gg("Включите&nbsp;тепловую&nbsp;карту&nbsp;доступности&nbsp;метро"):c._gg("Включите&nbsp;тепловую&nbsp;карту\nс&nbsp;ценами&nbsp;аренды&nbsp;или&nbsp;продажи");case"layer_photo":return c._t("Прекрасное&nbsp;рядом&nbsp;—&nbsp;посмотрите!\nПоказываем&nbsp;на&nbsp;карте&nbsp;фотографии&nbsp;города");case"layer_exchange":return c._gg("Курсы&nbsp;валют на&nbsp;карте");case"exchange_input":return c._gg("Курс&nbsp;выгодней\nпри&nbsp;обмене&nbsp;большей&nbsp;суммы");case"layer_road_accident":return c._gg("Аварийные места на карте");case"layer_tourism":return c._t("Туристические места")}}),[e]);return(0,r.jsx)("div",Object.assign({className:s(i.tooltip,p),onClick:n,ref:d},Ye.dx.n("wat-layer-promo"),Ye.dx.t(e),{children:g}))})),Hu=(0,ue.k)({tooltip:{background:Ke.O.blue_028eff,color:Ke.O.white,borderRadius:Qe.E0.default,boxShadow:_n.q.popup,paddingTop:12,paddingBottom:8,paddingStart:16,paddingEnd:16,boxSizing:"border-box",margin:"auto",userSelect:"none",position:"relative",whiteSpace:"pre-wrap","::before":{content:'""',width:0,height:0,border:"4px solid transparent",borderBottomColor:Ke.O.blue_028eff,position:"absolute"}},_default:{"::before":{top:0,start:"50%",marginTop:-8,marginStart:-4}},_center:{"::before":{marginTop:-4,marginStart:-8,top:"50%",start:0,transform:"rotate(-90deg)"}},_rtl:{"::before":{transform:"rotate(90deg)"}}}),Du=()=>{const e=(0,pe.v9)((e=>e.appContext.weak.toast)),t=(0,Ud.A)(Nu.y),s=le.useCallback((()=>{t()}),[]);if(!e)return null;switch(e.type){case"addedToCollection":return(0,r.jsx)(Zu,Object.assign({onClose:s,timeout:3e3,targetBoundingClientRect:e.targetBoundingClientRect,to:"bottomBottomStart"},{children:(0,r.jsx)(zu,{toast:e})}));case"showPromoToast":return(0,r.jsx)(Zu,Object.assign({onClose:s,timeout:2e4,targetBoundingClientRect:e.targetBoundingClientRect,to:e.to,offset:e.offset},{children:(0,r.jsx)(Uu,{type:e.subtype,to:e.to})}));default:return null}};var $u=s(1209),Vu=s(5076);const qu=le.memo((()=>{const[e,t]=(0,le.useState)(void 0);(0,$u.x)({type:"map:hint",handler:e=>{t(e)}});const{s,css:i}=(0,ue.y)(Gu);if(!e||"undefined"==typeof window)return null;const a=(0,Vu.Y)(e.point);return(0,r.jsx)(Bu.k,Object.assign({targetBoundingClientRect:a,to:"bottomEnd",offset:8,pointerEvents:"none"},{children:(0,r.jsx)("div",Object.assign({className:i(s.hint)},{children:e.text}))}))}));qu.displayName="Hint";const Gu=(0,ue.k)({hint:Object.assign(Object.assign({},Xe.oN),{background:Ke.O.white,boxShadow:_n.q.popup,borderRadius:Qe.E0.default,padding:"4px 8px",whiteSpace:"nowrap"})});var Wu=s(92682),Qu=s(38859),Ku=s(2267);var Ju=s(66679),Yu=s(20072);const Xu=(0,C.gQ)("replaceFrameInBuildingWithOriginalSearchIfNeeded",(e=>(0,C.xJ)((t=>{if(!e)return(0,C.ZT)();const s=t.appContext.frames.find(Ju.n);if(s){const r=function(e,t){for(const s of[...e].reverse())for(const e of s)if(t(e))return e}(t.appContext.graveyard,(t=>(0,Yu.E)(t)&&((0,q.QB)(t)===e||(0,q.vr)(t)===e)));if(r&&(0,Yu.E)(r))return(0,R.Wk)(Object.assign(Object.assign({},r),{id:s.id}))}}))));var ep=s(78059),tp=s(6844),sp=s(95328);const rp=(0,C.gQ)("getEntityByPoint",(e=>(0,C.xJ)((t=>{const s=t.appContext.zoom,r=t.session.is3dEnabled;if(s)return(0,C.vP)((0,Z.zh)((i=>(0,ep.I5)({point:e.point,zoom:Math.ceil(s),regionId:(0,o.yH)(t)||"0",searchId:e.searchId,is3dEnabled:r,viewpoint:i}))),(0,C.xJ)((t=>{const s=(0,tp.c)({state:t,searchId:e.searchId});if(!s.meta||"error"===s.meta.status)return;if(!s.data||!s.data.items.length)return;const r=s.data.items[0],i=(0,l.wj)({state:t,entityId:r});return i.data?"point"===i.data.type?(0,sp.W)({point:e.point,shouldCenterMap:!1}):(0,L.WZ)({entityId:i.data.id,frameId:e.frameId,statusId:e.statusId,searchId:e.searchId,gtaId:e.gtaId,clickPoint:e.point,isOpenedFromMap:e.isOpenedFromMap,trackBssOnLoading:e.trackBssOnLoading,skipFetchEntity:!0}):void 0})))})))),ip=(0,C.gQ)("openEntityFromMap",(({mapAdsId:e,entityId:t,point:s,entityIcon:r,isCommercial:i,trackBssOnLoading:a})=>{const n=(0,Y.by)(),o=(0,Y.by)(),c=(0,Y.by)(),d=(0,Y.by)();return(0,C.vP)((0,O.BN)(),(0,xi.KO)(),(0,Qu.p)(),(0,Z._N)(K.Wr,Xu),(0,Ku.HP)({frameId:n,entityId:t,searchId:c,gtaId:d,statusId:o,point:s,entityIcon:r,isCommercial:i}),t?ap({entityId:t,point:s,frameId:n,statusId:o,gtaId:d,searchId:c,mapAdsId:e,trackBssOnLoading:a}):rp({point:s,frameId:n,statusId:o,searchId:c,gtaId:d,trackBssOnLoading:a,isOpenedFromMap:!0}))})),ap=(0,C.gQ)("getEntityById",(e=>(0,C.vP)((0,L.WZ)({entityId:(0,Y._J)(e.entityId),frameId:e.frameId,statusId:e.statusId,searchId:e.searchId,gtaId:e.gtaId,clickPoint:e.point,mapAdsId:e.mapAdsId,trackBssOnLoading:e.trackBssOnLoading,isOpenedFromMap:!0}),(0,Z.Mb)(e.frameId,(t=>{if(!t||"pending"!==t.type)return(0,C.ZT)();const s=(0,Y.by)(),r=(0,Y.by)(),i=(0,Y.by)();return rp({point:e.point,frameId:e.frameId,statusId:s,searchId:r,gtaId:i,trackBssOnLoading:e.trackBssOnLoading})})))));var np=s(43854),op=s(27826);const cp=(0,C.gQ)("clickMap",(({entityId:e,point:t,center:s,type:r,isCommercial:i,sysCode:a,isPersonal:n,isCityCommercial:o,isPremiumCommercial:c,entityIcon:d})=>{const l=s?{lon:s[0],lat:s[1]}:t;return(0,cs.zc)((t=>(0,Z.gF)({hashmap:e=>{var t;return null===(t=e.data.realty.hashmap.default)||void 0===t?void 0:t.data},isRealty:e=>"realty"===e.appContext.activeLayer,poiCategory:e=>(0,op.Q)(e,{checkPremium:!1})},(({hashmap:s,isRealty:u,poiCategory:p})=>{const g=e=>{var s,d;return"rmbMenuItem"!==r?function(e){const{entity:t,type:s,sysCode:r,isCommercial:i,isPersonal:a,isCityCommercial:n,isPremiumCommercial:o,isModel3d:c,isContext:d,forcedEventOrdinal:l}=e;switch(s){case"poi":return(0,Wu.Y8)({sysCode:r,isCommercial:i,isPersonal:a,isCityCommercial:n,isPremiumCommercial:o,isContext:d,forcedEventOrdinal:l,entity:t});case"routePlatformPoint":return(0,Wu.OF)({forcedEventOrdinal:l});default:return(0,Wu.VO)({entity:t,isModel3d:c,forcedEventOrdinal:l})}}({entity:e,type:r,sysCode:a,isCommercial:i,isPersonal:n,isCityCommercial:o,isPremiumCommercial:c,isModel3d:null===(d=null===(s=null==e?void 0:e.ads)||void 0===s?void 0:s.options)||void 0===d?void 0:d["3d"],isContext:p?"branch"===(null==e?void 0:e.type)&&e.poi_category===p:void 0,forcedEventOrdinal:t}):(0,C.ZT)()};return u&&s&&e&&void 0!==s[e]?(0,np.nv)((t=>(0,xe.T)({entity:{id:e,type:"building"},suggestId:null==t?void 0:t.suggestId}))):u?(0,ve.C)(ip({entityId:e,point:l,entityIcon:d,isCommercial:i,trackBssOnLoading:g})):ip({entityId:e,point:l,entityIcon:d,isCommercial:i,trackBssOnLoading:g})}))))}));var dp=s(10910),lp=s(39419),up=s(67226);const pp=e=>{const{type:t,lonLat:s}=e,r={type:"point",lonLat:s},i="dirTo"===t?[void 0,r]:[r,void 0];return(0,Z._N)((e=>(0,q.t0)(e.appContext.frames,"directions")),(e=>{if(e){const r=e.points.length-1,i="dirTo"===t?r:0,a=(0,lp.z)({type:"point",lonLat:s}),n=(0,up.r)(a,e.points,i)||e.points;return(0,dp.R)({frameId:e.id,tab:e.tab,framePoints:n})}return(0,me.b)({points:i})}))},gp=(0,C.gQ)("contextMenuClick",(e=>{const{type:t,lonLat:s,entityId:r}=e;return mp(t,s,r)})),mp=(e,t,s)=>{switch(e){case"info":return cp({type:"rmbMenuItem",point:t,entityId:s});case"dirTo":return pp({type:"dirTo",lonLat:t});case"dirFrom":return pp({type:"dirFrom",lonLat:t});case"share":return(0,C.vP)(cp({type:"rmbMenuItem",point:t,entityId:s}),(0,Z._N)((e=>(0,q.t0)(e.appContext.frames,"entity")),(e=>(0,od.q)({frameId:null==e?void 0:e.id}))))}};var hp=s(71351);const fp=({color:e="currentColor"})=>(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},{children:(0,r.jsx)("path",{fill:e,fillRule:"evenodd",d:"M17 3a4 4 0 1 1-3.017 6.626l-3.07 1.536a4.016 4.016 0 0 1 0 1.676l3.07 1.536a4 4 0 1 1-.895 1.789l-3.07-1.537a4 4 0 1 1 0-5.253l3.07-1.535A4 4 0 0 1 17 3zm0 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zM7 10a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm10-5a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"})})),vp=({color:e="currentColor"})=>(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},{children:(0,r.jsx)("path",{fill:e,fillRule:"evenodd",d:"M13 21a6 6 0 0 1-5.996-5.775L7 15l-.001-2.1A5.002 5.002 0 0 1 8 3a5 5 0 0 1 1 9.9V15a4 4 0 0 0 7.995.2L17 15v-4h2v4a6 6 0 0 1-6 6zM8 11a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm9-2V7h2v2h-2z"})})),bp=({color:e="currentColor"})=>(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},{children:(0,r.jsx)("path",{fill:e,fillRule:"evenodd",d:"M9 3c3.2 0 5.9 2.6 6 5.8V11.1c2.7.6 4.4 3.2 3.9 5.9-.5 2.3-2.5 4-4.9 4-2.8 0-5-2.2-5-5 0-2.4 1.7-4.4 4-4.9V9c0-2.2-1.8-4-4-4-2.1 0-3.9 1.7-4 3.8V13H3V9c0-3.3 2.7-6 6-6zm5 10c-1.7 0-3 1.3-3 3s1.3 3 3 3 3-1.3 3-3-1.3-3-3-3zm-9 2v2H3v-2h2z"})}));var yp=s(11393);function xp(e){return{info:"whatIsHere",dirTo:"routeHere",dirFrom:"routeFromHere",share:"sendLink"}[e]}const jp=(0,ue.k)({wrapper:{boxShadow:_n.q.popup,borderRadius:Qe.E0.default,background:Ke.O.white,cursor:"pointer"},list:{boxSizing:"border-box",position:"relative",boxShadow:_n.q.innerBorderBottomBase,"&:last-child":{boxShadow:"none"}},item:{position:"relative",display:"flex",alignItems:"center",whiteSpace:"nowrap",padding:8,paddingEnd:12,listStyleType:"none",userSelect:"none",":hover":{background:Ke.O.gray_f2f2f2,color:Ke.O.blue_0072ce}},icon:{display:"flex",alignItems:"center",justifyContent:"center",width:24,height:24,marginEnd:8}}),wp=(0,mt.z)((e=>({uiElement:{name:"placeCardMapActionsPopup",ownerName:void 0,frameUuid:e.ownerFrameId}})),((e,t)=>({trackRMBItemClick(s,r){e((0,Z._N)((e=>r?(0,l.wj)({state:e,entityId:r}).data:void 0),(e=>{const r={uiElement:{name:xp(s),ownerName:"placeCardMapActionsPopup",frameUuid:t.ownerFrameId},action:"tap",payload:e?{placeItem:(0,yp.Pj)({entity:e})}:void 0};return(0,cs.zs)(r)})))},trackRMBClick(s,r){const i={uiElement:{name:"map"===s?"mapObject":"POI",ownerName:"map",frameUuid:t.ownerFrameId},action:"rightClick",payload:r?{POI:{category:r.sysCode?{id:r.sysCode}:void 0,adsHighlight:r.isCommercial||!1}}:void 0};return e((0,cs.zs)(i))}})))((e=>{const{css:t,s}=(0,ue.y)(jp),i=(0,ge.T)(),a=(0,le.useRef)(null),{trackRMBItemClick:n,trackRMBClick:o,bssRef:c}=e,[d,l]=(0,le.useState)(void 0),u=(0,Ud.A)(gp);(0,$u.x)({type:"map:contextmenu",handler:e=>{var t;"map"!==e.origin&&"poi"!==e.origin||(l({lonLat:(0,hp.U)(e),point:(t=e,{x:t.point[0],y:t.point[1]}),entityId:"poi"===e.origin?e.target.id:void 0}),o(e.origin,"poi"===e.origin?e.target:void 0))}}),(0,$u.x)({type:"common:escapeKeyUp",handler:()=>{l(void 0)},stopIfHandled:!0,priority:At.U.FrameElement});const p=(0,le.useMemo)((()=>{if(d)return(0,Vu.Y)({top:d.point.y,left:d.point.x})}),[d]),g=(0,as.$)((e=>{d&&d.lonLat&&(u({type:e.type,lonLat:d.lonLat,entityId:d.entityId}),n(e.type,d.entityId),l(void 0))}));(0,Au.t)(a,(()=>l(void 0)));const m=[{title:i._t("Что здесь?"),type:"info"},{title:i._t("Маршрут сюда"),type:"dirTo"},{title:i._t("Маршрут отсюда"),type:"dirFrom"},{title:i._t("Отправить ссылку"),type:"share"}],h=(0,le.useCallback)((e=>{switch(e){case"info":return(0,r.jsx)(eu,{color:Ke.O.gray_262626});case"dirTo":return(0,r.jsx)(bp,{color:Ke.O.gray_262626});case"dirFrom":return(0,r.jsx)(vp,{color:Ke.O.gray_262626});case"share":return(0,r.jsx)(fp,{color:Ke.O.gray_262626});default:return null}}),[]);return p?(0,r.jsx)(Bu.k,Object.assign({targetBoundingClientRect:p,to:"bottomEnd",offset:0},{children:(0,r.jsx)("nav",Object.assign({className:t(s.wrapper),ref:a},Ye.dx.n("wat-context-menu"),{children:(0,r.jsx)("ul",Object.assign({className:t(s.list),ref:c},{children:m.map(((e,i)=>(0,le.createElement)("li",Object.assign({},Ye.dx.n("wat-context-menu-item"),Ye.dx.t(e.type),{key:i,className:t(s.item),onClick:()=>g(e)}),(0,r.jsx)("div",Object.assign({className:t(s.icon)},{children:h(e.type)})),e.title)))}))}))})):null}));var _p=s(63605),Cp=s(12463),Ip=s(874);const kp=(0,C.gQ)("fetchEntityByEntranceIfNeeded",(e=>(0,Z._N)((0,Cp.qA)(e.id),(t=>t.data?(0,C.ZT)():(0,Cp.y8)(e)))));function Op(e){const t=(0,_p.r1)(e);if(!t)return(0,Qu.p)();const s="marker"in e?e.marker:void 0,{point:r,origin:i}=e,a="poi"===e.origin?{isCommercial:e.target.isCommercial,sysCode:e.target.sysCode,isPersonal:e.target.isPersonal,isCityCommercial:e.target.isCityCommercial,isPremiumCommercial:e.target.isPremiumCommercial}:void 0;return(0,C.vP)(("poi"===i||"marker"===i)&&(0,C.PQ)((()=>{ou.M.set((()=>({id:t,point:r,marker:s,poi:a,origin:i})))})),(0,C.xJ)((i=>{var n;const o=i.data.entity.profile[t];if("marker"===e.origin&&"tUgc"===(null===(n=null==s?void 0:s.data)||void 0===n?void 0:n.source))return;const c=(0,K.WK)(i),d=o&&o.data&&"success"===o.meta.status;if(d&&!c)return;const l=!!c&&i.data.searchContext[`${c}_${t}`];return d&&c&&l?void 0:"poi"===e.origin?e.target.sysCode===Ip.Dn?(0,C.vP)(kp({id:t}),(0,Z._N)((0,Cp.qA)(t),(e=>ou.M.get()?(0,Y.$K)(e.meta)&&"success"===e.meta.status&&(0,Y.$K)(e.data)&&(0,Y.$K)(e.data.id)?(0,C.PQ)((()=>{var t;const i=null===(t=e.data)||void 0===t?void 0:t.id;if(!i)return(0,C.ZT)();ou.M.set((()=>({id:i,poi:a,point:r,marker:s,origin:"poi"})))})):(0,Qu.p)():(0,C.ZT)()))):(0,L.DZ)({id:t,searchId:void 0}):"marker"===e.origin&&(null==s?void 0:s.data)?(0,L.DZ)({id:t,searchId:c,hash:(0,Y._G)(s.id)}):void 0})))}function Sp(){const e={stencil:!0,antialias:!1};try{if("WebGLRenderingContext"in window){const t=document.createElement("canvas"),s=!(!t.getContext("webgl",e)&&!t.getContext("experimental-webgl",e)),r=document.createElement("canvas");return`${s?"available":"unavailable"},${!(!r.getContext("webgl",Object.assign(Object.assign({},e),{failIfMajorPerformanceCaveat:!0}))&&!r.getContext("experimental-webgl",Object.assign(Object.assign({},e),{failIfMajorPerformanceCaveat:!0})))?"good-perf":"fail-perf"}`}}catch(e){}return"none"}var Np=s(41437),Mp=s(21547),Tp=s(37292);function Pp(e){return e>=11}var Ep=s(66471);const Lp=36e5,Rp={};var zp=s(91982);const Ap=e=>{const{locale:t,segmentId:s}=e;if(t&&s)return{baseLocale:t,segmentId:s}};var Fp=s(8143),Bp=s(14304);const Zp={};const Up={};let Hp;setInterval((()=>{const e=+new Date-Lp;for(const t of Object.keys(Rp))Rp[t]<e&&delete Rp[t]}),Lp);const Dp=e=>({mouseout:t=>{var s;if("marker"===t.origin&&"realty"===(null===(s=t.marker.data)||void 0===s?void 0:s.source)){if((0,Bp.Tg)())return;return Bp.xj.set((()=>{})),(0,Bp.uN)(),void(0,Bp.iV)((()=>{(0,Bp.Tg)()||e((0,Fp.l)())}),200)}if("map"!==t.origin){if("ppnot"===t.origin)return e((0,T.Kn)({type:"map:mouseout",event:t}));if("geometry"===t.origin&&t.geometry.eventData&&"routePlatformPoint"===t.geometry.eventData.type)return e((0,Mp._)());e((0,xi.k2)()),Hp&&clearTimeout(Hp),Hp=setTimeout((()=>{e((0,Qu.p)()),Hp=void 0}),100)}},mouseover:t=>{var s,r;if("marker"===t.origin&&"realty"===(null===(s=t.marker.data)||void 0===s?void 0:s.source))return Bp.xj.set((()=>{})),Hp&&clearTimeout(Hp),(0,Bp.uN)(),void(0,Bp.iV)((()=>{const s=(0,_p.r1)(t);e((0,C.Mf)(Op(t),s&&(0,D.yy)({realtyHoveredId:s})))}),50);if("marker"===t.origin&&"infrastructure"===(null===(r=t.marker.data)||void 0===r?void 0:r.source)&&(0,Bp.uN)(),"map"===t.origin)return;if("ppnot"===t.origin)return e((0,T.Kn)({type:"map:mouseover",event:t}));if("geometry"===t.origin&&t.geometry.eventData&&"routePlatformPoint"===t.geometry.eventData.type)return e((0,Tp.C)({text:t.geometry.eventData.name,point:{lon:t.geometry.position[0],lat:t.geometry.position[1]}}));const i=(0,_p.r1)(t);i&&("marker"===t.origin&&e((0,D.yy)({hoveredId:i})),Ep.a.stopTracker(e),Hp&&clearTimeout(Hp),Hp=setTimeout((()=>{e(Op(t)),Hp=void 0}),50))},click:t=>{e((0,C.Mf)((0,T.Kn)({type:"map:click",event:t}),(0,D.yy)({hoveredId:void 0,realtyHoveredId:void 0})))},contextmenu:t=>{e((0,T.Kn)({type:"map:contextmenu",event:t}))},dragend:t=>{e((0,T.Kn)({type:"map:dragend",event:t}))},moveend(t){Ep.Y.stopTracker(e),e((0,xi.$x)(t)),e((0,T.Kn)({type:"map:moveend",event:t}))},move(t){e(function(e){return(0,C.vP)((0,Qu.p)(),(0,T.Kn)({type:"map:move",event:e}))}(t))},performancecaveat(){e((0,ns.nc)(["Map","Performance","Slow",void 0,{nonInteraction:!0}]))},floorcomplexchange(t){var s;e((s=t.complex,(0,Z.gF)({entityFrame:e=>(0,q.Fq)(e.appContext.frames),floors:e=>e.appContext.floors,catalogMarkersData:K.H3},(({entityFrame:e,floors:t,catalogMarkersData:r})=>void 0!==s?(0,jo.NN)({currentFloor:(0,_p.DT)(s,t,e,r),floorNames:s.floorNames,firmsToFloorIndexMap:s.firmsToFloorIndexMap,id:s.id}):(0,jo.ox)()))))},rulerchange(t){e((0,ke.s_)({points:t.points}))},zoomend(t){Pp(t.zoom)||e((0,Mp._)())},adsIconForPoiShown({adsId:t,ownerOrgId:s,donorBranchId:r,view:i,position:a,segmentId:n}){Rp[r]||(!function(e){Rp[e]=+new Date}(r),e((0,Z.gF)({mapBssUuid:e=>e.appContext.staticFrames.map.id,dataLocale:U.O},(({mapBssUuid:e,dataLocale:o})=>(0,cs.GM)({showEventKey:(0,Y.by)(),autoEvent:!0,uiElement:{name:"buyHereIcon",ownerName:"map",frameUuid:e},payload:{buyHereIcon:{commentShown:"iconWithLabel"===i,contentOwner:{adsPosition:"buyHereOnMap",adsId:t,org:s}},placeItem:{entity:{id:r,type:"branch",segmentInfo:Ap({locale:o,segmentId:n})},geoPosition:(0,zp.a3)({lon:a[0],lat:a[1]})},POI:{category:void 0,adsHighlight:!1,isPersonal:void 0}}})))))},interactionstart(){e((0,T.Kn)({type:"map:interactionstart",event:void 0}))},commmodelshow({buildingId:t}){if(Zp[t])return;!function(e){Zp[e]=!0}(t);const s=(0,Y.by)();e((0,C.vP)((0,Za.$)({id:t,searchId:s}),(0,Wu.Rq)({entityId:t,searchId:s})))},commpoishow(t){t.commPois.forEach((({id:t,adsPriority:s})=>{(function(e){return!!Up[e]})(t)||(!function(e){Up[e]=!0}(t),e((0,C.vP)((0,Za.$)({id:t,searchId:(0,Y.by)()}),(0,Wu.jv)({id:t,adsPriority:s}))))}))}});class $p extends le.Component{shouldComponentUpdate(){return!1}render(){return(0,r.jsx)("div",Object.assign({className:(0,pt.iv)(this.props.s.wrapper),style:{position:"fixed",top:0,right:0,bottom:0,left:0,background:"#f6f2de"}},{children:(0,r.jsx)("div",{id:"map",style:{background:"transparent",position:"absolute",top:0,right:0,bottom:0,left:0}})}))}}$p.displayName=(0,Ct.I)("src/modules/map/components/mapWrapper");const Vp=(0,pt.D2)({wrapper:{"& *":{userSelect:"none"}}})($p);var qp=s(2234),Gp=s(10694),Wp=s(30834),Qp=s(52261),Kp=s(74583),Jp=s(2421);const Yp=(0,C.gQ)("searchInBuildingFromMarker",(e=>{const{buildingId:t,entityId:s,entityIcon:r,isCommercial:i}=e;return(0,Z.gF)({searchFrame:e=>(0,q.Di)(e.appContext.frames),currentMarkersId:K.xl},(({searchFrame:e,currentMarkersId:a})=>{if(!e)return(0,C.ZT)();const n=(0,Y.by)(),o=(0,Y.by)(),c=(e=>{if(e&&"search"===e.type&&"offers"!==e.searchType)return"inbuilding"===e.searchType&&e.originalSearchId?e.originalSearchId:(0,q.QB)(e)})(e),d=e.query,l=(0,Qp.Q)(e),u="rubricId"in e?e.rubricId:void 0,p=a||(0,Y.by)();return(0,C.Mf)((0,O.BN)(),(0,C.vP)((0,Wp.lX)({searchId:n,buildingId:t,query:d,page:1,filterValues:l,hasSearchControls:!0,shouldNotFetchMarkers:!0}),(0,Z.gF)({search:e=>(0,Ya.rO)({state:e,searchId:n})},(({search:e})=>{const a=(0,L.xo)({id:(0,Y._J)(s),hash:(0,Y._G)(s),type:"branch",searchId:n,isOpenedFromMap:!0,entityIcon:r,isCommercial:i});return!e.data||!e.data.total||e.data.total<2?(0,C.vP)(Xu(c),a):(0,C.vP)((0,R.Jt)({id:o,type:"search",searchType:"inbuilding",isOpenedFromMap:!0,query:d,buildingId:t,searchId:(0,oe.Ue)(n),originalSearchId:c,page:(0,oe.Ue)(1),gtaId:(0,Y.by)(),statusId:(0,Y.by)(),noSearchControls:!0,filterPanelState:"manuallyClosed",filterValues:l,rubricId:u}),(0,ve.C)(a))})),(0,Z._N)(Kp.m,(e=>e&&(0,D.PP)({frameId:e.id,markersId:p}))),(0,Gp.wN)({entityId:t},(e=>{if((0,qp.G)(e))return(0,L.DZ)({id:t,hash:(0,Y._G)(s),searchId:void 0})}))),a?void 0:(0,C.XJ)((0,Jp.l)()))}))}));var Xp=s(34118),eg=s(98200),tg=s(34079),sg=s(87607),rg=s(95149),ig=s(91736),ag=s(23198),ng=s(10737),og=s(63174);const cg=(e,{exchangeSearch:t})=>{const s=(0,ag.X)(e);if(!s)return(0,C.ZT)("Marker with unknown type clicked");switch(s.source){case"catalog":return dg(e,s);case"realty":return function(e){return(0,C.vP)((0,Qu.p)(),(0,Wu.i2)(e),(0,np.nv)((t=>{var s;return(0,xe.T)({suggestId:null==t?void 0:t.suggestId,entity:e.buildingId?{id:e.buildingId,type:"building"}:void 0,total:null===(s=e.data)||void 0===s?void 0:s.product_total,isOpenedFromMap:!0})})))}(e);case"favorites":return lg(e);case"tUgc":return function(e,t){return(0,C.vP)((0,O.BN)(),(0,C.xJ)((e=>(0,cs.zs)({uiElement:{name:"tUGCPOI",frameUuid:e.appContext.staticFrames.map.id},payload:{tUGC:{id:t.id,category:(0,Xp.N)(t.event),mode:(0,eg.P)(e)}},action:"tap"}))),function({id:e,isOpenedFromMap:t}){return(0,R.Jt)({type:"tUgc",eventId:e,id:(0,Y.by)(),isOpenedFromMap:t})}({id:t.id,isOpenedFromMap:!0}))}(0,s);case"exchange":return function(e,t,s){return(0,C.vP)((0,Qu.p)(),(0,Wu.M8)(e,s),(0,L.xo)({id:t.branch.id,type:"branch",point:{lon:e.lonLat[0],lat:e.lonLat[1]},isOpenedFromMap:!0}))}(e,s,t);case"infrastructure":return function(e,t){return(0,C.vP)((0,Wu.iQ)(e),(0,ve.C)((0,L.xo)({id:e.id,type:t.type,isOpenedFromMap:!0})))}(e,s);default:return(0,C.ZT)(`Click in marker ${JSON.stringify(s)} is unhandled`)}};function dg(e,t){var s,r,i,a;const n=e.buildingId,o=(null===(a=null===(i=null===(r=null===(s=e.data)||void 0===s?void 0:s.ads)||void 0===r?void 0:r.options)||void 0===i?void 0:i.marker_logo)||void 0===a?void 0:a.url)?(0,ng.X)(e.data.ads.options.marker_logo.url,og.Cb):void 0,c="commercial"===e.currentType;return t.cluster&&n?(0,C.gQ)("openFirmsInBuildingFromMarker",(()=>(0,C.vP)((0,Qu.p)(),(0,Wu.pD)(e,t),Yp({buildingId:n,entityId:e.id,entityIcon:o,isCommercial:c}))))():(0,C.vP)((0,Qu.p)(),(0,Wu.pD)(e,t),ug({eventMarkerId:e.id,markerData:t,entityIcon:o,isCommercial:c}))}function lg(e){return(0,C.vP)((0,Qu.p)(),(0,Wu.N6)(),(0,tg.L)({type:(0,ig.l)(e.type)?"private":"public",favoriteId:e.id,shouldCenterMap:!1,isOpenedFromMap:!0}))}const ug=(0,C.gQ)("openCatalogEntityFromMarker",(e=>{const{eventMarkerId:t,markerData:s,point:r,entityIcon:i,isCommercial:a}=e;return(0,Z.gF)({originalSearchId:K.Wr,querySearchFrame:e=>e.appContext.frames.find(Yu.E),buyHereSearchFrame:e=>e.appContext.frames.find(sg.o)},(({originalSearchId:e,querySearchFrame:n,buyHereSearchFrame:o})=>{const c=e||n&&(0,q.QB)(n)||(0,Y.by)();return(0,C.vP)(Xu(e),(0,L.xo)({id:(0,Y._J)(t),hash:(0,Y._G)(t),searchId:c,type:s.type,point:r,mapAdsId:(0,rg.J)(o),isOpenedFromMap:!0,entityIcon:i,isCommercial:a}))}))}));const pg=(0,C.gQ)("clickEntrance",(({id:e,point:t})=>{const s=(0,Y.by)(),r=(0,Y.by)();let i=(0,Y.by)(),a=(0,Y.by)();return(0,C.vP)((0,O.BN)(),(0,xi.KO)(),(0,Qu.p)(),(0,Wu.Y8)({sysCode:Ip.Dn}),(0,R.Jt)({id:s,type:"pending",subtype:"entity",searchId:a,gtaId:r,statusId:i,point:t,entranceId:e}),kp({id:e,statusId:i}),(0,Z._N)((0,Cp.qA)(e),(({data:e,meta:n})=>!(0,Y.$K)(e)||!(0,Y.$K)(e.id)||n&&"error"===n.status?(0,R.D_)(s,(e=>Object.assign(Object.assign({},e),{type:"error",code:n&&"error"===n.status?n.code:500,subtype:"entity"}))):(i=(0,Y.by)(),a=(0,Y.by)(),(0,L.WZ)({entityId:e.id,isOpenedFromMap:!0,frameId:s,statusId:i,searchId:a,gtaId:r,clickPoint:t})))))}));var gg=s(22874),mg=s(63546);const hg=(0,C.gQ)("clickAdsIconForPoi",(({adsId:e,donorBranchId:t,position:s,ownerOrgId:r,view:i,segmentId:a})=>(0,C.vP)((0,Z.gF)({mapBssUuid:e=>e.appContext.staticFrames.map.id,dataLocale:U.O},(({mapBssUuid:n,dataLocale:o})=>(0,cs.zs)({uiElement:{name:"buyHereIcon",ownerName:"map",frameUuid:n},action:"tap",payload:{buyHereIcon:{commentShown:"iconWithLabel"===i,contentOwner:{adsPosition:"buyHereOnMap",adsId:e,org:r}},placeItem:{entity:{id:t,type:"branch",segmentInfo:Ap({locale:o,segmentId:a})},geoPosition:(0,zp.a3)({lon:s[0],lat:s[1]})},POI:{category:void 0,adsHighlight:!1,isPersonal:void 0}}}))),ip({entityId:t,mapAdsId:e,point:{lon:s[0],lat:s[1]}})))),fg=(0,C.gQ)("clickEtaMarker",(({routeId:e})=>(0,Z._N)((e=>(0,q.t0)(e.appContext.frames,"entity")),(t=>"route"===(null==t?void 0:t.entityType)?(0,C.ZT)():(0,L.xo)({type:"route",id:e,isOpenedFromMap:!0})))));function vg(e,t){const s=(0,hp.U)(e);if(s)switch(e.origin){case"adsIconForPoi":return hg(e.markerData);case"marker":return(e=>{if(!e)return!1;const t=e.currentTarget,s=e.target;if(!t||!s)return!1;if(!t.querySelector("[data-isctabutton]"))return!1;const r=(e=>{const{parentDataAtr:t,event:s}=e,r=s.currentTarget,i=s.target;if(!r||!i)return!1;let a=i.parentNode;for(;a;){if(a.dataset[t])return!0;if(a===r)return!1;a=a.parentNode}return!1})({parentDataAtr:"isctabutton",event:e});return r})(e.htmlLabelEvent)?(e=>{const t=(0,ag.X)(e);if("catalog"!==(null==t?void 0:t.source))return;const s=(0,gg.U)(t);if(!s)return;const r=(0,Y._J)(e.id);return(0,C.vP)((0,L.DZ)({id:r,searchId:t.searchId,hash:(0,Y._G)(e.id)}),(0,Wu.qk)(e,t),(0,mg.c)({actionType:s.type,value:s.value,entityId:r,ctaOwner:"mapMarker"}))})(e.marker):cg(e.marker,t);case"photo":return(e=>{const{entityId:t,photoId:s}=e;return(0,C.vP)((0,L.wk)({id:t,searchId:void 0}),(0,Gp.wN)({entityId:t},(e=>e.data?(0,js.l)({entityId:t,photoId:s,entityType:e.data.type,searchId:(0,Y.by)()}):(0,C.ZT)())))})({entityId:e.markerData.objectId,photoId:e.markerData.photoId});case"poi":return e.target.sysCode===Ip.Dn?pg({id:e.target.id,point:s}):cp({entityId:e.target.id,point:s,center:e.target.center,type:"poi",entityIcon:e.poiIcon,isCommercial:e.target.isCommercial||!1,sysCode:e.target.sysCode,isPersonal:e.target.isPersonal,isCityCommercial:e.target.isCityCommercial,isPremiumCommercial:e.target.isPremiumCommercial});case"etaMarker":return fg({routeId:e.routeId});case"map":return cp({entityId:e.targetId,point:s,type:"map"});case"geometry":return(0,C.vP)((0,Mp._)(),cp({entityId:e.geometry.eventData.id,point:s,type:e.geometry.eventData.type}));default:return}}function bg(e){return{id:e.id,type:"kilometer_road_sign"===e.type?"point":e.type,geometry:e.geometry&&e.geometry.selection}}var yg=s(17803),xg=s(52462);const jg=(0,It.P1)([({state:e})=>(0,q.WZ)(e.appContext.frames,["entity","realtyCard"])],(e=>!(!e||!(0,yg.yb)(e)&&!(0,Rt.B)(e))&&e.showNearbyParkings)),wg=(0,It.P1)([({state:e})=>function(e){const t=(0,q.Fq)(e.appContext.frames),s=e.appContext.frames.find(yg.yb);if(!t&&!s)return;if(t&&s)return;const r=(null==t?void 0:t.entityId)||(0,xg.W)(e);return r?(0,l.nM)({state:e,entityId:r}).data:void 0}(e),({state:e})=>e.appContext.zoom<=12,({state:e})=>(0,q.Bj)(e.appContext.frames),jg],((e,t,s,r)=>{if(s&&s.entityId)return{items:[bg({id:s.entityId})]};if(!e)return;const i=r&&"links"in e&&e&&e.links&&e.links.nearest_parking||[];if(!t&&"adm_div"===e.type&&("region"===e.subtype||"district_area"===e.subtype))return;var a,n;const o=("group"in e?(a=e.group,n="geometry"in e?e.geometry:void 0,a?a.reduce(((e,t)=>{const s=bg({id:t.id,type:t.type,geometry:n});return s?e.concat(s):e}),[]):[]):[]).concat(bg(e)||[],i);return o.length?{items:o}:void 0}));var _g=s(35213),Cg=s(39013),Ig=s(13333),kg=s(63655),Og=s(28506);const Sg=e=>!!e&&"catalog"===e.data.source&&(0,Og.Q)(e.data);const Ng=(e,t)=>{const s=(0,gg.U)(e),r=null==s?void 0:s.type;if("link"===r||"order"===r)return[{type:r,text:(null==s?void 0:s.caption)||(null==s?void 0:s.name)||t._t("Подробнее"),href:null==s?void 0:s.value}]},Mg=(e,t,s,r,i)=>{var a;const n=[],{reviews:o,context:c}=e.data,d=o&&o.general_rating;d&&n.push({type:"rating",text:d.toString(10)});const l="branch"===e.data.type,u=l?2:5,p=null===(a=null==c?void 0:c.stop_factors)||void 0===a?void 0:a.slice(0,u).map((e=>e.name));p&&p.forEach((e=>{n.push({type:"stopFactor",text:e})}));const g=l?void 0:(e=>{const{marker:t,tp:s,time:r,dateFns:i,is12h:a}=e,n=Sg(t),o=(0,Qr.w)({entity:t.data,format:"short",ctx:{dateFns:i,tp:s}});if(n&&o)return{text:o,color:(0,Ig.S)("closed"),type:"workingTime"};const{timezone_offset:c,schedule:d}=t.data;if(void 0===c||!d)return;const l=(0,kg.t)(r,c),u=(0,Cg.Vi)(d,!1,l,s,a),p=(0,_g.S)(d,l);return u?{text:u,color:(0,Ig.S)(p),type:"workingTime"}:void 0})({marker:e,time:t,tp:s,dateFns:r,is12h:i});if(g&&n.push(g),n.length)return n};var Tg=s(31303),Pg=s(48090);function Eg(e){const{marker:t,maxLines:s,tp:i,dateFns:a,time:n,is12h:o,MarkerLabel:c}=e,d=function(e){const{marker:t,time:s,maxLines:r,tp:i,dateFns:a,is12h:n}=e;if(0===r)return Ip.LZ;const o=[],c=function(e){const{name:t,name_ex:s}=e;return s?s.primary:t||void 0}(t.data);if(!c)return Ip.LZ;if(o.push([{type:"name",text:c}]),1===r)return o;const{ads:d}=t.data,l=(null==d?void 0:d.marker_microcomment)?[{type:"adsText",text:d.marker_microcomment}]:void 0;if(l&&o.push(l),2===r)return o;const u=Mg(t,s,i,a,n),p=Ng(t.data,i);if(l){const e=p||u;e&&o.push(e)}else u&&o.push(u),p&&o.push(p);return o.slice(0,r)}({marker:t,time:n,maxLines:s,tp:i,dateFns:a,is12h:o}),l=(0,Tg.D)(d),{width:u,height:p}=l,g=!!(null===window||void 0===window?void 0:window.debugMap);return{content:(0,Pg.renderToStaticMarkup)((0,r.jsx)(c,{labelLines:d,dbgSize:g?l:void 0})),width:u,height:p,offset:["commercial"===t.type?20:14,-7]}}const Lg=(0,It.HP)((function(e,t){if(!(null==e?void 0:e.id)||!t)return;let s=[];return t.markers.forEach((r=>{if((0,Y.G9)(r.lonLat[0],e.lonLat[0])&&(0,Y.G9)(r.lonLat[1],e.lonLat[1])){const e=t.indexHashMap[(0,Y._J)(r.id)];"number"==typeof e&&(s=[...s,e])}})),s.length?s:void 0}));var Rg=s(22941);const zg=[],Ag=e=>e.point?[e.point.lon,e.point.lat]:e.source_point?[e.source_point.lon,e.source_point.lat]:[],Fg=(e,t,s)=>{const r=e.map((e=>{var r;const i=e.collection_id&&(null===(r=null==s?void 0:s[e.collection_id])||void 0===r?void 0:r.color),a=(0,Rg._p)(e.collection_id,i),n="public"===t?"public":function(e){return e&&Rg.qr.includes(e)?`personal_${e.slice(1)}`:"personal"}(a);return{key:e.id,id:e.id,lonLat:Ag(e),type:n,data:{source:"favorites",entityId:e.object_id}}}));return{indexHashMap:e.reduce(((e,t,s)=>(t.object_id&&(e[t.object_id]=s),e)),{}),markers:r||zg}};var Bg=s(28098);const Zg=(0,Bg.X$)(),Ug=(0,It.P1)([({state:e})=>{const t=(0,K.SC)(e),s=t&&(0,oe.Gp)(t);return s?(0,Bg.vE)(s)(e):Zg(e)},({state:e})=>(0,Ou.tV)(e)],((e,t)=>{if(e)return Fg(e,"personal",t)}));var Hg=s(89509);const Dg=(0,It.P1)([({state:e})=>$g(e),({state:e})=>(0,o.yH)(e)],((e,t)=>{const s=e?(0,Hg.a)(e,t):void 0;if(s)return Fg(s,"public")})),$g=(0,It.P1)([K.SC,Kl.UW,e=>e.data.entity.profile],((e,t,s)=>{const r=e&&(0,oe.Gp)(e),i=r?t[r]:void 0;if(i)return i.map((e=>{if(e.object_id){const t=s[e.object_id];if(t){const s=t.data;return Object.assign(Object.assign({},e),{point:Vg(s,e)})}}return e}))}));function Vg(e,t){return t.point?t.point:e&&"point"in e?e.point:void 0}const qg=3600,Gg=86400,Wg=172800,Qg=604800,Kg=1209600,Jg=1e3;var Yg;!function(e){e[e.mon=1]="mon",e[e.tue=2]="tue",e[e.wed=3]="wed",e[e.thu=4]="thu",e[e.fri=5]="fri",e[e.sat=6]="sat",e[e.sun=7]="sun"}(Yg||(Yg={}));const Xg=(e,t)=>{const{day:s,start_hour:r,finish_hour:i,start_minute:a,finish_minute:n}=t,o=new Date(e*Jg);o.setSeconds(0),o.setMilliseconds(0);const c=o.getDay(),d=Yg[s],l=o.getDate()+(d-c+7)%7;o.setDate(l),o.setHours(r,a,0,0);const u=Math.floor(o.getTime()/Jg),p=23===i&&59===n;o.setHours(p?24:i,p?0:n,0,0);return[u,Math.floor(o.getTime()/Jg)]},em=e=>e.reduce(((e,t)=>{if(!e.length)return[t];const s=e[e.length-1];return s[1]>=t[0]?[...e.slice(0,e.length-1),[s[0],t[1]]]:[...e,t]}),[]),tm=(e,t)=>{if(!(null==t?void 0:t.length))return!0;const s=t.map((t=>Xg(e,t)));s.sort(((e,t)=>e[0]-t[0]));return em(s).some((([t,s])=>sm(e,t,s)))},sm=(e,t,s)=>{if("number"!=typeof t)return!0;if("number"==typeof s&&t>=s)return!0;const r=s||Number.MAX_SAFE_INTEGER;if(e>=t&&e<=r)return!0;if(e>r)return!1;const i=r-t,a=t-e;return i<43200?a<=qg:i<Wg?a<=21600:i<Kg?a<=Gg:a<=Qg};var rm=s(62294);const im=e=>{const{event:t,userId:s,zoomStyle:r}=e;return t.user.id===s||!!((e,t)=>{switch(t){case"SHOW_ALL_MARKERS":return!0;case"SHOW_SMALL_MARKERS":return[3,4,5,6,7].includes(e.road);case"SHOW_LARGE_MARKERS":return"camera"!==e.type&&[5,6,7].includes(e.road);case"SHOW_MAIN_MARKERS":return"camera"!==e.type&&"comment"!==e.type&&[5,6,7].includes(e.road);default:return!1}})(t,r)&&("restriction"!==t.type||((e,t)=>{if(!t)return!0;const{finish_time:s,start_time:r,wdays:i}=t,a=Math.floor(e/Jg);return sm(a,r,s)&&tm(a,i)})(Date.now(),t.data))},am=(e,t,s)=>{if(!im({userId:s,zoomStyle:t,event:e}))return[];switch(e.location.type){case"MultiPoint":return((e,t)=>{if("Point"===e.location.type)return[];if("camera"===e.type&&"SHOW_ALL_MARKERS"!==t)return[];const s="camera"===e.type?(0,rm.y)(e):e.type;return e.location.coordinates.map(((t,r)=>({key:`${e.id}_${r}`,id:`${e.id}_${r}`,lonLat:t,immersiveHeight:e.location.height,type:s,data:{type:s,id:e.id,source:"tUgc",event:e}})))})(e,t);case"Point":const s=((e,t)=>{if("Point"!==e.location.type)return;if("camera"===e.type&&"SHOW_ALL_MARKERS"!==t)return;const s="camera"===e.type?(0,rm.y)(e):e.type;return{key:e.id,id:e.id,lonLat:e.location.coordinates,immersiveHeight:e.location.height,type:s,data:{type:s,id:e.id,source:"tUgc",event:e}}})(e,t);return s?[s]:[];default:return[]}},nm=[],om=(0,It.P1)([({state:e})=>e.appContext.showTrafficOnMap,({state:e,tUgcMarkersState:t})=>{if((0,o.SJ)(e))return t},({state:e})=>{return(t=(0,K.Hr)(e))>16?"SHOW_ALL_MARKERS":t>14?"SHOW_SMALL_MARKERS":t>12?"SHOW_LARGE_MARKERS":t>10?"SHOW_MAIN_MARKERS":"NO_MARKERS";var t},({state:e})=>(0,za.b1)(e),({state:e})=>{return!!(t=(0,q.WZ)(e.appContext.frames,["product","search"]))&&("search"===t.type||"product"===t.type);var t}],((e,t,s,r,i)=>i?{markers:nm,indexHashMap:{}}:e&&t&&"NO_MARKERS"!==s?((e,t,s)=>{const r=[],i={},a=[...e];return a.sort(((e,t)=>t.rate-e.rate)),a.forEach((e=>{const a=am(e,t,s),n=r.length;return a.forEach(((e,t)=>{i[e.id]=n+t})),r.push(...a)})),{markers:r,indexHashMap:i}})(t,s,r):{markers:nm,indexHashMap:{}}));var cm=s(15343),dm=s(18610),lm=s(39911),um=s(57789);const pm=(0,It.P1)([function({state:e}){const t=(0,dm.I)({state:e});return t&&"point"in t?t.point:void 0},lm.t,function({state:e}){var t,s;const r=(0,dm.I)({state:e});if(!r)return;switch(r.type){case"realtyCard":return(0,xg.W)(e);case"realty":return"building"===(null===(t=r.entity)||void 0===t?void 0:t.type)?null===(s=r.entity)||void 0===s?void 0:s.id:void 0;case"product":return r.buildingId;default:return}},K.Si,K.R9,function(e){return!1}],((e,t,s,r,i,a)=>{var n,o,c;const d=null==t?void 0:t.data,l=(0,um.m)(d);return{entityId:(null==l?void 0:l.id)||(null==d?void 0:d.id),buildingId:d&&(0,fr.J)(d)?null===(n=d.address)||void 0===n?void 0:n.building_id:s,pointFromFrame:e,pointFromEntity:d&&"point"in d?d.point:void 0,withAds:d&&"ads"in d&&(0,cm.d)(d.ads),adsStrokeColor:a?null===(c=null===(o=null==d?void 0:d.ads)||void 0===o?void 0:o.options)||void 0===c?void 0:c.color:void 0,czarIcon:r,isCommercial:i}}));const gm=(0,It.P1)([({state:e})=>e.appContext.floors],(e=>e?{id:e.floorsId,floorIndex:e.currentFloor}:void 0));function mm({labelingWidth:e=6,labelingHeight:t=6,isDisabled:s=!1}){if(!s)return{width:e,height:t,offset:[-e/2,-t/2]}}const hm=(0,It.HP)((function(e,t,s,i,a,n,o,c,d,l){var u,p,g,m,h,f,v,b,y,x,j,w,_;const C=(o.styles[c]||o.styles.default).icons,I="commercial-logo"===e&&Boolean(d)?"pin-commercial-logo":"commercial"===e?"pin-commercial":"pin",k=null!==(p=null===(u=null==C?void 0:C[I])||void 0===u?void 0:u.normal)&&void 0!==p?p:null===(m=null===(g=o.styles.pin.icons)||void 0===g?void 0:g[I])||void 0===m?void 0:m.normal,O=null!==(f=null===(h=(0,og.lq)(null==k?void 0:k.img))||void 0===h?void 0:h.cloneNode(!0))&&void 0!==f?f:(0,og.FS)();if((null==d?void 0:d.fullUrl)&&"pin-commercial-logo"===I){null===(v=null==O?void 0:O.getElementById("icon_image"))||void 0===v||v.setAttribute("href",null==d?void 0:d.fullUrl);const e=(0,ng.X)(null==d?void 0:d.baseUrl);(null==e?void 0:e.fullUrl)&&d.width<ng.E&&(null===(b=null==O?void 0:O.getElementById("icon_image_hi_res"))||void 0===b||b.setAttribute("href",null==e?void 0:e.fullUrl))}l&&(null===(y=null==O?void 0:O.getElementById("marker_color_fill"))||void 0===y||y.setAttribute("fill",l),null===(x=null==O?void 0:O.getElementById("marker_color_fill2"))||void 0===x||x.setAttribute("fill",l),null===(j=null==O?void 0:O.getElementById("marker_color_stroke"))||void 0===j||j.setAttribute("stroke",l));const[S,N]=null!==(w=null==k?void 0:k.size)&&void 0!==w?w:[30,48],M=null!==(_=null==k?void 0:k.offset)&&void 0!==_?_:[.5,1];let T;try{T=O?(0,Pg.renderToStaticMarkup)((0,r.jsx)(a,{icon:O,width:S,height:N})):""}catch(e){T=""}return[{html:T,width:S,height:N,offset:[-S*M[0],-N*M[1]],coordinates:[s,i],isInteractive:!0,isAnimated:!0,animationDuration:300,zIndex:n,data:{type:"czar",czarType:e,id:t},labeling:mm("pin-commercial-logo"===I?{labelingWidth:S,labelingHeight:N}:{isDisabled:!0})}]}));function fm(e,t){if(t&&t<25&&e>13)return 4;const s=[{zoom:17,maxLines:4},{zoom:15,maxLines:2},{zoom:4,maxLines:1},{zoom:1,maxLines:0}].find((t=>e>=t.zoom));return void 0!==s?s.maxLines:0}const vm=(0,It.HP)((function(e,t){const s=e.entityId,r=s?null==t?void 0:t.markers[t.indexHashMap[s]]:void 0,i=(0,Y.oA)([e.pointFromFrame,bm(r),e.pointFromEntity]);if(!i||!i.length)return;const a=(({markerType:e,withAds:t,hasCzarIcon:s,isCommercial:r})=>("commercial"===e||t||r)&&s?"commercial-logo":"commercial"===e||t?"commercial":"default")({markerType:null==r?void 0:r.type,withAds:Boolean(e.withAds),hasCzarIcon:Boolean(e.czarIcon),isCommercial:e.isCommercial}),n=(()=>{if("catalog"===(null==r?void 0:r.data.source))return r.data.friends?Ke.O.green_1ba136:e.adsStrokeColor})();return{id:s,entityId:e.entityId,buildingId:e.buildingId,lonLat:[i[0].lon,i[0].lat],type:a,czarIcon:e.czarIcon,color:n}}));function bm(e){if(!e)return;const[t,s]=e.lonLat;return{lon:t,lat:s}}const ym="[[COUNT]]",xm="[[PRICE]]",jm=e=>{const{css:t,s}=(0,ue.y)(wm),{visited:i=!1,hovered:a=!1,normalPik:n=!1}=e;return(0,r.jsx)("div",Object.assign({className:t(s.root)},Ye.dx.n("wat-realty-html-marker"),Ye.dx.s(i?"visited":void 0),{children:(0,r.jsx)("div",Object.assign({"data-ismarkerlabel":!0},{children:(0,r.jsxs)("div",Object.assign({className:t(s.content,i&&s._visited,a&&s._hovered,n&&s._normalPik)},{children:[(0,r.jsx)("div",Object.assign({className:t(s.count)},{children:ym})),(0,r.jsx)("div",Object.assign({className:t(s.text)},{children:xm})),(0,r.jsx)("div",Object.assign({className:t(s.bullet)},{children:(0,r.jsx)("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 18 18"},{children:(0,r.jsxs)("g",Object.assign({fill:"none",fillRule:"evenodd"},{children:[(0,r.jsx)("circle",{cx:"9",cy:"9",r:"8",fill:"currentColor"}),(0,r.jsx)("circle",{cx:"9",cy:"9",r:"5",fill:"#FFF"})]}))}))}))]}))}))}))},wm=(0,ue.k)({root:{background:"transparent",display:"flex",height:0,width:126,pointerEvents:"none",justifyContent:"center"},count:Object.assign(Object.assign({display:"flex",alignItems:"center",height:16},Xe.Rw),{lineHeight:Xe.Rw.fontSize,padding:"0 4px",marginTop:4,marginBottom:4,marginStart:-4,marginEnd:4,backgroundColor:Ke.O.white,borderRadius:1,":empty":{display:"none"}}),content:{height:24,display:"flex",alignItems:"center",pointerEvents:"visible",position:"relative",boxSizing:"border-box",textAlign:"center",backgroundColor:"#0F7DDC",color:"#0F7DDC",borderRadius:jd.E.default,padding:"4px 8px",cursor:"pointer",":hover":{background:"#e32508",color:"#e32508"}},_visited:{background:"#af7eb2",color:"#af7eb2",":hover":{background:"#e32508",color:"#e32508"}},_hovered:{background:"#e32508",color:"#e32508"},_normalPik:{background:"#FC4C02",color:"#FC4C02"},text:Object.assign(Object.assign({},Xe.oN),{lineHeight:Xe.oN.fontSize,color:Ke.O.white}),bullet:{position:"absolute",fontSize:0,left:"50%",top:19,transform:"translateX(-50%)"}}),_m=Math.pow(10,3),Cm=Math.pow(10,6),Im=Math.pow(10,9);const km={width:126,height:24,offset:[-63,-27]},Om=function(){const e=(0,It.HP)((()=>(0,Pg.renderToStaticMarkup)((0,r.jsx)(jm,{})))),t=(0,It.HP)((()=>(0,Pg.renderToStaticMarkup)((0,r.jsx)(jm,{normalPik:!0})))),s=(0,It.HP)((()=>(0,Pg.renderToStaticMarkup)((0,r.jsx)(jm,{visited:!0})))),i=(0,It.HP)((()=>(0,Pg.renderToStaticMarkup)((0,r.jsx)(jm,{hovered:!0}))));return(r,a,n)=>{switch(!0){case a:return i();case r:return s();case n:return t();default:return e()}}}();function Sm(e,t,s,r,i){const a=((e,t,s)=>{const r=t&&t>=2;if(!e)return;if(e<_m){const t=Math.round(e);return r?s._gg("от&nbsp;%1",[t]):t.toString()}if(e<Cm){const t=parseFloat((e/_m).toFixed(1));return r?s._gg("от&nbsp;%1&nbsp;тыс.",[t]):s._gg("%1&nbsp;тыс.",[t])}if(e<Im){const t=parseFloat((e/Cm).toFixed(2));return r?s._gg("от&nbsp;%1&nbsp;млн",[t]):s._gg("%1&nbsp;млн",[t])}const i=Math.round(e/Im);return r?s._gg("от&nbsp;%1&nbsp;млрд",[i]):s._gg("%1&nbsp;млрд",[i])})(e.data.min_price,e.data.product_total,t),n=e.data.product_total>=2?e.data.product_total:"";if(!a)return e;const o=Om(s,r,i),c=Object.assign({content:o.replace(ym,n.toString()).replace(xm,a)},km);return Object.assign(Object.assign({},e),{htmlLabel:c})}const Nm="dg5_realty_visited_markers",Mm=e=>e.appContext.weak.realtyVisited,Tm=e=>e.appContext.weak.restoredRealtyVisited,Pm=e=>(null==e?void 0:e.categoryId)?`${e.categoryId}_${e.buildingId}`:e.buildingId,Em=(0,C.gQ)("restorePersistedVisitedMarkers",(()=>(0,C.XJ)((0,Z.gF)({restored:Tm,visited:Mm},(({restored:e,visited:t})=>{if(e)return(0,C.ZT)();const s=zm();s.length>1e3&&(0,J.H)({id:"owieb",message:"too many visited markers in realty",level:"error",payload:{type:"debug",subtype:"visited markers getFormattedDataFromStorage error"}});const r=s.reduce(((e,t)=>(e[t]=!0,e)),{});return(0,D.yy)({realtyVisited:Object.assign(Object.assign({},t),r),restoredRealtyVisited:!0})}))))),Lm=(0,C.gQ)("saveVisitedMarker",(e=>(0,C.XJ)((e=>{const t=Pm({buildingId:e.buildingId,categoryId:e.categoryId}),s=Rm();return-1===s.indexOf(t)&&Od.tO.local.setItem(Nm,`${t};${s}`),(0,Z._N)(Mm,(e=>(0,D.yy)({realtyVisited:Object.assign(Object.assign({},e),{[t]:!0})})))})(e)))),Rm=()=>Od.tO.local.getItem(Nm)||"",zm=()=>{const e=Rm().split(";");if(e.length<300)return e;const t=e.slice(0,300);return Od.tO.local.setItem(Nm,t.join(";")),t};var Am=s(21683),Fm=s(29542);const Bm=(0,It.P1)([({state:e})=>"realty"===e.appContext.activeLayer,({state:e})=>e.data.realty.markers.default,({state:e})=>{var t;return null===(t=e.data.realty.hashmap.default)||void 0===t?void 0:t.data},({state:e})=>Mm(e),({state:e})=>e.appContext.weak.realtyHoveredId,({i18n:e})=>e,({isPikMarkersOnMap:e})=>e,({state:e})=>{var t;return null===(t=(0,q.t0)(e.appContext.frames,"realty"))||void 0===t?void 0:t.categoryId},({state:e})=>e.appContext.weak.infrastructureType,Am.k],((e,t,s,r,i,a,n,o,c,d)=>{var l;const u=null===(l=d.styles.default)||void 0===l?void 0:l.icons,p=null==t?void 0:t.data;if(!e||!p||c&&"allInfrastructure"!==c)return;const g=[];for(const e of p){const t=e.building_id,s={source:"realty",product_total:e.product_total,product_id:e.product_id,building_id:e.building_id,min_price:e.min_price},c=t,d=Pm({buildingId:e.building_id,categoryId:o}),l=r&&r[d],p=l?"visited":n?"normal-pik":void 0,m={key:c,id:t,lonLat:[e.lon,e.lat],type:"bigbullet",buildingId:e.building_id,icon:u&&p?(0,Fm.M)(u,p,"hover"):void 0,data:s},h=i?(0,Y._J)(i):void 0,f=Sm(m,a.tp,l,t===h,n);g.push(f)}return{indexHashMap:s,markers:g}})),Zm=Object.freeze([]),Um=Object.freeze({}),Hm=(0,It.P1)([({state:e})=>e.appContext.weak.realtyHoveredId,Bm,pm],((e,t,s)=>{if(!t)return Um;const r=s.buildingId,i=e&&t.indexHashMap?t.indexHashMap[(0,Y._J)(e)]:void 0,a=r&&t.indexHashMap?t.indexHashMap[r]:void 0;return{hoveredMarkerIndices:void 0!==i?[i]:Zm,hiddenMarkerIndices:void 0!==a?[a]:Zm}})),Dm=(0,It.P1)([({state:e})=>"exchange"===e.appContext.activeLayer,({exchangeMarkersState:e})=>e],((e,t)=>{if(e&&(null==t?void 0:t.markersData))return{indexHashMap:t.markersData.hashMap,markers:t.markersData.markers}})),$m=(0,It.P1)([({state:e})=>e.appContext.weak.hoveredId,Dm,pm],((e,t,s)=>{if(!t)return Ip.Nu;const r=s.entityId,i=e&&t.indexHashMap?t.indexHashMap[e]:void 0,a=r&&t.indexHashMap?t.indexHashMap[r]:void 0;return{hoveredMarkerIndices:void 0!==i?[i]:Ip.LZ,hiddenMarkerIndices:void 0!==a?[a]:Ip.LZ}})),Vm=({icon:e,width:t,height:s})=>{var i,a;const{css:n,s:o}=(0,ue.y)(qm),c=null!==(a=null===(i=e.querySelector("svg"))||void 0===i?void 0:i.outerHTML)&&void 0!==a?a:"";return(0,r.jsx)("div",{className:n(o.scale),style:{width:t,height:s},dangerouslySetInnerHTML:{__html:c}})},qm=(0,ue.k)({scale:{animationName:{"0%":{transform:"scale(0)"},"23%":{transform:"scale(1.15)"},"50%":{transform:"scale(0.96)"},"100%":{transform:"scale(1)"}},animationTimingFunction:"linear",animationDuration:"0.6s",animationIterationCount:1,transformOrigin:"bottom center"}});var Gm=s(75884),Wm=s(15692);const Qm={offset:[20,-12]};function Km({formattedMarker:e,maxLines:t}){const s=(({formattedMarker:e,maxLines:t})=>{var s,r;const{data:i}=e;if(!t)return Ip.LZ;const a=[],n=i.name,o=null===(r=null===(s=i.reviews)||void 0===s?void 0:s.general_rating)||void 0===r?void 0:r.toString();return n?(a.push([{type:"name",text:n}]),1===t?a:(o&&a.push([{type:"rating",text:o}]),2===t?a:a.slice(0,t))):Ip.LZ})({formattedMarker:e,maxLines:t}),i=(0,Pg.renderToStaticMarkup)((0,r.jsx)(Gm.S,{labelLines:s})),a=(0,Tg.D)(s);return Object.assign(Object.assign({},e),{htmlLabel:Object.assign(Object.assign({content:i},Qm),a)})}var Jm=s(35022);const Ym=(0,It.P1)([({state:e})=>(0,xg.W)(e),({state:e})=>e.data.realty.infrastructure,({state:e})=>e.appContext.weak.infrastructureType,({state:e})=>e.appContext.zoom,({state:e})=>e.data.entity.profile,({i18n:{tp:e}})=>e,({config:e})=>e],((e,t,s,r,i,a,n)=>{var o,c;if(!e||!t||!s)return;const d=null===(o=null==t?void 0:t[e])||void 0===o?void 0:o.data;if(!d)return;const l=[],u=[];for(const e in d)for(const t of d[e]){const o=(0,Y._J)(t.id),d=null===(c=i[o])||void 0===c?void 0:c.data,p=e===s,g=p&&d?(0,Jm.KY)(d,a,n)[0]:void 0,m=p&&d?null==d?void 0:d.reviews:void 0,h={source:"infrastructure",type:(0,Wm.j)(t.type),searchId:o,name:g,reviews:m,mainInfrastructureType:e},f={key:o,id:o,lonLat:[t.lon,t.lat],type:`${e}_${e===s?"selected":"normal"}`,buildingId:t.geometry_id,data:h},v=p?fm(r):0,b=v?Km({formattedMarker:f,maxLines:v}):f;e===s&&u.push(b),"allInfrastructure"===s&&l.push(b)}return{normal:{markers:l,indexHashMap:l.reduce(((e,t,s)=>(t.id&&(e[t.id]=s),e)),{})},selected:{markers:u,indexHashMap:u.reduce(((e,t,s)=>(t.id&&(e[t.id]=s),e)),{})}}})),Xm=(0,It.P1)([({state:e})=>e.appContext.weak.hoveredId,Ym],((e,t)=>{if(!t)return{normal:Ip.Nu,selected:Ip.Nu};const s=e&&t.normal.indexHashMap?t.normal.indexHashMap[e]:void 0,r=e&&t.selected.indexHashMap?t.selected.indexHashMap[e]:void 0;return{normal:{hoveredMarkerIndices:void 0!==s?[s]:Ip.LZ,hiddenMarkerIndices:Ip.LZ},selected:{hoveredMarkerIndices:void 0!==r?[r]:Ip.LZ,hiddenMarkerIndices:Ip.LZ}}})),eh=(0,It.P1)([({state:e})=>(0,K.oB)({state:e}),gm,({state:e})=>e.appContext.weak.floors&&e.appContext.weak.floors.firmsToFloorIndexMap],((e,t,s)=>function(e,t,s){if(!e||!t||void 0===s)return e;const r={};let i=0;return{markers:e.markers.filter((e=>{const a=(0,Y._J)(e.id);return(void 0===t[a]||t[a]===s)&&(r[a]=i,i+=1,!0)})),indexHashMap:r}}(e,s,t&&t.floorIndex))),th=(0,It.P1)([eh,({state:e})=>(e=>{const t=(0,Kp.m)(e);if(t&&"query"===t.searchType&&"catalog"===t.tab)return(0,Ya.rO)({state:e,searchId:(0,q.QB)(t)}).data})(e)],((e,t)=>({markersData:e,profile:t}))),sh=(0,It.P1)([th,({state:e})=>e.appContext.zoom,({config:e})=>e],(({markersData:e},t)=>{var s;return fm(t,null===(s=null==e?void 0:e.markers)||void 0===s?void 0:s.length)}),{compareByFirstArgOnly:!0}),rh=(0,It.P1)([eh,sh,({state:e})=>e.session.time,({i18n:e})=>e,({is12h:e})=>e],((e,t,s,r,i)=>{if(!e)return;const a=function(e){const{markers:t,i18n:s,linesInLabel:r=0,time:i,is12h:a,MarkerLabel:n}=e;return r?t.map((e=>{const t=Eg({marker:e,maxLines:r,time:i,tp:s.tp,dateFns:s.dateFns,is12h:a,MarkerLabel:n});return t?Object.assign(Object.assign({},e),{htmlLabel:t}):e})):t}({i18n:r,is12h:i,markers:e.markers,time:s,linesInLabel:t,MarkerLabel:Gm.S});return{markers:a,indexHashMap:e.indexHashMap}}));let ih;const ah=(0,It.P1)([rh,({state:e})=>(0,Ya.Aw)({state:e,searchId:(0,K.xl)(e)||""})],((e,t)=>(ih&&t&&"loading"===t.meta.status||(ih=e),ih))),nh=(0,It.P1)([pm,ah,Am.k,({state:e})=>(0,K.dz)(e)],((e,t,s,r)=>{const i=vm(e,t);return(null==i?void 0:i.id)?hm(i.type,i.entityId,i.lonLat[0],i.lonLat[1],Vm,N.yQ.czars,s,r,e.czarIcon,i.color):Ip.LZ})),oh=(0,It.P1)([ah,({state:e})=>(0,K.dz)(e),pm,({state:e})=>e.appContext.weak.hoveredId?(0,l.nM)({state:e,entityId:e.appContext.weak.hoveredId}).data:void 0,({state:e})=>e.appContext.weak.hoveredId,Hm,$m,Xm,({state:e})=>"realty"===e.appContext.activeLayer],((e,t,s,r,i,a,n,o,c)=>{const d=vm(s,e),l=Lg(d,e),u=function(e){if(!e)return;const t=[];return e.markers.forEach((s=>{if(Sg(s))return t.push(e.indexHashMap[(0,Y._J)(s.id)])})),t.length?t:void 0}(e),p=function(e,t,s){var r;const i=null==s?void 0:s.indexHashMap,a=null==s?void 0:s.markers;if(!e||!i||!a)return;const n=i[e],o=a[n];if(Sg(o))return;if("number"==typeof n)return[n];if("branch"===(null==t?void 0:t.type)){const e=null===(r=t.address)||void 0===r?void 0:r.building_id,s=e?i[e]:void 0,n="number"==typeof s?a[s]:void 0;if(Sg(n))return;return"number"==typeof s?[s]:void 0}}(i,r,e);return{[t]:c?a:{hiddenMarkerIndices:l,hoveredMarkerIndices:p,activeMarkerIndices:u},exchange:n,infrastructureNormal:o.normal,infrastructureSelected:o.selected}}));const ch=(0,It.P1)([ah,Ug,Dg,om,({state:e})=>(0,K.dz)(e),Bm,Dm,Ym],((e,t,s,r,i,a,n,o)=>{const c={};return c[i]=(null==a?void 0:a.markers)||(null==e?void 0:e.markers)||Ip.LZ,c.favorites=s?s.markers:t?t.markers:Ip.LZ,c.tUgc=r.markers||Ip.LZ,c.exchange=(null==n?void 0:n.markers)||Ip.LZ,c.infrastructureNormal=(null==o?void 0:o.normal.markers)||Ip.LZ,c.infrastructureSelected=(null==o?void 0:o.selected.markers)||Ip.LZ,c}));var dh=s(89679);const lh=Math.pow(2,32);function uh(e,t,s){const r=function(e,t){const s=e*lh/360,r=Math.sin((a=t,a*Math.PI/180)),i=Math.log((1+r)/(1-r))*lh/(4*Math.PI);var a;return[s,i]}(e,t),i=mh(s),a=Math.floor((r[0]+Math.pow(2,31))/i),n=Math.floor((r[1]+Math.pow(2,31))/i),o=ph(a,n,s),c=gh(o[0],o[1]),d=ph(a+1,n+1,s);return[c,gh(d[0],d[1])]}function ph(e,t,s){const r=mh(s),i=2147483648;return[e*r-i,t*r-i]}function gh(e,t){const s=360*e/lh,r=-2*Math.PI/lh;return[s,90-2*(Math.atan(Math.exp(t*r))/Math.PI*180)]}function mh(e){return Math.pow(2,32-e)}const hh="#5d86dd",fh=(0,It.P1)([e=>e.session.godmode,e=>(0,K.C8)(e),Kp.m],((e,t,s)=>{var r;if(!e)return Ip.LZ;if(!(0,$.z)("mapDebugMode")||!t||200!==t.code||!s||"query"!==s.searchType)return Ip.LZ;const i=null===(r=t.search_attributes)||void 0===r?void 0:r.cluster_zoom;return i?t.items.map((e=>{const{lon:t,lat:s}=e,[r,a]=uh(t,s,i);return{type:"polyline",points:[r,[a[0],r[1]],a,[r[0],a[1]],r],clickable:!1,style:{fillOpacity:.4,strokeOpacity:1,fillColor:hh,strokeColor:hh,width:2,strokeWidth:0}}})):Ip.LZ})),vh=(0,It.P1)([e=>e.session.godmode,K.H3],((e,t)=>{if(!e)return Ip.LZ;return(0,$.z)("mapDebugMode")&&t?t.markers.map((e=>({type:"circleMarker",position:e.lonLat,radius:3,clickable:!1,style:{fillColor:"#ffffff",strokeColor:"#dd8a26",strokeWidth:1}}))):Ip.LZ})),bh=(0,It.P1)([fh,vh],((e,t)=>[...e,...t]));var yh=s(5603),xh=s(97264),jh=s(84472);function wh(e){if(!e)return;return[...e].reverse().reduce(((e,t)=>{const s=t.geometry;return"MultiPolygon"!==s.type||e.push(Object.assign(Object.assign({},t.properties),{coordinates:s.coordinates.map((e=>e.map((e=>function(e){let t=[0,0];return e.map((([e,s])=>{const[r,i]=t,a=[Number((r+e).toFixed(5)),Number((i+s).toFixed(5))];return t=a,a}))}(e)))))})),e}),[])}var _h=s(50278);const Ch=[],Ih="#959faa",kh="#ffffff",Oh={fillColor:"#3389ed",fillOpacity:1,strokeOpacity:1,strokeColor:Ke.O.white,strokeWidth:3,width:7},Sh={fillColor:Ke.O.blue_028eff,fillOpacity:1,strokeOpacity:.2,strokeColor:Ke.O.blue_028eff,strokeWidth:17,width:7},Nh=[["interpolate",["linear"],["zoom"],10,"#ff563180",12,"#ff563166",13,"#ff56314d",15,"#ff563133"],["interpolate",["linear"],["zoom"],10,"#ffd46c80",12,"#ffd46c66",13,"#ffd46c4d",15,"#ffd46c33"],["interpolate",["linear"],["zoom"],10,"#7fcd3380",12,"#7fcd3366",13,"#7fcd334d",15,"#7fcd3333"],["interpolate",["linear"],["zoom"],10,"#0c780580",12,"#0c780566",13,"#0c78054d",15,"#0c780533"]],Mh=(0,It.P1)([e=>e.session.geolocation.allowed,e=>e.session.geolocation.position,e=>e.session.geolocation.accuracy],((e,t,s)=>{if(!e||!t)return Ch;const r=[];return s&&r.push({type:"circleMarker",radius:Sh.width||0,position:[t.lon,t.lat],clickable:!1,style:Sh}),r.push({type:"circleMarker",radius:Oh.width||0,position:[t.lon,t.lat],clickable:!0,style:Oh}),r}));const Th=(0,It.P1)([function(e){const t=(0,q.Fq)(e.appContext.frames);if(!t)return;const s=t.routeId||t.entityId;return(0,l.nM)({state:e,entityId:s}).data},e=>Pp(e.appContext.zoom),function(e){const t=(0,q.Fq)(e.appContext.frames);return t?t.activeDirectionId:void 0}],((e,t,s)=>{let r=[];if(!e)return Ch;const i=(e=>"route"===e.type?e:!(0,yh.t)(e)||void 0===e.routes||"metro"!==e.subtype&&"mcc"!==e.route_type&&"mcd"!==e.route_type?void 0:e.routes[0])(e);if(!i)return Ch;const a="route"===e.type?i.route_logo:(0,yh.t)(e)&&"metro"===e.subtype?e.route_logo:void 0,n=!!(0,xh.Z)(a),o=i.directions;if(!o||!o.length)return Ch;const c=s||o[0].id,d=i.color||"#5d86dd";let l=[];return o.forEach((e=>{const s=e.id===c,i=function(e,t,s,r){var i;if(!e.geometry.selection)return;const a=(0,dh.h_)(e.geometry.selection);if(!a)return;const n=[],o=r?kh:s||Ih,c=a.map((e=>[e.lon,e.lat])),d=[];return null===(i=e.geometry.immersion)||void 0===i||i.forEach((e=>{var t;const s=null===(t=(0,dh.h_)(e.selection))||void 0===t?void 0:t.map((e=>[e.lon,e.lat]));s&&d.push({zlevel_first:e.zlevel_first,zlevel_last:e.zlevel_last,immersive_height_first:e.immersive_height_first,immersive_height_last:e.immersive_height_last,points:s})})),n.push({type:"polyline",points:c,clickable:!0,immersion:d,eventData:{id:e.id},style:{fillColor:o,strokeColor:r?s:kh,strokeOpacity:1,width:6,strokeWidth:2}}),e.platforms.forEach(((i,a)=>{var c,d;if(!(s&&t||0===a||a===e.platforms.length-1))return;if(!i.geometry.centroid)return;const l=(0,dh.rx)(i.geometry.centroid);l&&n.push({type:"circleMarker",clickable:!0,radius:0===a||a===e.platforms.length-1?r?8:7:r?6:5,position:[l.lon,l.lat],immersiveHeight:null===(d=null===(c=i.geometry)||void 0===c?void 0:c.immersion)||void 0===d?void 0:d.immersive_height,style:{fillColor:kh,strokeColor:r?s:o,strokeOpacity:1,strokeWidth:2},eventData:{type:"routePlatformPoint",id:i.id,name:i.name}})})),n}(e,t,s?d:void 0,n);i&&(s?l=i:r=[...r,...i])})),[...r,...l]}));const Ph=(0,It.P1)([jh.z,o.kL,_h.j],((e,t,s)=>{var r;if(!t||"realtyWalkDistance"!==s)return Ch;const i=wh(null===(r=e[t.id])||void 0===r?void 0:r.data);return i?i.reduce(((e,t,s)=>(t.coordinates.forEach((t=>{e.push({type:"polygon",points:t,style:{fillColor:Nh[s],strokeWidth:0},clickable:!1})})),e)),[]):Ch}));const Eh=(0,It.P1)([Th,Mh,bh,Ph],((e,t,s,r)=>{const i=[...e,...t,...s,...r];return i.length?i:Ch}));var Lh=s(38261),Rh=s(62830),zh=s(40458),Ah=s(69623);const Fh=(e,t)=>"pedestrian"!==e?function(e){switch(e){case"fast":case"normal":case"slow":case"slow-jams":case"no-traffic":return e;default:return"ignore"}}(null==t?void 0:t.color):"zlevel-negative"===(null==t?void 0:t.zlevel)?"pedestrian-underground":"pedestrian";var Bh=s(86598),Zh=s(81245);var Uh=s(93804),Hh=s(82517);const Dh=e=>{const{position:t,isCyrillicLang:s,isStartPoint:r,isFinishPoint:a}=e;if(r){return{size:[22,22],offset:[11,11],img:`${(0,i.s)()}directions/pointA.svg`}}if(a){return{size:[22,22],offset:[11,11],img:s?`${(0,i.s)()}directions/pointB.svg`:`${(0,i.s)()}directions/pointBLatin.svg`}}const n={size:[22,22],offset:[11,11],img:`${(0,i.s)()}directions/pointIntermediate.svg`},o=["pointIntermediate","pointIntermediateOne","pointIntermediateTwo","pointIntermediateThree","pointIntermediateFour","pointIntermediateFive","pointIntermediateSix","pointIntermediateSeven","pointIntermediateEight","pointIntermediateNine","pointIntermediateTen"];return Object.assign(Object.assign({},n),{img:`${(0,i.s)()}directions/${t>0&&t<=10?o[t]:o[0]}.svg`})};var $h=s(39980),Vh=s(12678);const qh={ppna:void 0,ppnot:void 0},Gh=(0,It.P1)([e=>{const{state:t}=e,s=(0,he.SI)(t);return s?s.tab:N.QZ},e=>{const{state:t}=e,s=(0,he.SI)(t);return s?s.points:void 0},e=>{const{state:t}=e,s=(0,he.SI)(t);return s?s.activeDirectionId:void 0},e=>{const{state:t}=e,s=(0,he.SI)(t);return s?(0,Lh.cx)({state:t,searchId:(0,Rh.r)(s)||""}):void 0},e=>{const{isCyrillicLang:t}=e;return!!t}],((e,t,s,r,i)=>{const a=t&&function(e,t,s){const r=(0,Uh.n)(e,t);if(!r.length)return;return r.map(((e,t)=>!(0,zh.j)(e)&&(0,Y.$K)(e.lonLat)?{position:[e.lonLat.lon,e.lonLat.lat],icon:Dh({position:t,isCyrillicLang:s,isFinishPoint:t===r.length-1,isStartPoint:0===t})}:void 0))}(t,e,i);if(!a||a.every((e=>!(0,Y.$K)(e))))return qh;if(!r||!r.data||"success"!==r.meta.status){const t={points:a,routes:[]},s="loading"===(null==r?void 0:r.meta.status)||void 0;return"bus"===e?{ppnot:t,isRoutesLoading:s}:{ppna:t,isRoutesLoading:s}}const{data:n}=r;switch(n.type){case"ppna":case"ppng":case"pedestrian":return{ppna:Object.assign({points:a},Qh(n.type,n.items,s))};case"ppnot":return{ppnot:Object.assign({points:a},Kh(n.items,s))}}})),Wh=(0,It.P1)([e=>{const{state:t}=e;return t.appContext.weak.hoveredDirection},Gh,e=>{var t;return null===(t=(0,$h.GN)(e.state))||void 0===t?void 0:t.directionId}],((e,t,s)=>t.ppnot?Object.assign(Object.assign({},t),{ppnot:Object.assign(Object.assign(Object.assign({},t.ppnot),e),{routes:s?t.ppnot.routes.filter((e=>e.id===s)):t.ppnot.routes})}):t));function Qh(e,t,s){const r=[],i=(0,Bh.q)(s,t);return t.forEach((t=>{const s={id:t.id,sections:[]};t.begin_pedestrian_path&&s.sections.push(Object.assign({type:"pedestrian",geometry:t.begin_pedestrian_path.geometry.selection},t.begin_pedestrian_path.geometry.immersive_line?{immersive_line:t.begin_pedestrian_path.geometry.immersive_line}:{})),(t.maneuvers||[]).forEach((t=>{const r=t.outcoming_path&&t.outcoming_path.geometry;r&&r.forEach((t=>{s.sections.push(Object.assign({type:Fh(e,t),geometry:t.selection},t.immersive_line?{immersive_line:t.immersive_line}:{}))}))})),t.end_pedestrian_path&&s.sections.push(Object.assign({type:"pedestrian",geometry:t.end_pedestrian_path.geometry.selection},t.end_pedestrian_path.geometry.immersive_line?{immersive_line:t.end_pedestrian_path.geometry.immersive_line}:{})),r.push(s)})),{routes:r,activeRouteId:i}}function Kh(e,t){const s=[],r=(0,Bh.q)(t,e);return e.forEach((e=>{const t={id:e.id,movements:[]};e.movements.forEach((e=>{var s,r,i,a;const n=e.alternatives?e.alternatives[0].geometry:[],o=function(e){if("mcc"===e||"mcd"===e)return"metro";return e}(e.waypoint.subtype),c=function(e){return!!e&&!!(0,xh.Z)(e.waypoint.route_logo)}(e);let d;for(let l=0;l<n.length;l++){const u=Jh(n[l],o);let p=null!==(s=n[l].immersive_height_last)&&void 0!==s?s:0,g=null!==(r=n[l].immersive_height_first)&&void 0!==r?r:0;const m=(0,Vh.J)(n[l].selection);for(;l<n.length-1&&Yh({first:n[l],second:n[l+1],waypointType:o});)(0,Vh.J)(n[l+1].selection).slice(1).forEach((e=>{m.push(e)})),void 0===d&&(d=l),p=null!==(i=n[l+1].immersive_height_last)&&void 0!==i?i:0,g=null!==(a=n[d].immersive_height_first)&&void 0!==a?a:0,l++;const h=`LINESTRING(${m.map((([e,t])=>`${e} ${t}`)).join(",")})`,f=(0,Ah.N)(e,c,u),v="metro"===o;t.movements.push(Object.assign({id:e.id,type:u?"pedestrian-underground":e.type,waypointType:o,geometry:[Object.assign(Object.assign({},n[l]),{immersive_height_first:v?0:g,immersive_height_last:v?0:p,selection:h})],waypointColor:(0,Zh.A)(e),lineColor:f,hoveredLineColor:c?f:(0,Hh.X)(f,.5)},c&&e.waypoint.color?{borderColor:e.waypoint.color,hoveredBorderColor:(0,Hh.X)(e.waypoint.color,.7)}:void 0))}})),s.push(t)})),{routes:s,activeRouteId:r}}function Jh(e,t){return("pedestrian"===t||"start"===t||"finish"===t)&&((e.z_first||0)<0||(e.z_last||0)<0)}const Yh=({first:e,second:t,waypointType:s})=>{if(!e||!t)return!1;const r="pedestrian"===s||"start"===s||"finish"===s,i=Jh(t,s)===Jh(e,s);if(r)return i;return Xh(e.z_first,e.z_last)===Xh(t.z_first,t.z_last)};function Xh(e,t){const s=null!=e?e:0,r=null!=t?t:0;return s<0||r<0?Math.min(s,r):Math.max(s,r)}var ef=s(97698);const tf=(0,It.P1)([e=>e.appContext.showTrafficOnMap],(e=>e?{}:void 0));var sf=s(55198),rf=s(36130);var af=s(5809);const nf=(0,It.P1)([({state:e})=>e.config,({state:e})=>!!tf(e),({state:e})=>{const{ppnot:t,ppna:s,isRoutesLoading:r}=Wh({state:e,isCyrillicLang:e.config.isCyrillicLang});return!(!(null==t?void 0:t.routes.length)&&!(null==s?void 0:s.routes.length))||r},({state:e})=>e.appContext.activeLayer,({state:e})=>(e=>{var t,s,r;const i=(0,q.Fq)(e.appContext.frames,e.appContext.graveyard);if(i){const a=(0,rf.f)(e,i);return!!(null===(r=null===(s=null===(t=null==a?void 0:a.ads)||void 0===t?void 0:t.options)||void 0===s?void 0:s.poi)||void 0===r?void 0:r.is_premium)||"branch"===(null==a?void 0:a.type)&&!!a.poi_category}return void 0!==(0,q.t0)(e.appContext.frames,"search")})(e),({state:e})=>(0,op.Q)(e),({state:e})=>e.appContext.relief,({state:e})=>(e=>{var t,s,r,i;const a=(0,q.t0)(e.appContext.frames,"entity"),n=(0,q.t0)(e.appContext.frames,"search");if(a){const o=(0,rf.f)(e,a),c=!!(null===(r=null===(s=null===(t=null==o?void 0:o.ads)||void 0===t?void 0:t.options)||void 0===s?void 0:s.poi)||void 0===r?void 0:r.is_premium);if(n){const{profile:t}=(0,af.v)(e,n);return 1===(null===(i=null==t?void 0:t.data)||void 0===i?void 0:i.searchType)&&c}return c}return!1})(e),sf.w,({state:e})=>Wd.l.getIsAvailable(e)&&Wd.l.$isEnabled.get(e)],((e,t,s,r,i,a,n,o,c,d)=>{const l=(null==c?void 0:c.includes("//"))?{iconsPath:`${c}images/`,fontsPath:`${c}fonts/`,modelsPath:`${c}models/`}:void 0;return{id:c,styleOptions:l,globalAttributes:Object.assign({searchOn:i,trafficOn:t||s||!1,parkingOn:"parkings"===r,terrainEnabled:n,premiumSelected:o,immersiveRoadsOn:d,graphicsPreset:e.isMobileDevice?"normal":"immersive"},a?{poiCategory:a}:{})}})),of=(0,It.HP)((e=>e.rasterTileServerUrl?{url:(t,s,r)=>`${e.rasterTileServerUrl}/tiles?x=${t}&y=${s}&z=${r}&ts=realty_resident_rent`,minZoom:2,maxZoom:15,attributes:{type:"realty_heatmap"}}:void 0)),cf=(0,It.HP)((e=>e.rasterTileServerUrl?{url:(t,s,r)=>`${e.rasterTileServerUrl}/tiles?x=${t}&y=${s}&z=${r}&ts=realty_resident_sale`,minZoom:2,maxZoom:15,attributes:{type:"realty_heatmap"}}:void 0));const df={fast:"#22aa01",normal:"#ffc402",slow:"#f72000","slow-jams":"#81020d","no-traffic":"#0f6ec1",ignore:"#0f6ec1",pedestrian:"#626262","pedestrian-underground":"#626262",inactive:"#b4bcd2",border:"#ffffff",border2:(0,Hh.X)(Ke.O.gray_141414,1),hovered:"#000000"},lf=({base:e,pedestrian:t,inactive:s})=>({normal:e,fast:e,ignore:e,"no-traffic":e,slow:e,"slow-jams":e,pedestrian:t,"pedestrian-underground":t,inactive:s}),uf=(e,t)=>({color:t[e],hoveredColor:t.hovered,borderColor:t.border,hoveredBorderColor:t.border,border2Color:t.border2,hoveredBorder2Color:t.border2,dashColor:"inactive"===e?t[e]:"#626262",gapColor:"#ffffff",dashLength:8,gapLength:4}),pf=(0,It.P1)([({config:e})=>e],(({baseDomain:e})=>{const t=e.split(".");return((e,t="ru")=>({regionDomain:t,lineStylesByZoom:{14:lf({base:{width:5.73,borderWidth:3,border2Width:.5},pedestrian:{width:4,borderWidth:2,border2Width:.5},inactive:{width:4,borderWidth:2,border2Width:.5}}),20:lf({base:{width:10.5,borderWidth:5.5,border2Width:.8},pedestrian:{width:5.5,borderWidth:3,border2Width:.5},inactive:{width:5,borderWidth:3,border2Width:.5}})},lineStyles:{normal:uf("normal",e),fast:uf("fast",e),ignore:uf("ignore",e),"no-traffic":uf("no-traffic",e),slow:uf("slow",e),"slow-jams":uf("slow-jams",e),pedestrian:uf("pedestrian",e),"pedestrian-underground":uf("pedestrian-underground",e),inactive:uf("inactive",e)},lineAnimations:{activeRouteAnimation:{duration:800,easing:"linear"},inactiveRouteAnimation:{duration:1100,easing:"linear"}}}))(df,t[t.length-1])}));var gf=s(63983);const mf=(0,gf.E)(gf.S),hf=(0,It.P1)([({config:e})=>e],(()=>mf));function ff(e,t,s,r){return t+s/r*e}const vf=(0,It.P1)([e=>e.appContext.showSnow],(e=>"off"===e.status?{enabled:!1,dispersion:0,particleNumber:0,velocityX:0,velocityY:0,velocityZ:0,size:0,color:[]}:Object.assign({enabled:"on"===e.status},function(e){const t=[0,0,200,5e3,6],s=[600,0,800,5e4,8],r=[1200,-1e3,1300,1e5,8];let i=r;return e<=0?i=t:e<50?i=s.map(((s,r)=>ff(e,t[r],s-t[r],50))):e<100&&(i=r.map(((t,r)=>ff(e-50,s[r],t-s[r],50)))),{velocityX:i[0],velocityY:i[1],velocityZ:i[2],particleNumber:i[3],size:i[4],dispersion:200,color:[255,255,255,.8]}}(e.intensity)))),bf=(0,It.P1)([({state:e})=>yf(e)],(e=>e?{activeGroup:"metro",allowedFloorIds:[]}:void 0)),yf=e=>{if(!e.config.featureMetrostationScheme)return;const t=e.appContext.frames.find((e=>"entity"===e.type)),s=t&&(0,rf.f)(e,t),r="metro"===e.appContext.activeLayer,i="station"===(null==s?void 0:s.type)&&"metro"===s.subtype,a="station_entrance"===(null==s?void 0:s.type)&&"metro"===s.subtype;return i||a||r},xf=["ru","en","az","uz","ar","kk","hy","ka"],jf=(0,It.HP)((e=>[e])),wf=(0,It.P1)([({state:e})=>e.config.isMobileDevice?0:(0,Zn.w)(e),({rtl:e})=>e],((e,t)=>({[t?"right":"left"]:e}))),_f=(0,It.P1)([({state:e})=>e.appContext.center.lon,({state:e})=>e.appContext.center.lat],((e,t)=>[e,t])),Cf=(0,ef.zB)({viewport:wf,center:_f,zoom:({state:e})=>e.appContext.zoom,pitch:({state:e})=>e.appContext.pitch,rotation:({state:e})=>e.appContext.rotation,minZoom:({state:e})=>(0,co.d)({project:(0,o.kL)(e),is3d:e.session.is3dEnabled}).min,maxZoom:({state:e})=>(0,co.d)({project:(0,o.kL)(e),is3d:e.session.is3dEnabled}).max,lang:({state:e})=>{const t=e.appContext.lang;return xf.includes(t)?t:"en"},projectList:({state:e})=>{const t=(0,o.kL)(e);return jf(t)},htmlMarkers:nh,markers:ch,markersState:oh,markersSettings:Am.k,floors:gm,floorGroups:bf,select:wg,personalPoi:({state:e})=>(0,K.sH)(e),geometry:({state:e})=>Eh(e),entrances:({state:e})=>function(e){const t=e.appContext.frames.find((e=>"entity"===e.type)),s=e.appContext.frames.find(yg.yb);if(!t||!s){if(t&&"entity"===t.type&&t.isShowEntrance)return(0,Nt._f)({state:e,entityId:t.entityId,entranceId:t.entranceId,searchId:t.searchId});if(s&&s.isShowEntrance){const t=(0,xg.W)(e);if(!t)return;return(0,Nt._f)({state:e,entityId:t,entranceId:s.entranceId})}}}(e),traffic:({state:e})=>tf(e),ppna:({state:e,isCyrillicLang:t})=>{var s;return null===(s=Wh({state:e,isCyrillicLang:t}))||void 0===s?void 0:s.ppna},ppnaSettings:({state:e,config:t})=>pf({state:e,config:t}),ppnot:({state:e,isCyrillicLang:t})=>{var s;return null===(s=Wh({state:e,isCyrillicLang:t}))||void 0===s?void 0:s.ppnot},ppnotSettings:({state:e,config:t})=>hf({state:e,config:t}),ruler:({state:e})=>e.appContext.ruler.isActive?e.appContext.ruler:void 0,style:({state:e})=>nf({state:e}),photos:({state:e})=>"photos"===e.appContext.activeLayer,rasterTileSource:function({state:e,config:t}){switch(e.appContext.activeSublayer){case"realtyPriceRent":return of(t);case"realtyPriceSale":return cf(t);default:return}},snow:({state:e})=>vf(e)});var If=s(35779),kf=s(12563);const Of=(0,kf.createModel)("etaByViewport",(({services:e},t)=>({fetch(){return(0,Me.mG)(this,void 0,void 0,(function*(){return(yield e.etaApi.getData(t)).data}))}})),(({fetch:e},t,{config:s})=>{e();const r=setInterval((()=>{e()}),s.etaRefreshTime);return({clearData:e})=>{clearInterval(r),e()}})),Sf=(0,kf.createModel)("etaByDirections",(({services:e},t)=>({fetch(){return(0,Me.mG)(this,void 0,void 0,(function*(){return(yield e.etaApi.getCurrentDirectionsData(t)).data}))}})),(({fetch:e},t,{config:s})=>{e();const r=setInterval((()=>{e()}),s.etaRefreshTime);return({clearData:e})=>{clearInterval(r),e()}}));var Nf=s(4805),Mf=s(69698);const Tf=(0,ef.P1)([e=>(0,q.t0)(e.appContext.frames,"entity"),e=>{const t=(0,q.t0)(e.appContext.frames,"entity"),s=(null==t?void 0:t.entityId)?(0,l.nM)({state:e,entityId:t.entityId}).data:void 0;return"route"===(null==s?void 0:s.type)?s:void 0}],((e,t)=>{if(!(null==e?void 0:e.id)||!(null==t?void 0:t.directions)||0===t.directions.length)return;const s=t.directions.map((({id:e})=>({id:e,type:"route",subtype:t.subtype})))||Ip.LZ;return{frame:{id:e.id,type:e.type},entity:{id:t.id,type:t.type,subtype:t.subtype},directions:s}}));var Pf=s(27672);const Ef=(0,ef.P1)([e=>(0,q.t0)(e.appContext.frames,"directions")],(e=>{if(e&&(0,he.B7)(e))return(0,Rh.r)(e)})),Lf=(0,ef.P1)([e=>{var t,s;return null===(s=null===(t=(0,Lh.cx)({state:e,searchId:Ef(e)||""}))||void 0===t?void 0:t.data)||void 0===s?void 0:s.items},e=>(0,q.t0)(e.appContext.frames,"directions")],((e,t)=>!t||"directions"!==t.type&&"bus"!==t.tab?Ip.LZ:e||Ip.LZ));const Rf=(0,ef.P1)([e=>{const t=(0,q.t0)(e.appContext.frames,"directions");if(t&&"bus"===t.tab)return t},Lf],((e,t)=>{var s;const r=(null==e?void 0:e.activeDirectionId)||(null===(s=t[0])||void 0===s?void 0:s.id),i=function(e){var t;if(!(null===(t=null==e?void 0:e.movements)||void 0===t?void 0:t.length))return Ip.LZ;const s=e.movements.reduce(((e,t)=>{var s;if(t){const r=t.routes_groups?t.routes_groups[0]:void 0;null===(s=null==r?void 0:r.routes)||void 0===s||s.map((t=>{var s;(null===(s=null==t?void 0:t.direction_ids)||void 0===s?void 0:s.length)&&e.push(...t.direction_ids.map((e=>({id:e,type:"route",subtype:t.subtype}))))}))}return e}),[]),r=(0,Pf.m)(s,(({id:e,type:t,subtype:s})=>`${t}:${e}:${s}`));return r.length?r:Ip.LZ}(t.find((e=>e.id===r)));if((null==e?void 0:e.id)&&0!==i.length)return{frame:{id:e.id,type:e.type},entity:{id:r,type:"routeResult"},directions:i}})),zf=(0,ef.P1)([e=>(0,q.t0)(e.appContext.frames,"entity"),e=>{const t=(0,q.t0)(e.appContext.frames,"entity"),s=(null==t?void 0:t.entityId)?(0,l.nM)({state:e,entityId:t.entityId}).data:void 0;if(t&&s&&(0,yh.t)(s)&&("stop"===(null==s?void 0:s.subtype)||"tram"===s.subtype))return s}],((e,t)=>{if(!(null==e?void 0:e.id)||!(null==t?void 0:t.routes)||0===t.routes.length)return;const s=t.routes.reduce(((e,t)=>{var s,r;return e.concat(null!==(r=null===(s=t.direction_ids)||void 0===s?void 0:s.map((e=>({id:null==e?void 0:e.toString(),type:"route",subtype:t.subtype}))))&&void 0!==r?r:Ip.LZ)}),[]);return{frame:{id:e.id,type:e.type},entity:{id:t.id,type:t.type,subtype:t.subtype},directions:s}})),Af=(0,ef.P1)([Tf,Rf,zf],((e,t,s)=>{var r;return null!==(r=null!=e?e:t)&&void 0!==r?r:s}));const Ff={arrowIcon:(0,Pg.renderToStaticMarkup)((0,r.jsx)((function({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"28",height:"34",viewBox:"0 0 28 34"},{children:(0,r.jsx)("g",Object.assign({fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},{children:(0,r.jsx)("g",Object.assign({fill:e,fillRule:"nonzero",stroke:"#FFF",strokeWidth:"1.5",transform:"translate(-388 -169)"},{children:(0,r.jsx)("g",Object.assign({transform:"matrix(1 0 0 -1 389 202)"},{children:(0,r.jsx)("path",{d:"M13 0c7.18 0 13 5.82 13 13a13 13 0 01-7.053 11.563L13 31.5l-5.946-6.937A13 13 0 010 13C0 5.82 5.82 0 13 0z"})}))}))}))}))}),{})),transport:{bus:{icon:(0,Pg.renderToStaticMarkup)((0,r.jsx)((function({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 26 26"},{children:(0,r.jsx)("g",Object.assign({fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},{children:(0,r.jsxs)("g",Object.assign({fillRule:"nonzero"},{children:[(0,r.jsx)("circle",{cx:"13",cy:"13",r:"12.35",fill:e,opacity:"0.95"}),(0,r.jsx)("path",{fill:"#FFF",d:"M13 5.638c3.259 0 5.703.873 5.703.873v3.118h1.14v3.243l-1.14.815v5.864H17.56c-.45 0-.814-.691-.814-1.14H9.253c0 .449-.365 1.14-.814 1.14H7.297v-5.864l-1.14-.815V9.629h1.14V6.511S9.741 5.638 13 5.638zm3.136 9.351a.856.856 0 100 1.711.856.856 0 000-1.71zm-6.272 0a.856.856 0 100 1.711.856.856 0 000-1.71zm7.127-6.5H9.01v4.562c0 .44.357.798.798.798h6.386c.44 0 .798-.358.798-.798V8.489z"})]}))}))}))}),{})),color:"#436ABD"},tram:{icon:(0,Pg.renderToStaticMarkup)((0,r.jsx)((function({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 26 26"},{children:(0,r.jsx)("g",Object.assign({fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},{children:(0,r.jsxs)("g",Object.assign({fillRule:"nonzero"},{children:[(0,r.jsx)("circle",{cx:"13",cy:"13",r:"12.35",fill:e,opacity:"0.95"}),(0,r.jsx)("path",{fill:"#FFF",d:"M9.562 19.521l-.83 1.662H7.07l.83-1.662h1.662zm8.309 0l.83 1.662H17.04l-.831-1.662h1.662zM9.457 4.031a20.176 20.176 0 016.37-.078l.492.078-.011.064h.01l-.53 3.035c1.274.19 2.224.455 2.656.588l.257.084V17.86l-5.815 1.661L7.07 17.86V7.802l.258-.084a18.412 18.412 0 012.66-.588l-.53-3.034.01-.001-.01-.064zm6.752 11.336a.831.831 0 100 1.662.831.831 0 000-1.662zm-6.647 0a.831.831 0 100 1.662.831.831 0 000-1.662zm7.478-5.816H8.73v3.324c0 .426.321.777.734.825l.097.006h6.647c.426 0 .777-.321.825-.734l.006-.097V9.55zm-4.154-4.568c-.652 0-1.304.034-1.958.102l.39 1.892a19.312 19.312 0 013.14 0l.39-1.892a18.836 18.836 0 00-1.962-.102z"})]}))}))}))}),{})),color:"#EB5A2B"},shuttle_bus:{icon:(0,Pg.renderToStaticMarkup)((0,r.jsx)((function({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 26 26"},{children:(0,r.jsx)("g",Object.assign({fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},{children:(0,r.jsxs)("g",Object.assign({fillRule:"nonzero"},{children:[(0,r.jsx)("circle",{cx:"13",cy:"13",r:"12.35",fill:e,opacity:"0.95"}),(0,r.jsx)("path",{fill:"#FFF",d:"M15.566 5.158l.603 1.89c1.158.237 1.962.504 1.962.504l.502 3.421h1.21v1.71l-.856.856v5.987h-1.71a.855.855 0 01-.856-.855H9.579a.855.855 0 01-.855.855h-1.71v-5.987l-.856-.855v-1.71h1.218l.492-3.422s.804-.267 1.963-.503l.603-1.891h5.132zm.855 10.092a.855.855 0 100 1.71.855.855 0 000-1.71zm-6.842 0a.855.855 0 100 1.71.855.855 0 000-1.71zm3.42-6.842c-1.338 0-2.706.27-3.596.49l-.546 3.786h8.299L16.6 8.899c-.89-.22-2.26-.491-3.601-.491zm1.712-1.96h-.684v.685h.684V6.45zm-2.737 0h-.684v.685h.684V6.45zm1.368 0h-.684v.685h.684V6.45zm.685-.683h-.685v.684h.685v-.684zm-1.369 0h-.684v.684h.684v-.684z"})]}))}))}))}),{})),color:"#883C7A"},trolleybus:{icon:(0,Pg.renderToStaticMarkup)((0,r.jsx)((function({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"26",height:"26",viewBox:"0 0 26 26"},{children:(0,r.jsx)("g",Object.assign({fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},{children:(0,r.jsxs)("g",Object.assign({fillRule:"nonzero"},{children:[(0,r.jsx)("circle",{cx:"13",cy:"13",r:"12.35",fill:e,opacity:"0.95"}),(0,r.jsx)("path",{fill:"#FFF",d:"M12.247 3.446v2.585a19.556 19.556 0 011.917.01l.649-2.595h.855v2.732c2.061.264 3.421.75 3.421.75v3.36h.856v2.566l-.856.855v5.987h-.855a.856.856 0 01-.855-.855H8.826a.856.856 0 01-.855.855h-.855v-5.987l-.856-.855v-2.566h.855v-3.36s1.44-.514 3.599-.772l.678-2.71h.855zM9.681 15.42a.856.856 0 000 1.71l.1-.006a.856.856 0 00-.1-1.704zm6.842 0a.856.856 0 000 1.71l.1-.006a.856.856 0 00-.1-1.704zm.856-5.987H8.826v3.42c0 .473.383.856.855.856h6.842a.856.856 0 00.856-.855V9.433z"})]}))}))}))}),{})),color:"#70AA35"}}};function Bf(){var e;const t=(0,pe.v9)(K.Id),s=(0,pe.v9)((e=>e.appContext.zoom)),r=(0,pe.v9)((e=>"eta"===e.appContext.activeLayer)),i=function(){const e=(0,pe.v9)(Af);return(0,le.useMemo)((()=>{var t;return null!==(t=null==e?void 0:e.directions.map((e=>e.id)))&&void 0!==t?t:Ip.LZ}),[null==e?void 0:e.directions])}(),a=i.join(),n=(0,Nf.N)({delay:1e4});let o,c="none";n&&(i.length?(o=Sf({directions:i}),c="frame"):r&&(o=Of({viewport:t,zoom:s}),c="map"));const d=(0,Mf.tT)(o),l=(0,le.useMemo)((()=>(e=>({frameId:t},s)=>{if("none"===e)return;if("map"===e)return{uiElement:{name:"vehiclesOnMap",frameUuid:t,ownerName:"ctxLayer"}};const r=Af(s);return r?{uiElement:{name:"vehiclesOnMap",frameUuid:r.frame.id,ownerName:"entity"===r.frame.type?"directoryObjectCardScreen":"routeCtxScreen"},payload:{vehiclesOnMap:{routes:r.directions.map((e=>({entity:e,enableETA:!1}))),owner:{entity:r.entity}}}}:void 0})(c)),[c,a]),{sendShowEvent:u}=(0,Je.T)(l,{forceSendShowIfParamsChanged:[c,a]});return(0,le.useEffect)((()=>{var e;d.data&&d.data.devices.length>0&&(null===(e=u.current)||void 0===e||e.call(u))}),[c,i,u,null===(e=d.data)||void 0===e?void 0:e.devices.length,d.data]),(0,le.useMemo)((()=>d.data?{devices:d.data.devices,styles:Ff}:void 0),[d])}var Zf=s(29475),Uf=s(77358),Hf=s(94577),Df=s(25954),$f=s(74790);var Vf=s(60909),qf=s(80934);const Gf=()=>{const e=(0,pe.I0)(),t=(0,pe.v9)((e=>e.appContext.friendsOnMap.sharedRoute)),{data:s}=(0,qf.Q)({route_id:(null==t?void 0:t.routeId)||"",route_request_id:(null==t?void 0:t.routeRequestId)||""},{enabled:!!t,onSuccess:t=>{const s=(e=>((null==e?void 0:e.sections)||[]).reduce(((e,t)=>{const s=(0,dh.h_)(t.geometry);return s&&e.push(...s),e}),[]))(null==t?void 0:t.routes[0]);e((0,Vf.t)(s))}});return(0,le.useMemo)((()=>t&&s?{ppna:s}:{}),[s,t])},Wf=3e5,Qf=(0,le.memo)((e=>{const{mapHandlers:t,bssRef:s,trackWebGlSupport:i,trackVideoadapter:a,subscribeOnMapClick:n,removeListener:o}=e,c=(0,Se.Z)(),{isCyrillicLang:l,rtl:u,currencies:p,is12h:g}=c,m=(0,le.useContext)(If.f),h=(()=>{var e;const t=(0,pe.v9)((e=>(0,q.t0)(e.appContext.frames,"realty"))),s=null===(e=(0,Df.U)().data)||void 0===e?void 0:e.filters,r=null==t?void 0:t.filterValues,i=(0,pe.v9)((e=>{var t,s;return!(null===(t=e.data.realty.markers.default)||void 0===t?void 0:t.meta.status)||"loading"===(null===(s=e.data.realty.markers.default)||void 0===s?void 0:s.meta.status)})),a=(0,$f.K)(null==s?void 0:s.main),n=!!(null==r?void 0:r.provider)&&(null==r?void 0:r.provider)===(null==a?void 0:a.value),[o,c]=(0,le.useState)(n);return(0,le.useEffect)((()=>{i||c(n)}),[i]),!!t&&n&&o})(),f=(0,Zf.b)(),v=(0,Hf.M)({staleTime:6e5,cacheTime:18e5,refetchInterval:Wf,refetchOnWindowFocus:!0}),b=(0,le.useMemo)((()=>e=>"undefined"!=typeof window?Cf({state:e,i18n:m,isCyrillicLang:l,rtl:u,currencies:p,is12h:g,config:c,exchangeMarkersState:f,tUgcMarkersState:v,isPikMarkersOnMap:h}):{}),[f,v,h]),y=(0,pe.v9)(b),x=(0,pe.v9)((e=>e.session.is3dEnabled)),j=(0,le.useMemo)((()=>(e=>({mapsapi:{tileServer:e.mapsapiTileServer+"&ts="+e.mapsapiTileset,retinaTileServer:e.mapsapiTileServer+"&ts="+e.mapsapiRetinaTileset,previewTileServer:e.mapsapiTileServer+"&size=64&ts="+e.mapsapiTileset,previewRetinaTileServer:e.mapsapiTileServer+"&size=64&ts="+e.mapsapiRetinaTileset},mapgl:{zmkTileServer:e.jakartaZmkTileServer,photoTileServer:e.photoTileServer,tileServer:""!==e.jakartaTileServer?e.jakartaTileServer:void 0,tileProtocol:""!==e.jakartaTileProtocol?e.jakartaTileProtocol:void 0,tileSet:""!==e.jakartaTileSet?e.jakartaTileSet:void 0,modelsTilesUrl:""!==e.jakartaModelsTilesUrl?e.jakartaModelsTilesUrl:void 0,modelsTileSet:""!==e.jakartaModelsTileSet?e.jakartaModelsTileSet:void 0,commercialTileSet:""!==e.jakartaCommercialTileSet?e.jakartaCommercialTileSet:void 0,key:""!==e.jakartaVectorTilesKey?e.jakartaVectorTilesKey:void 0,floorsUrl:""!==e.jakartaFloorsUrl?e.jakartaFloorsUrl:void 0,hasLimitedFunctionality:e.featureReadOnly,useRtlTextPlugin:e.mapUseRtlTextPlugin,bssUrl:""!==e.bssV3Url?e.bssV3Url:void 0,disableBssStatisticsForCommPoi:!0,maxZmksInViewport:3,minZoomToShowZmk:15.5,minZoomToShowZmkTitle:18.25,webglVersion:2,cityCommPoiLabelingConfig:{0:{topBottom:500,leftRight:500},11:{topBottom:250,leftRight:250},12:{topBottom:170,leftRight:170}},loopWorld:e.featureLoopWorld,trafficMinZoom:9,bssHostAppParams:{product:Number(e.clientId),userId:e.userId,sessionId:e.sessionId}},godmode:e.godmode}))(c)),[]),[w,_]=(0,le.useState)(x?"3d":"2d");(0,le.useEffect)((()=>{(0,d.y9)(y,t,j,w).catch((()=>{_("2d")}))}),[w]);const C=Bf(),I=Gf();(0,le.useEffect)((()=>{(0,d.sA)(Object.assign(Object.assign(Object.assign({},y),{eta:C}),I),w)}),[y,w,C,I]);const k=(0,Uf.x)(),O=(0,le.useMemo)((()=>({exchangeSearch:k.data})),[k]);return(0,le.useEffect)((()=>{i(),a()}),[]),(0,le.useEffect)((()=>{const e=(0,Y.by)();return n(e,(e=>vg(e,O))),()=>{o(e)}}),[O]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",Object.assign({ref:s,dir:"ltr"},{children:(0,r.jsx)(Vp,{})}))})}));Qf.displayName="MapContainer";const Kf=(0,pe.$j)(void 0,(e=>({mapHandlers:Dp(e),trackWebGlSupport(){e((0,ns.nc)(["Map","WebGL",Sp(),void 0,{nonInteraction:!0}]))},trackVideoadapter(){e((0,ns.nc)(["Map","Videoadapter",(0,Np.T)(),void 0,{nonInteraction:!0}]))},subscribeOnMapClick(t,s){e((0,T.Oo)({id:t,type:"map:click",handler:s,stopIfHandled:!0,priority:At.U.Map}))},removeListener(t){e((0,T.xg)({id:t}))}})))((0,mt.z)(Wu._X)(Qf));var Jf=s(35914);const Yf=()=>{const[e,t]=(0,le.useState)(!1);return(0,le.useEffect)((()=>t(!0)),[]),e?(0,r.jsx)("div",{className:"is_app_healthy",style:{display:"none"}}):null},Xf=()=>(0,r.jsx)(ft.E,{loader:vt.H.gdprCookieBanner,render:e=>(0,r.jsx)(e,{}),renderPlaceholder:Xr.Q});var ev=s(72645),tv=s(57190),sv=s(40121),rv=s(7268),iv=s(62927),av=s(57698),nv=(s(55594),s(34974)),ov=s(80175),cv=s(26244),dv=s(65262),lv=s(17566),uv=s(67810),pv=s(83052);const gv=(0,le.memo)((()=>{const{s:e,css:t}=(0,ue.y)(mv),{featureReadOnly:s,feature2gisAwardPromoAnnouncement:i,feature2gisAwardPromoMain:a,featureOtelloDashboardIcon:n,featurePromoRrf:c}=(0,Se.Z)(),{bssRef:d}=(0,Je.T)((0,nv.W)()),l=(0,pe.v9)(o.yH),u=(0,pe.v9)((e=>{var t;return null===(t=(0,o.kG)(e))||void 0===t?void 0:t.data})),p=c&&(0,uv.s)(u,pv.L),g=n&&(0,cv.W)(l),m=(0,Ud.A)(rv.f),h=(0,Ud.A)(av.S),f=[];g&&f.push((0,r.jsx)(dv.J,{isMobile:!0},"otello")),f.push((0,r.jsx)(sv.q,{onClick:m},"rubricator")),s||f.push((0,r.jsx)(iv.Y,{onClick:h},"favorites")),function(){const e=(0,pe.I0)();(0,$u.x)({handler:()=>{e((0,C.xJ)((e=>!e.appContext.isDataViewerMinimized&&(0,ke.kG)({isMinimized:!0}))))},type:"map:interactionstart"})}();const v=i||a;return(0,r.jsxs)("div",Object.assign({ref:d,className:t(e.root)},Ye.dx.n("wat-frame"),Ye.dx.t("dashboard"),{children:[(0,r.jsx)("div",Object.assign({className:t(e.dashboard)},{children:(0,r.jsx)(tv.S,{ownerName:"dashboardFrame",where:"Dashboard",moreButtons:f})})),v&&(0,r.jsx)("div",Object.assign({className:t(e.promo)},{children:(0,r.jsx)(ov.p,{})})),p&&(0,r.jsx)("div",Object.assign({className:t(e.promo)},{children:(0,r.jsx)(lv.d,{})})),!1]}))}));const mv=(0,ue.k)({root:{background:Ke.O.white,borderTopLeftRadius:8,borderTopRightRadius:8,boxShadow:"0px -3px 10px rgba(38, 38, 38, 0.15)"},promo:{padding:"8px 16px",boxShadow:`inset 0 1px 0  ${Ke.O.gray_e6e6e6}`},dashboard:{padding:16}});var hv=s(20858),fv=s(55247),vv=s(8299),bv=s(44746),yv=s(40028);const xv=(0,le.memo)((({frame:e})=>{switch(e.type){case"realty":return(0,r.jsx)(hv.p,{});case"realtyCard":return(0,r.jsx)(fv.Q,{});case"entity":case"pending":return(0,r.jsx)(Bi,{});case"product":return(0,r.jsx)(bv.c,{});case"search":return(0,r.jsx)(vv.z,{});case"collection":return(0,r.jsx)(yv.E,{});case"userPublicProfile":return(0,r.jsx)(jv,{withLabel:!0});case"dashboard":return null;default:return(0,r.jsx)(jv,{})}}));xv.displayName="MapNavFooter";const jv=(0,le.memo)((({withLabel:e})=>{const t=[(0,vi.d)({isLabelShown:e})];return(0,r.jsx)(hi.q,Object.assign({appearance:"transparent"},{children:t.map(((e,t)=>e&&(0,r.jsx)(hi.Q,Object.assign({icon:e.icon,type:"whiteWithShadow",onClick:e.onClick},{children:e.label}),`${e.type}-${t}`)))}))})),wv=(0,le.memo)((({position:e,showTopControls:t})=>{const{css:s,s:i}=(0,ue.y)(_v),{featureNewYear:a,feature2gisAwardPromoMain:n}=(0,Se.Z)(),c=(0,pe.v9)(o.kL),d=n;return(0,r.jsxs)("div",Object.assign({className:s(i.root)},{children:["top"===e&&(0,r.jsxs)("div",Object.assign({className:s(i.controlsContainer)},{children:[(0,r.jsxs)("div",Object.assign({className:s(i.controls)},{children:[(0,r.jsx)("div",Object.assign({className:s(i._autoPointerEvents,i._marginEnd)},{children:(0,r.jsx)(md.et,{})})),a&&(0,r.jsx)("div",Object.assign({className:s(i._autoPointerEvents)},{children:(0,r.jsx)(ro,{})})),(0,r.jsx)("div",Object.assign({className:s(i._autoPointerEvents,i._hideIfEmpty)},{children:(0,r.jsx)(yd,{projectId:null==c?void 0:c.id,isMobile:!0})})),(0,r.jsx)("div",Object.assign({className:s(i._autoPointerEvents)},{children:d&&(0,r.jsx)(Fd,{})})),(0,r.jsx)(Dt.w,{children:(0,r.jsx)("div",Object.assign({className:s(i._marginStartAuto,i._autoPointerEvents)},{children:(0,r.jsx)(Pc,{})}))})]})),(0,r.jsx)("div",Object.assign({className:s(i.controls)},{children:(0,r.jsx)("div",Object.assign({className:s(i._marginStartAuto,i._autoPointerEvents,i._controlPaddingTop)},{children:(0,r.jsx)(Wc,{})}))})),(0,r.jsx)("div",Object.assign({className:s(i.floorsControl,i._autoPointerEvents)},{children:(0,r.jsx)(Zo,{})}))]})),"bottom"===e&&(0,r.jsx)("div",Object.assign({className:s(i.controlsContainer)},{children:(0,r.jsxs)("div",Object.assign({className:s(i.controls,i._relative)},{children:[!t&&(0,r.jsx)("div",Object.assign({className:s(i._autoPointerEvents)},{children:(0,r.jsx)(md.et,{})})),(0,r.jsx)(Dt.w,{children:(0,r.jsxs)("div",Object.assign({className:s(i._autoPointerEvents,i._marginStartAuto)},{children:[(0,r.jsx)("div",Object.assign({className:s(i._absoluteCentered)},{children:(0,r.jsx)(Jf.W,{})})),(0,r.jsx)(tc,{})]}))})]}))}))]}))}));wv.displayName="MobileMapControls";const _v=(0,ue.k)({root:{width:"100%",pointerEvents:"none"},controlsContainer:{padding:12},controls:{display:"flex"},_controlPaddingTop:{paddingTop:8},_marginStartAuto:{marginStart:"auto"},_marginEnd:{marginEnd:8},_autoPointerEvents:{pointerEvents:"auto"},_hideIfEmpty:{":empty":{display:"none"}},_relative:{position:"relative"},_absoluteCentered:{position:"absolute",left:"50%",transform:"translateX(-50%)"},floorsControl:{position:"fixed",top:"50%",left:12,transform:"translate(0, -50%)"}}),Cv=e=>({frameId:t})=>({uiElement:{name:"closePromo",frameUuid:t,ownerName:"appPromo"},action:"tap",payload:{appPromoInfo:{type:e.type}}}),Iv=e=>({frameId:t})=>({uiElement:{name:"toStore",frameUuid:t,ownerName:"appPromo"},action:"tap",payload:{appPromoInfo:{type:e.type}}});var kv=s(93835);function Ov(){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"49",height:"9",viewBox:"0 0 49 9"},{children:(0,r.jsx)("path",{fill:"#FF9500",d:"M4.5 0l1.188 3H9L6.644 5.261 7.5 8.5l-3-1.695-3 1.695.923-3.173L0 3h3.271L4.5 0zm10 0l1.188 3H19l-2.356 2.261L17.5 8.5l-3-1.695-3 1.695.923-3.173L10 3h3.271L14.5 0zm10 0l1.188 3H29l-2.356 2.261L27.5 8.5l-3-1.695-3 1.695.923-3.173L20 3h3.271L24.5 0zm10 0l1.188 3H39l-2.356 2.261L37.5 8.5l-3-1.695-3 1.695.923-3.173L30 3h3.271L34.5 0zM49 3h-3.312L44.5 0l-1.229 3H40l2.423 2.327L41.5 8.5l3-1.695 3 1.695-.856-3.239L49 3zm-4.5 3.025V1.5l.792 2H47.5l-1.571 1.501.571 2.156-2-1.132z"})}))}var Sv=s(17926),Nv=s(86139);const Mv=(0,Ze.P)("closeMobileAppBanner",(0,Ue.x)("appContext",((e,{isClosed:t})=>Object.assign(Object.assign({},e),{isMobileAppBannerClosed:t})))),Tv=(0,le.memo)((()=>{const{s:e,css:t}=(0,ue.y)(Pv),s=(0,ge.T)(),{brandName:i}=(0,Se.Z)(),a=(0,pe.v9)((e=>e.session.platform)),n=(0,Oe.Og)({platform:a,type:"mobilePromo"}),o=(0,pe.v9)((e=>e.appContext.isMobileAppBannerClosed)),c=(0,Ud.A)(Mv),{bssRef:d,useBssHandler:l}=(0,Je.T)((({frameId:e},t)=>(0,ht.xl)({state:t,name:"appPromoFrame",uuid:e}))),u=(0,Je.T)((p="mobilePromo",({frameId:e})=>({uiElement:{name:"appPromo",ownerName:"appPromoFrame",frameUuid:e},payload:{appPromoInfo:{type:p}}})));var p;const g=l(Cv,{type:"mobilePromo"}),m=l(Iv,{type:"mobilePromo"}),h=(0,le.useCallback)((()=>{m()}),[m]),f=(0,le.useCallback)((()=>{g(),c({isClosed:!0})}),[g,c]);if(o||!n)return null;const v=s._t("%1 лучше в&nbsp;приложении",[i]),b=(0,kv.V)(a);return(0,r.jsxs)("div",Object.assign({className:t(e.root),ref:d},Ye.dx.n("wat-top-promo"),{children:[(0,r.jsxs)("a",Object.assign({className:t(e.link),target:"_blank",href:n,onClick:h,ref:u.bssRef},{children:[(0,r.jsx)("div",Object.assign({className:t(e.logo)},{children:(0,r.jsx)(Sv.y,{})})),(0,r.jsxs)("div",Object.assign({className:t(e.info)},{children:[(0,r.jsx)("div",Object.assign({className:t(e.title)},{children:v})),(0,r.jsxs)("span",Object.assign({className:t(e.stat)},{children:[(0,r.jsx)(Ov,{}),(0,r.jsx)("span",Object.assign({className:t(e.additionalInfo)},{children:b.reviews}))]})),(0,r.jsx)("div",Object.assign({className:t(e.download)},Ye.dx.n("wat-top-downland"),{children:s._t("Загрузить приложение")}))]}))]})),(0,r.jsxs)("div",Object.assign({className:t(e.closeAndAds)},{children:[(0,r.jsx)("div",Object.assign({className:t(e.close),onClick:f},Ye.dx.n("wat-top-close"),{children:(0,r.jsx)(Nn.x,{})})),(0,r.jsx)("div",{children:(0,r.jsx)(Nv.d,{small:!0,gray:!0,source:"banner",erid:["2Ranyn95sQ4"],legalName:'ООО "ДубльГИС"',rating:0})})]}))]}))}));Tv.displayName="MobileAppPromoSmartBanner";const Pv=(0,ue.k)({root:{position:"relative",display:"flex",background:"white",width:"100%",padding:"12px 20px",boxSizing:"border-box",flexShrink:0,zIndex:2,"@media (max-width: 320px)":{padding:"12px 16px"}},closeAndAds:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"flex-end"},close:{display:"flex",justifyContent:"center",alignItems:"flex-start",color:"#bbbbbb",flex:1},logo:{width:64,height:64,"& svg":{borderRadius:8}},link:{width:"100%",display:"flex",textDecoration:"none"},info:{display:"flex",flexDirection:"column",justifyContent:"center",width:"100%",height:64,padding:"0 12px",color:Ke.O.black},title:Object.assign(Object.assign({},Xe.oN),{lineHeight:"16px","@media (max-width: 320px)":Object.assign(Object.assign({},Xe.yG),{lineHeight:"18px"})}),stat:{display:"flex",alignItems:"center",padding:"4px 0px"},additionalInfo:Object.assign(Object.assign({},Xe.yG),{lineHeight:Xe.yG.fontSize,paddingStart:4,color:Ke.O.gray_929292}),download:Object.assign(Object.assign({},Xe.oN),{textDecoration:"none",color:Ke.O.blue_0672ad,display:"flex",justifyContent:"space-between","@media (max-width: 320px)":Object.assign({},Xe.yG)})}),Ev=(0,Cn.b)(),Lv=(0,le.memo)((()=>{const{s:e,css:t}=(0,ue.y)(Rv),s=(0,pe.v9)((e=>e.appContext.frames[0]||{id:e.appContext.staticFrames.dashboard.id,type:"dashboard"})),i=(0,pe.v9)((e=>Ev({state:e,frameId:s.id}))),a=(0,pe.v9)((e=>!!e.appContext.isDataViewerMinimized)),n=(0,pe.v9)((e=>e.appContext.staticFrames.map.id)),o=(0,Se.Z)(),c=(0,Un.U)(s,i,o),d=c||"sharingGeo"===s.type;return(0,r.jsxs)("div",Object.assign({className:t(e.root)},{children:[(0,r.jsx)("div",Object.assign({className:t(e.mobilePromoWrapper)},{children:(0,r.jsx)(Ga.j.Provider,Object.assign({value:{frameId:s.id}},{children:(0,r.jsx)(Tv,{})}))})),(0,r.jsxs)("div",Object.assign({className:t(e.base)},{children:[(c||d)&&(0,r.jsxs)("div",Object.assign({className:t(e.topContentWrapper)},{children:[c&&(0,r.jsx)(Ga.j.Provider,Object.assign({value:{frameId:s.id}},{children:(0,r.jsx)("div",Object.assign({className:t(e.searchBarWrapper)},{children:(0,r.jsx)(wn,{frame:s,frameContext:i})}))})),d&&(0,r.jsx)(Ga.j.Provider,Object.assign({value:{frameId:n}},{children:(0,r.jsx)("div",Object.assign({className:t(c&&e.controlsBelowSearchBar)},{children:(0,r.jsx)(wv,{position:"top"})}))}))]})),(0,r.jsxs)("div",Object.assign({className:t(e.bottomContentWrapper,a&&e._minimized)},{children:[(0,r.jsxs)("div",Object.assign({className:t(e.aboveBottomContent)},{children:[(0,r.jsx)(Ga.j.Provider,Object.assign({value:{frameId:n}},{children:(0,r.jsx)(wv,{position:"bottom",showTopControls:d})})),a&&(0,r.jsx)(Ga.j.Provider,Object.assign({value:{frameId:s.id}},{children:(0,r.jsxs)("div",Object.assign({className:t(e.footer)},Ye.dx.n("wat-footer-map"),{children:[(0,r.jsx)(xv,{frame:s}),(0,r.jsx)(et,{})]}))}))]})),"dashboard"===s.type&&(0,r.jsx)(Ga.j.Provider,Object.assign({value:{frameId:s.id}},{children:(0,r.jsxs)("div",Object.assign({className:t(e.dashboardWrapper)},{children:[(0,r.jsx)(gv,{}),(0,r.jsx)(et,{})]}))})),"sharingGeo"===s.type&&(0,r.jsx)(Ga.j.Provider,Object.assign({value:{frameId:s.id}},{children:(0,r.jsx)("div",Object.assign({className:t(e.dashboardWrapper)},{children:(0,r.jsx)(Da,{frame:s})}))}))]})),"dashboard"!==s.type&&"sharingGeo"!==s.type&&(0,r.jsx)(Ga.j.Provider,Object.assign({value:{frameId:s.id}},{children:(0,r.jsx)("div",Object.assign({className:t(e.frameWrapper,a&&e._minimized)},{children:(0,r.jsx)(qa,{frame:s,frameContext:i})}))}))]}))]}))})),Rv=(0,ue.k)({root:{position:"absolute",width:"100%",height:"100%",display:"flex",flexDirection:"column",pointerEvents:"none"},base:{flexGrow:1,flexShrik:1,display:"flex",position:"relative",zIndex:ev.W.base,pointerEvents:"none"},mobilePromoWrapper:{flexGrow:0,flexShrink:0,pointerEvents:"auto"},topContentWrapper:{position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none"},searchBarWrapper:{position:"absolute",top:0,left:0,right:0,bottom:0,pointerEvents:"none",zIndex:ev.W.top},controlsBelowSearchBar:{marginTop:56},footer:{pointerEvents:"auto"},frameWrapper:{position:"absolute",width:"100%",height:"100%",top:0,left:0,zIndex:ev.W.base,pointerEvents:"auto"},_minimized:{transform:"translate3d(0, 100%, 0)"},bottomContentWrapper:{position:"absolute",bottom:0,width:"100%",transform:"translate3d(0, 0, 0)",transition:"transform .3s"},aboveBottomContent:{position:"absolute",width:"100%",bottom:"100%"},dashboardWrapper:{pointerEvents:"auto"}});var zv=s(44555),Av=s(26483),Fv=s(6906);const Bv=(0,C.gQ)("fillstateRealtyMarkers",(()=>(0,C.XJ)((0,np.nv)((e=>(0,Z.gF)({entity:t=>{var s;const r=null==e?void 0:e.suggestId;return r?null===(s=(0,l.nM)({state:t,entityId:r}))||void 0===s?void 0:s.data:void 0},viewpoint:K.Id},(({entity:t,viewpoint:s})=>e&&(0,np.Bg)(e)?!t||(0,Fv.t)(t)||(0,Av.N)(t)?(0,zv.q)({filters:e.filterValues,categoryId:e.categoryId,viewpoint:s}):(0,zv.q)({filters:e.filterValues,categoryId:e.categoryId,viewpoint:s,entityId:t.id}):(0,C.ZT)()))))))),Zv=le.memo((()=>{const{featureRealty:e}=(0,Se.Z)(),t=(0,pe.v9)((e=>(0,q.t0)(e.appContext.frames,"realty")));return e&&t?(0,r.jsx)(Uv,{frame:t}):null})),Uv=({frame:e})=>(function(e){const t=(0,pe.I0)(),s=(0,pe.v9)(K.Z1);le.useEffect((()=>{t(Bv())}),[s,e.categoryId,e.filterValues,e.suggestId,t])}(e),function(e){const t=(0,pe.I0)();le.useEffect((()=>{t(Em())}),[t]),le.useEffect((()=>{e.entity&&"building"===e.entity.type&&t(Lm({buildingId:e.entity.id,categoryId:e.categoryId}))}),[e.entity,e.categoryId,t])}(e),null);var Hv=s(66612);const Dv=le.memo((()=>{const{css:e,s:t}=(0,ue.y)($v),s=(0,ge.T)(),i=(0,pe.I0)(),a=(0,pe.v9)((e=>e.appContext.activeSublayer)),n={realtyPriceSale:[s._gg("Дешевле"),s._gg("Дороже")],realtyPriceRent:[s._gg("Дешевле"),s._gg("Дороже")],realtyWalkDistance:[s._gg("< 5 мин"),s._gg("5-10"),s._gg("10-20"),s._gg("20-30")]},o=(0,as.$)((()=>{i((0,Zd.P)())}));return"realtyPriceSale"!==a&&"realtyPriceRent"!==a&&"realtyWalkDistance"!==a?null:(0,r.jsx)(r.Fragment,{children:a&&(0,r.jsxs)("div",Object.assign({className:e(t.temperatureBlock)},{children:[(0,r.jsx)("div",Object.assign({className:e(t.scaleWrapper)},{children:(0,r.jsx)(Hv.I,{segments:"realtyWalkDistance"===a?N.fN:N.tC,labels:n[a],labelFontSize:13,labelsMarginTop:4,labelsJustifyContent:"realtyWalkDistance"===a?"space-around":void 0})})),(0,r.jsx)("div",Object.assign({onClick:o},{children:(0,r.jsx)(Nn.x,{color:Ke.O.gray_cccccc})}))]}))})}));Dv.displayName="TemperatureScaleControl";const $v=(0,ue.k)({temperatureBlock:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:8,marginBottom:0,marginStart:8,marginEnd:8,paddingTop:8,paddingBottom:4,paddingStart:8,paddingEnd:8,backgroundColor:Ke.O.white,borderRadius:8,boxShadow:"0 3px 10px rgba(38, 38, 38, 0.15)"},scaleWrapper:{width:"100%",paddingEnd:8}});var Vv=s(63513),qv=s(19322),Gv=s(42866);const{use:Wv}=(0,Gv.r)("infoStory",(e=>({services:t})=>(0,Me.mG)(void 0,void 0,void 0,(function*(){return yield t.infoStoriesApi.getItem(e)}))),{cacheTime:1/0,staleTime:1/0}),Qv=(0,qv.Z)(Date.now(),"xxx");var Kv=s(72899);function Jv(){return!Kv.sk&&window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}var Yv=s(34904);const Xv=(0,le.memo)((({children:e})=>{const{css:t,s}=(0,ue.y)(eb);return(0,r.jsx)("div",Object.assign({className:t(s.progress)},{children:e}))})),eb=(0,ue.k)({progress:{height:2,background:"rgba(255, 255, 255, .3)",borderRadius:4,flexGrow:1}}),tb=(0,le.memo)((({activeState:e,slideIntervalCompletePercent:t})=>{const{css:s,s:i}=(0,ue.y)(sb),a=(0,le.useMemo)((()=>{switch(e){case"current":return{transform:`scaleX(${t/100})`};case"finished":return{width:"100%"};default:return{width:0}}}),[e,t]);return(0,r.jsx)(Xv,{children:(0,r.jsx)("div",{style:a,className:s(i.progress)})})})),sb=(0,ue.k)({progress:{background:Ke.O.white,height:"100%",maxWidth:"100%",borderRadius:4,transformOrigin:"center left",backfaceVisibility:"hidden",perspective:1e3}}),rb=(0,le.memo)((({slideIntervalCompletePercent:e,slides:t,activeSlideIndex:s})=>{const{css:i,s:a}=(0,ue.y)(ib);return(0,r.jsx)("div",Object.assign({className:i(a.progressArr)},Ye.dx.n("wat-slide-progress-bar"),{children:(0,r.jsx)("div",Object.assign({className:i(a.wrapper)},{children:t.map((({id:t},i)=>{const a=i===s?"current":i<s?"finished":"inactive";return(0,r.jsx)(tb,{slideIntervalCompletePercent:e,activeState:a},`progress_slide_${t}`)}))}))}))})),ib=(0,ue.k)({progressArr:{zIndex:1001,width:"100%"},wrapper:{gap:4,display:"flex",flexGrow:"stretch",width:"100%"}});function ab({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 4C24.4183 4 28 7.58172 28 12V20C28 24.4183 24.4183 28 20 28H12C7.58172 28 4 24.4183 4 20V12C4 7.58172 7.58172 4 12 4H20ZM20 6H12C8.7616 6 6.12243 8.56557 6.00414 11.7751L6 12V20C6 23.2384 8.56557 25.8776 11.7751 25.9959L12 26H20C23.2384 26 25.8776 23.4344 25.9959 20.2249L26 20V12C26 8.7616 23.4344 6.12243 20.2249 6.00414L20 6ZM14 12V20H18V12H20V20H18H14H12V12H14Z",fill:e})}))}function nb({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M28 12C28 7.58172 24.4183 4 20 4H12C7.58172 4 4 7.58172 4 12V20C4 24.4183 7.58172 28 12 28H20C24.4183 28 28 24.4183 28 20V12ZM12 6H20L20.2249 6.00414C23.4344 6.12243 26 8.7616 26 12V20L25.9959 20.2249C25.8776 23.4344 23.2384 26 20 26H12L11.7751 25.9959C8.56557 25.8776 6 23.2384 6 20V12L6.00414 11.7751C6.12243 8.56557 8.7616 6 12 6ZM14.2399 20.8058C13.7663 21.073 13.2061 21.0642 12.7416 20.7814C12.2776 20.4992 12 19.999 12 19.4444V12.5556C12 12.001 12.2776 11.5008 12.7416 11.2186C13.2061 10.9358 13.7663 10.927 14.2394 11.1942L20.65 14.64C21.1397 14.917 21.5 15.4252 21.5 16C21.5 16.5753 21.1402 17.083 20.65 17.36L14.2399 20.8058ZM14 13.3564L19 16L14 18.6438V13.3564Z",fill:e})}))}const ob=(0,le.memo)((({pause:e,onToggle:t})=>{const{css:s,s:i}=(0,ue.y)(cb);return(0,r.jsx)("button",Object.assign({"data-n":"wat-story-pause-toggle",className:s(i.button),onClick:e=>{e.stopPropagation(),t()}},{children:e?(0,r.jsx)(nb,{}):(0,r.jsx)(ab,{})}))})),cb=(0,ue.k)({button:{background:"transparent",border:"none",color:Ke.O.white,width:32,height:32,zIndex:3}});var db=s(39790);const lb=(0,le.memo)((({slideWidth:e,offset:t,nextSlide:s,prevSlide:i,size:a})=>{const{s:n,css:o,dir:c}=(0,ue.y)(ub);if(void 0===e)return null;const d=e=>{if("left"===e)"ltr"===c?i():s();else"ltr"===c?s():i()},l=e+2*t;return(0,r.jsxs)("div",Object.assign({className:o(n.root)},{children:[(0,r.jsx)("div",Object.assign({onClick:()=>d("left")},Ye.dx.n("wat-carusel-arrow-left"),{style:Object.assign({marginInlineEnd:`0 ${l}px`},a?{width:`${a}px`,height:`${a}px`}:{}),className:o(n.arrow)},{children:(0,r.jsx)(Mn.E,{direction:"start",icon:db.S,size:18})})),(0,r.jsx)("div",Object.assign({onClick:()=>d("right")},Ye.dx.n("wat-carusel-arrow-right"),{style:Object.assign({marginInlineStart:`${l}px`},a?{width:`${a}px`,height:`${a}px`}:{}),className:o(n.arrow)},{children:(0,r.jsx)(Mn.E,{direction:"end",icon:db.S,size:18})}))]}))}));lb.displayName="CaruselArrows";const ub=(0,ue.k)({root:{position:"absolute",start:0,top:0,end:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",opacity:.7,pointerEvents:"none",transition:`${Ps.l.short}ms ${Ps.Z.base}`,"*:hover>&":{opacity:1}},arrow:{display:"flex",justifyContent:"center",alignItems:"center",width:32,height:32,borderRadius:4,overflow:"hidden",background:(0,Es.j)(Ke.O.black,0),color:Ke.O.white,pointerEvents:"auto",userSelect:"none",transition:`${Ps.l.short}ms ${Ps.Z.base}`,cursor:"pointer",border:"1px solid",borderColor:(0,Es.j)(Ke.O.white,.7),":hover":{background:(0,Es.j)(Ke.O.black,.6),borderColor:Ke.O.white}}});var pb=s(76912),gb=s(64779);const mb=(0,le.memo)((({storySlide:e,onComplaint:t,erid:s,legalName:i,onAdsClick:a,showComplaintButton:n=!0})=>{var o,c;const{s:d,css:l}=(0,ue.y)(hb),{isMobileDevice:u}=(0,Se.Z)(),p=u&&(s||i||(null===(o=e.footnote)||void 0===o?void 0:o.warning)),g=(0,as.$)((e=>{e.preventDefault(),t()}));return(0,r.jsx)("div",Object.assign({className:l(d.footer)},Ye.dx.n("wat-stories-footer"),{children:(0,r.jsxs)("div",Object.assign({className:l(d.end)},{children:[(0,r.jsx)("div",Object.assign({className:l(d.ads)},{children:(0,r.jsx)("div",Object.assign({className:l(d.adsInfoLink),onTouchStart:p?a:void 0},{children:(0,r.jsx)(Nv.d,{small:!0,erid:s,legalName:i,gray:!0,source:"banner",description:null===(c=e.footnote)||void 0===c?void 0:c.warning})}))})),n&&(0,r.jsx)("div",Object.assign({className:l(d.trash)},Ye.dx.n("wat-stories-footer-complaint"),{onClick:g},{children:(0,r.jsx)(gb.v,{color:Ke.O.gray_929292})}))]}))}))})),hb=(0,ue.k)((({mobile:e})=>({footer:{position:e?"relative":"absolute",bottom:0,left:e?0:"unset",right:0,paddingTop:e?6:16,paddingEnd:e?16:24,paddingBottom:e?6:16,paddingStart:16,display:"flex",justifyContent:"flex-end",flexDirection:e?"column":"row",alignItems:"center"},end:{display:"flex",justifyContent:e?"space-between":"flex-end",alignItems:"center",width:"100%",gap:12,paddingBottom:12,paddingTop:12},ads:{display:"flex",color:Ke.O.gray_929292,flexDirection:"row",alignItems:"center",justifyContent:"space-between"},adsInfoLink:{display:"inline-block",cursor:"pointer"},trash:{cursor:"pointer",display:"flex"}})));function fb({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 11.7637V20.775H10.1716L15.5858 26.1892C16.1578 26.7612 17.018 26.9323 17.7654 26.6228C18.0155 26.5192 18.2365 26.3685 18.4199 26.1836L17 24.7637V24.775L11 18.775H6V13.7637L4 11.7637ZM8.66816 10.775L5.92894 8.0358L4.51472 9.45001L5.83973 10.775L7.83973 12.775L17 21.9353L19 23.9353L21.8995 26.8348L23.3137 25.4206L22.0833 24.1901L21 23.1069L19 21.1069L17 19.1069L10.6682 12.775L8.66816 10.775ZM12.2483 11.5267L10.8341 10.1125L15.5858 5.36081C16.1578 4.78881 17.018 4.6177 17.7654 4.92726C18.5127 5.23682 19 5.9661 19 6.77502V18.2784L17 16.2784V6.77502L12.2483 11.5267ZM22.5331 21.8116L23.9801 23.2586C24.7535 22.7525 25.4435 22.1203 26.05 21.362C27.35 19.7373 28 17.8667 28 15.75C28 13.6333 27.35 11.7623 26.05 10.137C24.75 8.51233 23.0667 7.46667 21 7V9.05C22.5 9.48333 23.7083 10.3167 24.625 11.55C25.5417 12.7833 26 14.1833 26 15.75C26 17.3167 25.5417 18.7167 24.625 19.95C24.0446 20.7309 23.3473 21.3514 22.5331 21.8116ZM21 11.725V19.775C21.7833 19.4083 22.396 18.8623 22.838 18.137C23.2793 17.4123 23.5 16.625 23.5 15.775C23.5 14.9083 23.2793 14.1083 22.838 13.375C22.396 12.6417 21.7833 12.0917 21 11.725Z",fill:e})}))}function vb({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 10.775V20.775H10.1716L15.5858 26.1892C16.1578 26.7612 17.018 26.9323 17.7654 26.6228C18.5127 26.3132 19 25.5839 19 24.775V6.77502C19 5.9661 18.5127 5.23682 17.7654 4.92726C17.018 4.6177 16.1578 4.78881 15.5858 5.36081L10.1716 10.775H4ZM17 24.775L11 18.775H6V12.775H11L17 6.77502V24.775ZM21 22.45V24.5C23.0667 24.0333 24.75 22.9873 26.05 21.362C27.35 19.7373 28 17.8667 28 15.75C28 13.6333 27.35 11.7623 26.05 10.137C24.75 8.51233 23.0667 7.46667 21 7V9.05C22.5 9.48333 23.7083 10.3167 24.625 11.55C25.5417 12.7833 26 14.1833 26 15.75C26 17.3167 25.5417 18.7167 24.625 19.95C23.7083 21.1833 22.5 22.0167 21 22.45ZM21 11.725V19.775C21.7833 19.4083 22.396 18.8623 22.838 18.137C23.2793 17.4123 23.5 16.625 23.5 15.775C23.5 14.9083 23.2793 14.1083 22.838 13.375C22.396 12.6417 21.7833 12.0917 21 11.725Z",fill:e})}))}const bb=(0,le.memo)((({muted:e,onToggle:t})=>{const{css:s,s:i}=(0,ue.y)(yb);return(0,r.jsx)("button",Object.assign({className:s(i.button),onClick:e=>{e.stopPropagation(),t()}},{children:e?(0,r.jsx)(fb,{}):(0,r.jsx)(vb,{})}))})),yb=(0,ue.k)({button:{background:"transparent",border:"none",color:Ke.O.white,width:32,height:32,zIndex:3}});var xb=s(74730),jb=s(93448);const wb=({story:e,slide:t,position:s,locale:r})=>({frameId:i})=>{const a=(0,xb.L)({slide:t}),n=(0,jb.C)({story:e,position:s,locale:r});return{uiElement:{frameUuid:i,name:"storyBranchLink",ownerName:"storyItem",position:s},action:"tap",payload:{storiesList:n,storyItem:a}}},_b="storiesFrame";s(18122);const Cb=()=>({frameId:e},t)=>(0,ht.xl)({state:t,uuid:e,name:_b});var Ib=s(16289);const kb=({footnote:e,orgId:t,onClick:s})=>{const{css:i,s:a}=(0,ue.y)(Ob),n=(0,Zc.W)({type:"organizationBranches",id:t}),o=(0,pe.I0)(),c=(0,as.$)((()=>{o((0,Ed.QR)({orgId:t})),s()}));return(0,r.jsx)("div",Object.assign({className:i(a.orgInfo)},{children:(0,r.jsxs)(We.Z,Object.assign({styles:a.link,onClick:c,href:n},{children:[e.logoUrl&&(0,r.jsx)(Ib.E,{width:40,height:40,borderRadius:32,srcSet:`${(0,zs.W)(e.logoUrl,"80x80")} 2x`,src:(0,zs.W)(e.logoUrl,"40x40")}),(0,r.jsxs)("div",Object.assign({className:i(a.info)},{children:[e.title,e.subtitle&&(0,r.jsx)("span",Object.assign({className:i(a.subtitle)},{children:e.subtitle}))]}))]}))}))},Ob=(0,ue.k)({orgInfo:{paddingStart:12,marginTop:12,width:"max-content",minHeight:40,"& div:first-child":{flexShrink:0}},info:{display:"flex",flexDirection:"column",gap:2},link:Object.assign(Object.assign({display:"flex",alignItems:"center",gap:12,color:Ke.O.white,textDecoration:"none"},Xe.q0),{":hover":{color:Ke.O.white}}),subtitle:Object.assign(Object.assign({},Xe.oN),{color:"#ffffffb2"})}),Sb=(0,le.memo)((({story:e,onSlidesEnd:t,onPrevStoryNeed:s,onStoryComplaint:i,controls:a,mediaSlideStyles:n,isFirstStory:o,isLastStory:c,isPopupOpened:d,storyPosition:l,slideIndexAPI:u,entity:p,trackBssTap:g,onStoryClose:m,isDesktop:h,slideSizes:f})=>{var v;const b=(()=>{const[e,t]=(0,le.useState)(!0),[s,r]=(0,le.useState)(Date.now()),i=(0,le.useCallback)((()=>{t((e=>!e)),r(e?Date.now():void 0)}),[e]),a=(0,le.useCallback)((e=>{t(e),r(e?Date.now():void 0)}),[t]);return{pause:e,setPause:a,togglePause:i,startPauseTime:s}})(),[y,x]=(0,le.useState)(!1),[j,w]=(0,le.useState)(!1),_=(0,le.useRef)(null),C=null===(v=_.current)||void 0===v?void 0:v.clientWidth,{css:I,s:k}=(0,ue.y)(Nb),O=(0,le.useRef)(),{bssRef:S}=(0,Je.T)(Cb()),{locale:N}=(0,Se.Z)(),M=(0,as.$)((()=>{w(!0)})),T=(0,as.$)((()=>{w(!1)})),P=(({pauseAPI:{pause:e},onRefresh:t})=>{const[s,r]=(0,le.useState)(!1),[i,a]=(0,le.useState)(!0),n=(0,le.useRef)(null),o=(0,as.$)((()=>{r(!0)})),c=(0,as.$)((()=>{r(!1)}));(0,le.useEffect)((()=>{n.current&&(e?n.current.pause():n.current.play())}),[e]);const d=(0,as.$)((()=>{t(),n.current&&n.current.load()})),l=(0,as.$)((()=>{a((e=>!e))})),u=(0,as.$)((e=>{n.current&&(n.current.currentTime=e)}));return{ref:n,wait:o,play:c,buffered:s,refresh:d,getCompleteIntervalPercent:()=>{const e=n.current?n.current.currentTime/n.current.duration*100:0;return Number.isNaN(e)?0:e},handlePrevFirstStory:()=>{u(0)},muted:i,toggleMuted:l,setCurrentTime:u}})({pauseAPI:b,onRefresh:T}),E=(0,as.$)((()=>{"hidden"!==document.visibilityState||b.pause||b.setPause(!0),"visible"===document.visibilityState&&b.pause&&y&&b.setPause(!1)})),L=(0,Nf.N)({onChange:E}),R=(0,as.$)((()=>{const t=Yv.mg.getStorySlides(e)[u[0]];Yv.mg.getSlideUrl(t)&&(x(!1),w(!1),b.setPause(!0))})),{nextSlide:z,prevSlide:A,activeSlide:F,activeSlideIndex:B,slideIntervalCompletePercent:Z}=((e,t)=>{var s,r;const i=Yv.mg.getStorySlides(e),{onSlidesEnd:a,onSlidesChange:n,onPrevStoryNeed:o,pauseAPI:c,isFirstStory:d,isLastStory:l,onPrevFirstStory:u,getCompleteIntervalPercent:p,slideIndexAPI:g,trackBssTap:m}=t,[h,f]=g,{defaultStorySwipeInterval:v}=(0,Se.Z)();(0,le.useEffect)((()=>{n(),_(0)}),[n,e.id]);const b=null!==(s=i[h])&&void 0!==s?s:i[0],y=(null===(r=i.at(-1))||void 0===r?void 0:r.id)===b.id,x=(0,as.$)((()=>{n(),_(0),f((e=>e+1!==i.length?e+1:(a(),e)))})),j=(0,as.$)((()=>{_(0),f((e=>e-1>=0?(n(),e-1):(d?u&&u():o(),e)))})),[w,_]=(0,le.useState)(0),C=(0,le.useRef)(w),I=(0,le.useRef)(),k=(0,le.useRef)(0);C.current=w;const O=()=>{void 0===I.current&&(I.current=Jv());const e=Jv(),t=e-I.current;I.current=e,_((e=>{const s="image"===Yv.mg.getSlideType(b)?e+100*t/Yv.mg.getImageSlideDuration(b,v):p?p():0;return C.current=s,s})),C.current<100?k.current=requestAnimationFrame(O):(cancelAnimationFrame(k.current),m&&!(l&&y)&&m({title:b.title,slideId:b.id,name:"storyForward",actionType:"autoTap"}),x())};return(0,le.useLayoutEffect)((()=>(Kv.sk||c.pause||(I.current=Jv(),k.current=requestAnimationFrame(O)),()=>{cancelAnimationFrame(k.current)})),[c.pause,b.id]),{activeSlide:b,nextSlide:x,prevSlide:j,activeSlideIndex:h,slideIntervalCompletePercent:w}})(e,{onSlidesEnd:t,onPrevStoryNeed:s,onSlidesChange:R,pauseAPI:b,isFirstStory:o,isLastStory:c,getCompleteIntervalPercent:P.getCompleteIntervalPercent,onPrevFirstStory:P.handlePrevFirstStory,slideIndexAPI:u,trackBssTap:g}),U=(0,as.$)((()=>{x(!0),L&&!d&&b.setPause(!1)})),H=(({onRefresh:e,url:t,slideId:s,onLoad:r})=>{const i=(0,le.useRef)(null),a=(0,as.$)((()=>{e(),i.current&&(i.current.src=`${t}?t=${Date.now()}`)}));return(0,le.useEffect)((()=>{var e;(null===(e=i.current)||void 0===e?void 0:e.complete)&&r()}),[s,r]),{ref:i,refresh:a}})({url:Yv.mg.getSlideUrl(F),onRefresh:T,slideId:F.id,onLoad:U}),D=(e,t)=>{g&&g({title:F.title,slideId:F.id,name:e,actionType:null!=t?t:"tap"})},$=(0,as.$)((e=>{e.preventDefault(),b.pause||(O.current=setTimeout((()=>{b.setPause(!0),D("storyPause","longtap")}),200))})),V=(0,as.$)((()=>{b.pause?b.togglePause():(b.togglePause(),D("storyPause"))})),q=(0,as.$)((e=>{e.preventDefault(),y&&!j&&(O.current&&clearTimeout(O.current),b.pause&&!P.buffered&&b.setPause(!1))})),G=(0,as.$)((e=>{e.preventDefault();const t=Date.now(),s=b.startPauseTime&&t-b.startPauseTime;b.pause&&s&&s>800||(z(),D("storyForward")),q(e)})),W=(0,as.$)((e=>{e.preventDefault();const t=Date.now(),s=b.startPauseTime&&t-b.startPauseTime;b.pause&&s&&s>800||(A(),D("storyBack")),q(e)})),Q=(0,as.$)((t=>{e.id&&(t.stopPropagation(),"ArrowLeft"===t.key&&(A(),D("storyBack")),"ArrowRight"===t.key&&(z(),D("storyForward")))})),K=(0,as.$)((()=>{z(),D("storyForward")})),J=(0,as.$)((()=>{A(),D("storyBack")})),Y=(0,as.$)((()=>{b.setPause(!0),i()})),X=(0,le.useRef)(!1);(0,le.useEffect)((()=>{!d&&X.current&&b.pause&&y&&b.setPause(!1),X.current=d}),[d,y,b]),(0,le.useEffect)((()=>(document.addEventListener("keyup",Q),()=>{document.removeEventListener("keyup",Q)})),[Q]),(0,le.useEffect)((()=>{var e;(null===(e=P.ref.current)||void 0===e?void 0:e.readyState)&&P.ref.current.readyState>0&&(U(),P.setCurrentTime(0))}),[F.id,U]);const{useBssHandler:ee}=(0,Je.T)(),te=ee(wb,{story:e,slide:F,position:B+1,locale:N}),se=(0,as.$)((()=>{te(),m()})),re=y,ie=y&&P.ref.current,ae=Yv.mg.isAdStorySlide(F)&&Yv.mg.isAdStory(e),ne=("discovery"===e.source||"fmcg"===e.source)&&("discovery"===F.source||"fmcg"===F.source)&&Boolean(e.orgId);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(pb.F,{innerRef:S,desktopWidth:h?f.original.width:void 0,backgroundColor:"none",header:(0,r.jsx)(Xt.i,{children:(0,r.jsx)("div",{className:I(k.header)})}),body:(0,r.jsx)("div",Object.assign({style:Object.assign({},f.styles),ref:_},{children:(0,r.jsx)(Yv.Mi,{onStoryClose:m,entity:p,storyPosition:l,slidePosition:B+1,story:e,imageAPI:H,videoAPI:P,isContentLoaded:y,mediaSlideStyles:n,slideSizes:f,activeSlide:F,onSlideLoaded:U,onMouseUp:q,onMouseDown:$,onTouchStart:$,onTapNext:G,onTapPrev:W,onError:M,hasContentLoadingError:j,topContent:(0,r.jsxs)("div",Object.assign({className:I(k.topContent)},{children:[(0,r.jsx)(rb,{slideIntervalCompletePercent:Z,activeSlideIndex:B,slides:Yv.mg.getStorySlides(e)}),(0,r.jsxs)("div",Object.assign({className:I(k.controls)},{children:[re&&(0,r.jsx)(ob,{pause:b.pause,onToggle:V}),ie&&(0,r.jsx)(bb,{muted:P.muted,onToggle:P.toggleMuted}),a]}))]}))})})),bodyFooter:ne&&F.footnote&&(0,r.jsx)(kb,{onClick:se,orgId:e.orgId,footnote:F.footnote}),footer:ae?(0,r.jsx)(Xt.i,{children:(0,r.jsx)(mb,{storySlide:F,storyId:e.id,erid:e.erid,legalName:e.legalName,onComplaint:Y,showComplaintButton:ae,onAdsClick:$})}):null}),(0,r.jsx)(Xt.N,{children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(lb,{offset:28,nextSlide:K,prevSlide:J,slideWidth:C,size:40}),ae?(0,r.jsx)(mb,{storySlide:F,showComplaintButton:ae,storyId:e.id,erid:e.erid,legalName:e.legalName,onComplaint:Y}):null]})})]})})),Nb=(0,ue.k)({topContent:{paddingStart:16,paddingEnd:16,paddingTop:16,paddingBottom:8,display:"flex",flexDirection:"column",gap:12},controls:{display:"grid",gridTemplateColumns:"repeat(12, 1fr)",width:"100%"},header:{height:16,width:"100%"}}),Mb=(0,C.gQ)("openStoryComplaintPopup",(({storyId:e,segmentId:t})=>(0,Ni.Mw)({id:(0,Y.by)(),type:"complaint",subtype:"story",itemId:e,segmentId:t})));var Tb=s(17799);var Pb=s(49410),Eb=s(11436),Lb=s(91520);const Rb=({sizes:e,onClose:t})=>{const s=(0,ge.T)(),{css:i,s:a}=(0,ue.y)(zb);return(0,r.jsxs)("div",Object.assign({style:Object.assign(Object.assign({},e),{height:"100%"===e.height?"95%":e.height}),className:i(a.stub)},{children:[t&&(0,r.jsx)("button",Object.assign({type:"button",className:i(a.closeButton),onClick:t},{children:(0,r.jsx)(Pb.x,{color:Ke.O.white})})),(0,r.jsx)(Lb.k,{color:Ke.O.white}),(0,r.jsx)("p",Object.assign({className:i(a.text)},{children:s._t("История больше не доступна")}))]}))},zb=(0,ue.k)({stub:{position:"relative",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:Ke.O.gray_262626,borderRadius:16},closeButton:{position:"absolute",top:30,right:16,display:"flex"},text:{width:220,color:Ke.O.white,fontWeight:Xe.Ue.medium,fontSize:24,lineHeight:"32px",textAlign:"center"}}),Ab=new Array(10).fill(void 0),Fb=184,Bb=({isLoading:e,data:t,borderRadius:s=22,currentStoryId:i,currentStoryWidth:a,onStoryClick:n,entity:o})=>{const{css:c,s:d}=(0,ue.y)($b),l=t||(e?Ab:void 0),{isStoryViewed:u}=Yv.Cg.useStoriesViewsChecker(),{caruselOffset:p,caruselTotalWidth:g,swipeDirection:m}=(({data:e,currentStoryId:t,currentStoryWidth:s,miniStoryWidth:r,gap:i,arrowWidth:a})=>{const n=(null==e?void 0:e.length)?(r+i)*((null==e?void 0:e.length)-1)+2*i+2*a+s:0,o=2*i+a+(s-r)/2,c=(0,le.useMemo)((()=>{var s;return null!==(s=null==e?void 0:e.findIndex((e=>e.id===t)))&&void 0!==s?s:0}),[e,t]),d=(i+r)*c+r/2+o-i,[l,u]=(0,le.useState)(void 0),p=(0,le.useRef)(void 0),g=(0,le.useCallback)((({prevIndex:e,currentIndex:t})=>{void 0!==e&&t!==e&&u(t>e&&"next"===l?"next_again":t>e?"next":"prev"===l?"prev_again":"prev"),t===e&&u(void 0)}),[l]);return(0,le.useEffect)((()=>{void 0!==c&&c!==p.current&&g({prevIndex:p.current,currentIndex:c}),p.current=c}),[c,g]),{caruselOffset:d,caruselTotalWidth:n,swipeDirection:l}})({currentStoryWidth:a,miniStoryWidth:Fb,gap:32,arrowWidth:40,data:t,currentStoryId:i}),h=(e,t)=>({entity:o,story:e,position:t+1,isStoryViewer:!0,isHide:i===(null==e?void 0:e.id)});return(null==l?void 0:l.length)?(0,r.jsx)("div",Object.assign({className:c(d.root,m&&d[m]),style:{width:`${g}px`,transform:`translate(-${p}px, -50%)`}},{children:(0,r.jsx)(vs.S,Object.assign({gap:32},{children:l.map(((e,t)=>{var a;return(0,r.jsx)("div",Object.assign({className:c(d.item,(null==e?void 0:e.id)===i&&d.active_item)},{children:(0,r.jsx)(Yv.ci,{story:e,borderRadius:s,isNotViewed:!u(null==e?void 0:e.id),isTextMedium:!0,isStoryViewer:!0,bssShowFunction:()=>Yv.Cg.bss.miniStoryBss.bssShow(h(e,t)),bssActionFunction:Yv.Cg.bss.miniStoryBss.bssTap,bssActionParams:h(e,t),onClick:n})}),`${t}-viewer${(null==e?void 0:e.id)&&(null===(a=null==e?void 0:e.content)||void 0===a?void 0:a.preview)||"skeleton"}`)}))}))})):null};Bb.displayName="StoryViewerGallery";const Zb={"0%":{marginStart:Fb},"100%":{marginStart:0}},Ub={"0%":{marginStart:Fb},"50%":{marginStart:92},"100%":{marginStart:0}},Hb={"0%":{marginStart:-184},"100%":{marginStart:0}},Db={"0%":{marginStart:-184},"50%":{marginStart:-92},"100%":{marginStart:0}},$b=(0,ue.k)({root:{position:"absolute",top:"50%",left:"50%",transform:"translateY(-50%)",animationTimingFunction:"linear",animationDuration:"0.3s"},item:{flexShrink:0,flexGrow:0,width:Fb,height:216},active_item:{flex:1,opacity:0},next:{animationName:Zb},next_again:{animationName:Ub},prev:{animationName:Hb},prev_again:{animationName:Db}}),Vb=(0,le.memo)((({entity:e,stories:t,isLoading:s,isError:i,currentStoryId:a,withGallery:n,frameId:o})=>{var c;const{css:d,s:l}=(0,ue.y)(qb),u=(0,pe.I0)(),p=(0,pe.v9)((e=>!e.config.isMobileDevice)),g=Boolean((0,pe.v9)((e=>e.appContext.popup))),m=(0,le.useState)(0),[h,f]=m,v=(0,le.useMemo)((()=>null==t?void 0:t.findIndex((e=>e.id===a))),[t,a]),b=void 0!==v&&v>-1?null==t?void 0:t[v]:void 0,y=void 0!==v&&-1!==v?v+1:void 0,x=b?Yv.mg.getStorySlides(b)[h]:void 0,j=i||t.length&&!b,w=(0,as.$)((()=>{u((0,C.vP)((0,Vv.Kn)(),(0,O.BN)()))})),{useBssHandler:_}=(0,Je.T)(),I=_(Yv.Cg.bss.storiesNavigationBss.bssTap,{story:b,entity:e,storyPosition:y,frameId:o}),k=e=>{I&&x&&(I({title:x.title,slideId:x.id,name:"storiesFrame",actionType:null!=e?e:"close"}),window.removeEventListener("popstate",L))},S=(0,as.$)((()=>{const e=void 0!==v&&-1!==v&&t[v+1];e?P(e):(k("autoClose"),w())})),N=(0,as.$)((()=>{const e=void 0!==v&&t[v-1];e&&P(e)})),M=(0,as.$)((e=>{a&&(e.stopPropagation(),"Escape"===e.key&&(k(),w()))}));(0,le.useEffect)((()=>(document.addEventListener("keyup",M),()=>{document.removeEventListener("keyup",M)})),[M]);const T=(0,as.$)((()=>{k(),w()})),P=(0,as.$)((e=>{f(0),u((0,Tb.e8)({currentStoryId:e.id}))})),E=(0,as.$)((()=>{b&&Yv.mg.isAdStory(b)&&u(Mb({storyId:b.id,segmentId:String(b.projectId)}))})),L=(0,as.$)((()=>{k()}));(0,le.useEffect)((()=>{window.addEventListener("popstate",L,{once:!0})}),[L]);const R=Yv.Cg.useSlideSizes(),z={objectFit:p?"contain":"cover"},A=!!b&&(null==b?void 0:b.id)===t[0].id,F=!!b&&(null==b?void 0:b.id)===(null===(c=t.at(-1))||void 0===c?void 0:c.id),B=b&&0!==Yv.mg.getStorySlides(b).length&&void 0!==v&&v>-1;return(0,le.useEffect)((()=>{B&&u(Yv.Cg.markStoryAsViewed(b.id))}),[u,B,null==b?void 0:b.id]),(0,r.jsx)(Ga.j.Provider,Object.assign({value:{frameId:o}},{children:(0,r.jsxs)(Vv.zU,Object.assign({onClose:T},{children:[s&&(0,r.jsx)(Eb.p,{}),B&&(0,r.jsxs)(r.Fragment,{children:[p&&n&&(0,r.jsx)(Xt.N,{children:(0,r.jsx)(Bb,{entity:e,data:t,currentStoryId:null==b?void 0:b.id,isLoading:s,onStoryClick:P,currentStoryWidth:R.original.width})}),(0,r.jsx)(Sb,{isDesktop:p,onStoryClose:T,slideIndexAPI:m,storyPosition:v+1,entity:e,slideSizes:R,mediaSlideStyles:z,onSlidesEnd:S,onPrevStoryNeed:N,isPopupOpened:g,onStoryComplaint:E,isFirstStory:A,isLastStory:F,story:b,trackBssTap:I,controls:!p&&(0,r.jsx)("button",Object.assign({className:d(l.closeButton),onClick:T},{children:(0,r.jsx)(Pb.x,{})}))})]}),j&&(0,r.jsx)(Rb,{sizes:R.styles,onClose:p?void 0:w})]}))}))})),qb=(0,ue.k)({closeButton:{background:"transparent",color:Ke.O.white,border:"none",display:"flex",justifyContent:"center",alignItems:"center",gridColumn:12,zIndex:3}}),Gb=({currentStoryId:e,popupId:t})=>{const{data:s,isLoading:i,isError:a}=((e,t=!0)=>{const s=(0,Se.Z)().lang,r=(0,pe.v9)(o.fq);return Wv({id:e,utcOffset:Qv,locale:s,region:r},{enabled:t})})(e),n=(0,le.useMemo)((()=>s?[s]:[]),[s]);return(0,r.jsx)(Vb,{withGallery:!1,stories:n,currentStoryId:e,frameId:t,isLoading:i,isError:a})},Wb=({currentStoryId:e,popupId:t})=>{const s=(0,pe.v9)((e=>(0,q.t0)(e.appContext.frames,"entity"))),i=(0,pe.v9)((e=>s&&(0,l.nM)({state:e,entityId:s.entityId}))),{data:a,isLoading:n,isError:o}=Yv.Cg.useFirmStories({entity:null==i?void 0:i.data}),{stories:c=[]}=Yv.Cg.useStoriesRotation(a);return(null==i?void 0:i.data)?(0,r.jsx)(Vb,{withGallery:!0,entity:i.data,stories:c,currentStoryId:e,frameId:t,isLoading:n,isError:o}):null};var Qb=s(2576);const Kb=({currentStoryId:e,popupId:t})=>{const s=(0,Qb.N)("search"),{data:i,isLoading:a,isError:n}=Yv.Cg.useDiscoveryStories(s),{stories:o=[]}=Yv.Cg.useStoriesRotation(i);return(0,r.jsx)(Vb,{withGallery:!0,stories:o,currentStoryId:e,frameId:t,isLoading:a,isError:n})},Jb=({currentStoryId:e,popupId:t})=>{const s=(0,pe.v9)((e=>(0,q.t0)(e.appContext.frames,"entity"))),i=(0,pe.v9)((e=>s&&(0,l.nM)({state:e,entityId:s.entityId}))),{data:a=[],isLoading:n,isError:o}=Yv.Cg.useFmcgStories(s),{stories:c=[]}=Yv.Cg.useStoriesRotation(a);return(null==i?void 0:i.data)?(0,r.jsx)(Vb,{withGallery:!0,entity:i.data,stories:c,currentStoryId:e,frameId:t,isLoading:n,isError:o}):null},Yb=()=>{const{type:e,currentStoryId:t,popupId:s}=(0,pe.v9)(Vv.Pn);if(!t||!s)return null;switch(e){case"info":return(0,r.jsx)(Gb,{currentStoryId:t,popupId:s});case"discovery":return(0,r.jsx)(Kb,{currentStoryId:t,popupId:s});case"fmcg":return(0,r.jsx)(Jb,{currentStoryId:t,popupId:s});case"firm":return(0,r.jsx)(Wb,{currentStoryId:t,popupId:s});default:return null}},Xb=({previousMapView:e})=>{var t;const s=(0,pe.I0)(),{featureFriends:i,isMobileDevice:a,friendsDebugToken:n}=(0,Se.Z)(),o=(0,pe.v9)((e=>e.appContext.activeLayer)),c=void 0!==(0,Qb.N)("userPublicProfile"),d="friends"===o,l=(0,pe.v9)((e=>e.appContext.friendsOnMap.hasSharingSession)),u=null===(t=(0,pe.v9)(za.bG).data)||void 0===t?void 0:t.public_user_id,p=(0,pe.v9)(za.Pc)||!!n,g=(0,pe.v9)(za.Pc),m=(0,pe.v9)(za.qv)&&!n,h=(0,pe.v9)(za.qv),f=de.Z.useOpenFriendInOtherDomainPopup();(0,le.useEffect)((()=>{g&&s(de.Z.cleanFriendInOtherDomainModel())}),[g,s]),(0,le.useEffect)((()=>{h&&e&&f(e)}),[h,f,e]),(0,le.useEffect)((()=>{d&&a&&!c?s((0,Ni.Mw)({id:(0,Y.by)(),type:"mobileFriendsOnMapPopup"})):d&&m&&!e&&!c&&s((0,Ni.Mw)({id:(0,Y.by)(),type:"authFriendsOnMapPopup"}))}),[s,m,d,a,c,e]);return i&&d&&!a&&p||i&&l?(0,r.jsx)(st.mD,{onSelectUser:(e,t)=>{var r,i;const a=null===(i=null===(r=e[t])||void 0===r?void 0:r.session)||void 0===i?void 0:i.sessionId;s(a?Fa.i.openSharerProfile({sessionId:a}):Ae.i.openPublicProfile({userId:t}))},selfUserId:u}):null},ey=()=>(0,r.jsx)(ft.E,{loader:vt.H.immersivePromoTour,render:e=>(0,r.jsx)(e,{}),renderPlaceholder:Xr.Q});var ty=s(27695);class sy extends le.Component{constructor(){super(...arguments),this.state={errorMessage:"",error:""},this.render=()=>{const{dataViewerWidth:e,mapFrameId:t,friendInOtherDomain:s,isImmersivePromoRunning:i}=this.props;return this.state.error?(0,r.jsx)(el,{base:(0,r.jsx)(r.Fragment,{}),bottom:(0,r.jsx)(r.Fragment,{}),top:(0,r.jsxs)("div",Object.assign({style:{padding:"16px",width:"100%",height:"100%",boxSizing:"border-box",background:"#fff"}},{children:[(0,r.jsx)("div",Object.assign({style:{padding:"16px 0"}},{children:(0,r.jsx)(Ur.j,{code:500})})),(0,r.jsx)("div",Object.assign({style:{display:"flex",justifyContent:"center",paddingBottom:16}},{children:this.props.i18n.tp._t("Или покажите это разработчикам")})),(0,r.jsxs)("pre",Object.assign({style:{display:"block",background:"#eee",overflowX:"scroll",padding:"10px"}},{children:[`Session id: ${this.props.config.sessionId}`,(0,r.jsx)("br",{}),`User id: ${this.props.config.userId}`,(0,r.jsx)("br",{}),`${this.state.error}`]}))]}))}):(0,r.jsx)(el,{bottom:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(Ga.j.Provider,Object.assign({value:{frameId:t}},{children:[(0,r.jsx)(Kf,{}),(0,r.jsx)(Xt.N,{children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(wu,{}),(0,r.jsx)(qu,{}),(0,r.jsx)(Jd,{dataViewerWidth:e})]})}),(0,r.jsx)(Zv,{})]})),i&&(0,r.jsx)(ey,{}),(0,r.jsx)(Xt.N,{children:(0,r.jsx)(au,{})}),(0,r.jsx)(Xt.i,{children:(0,r.jsx)(Dv,{})}),(0,r.jsx)(Yf,{})]}),base:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Xt.N,{children:(0,r.jsx)(Vn,{})}),(0,r.jsx)(Xt.i,{children:(0,r.jsx)(Lv,{})}),(0,r.jsx)("div",{id:"photoViewer"}),(0,r.jsx)(Yb,{}),(0,r.jsx)(Xb,{previousMapView:s.previousMapView})]}),top:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ku,{}),(0,r.jsx)(Xt.N,{children:(0,r.jsx)(Jf.W,{})}),(0,r.jsx)(nu.G,{}),(0,r.jsx)(fu,{}),(0,r.jsx)(Xt.N,{children:(0,r.jsx)(Du,{})}),(0,r.jsxs)(Ga.j.Provider,Object.assign({value:{frameId:t}},{children:[(0,r.jsx)(ou.u,{}),(0,r.jsx)(wp,{})]})),(0,r.jsx)("div",{id:"confirm",style:{width:"100%",height:"100%",pointerEvents:"none",visibility:"hidden"}}),(0,r.jsx)(Xf,{}),(0,r.jsx)(Xt.i,{children:(0,r.jsx)(au,{})}),(0,r.jsx)("div",{id:"tooltips",style:{position:"absolute",inset:0,pointerEvents:"none"}})]})})}}componentDidCatch(e,t){const s=e.message&&e.message.toString()+t&&t.componentStack?` Comp stack: ${t.componentStack}`:"";(0,J.H)({message:s,level:"error",id:"tb3ic",payload:{type:"exception",subtype:"appRender",stack:e.stack}}),this.setState({errorMessage:e.message,error:`${e.message}\n\n${e.stack}`})}}const ry=(0,pe.$j)((e=>({dataViewerWidth:(0,Zn.w)(e),mapFrameId:e.appContext.staticFrames.map.id,friendInOtherDomain:e.appContext.friendInOtherDomain,isImmersivePromoRunning:ty.A.U.get(e)})))((0,gt.$)()((0,Ma.R)()(sy)));var iy=s(48906),ay=s(83583),ny=s(83618),oy=s(89955),cy=s(48791);var dy=s(45051),ly=s(46083),uy=s(69347),py=s(53545),gy=s(9297),my=s(79339),hy=s(65590),fy=s(25449),vy=s(90152);const by=(0,C.gQ)("updateEverythingWhenUserLoggedIn",(()=>(0,Z.gF)({userId:e=>e.session.userId,userData:e=>(0,za.bG)(e).data},(({userId:e,userData:t})=>{var s;return function(e){var t;if(window.clickstream&&e){const s=null===(t=e.identities)||void 0===t?void 0:t.find((({provider:e})=>"sberid"===e));s&&window.clickstream.profileUpdater.setProfileID("clientId",s.provider_user_id,!1)}}(t),(0,C.Mf)("auto"===(null===(s=(0,nc.gF)())||void 0===s?void 0:s.runningAfterAuth)&&(0,nc.HK)(),(0,my.k)({userId:e,authId:t?t.user_id:void 0}),(0,py.s)(),(0,gy.K)(),!!t&&!!t.user_id&&(0,C.Mf)((0,fy.hy)(),(0,fy.oV)({albumId:N.n4}),(0,hy.A0)(),(0,C.Rh)((({featureCart:e})=>e&&(0,vy.o)({})))))}))));var yy=s(15197),xy=s(36546),jy=s(52034),wy=s.n(jy),_y=s(54181);function Cy(){return window.clickstream&&window.clickstream.profileUpdater.setProfileID("clientId","",!1),(0,C.vP)((0,xy.I)(),(0,yy.Y)(),(0,_y.s)(),(0,Z._N)(za.bG,(e=>{var t;return"error"===(null===(t=e.meta)||void 0===t?void 0:t.status)&&401===e.meta.code?(0,C.PQ)((()=>{jy.remove("2gis_sdk_token")})):(0,C.ZT)()})),(0,nc.u$)())}const Iy=()=>by();var ky=s(60923),Oy=s(35415);var Sy=s(36928);function Ny(e,t){return e.on("login",(e=>{"redirect_url"in e&&e.redirect_url?window.location.assign(e.redirect_url):t.dispatch((0,B.$0)((({tp:e})=>(0,du.c)((0,Sy.v)({title:e._t("Ошибка!"),message:e._t("Что-то пошло не так. Попробуйте ещё раз.")})))))})),e.on("actualize",(()=>t.dispatch(function(e){let t;return(0,C.vP)((0,Z.gF)({isUserLoggedIn:za.Pc,isUserStatusUnknown:za.zP},(({isUserLoggedIn:e,isUserStatusUnknown:s})=>(s||(t=e),(0,C.ZT)()))),(0,dy.m)({}),(0,ly.F)({}),(0,Z._N)(za.Pc,(s=>void 0!==t&&s===t?(0,C.ZT)():"refresh"===e?s?by():Cy():s?Iy():(0,C.ZT)())))}("refresh")))),e.on("logout",(()=>{window.location.reload()})),e}const My=6e4;var Ty=s(52443);const Py=6e4;const Ey=9e5;let Ly;var Ry=s(68782),zy=s(47963),Ay=s(44179);let Fy="";var By=s(24306);const Zy=(0,s(40554).mq)("turnAutoPageViewOn"),Uy=(0,C.gQ)("showEmailUpdateNotification",(()=>(0,Z._N)((e=>e.appContext.weak.emailVerificationStatus),(e=>{const t=t=>"error"===e?t._t("Что-то пошло не так"):t._t("Готово"),s=t=>"error"===e?t._t("Попробуйте еще раз!"):t._t("Электронная почта подтверждена");return!!e&&(0,C.vP)((0,B.$0)((({tp:r})=>"error"===e?(0,du.c)((0,Sy.v)({title:t(r),message:s(r)})):(0,du.c)((0,Sy.V)({title:t(r),message:s(r)})))),(0,D.yy)({emailVerificationStatus:void 0}))}))));var Hy=s(57641);function Dy(e){const{metric:t,label:s}=e;!function(e){if("undefined"!=typeof navigator&&"sendBeacon"in navigator){const t=new Blob([JSON.stringify(e)],{type:"application/json"});navigator.sendBeacon("/_/metrics",t)}}({[t.name]:{value:t.value,label:s}})}var $y=s(26620),Vy=s(82187);var qy=s(5282);const Gy=(0,C.gQ)("syncStateFromLS",(()=>(0,C.Mf)(Wd.l.$isEnabled.syncLS(((e,t)=>e||t)),ty.A.d.syncLS())));function Wy(e,t,s){window.isServerRendered=!1,e.dispatch((0,By.G)()),e.dispatch((0,Ty.k)()),e.dispatch(Uy()),e.dispatch((0,he.RP)((e=>{var t;if(!e||e.filterValuesByTab.truck)return(0,C.ZT)();const s=null===(t=(0,$y.h)())||void 0===t?void 0:t.ppng;return s?(0,C.vP)((0,he.eH)(e.id,(e=>Object.assign(Object.assign({},e),{filterValuesByTab:Object.assign(Object.assign({},e.filterValuesByTab),{truck:s})}))),"truck"===e.tab&&(0,Vy.w)()):(0,C.ZT)()}))),e.dispatch((0,qy.R)()),function(e){let t;const s=()=>{t||(t=window.setTimeout((()=>{window.requestIdleCallback((()=>{t=void 0,e((0,Ty.k)({forced:!0})),s()}))}),Py))};s()}(e.dispatch),function(e){let t;const s=()=>{t||(t=window.setTimeout((()=>{window.requestIdleCallback((()=>{t=void 0,e((0,I.q_)({time:Date.now()})),s()}))}),My))};s()}(e.dispatch),e.dispatch((0,to.oi)()),e.dispatch(Gy()),s.featureReadOnly?e.dispatch((0,Ry.k)({name:"userId"})):function(e){function t(){const t=e.getState(),s=t.session.userId,r=(0,za.bG)(t).data;e.dispatch((0,my.k)({userId:s,authId:r?r.user_id:void 0}))}e.dispatch((0,Yo.ks)({userId:e.getState().session.userId})),t(),function e(){Ly||(Ly=window.setTimeout((()=>{window.requestIdleCallback((()=>{t(),Ly=void 0,e()}))}),Ey))}()}(e);const r=e.getState(),i="true"===Od.tO.local.getItem("geolocationAllowed");"online"!==r.session.platform&&i&&e.dispatch((0,Yo.Fd)()),t&&(window.sdk={ui:t.ui,logout:t.logout},Ny(t,e),t.actualize(),setTimeout((()=>{e.dispatch((0,zy.A)())}),666),function(e){switch(Fy.toLowerCase()){case"#flightaround":setTimeout((()=>{e((0,Ay.P)(e))}),1e3);break;case"#hidedataviewer":e((0,ke.kG)({isMinimized:!0}))}}(e.dispatch),e.dispatch(Zy()),document.addEventListener("keydown",(function(e){e.metaKey||e.altKey||e.ctrlKey||(document.body.classList.remove("_pi"),document.body.classList.add("_ki"))}),!0),document.addEventListener("mousedown",(function(){document.body.classList.remove("_ki"),document.body.classList.add("_pi")}),!0),setTimeout((()=>{var e;e={device_type:s.isMobileDevice?"mobile":"desktop"},(0,Hy.mw)((t=>Dy({metric:t,label:e}))),(0,Hy.Fu)((t=>Dy({metric:t,label:e}))),(0,Hy.NO)((t=>Dy({metric:t,label:e}))),(0,Hy.a4)((t=>Dy({metric:t,label:e}))),(0,Hy.mr)((t=>Dy({metric:t,label:e})))}),111))}function Qy(){if("undefined"!=typeof window&&window.performance)return Object.assign(Object.assign(Object.assign({type:"client_start"},function(){const e=window.performance.timing;return{waiting:e.responseStart-e.requestStart,download:e.responseEnd-e.responseStart,scriptLoading:e.domInteractive-e.domLoading,interactive:e.domInteractive-e.fetchStart,complete:e.domComplete-e.fetchStart,full:e.loadEventEnd-e.navigationStart}}()),function(){const e=window.navigator.connection||{};return{rtt:e.rtt,downlink:e.downlink}}()),function(){if(!performance.getEntriesByType)return{};const e=performance.getEntriesByType("navigation"),t=e&&e.length?e[0]:void 0;if(!t)return{};return{navigationType:t.type}}())}var Ky=s(81465),Jy=s(69363);class Yy{constructor(){this.localStorageApi=new Jy.r("feedback","feedback")}get(e){return(0,Me.mG)(this,void 0,void 0,(function*(){try{return yield this.localStorageApi.get(e)}catch(e){}}))}set(e,t){return(0,Me.mG)(this,void 0,void 0,(function*(){try{yield this.localStorageApi.set(e,t)}catch(e){}}))}}function Xy(e,t){t&&t.trace&&t.trace.events&&t.trace.events.map((t=>{if("sapphire"===t.category){const s=`https://search.2gis.one/onlinedebug?text=${encodeURIComponent(t.body)}`,r=`Перейти на debug-поиска по ссылке: ${s}`;console.group(e),console.log(r),function(e){if("undefined"==typeof window)return;const t={text:e},s=new CustomEvent("FromPage",{detail:t});window.dispatchEvent(s)}(s),console.log(t.body),console.groupEnd()}}))}const ex=e=>t=>{const{debug:s}=t;return Xy(e,s),t},tx=e=>t=>{const{debug:s}=t.data;return Xy(e,s),t};var sx=s(94361);function rx(e){var t,s;const{data:{meta:r,result:i}}=e;if([400,403,500].includes(r.code)){const e=r.error?`${r.error.message} (${r.code})`:`Unknown WebAPI error (${r.code})`;if(500===r.code)throw new sx.F7(e,r.code);if(403===r.code&&"apiKeyIsBlocked"===(null===(t=r.error)||void 0===t?void 0:t.type))throw new sx.F7(e,r.code);const i=new Error(e);throw i.name=(null===(s=r.error)||void 0===s?void 0:s.type)||i.name,i}return Object.assign(Object.assign({},i),{code:r.code,error:r.error})}var ix=s(89636);const ax=["sort","work_time","has_reviews","has_reviews_on_flamp","has_site","has_photos","has_rating","subway","opened_after_date","rubric_id","district_id","friends_were_here"],nx=["bound"];function ox(e,t=nx){const s={};return(0,Y.Ed)(e,((e,r)=>{if(!e||!r)return;r.split(ix.ZA).forEach((r=>{-1===t.indexOf(r)&&("work_time"!==r||"today,alltime"!==e?-1===ax.indexOf(r)?s["attr["+r+"]"]=e:s[r]=e:s["attr[work_round_the_clock]"]="true")}))})),s}const cx=["bound","sort"];const dx={search:["adm_div.city","adm_div.district","adm_div.district_area","adm_div.division","adm_div.living_area","adm_div.place","adm_div.region","adm_div.settlement","attraction","branch","building","crossroad","foreign_city","gate","parking","road","route","station","street","coordinates","kilometer_road_sign"],suggest:["adm_div.city","adm_div.district","adm_div.district_area","adm_div.division","adm_div.living_area","adm_div.place","adm_div.region","adm_div.settlement","attraction","building","crossroad","foreign_city","road","route_type","route","station.metro","station","street","user_queries","rubric","meta_rubric"],objectSuggest:["adm_div.region","adm_div.district_area","adm_div.city","adm_div.settlement","adm_div.district","adm_div.living_area","adm_div.division","adm_div.place","street","branch","building","road","attraction","crossroad","route","route_type","station","station.metro","user_queries","attribute","rubric","meta_rubric","org","special","coordinates","kilometer_road_sign"]},lx=(0,It.HP)(((e,t)=>{const s=dx[e];if(0===t.length)return s.join(",");const r=t.split(",");return s.filter((e=>-1===r.indexOf(e))).join(",")}));function ux(e){const[t,s]=e;return{viewpoint1:`${t.lon},${t.lat}`,viewpoint2:`${s.lon},${s.lat}`}}function px(e,t){if("true"!==t.bound)return{};const[s,r]=e;return{point1:`${s.lon},${s.lat}`,point2:`${r.lon},${r.lat}`}}function gx(e){return e?`${e.lon},${e.lat}`:void 0}const mx=e=>e?Object.assign({},ux(e)):{};function hx(e){return Object.keys(e).map((t=>({key:t,value:(!1===e[t]?"false":e[t]||"").toString()}))).sort(((e,t)=>e.key<t.key?-1:e.key>t.key?1:0)).map((e=>e.value)).join("")}function fx(e){return e.split("?")[0].replace(/^[^/]*\/\/[^/]+\//,"/")}const vx=[22,4147,1234,11],bx=vx[0]+vx[3],yx=vx[1]+vx[2];function xx(e,t,s,r=""){const i=hx(t);return jx(fx(e)+i+r+s)}function jx(e){const t=e.length;let s=yx;for(let r=0;r<t;r+=1)s=s*bx+e.charCodeAt(r),s>>>=0;return s}const wx={"items.locale":!0,"items.flags":!0,search_attributes:!0,"items.search_attributes.best_keyword":!0,"items.adm_div":!0,"items.city_alias":!0,"items.region_id":!0,"items.segment_id":!0,"items.reviews":!0,"items.point":!0,request_type:!0,context_rubrics:!0,query_context:!0,"items.links":!0,"items.name_ex":!0,"items.name_back":!0,"items.org":!0,"items.group":!0,"items.dates":!0,"items.external_content":!0,"items.contact_groups":!0,"items.comment":!0,"items.ads.options":!0,"items.email_for_sending.allowed":!0,"items.stat":!0,"items.stop_factors":!0,"items.description":!0,"items.geometry.centroid":!0,"items.geometry.selection":!0,"items.geometry.style":!0,"items.timezone_offset":!0,"items.context":!0,"items.level_count":!0,"items.address":!0,"items.is_paid":!0,"items.access":!0,"items.access_comment":!0,"items.for_trucks":!0,"items.is_incentive":!0,"items.paving_type":!0,"items.capacity":!0,"items.schedule":!0,"items.floors":!0,dym:!0,ad:!0,"items.rubrics":!0,"items.routes":!0,"items.platforms":!0,"items.directions":!0,"items.barrier":!0,"items.reply_rate":!0,"items.purpose":!0,"items.purpose_code":!0,"items.attribute_groups":!0,"items.route_logo":!0,"items.has_goods":!0,"items.has_apartments_info":!0,"items.has_pinned_goods":!0,"items.has_realty":!0,"items.has_exchange":!0,"items.has_payments":!0,"items.has_dynamic_congestion":!0,"items.is_promoted":!0,"items.congestion":!0,"items.delivery":!0,"items.order_with_cart":!0,search_type:!0,"items.has_discount":!0,"items.metarubrics":!0,"items.detailed_subtype":!0,"items.temporary_unavailable_atm_services":!0,"items.poi_category":!0},_x={getRegion:["items.code","items.uri_code","items.uri_aliases","items.name_grammatical_cases","items.time_zone","items.statistics","items.domain","items.locale","items.locales","items.satellites","items.bounds","items.country_code","items.zoom_level","items.default_pos","items.flags"].join(","),getRoute:["items.region_id","items.segment_id"].join(","),getItemList:Object.keys((0,Y.CE)(wx,["items.level_count","items.platforms","items.directions","items.barrier","items.dates","items.contact_groups","items.stop_factors","items.has_exchange","items.congestion","items.has_dynamic_congestion"])).join(","),getItemListNoKeyWords:Object.keys((0,Y.CE)(wx,["items.level_count","items.platforms","items.directions","items.barrier","items.dates","items.contact_groups","items.stop_factors","items.has_exchange","items.congestion","items.has_dynamic_congestion","items.search_attributes.best_keyword"])).join(","),getItemListWithoutContextRubrics:Object.keys((0,Y.CE)(wx,["items.level_count","items.platforms","items.directions","items.barrier","items.attribute_groups","items.dates","items.contact_groups","items.email_for_sending.allowed","items.stop_factors","context_rubrics","query_context","items.has_exchange","items.congestion","items.has_dynamic_congestion","items.search_attributes.best_keyword"])).join(","),getItem:Object.keys((0,Y.CE)(wx,["dym","items.search_attributes.best_keyword"])).concat(["items.structure_info.material","items.structure_info.floor_type","items.structure_info.gas_type","items.structure_info.year_of_construction","items.structure_info.elevators_count","items.structure_info.is_in_emergency_state","items.structure_info.project_type"]).join(","),getSuggestions:["items.name_ex","items.rubrics","items.org","items.adm_div","items.routes","items.type","items.subtype","items.address","items.search_attributes.personal_priority","items.search_attributes.dgis_source_type","items.search_attributes.dgis_found_by_address","items.search_attributes.dgis_ad_type","items.search_attributes.dgis_ad_rubric_id","items.segment_id","items.region_id","items.locale","items.group","items.context","search_attributes","items.flags","items.has_exchange","items.ads.options"].join(","),markers:["items.ads","items.name","items.stop_factors","items.reviews","items.schedule","items.context","items.name_ex","items.timezone_offset","items.flags","items.has_exchange","items.temporary_unavailable_atm_services","items.friends","search_attributes"].join(","),getItemByEntrance:["items.locale","items.adm_div","items.region_id","items.segment_id","items.group","items.address","items.floors"].join(",")};function Cx(e,t){switch(e){case 6:case 7:return"adm_div.region,adm_div.district_area";case 8:case 9:case 10:return"adm_div.city,adm_div.region,adm_div.district_area,adm_div.settlement,road";case 11:return"adm_div.city,adm_div.region,adm_div.settlement,road,adm_div.district_area,adm_div.division";case 12:return"adm_div.city,adm_div.region,adm_div.settlement,road,adm_div.district_area,adm_div.division,adm_div.district";case 13:return"adm_div.city,adm_div.region,adm_div.settlement,road,adm_div.district_area,adm_div.division,adm_div.district"+(t?"":",poi");case 14:return"adm_div.city,adm_div.region,adm_div.settlement,road,adm_div.district_area,adm_div.division,adm_div.district,street,adm_div.living_area,crossroad"+(t?"":",poi");case 15:case 16:return"adm_div.city,adm_div.region,adm_div.settlement,road,adm_div.district_area,adm_div.division,adm_div.district,street,adm_div.living_area,crossroad,building,adm_div.place"+(t?"":",poi");case 17:return"adm_div.city,adm_div.region,adm_div.settlement,road,adm_div.district_area,adm_div.division,adm_div.district,street,adm_div.living_area,crossroad,building,adm_div.place,attraction,parking"+(t?"":",poi");case 18:case 19:case 20:return"adm_div.city,adm_div.region,adm_div.settlement,road,adm_div.district_area,adm_div.division,adm_div.district,street,adm_div.living_area,crossroad,building,adm_div.place,attraction,parking,gate"+(t?"":",poi");default:return"adm_div.region"}}const Ix=6e4;function kx(e){const{timeToLive:t,errorTtl:s=Ix,staleWhileRevalidate:r=!1}=e;return{timeToLive:t,errorTtl:s,staleWhileRevalidate:r,data:{}}}function Ox(e){const{key:t,store:s,request:r}=e,{data:i,timeToLive:a,errorTtl:n,staleWhileRevalidate:o}=s;if("undefined"!=typeof process){const e=process.env.DESKTOP_DISABLE_SERVER_CACHE;if("true"===String(e).toLowerCase())return r()}let c=i[t];if(!c||c.expires<Date.now()){const e=Date.now()+a;if(c&&o){c.expires=e;const t=r().then((e=>(c.promise=t,e))).catch((()=>(c.expires=Date.now()+n,c.promise))).catch((()=>{}))}else c={promise:r().catch((e=>{throw c.expires=Date.now()+n,e})),expires:e},i[t]=c}return c.promise}function Sx(e,t){const s=e.items,r={},i={};for(const e of s){if((0,Y.xb)(e.default_pos)){(0,J.H)({message:`Region without default_pos: ${e.code} `,level:"fatal",requestId:t.requestId,id:"dh57w",payload:{type:"exception",subtype:"InvalidRegion",data:JSON.stringify(e)}});continue}r[e.id]=e,r[e.code]=e;const s=i[e.country_code];(!(null==s?void 0:s.statistics.org_count)||e.statistics.org_count&&e.statistics.org_count>s.statistics.org_count)&&(i[e.country_code]=e)}return{result:{items:s,mapByCode:r,mapByCountry:i}}}const Nx=e=>{const t=(0,Vh.J)(e).reduce(((e,t)=>[[Math.max(t[0],e[0][0]),Math.max(t[1],e[0][1])],[Math.min(t[0],e[1][0]),Math.min(t[1],e[1][1])]]),[[-180,-90],[180,90]]);return{zoom:13,lon:(t[0][0]+t[1][0])/2,lat:(t[0][1]+t[1][1])/2}};function Mx(e){return 404===e.code?{}:e.items.reduce(((e,t)=>{const{region_id:s,id:r,name:i,alias:a,country_code:n,simple_geometry:o}=t;return e[r]={id:r,region_id:s||"0",name:i,country_code:n,alias:a,default_pos:Nx(o)},e}),{})}var Tx=s(88798),Px=s(93471);const Ex=kx({timeToLive:6e4,staleWhileRevalidate:!0}),Lx=kx({timeToLive:6e4,staleWhileRevalidate:!0});class Rx{constructor(e,t){this.request=e,this.KEY=t.webApiKey,this.a="baf4c54e9dae";const s=t.webApiUrl,r=t.webApi3Url;this.RUBRICATOR_GET_URL=`${r}rubricator/get`,this.RUBRICATOR_DASHBOARD_URL=`${r}rubricator/dashboard`,this.RUBRICATOR_LIST_URL=`${r}rubricator/list`,this.RUBRICS_TREE_URL=`${s}catalog/rubric/list`,this.DETECT_REGION_URL=`${r}dashboard/geo/items`,this.ADS_ADVISE_GTA_ONLINE=`${r}ads/advise/gta/online`,this.SEARCH_FIRM_URL=`${r}items`,this.GET_ITEM_URL=`${r}items/byid`,this.SEARCH_GEO_URL=`${s}geo/search`,this.SEARCH_CLUSTERED_MARKERS_URL=`${r}markers/clustered`,this.SEARCH_MARKERS_URL=`${r}markers`,this.SUGGESTS_URL=`${s}suggest/list`,this.OBJECTS_SUGGESTS_URL=`${r}suggests`,this.PROFILE_URL=`${r}profile/data`,this.REGIONS_URL=`${s}region/list`,this.SETTLEMENTS_URL=`${r}aliases`,this.REGION_INFO=`${s}region/get`,this.BRANCH_GET_URL=`${s}catalog/branch/get`,this.BRANCH_LIST_URL=`${s}catalog/branch/list`,this.GET_ITEM_BY_ENTRACE_URL=`${r}items/byentrance`,this.METRO_STATIONS_URL=`${s}transport/station/list`,Kv.sk&&(this.REQUEST_ID=t.requestId),this.sendPrivacyData=!t.featureReadOnly,this.userId=t.userId,this.sessionId=t.sessionId,this.appVersion=(0,Tx.n)(t.commitIsoDate),this.excludeTypesFromSearch=t.excludeTypesFromSearch,this.debugMode=t.srchdbgmd,this.searchDeviceType=t.searchDeviceType,this.searchUserHash=t.searchUserHash,this.featureDiscoveryKeywords=t.featureDiscoveryKeywords,this.featureClusteredMarkers=t.featureClusteredMarkers}getRegionsList({locale:e}){return Ox({key:e||"",store:Ex,request:()=>{const t={fields:_x.getRegion,key:this.KEY,locale:e,page_size:2e3};return this.request(this.REGIONS_URL,this.extendParams(t,this.REGIONS_URL)).then(rx).then((e=>Sx(e,{requestId:this.REQUEST_ID}))).catch((0,Oy.No)("regionsList",t,this.REQUEST_ID))}})}getSettlementsList({locale:e}){return Ox({key:e,store:Lx,request:()=>{const t={key:this.KEY,locale:e};return this.request(this.SETTLEMENTS_URL,this.extendParams(t,this.SETTLEMENTS_URL)).then(rx).then(Mx).catch((e=>{if("itemNotFound"===(null==e?void 0:e.name))return{};throw e})).catch((0,Oy.No)("aliases",t,this.REQUEST_ID))}})}searchByQuery({query:e,page:t=1,pageSize:s,regionId:r,viewpoint:i,filters:a={},withFilters:n=!1,isViewportChanged:o=!1,sortPoint:c,locale:d,fields:l,adsIds:u,cityId:p,accessToken:g,isNonFixableQuery:m}){const h=l||(this.featureDiscoveryKeywords?_x.getItemList:_x.getItemListNoKeyWords)+(n?",filters,widgets":""),f=e&&!u?e:void 0,v=f&&m?`"${f}"`:void 0,b=Object.assign(Object.assign(Object.assign(Object.assign({key:this.KEY,region_id:"0"!==r?r:void 0,q:null!=v?v:f,sort_point:gx(c),fields:h,type:(y=this.excludeTypesFromSearch,lx("search",y)),page_size:s||N.Cz,ads_id:u,page:t,locale:d,allow_deleted:!0,location:gx(c),search_device_type:this.searchDeviceType,search_user_hash:this.searchUserHash,city_id:p},o?{is_viewport_change:!0}:{}),ux(i)),ox(a)),px(i,a));var y;return this.request(this.SEARCH_FIRM_URL,this.extendParams(b,this.SEARCH_FIRM_URL,g?{headers:{Authorization:`Bearer ${g}`}}:void 0)).then(tx(this.SEARCH_FIRM_URL)).then(rx).catch((0,Oy.No)("searchFirmByQuery",b,this.REQUEST_ID))}getSearchFilters({regionId:e,query:t,viewpoint:s,rubrId:r,locale:i,filters:a={},sortPoint:n}){const o=r?{rubric_id:r}:{q:t},c=Object.assign(Object.assign(Object.assign(Object.assign({key:this.KEY,locale:i},o),{region_id:"0"!==e?e:void 0,page:1,page_size:1,type:lx("search",this.excludeTypesFromSearch),fields:"filters,widgets",allow_deleted:!0,location:gx(n),search_device_type:this.searchDeviceType,search_user_hash:this.searchUserHash}),ux(s)),ox((0,Kc.ei)(a,["rubric_id",...Object.values(Px.yf)])));return this.request(this.SEARCH_FIRM_URL,this.extendParams(c,this.SEARCH_FIRM_URL)).then(tx(this.SEARCH_FIRM_URL)).then(rx).catch((0,Oy.No)("getSearchFilters",c,this.REQUEST_ID))}getSearchFilialsFilters({orgId:e,viewpoint:t,locale:s}){const r=Object.assign({key:this.KEY,locale:s,org_id:e,page:1,page_size:1,fields:"filters,widgets",search_device_type:this.searchDeviceType,search_user_hash:this.searchUserHash},ux(t));return this.request(this.SEARCH_FIRM_URL,this.extendParams(r,this.SEARCH_FIRM_URL)).then(tx(this.SEARCH_FIRM_URL)).then(rx).catch((0,Oy.No)("getSearchFilters",r,this.REQUEST_ID))}searchByPoint({point:e,zoom:t,locale:s,viewpoint:r,is3dEnabled:i=!1}){const a=Math.round(Math.min(t,N.m8)),n=Object.assign(Object.assign({key:this.KEY,point:`${e.lon},${e.lat}`,type:Cx(a,i),fields:_x.getItemListNoKeyWords,page_size:1,locale:s},!i&&{zoom_level:a}),mx(r));return this.request(this.SEARCH_GEO_URL,this.extendParams(n,this.SEARCH_GEO_URL)).then(rx).then(ex(this.SEARCH_GEO_URL)).catch((0,Oy.No)("searchByPoint",n,this.REQUEST_ID))}clusteredMarkersQuery({query:e,filters:t={},rubrId:s,buildingId:r,orgId:i,isViewportChanged:a=!1,viewpoint:n,locale:o,mapSize:c,attrId:d,markersWithLogoIds:l,adsIds:u,sortPoint:p,accessToken:g}){const m=!e||d||u?void 0:e,h=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({key:this.KEY,map_width:c.width,map_height:c.height,locale:o,q:m,rubric_id:s,building_id:r,org_id:i,allow_deleted:!0,ads_id:u,type:lx("search",this.excludeTypesFromSearch),location:gx(p),search_device_type:this.searchDeviceType,search_user_hash:this.searchUserHash},function(e){return e?{[`attr[${e}]`]:!0}:{}}(d)),a?{is_viewport_change:!0}:{}),ux(n)),px(n,t)),function(e){return ox(e,cx)}(t)),(null==l?void 0:l.length)?{marker_ids:l.join(",")}:{}),{fields:_x.markers}),f=this.featureClusteredMarkers?this.SEARCH_CLUSTERED_MARKERS_URL:this.SEARCH_MARKERS_URL;return this.request(f,this.extendParams(h,f,g?{headers:{Authorization:`Bearer ${g}`}}:void 0)).then(tx(f)).then(rx).catch((0,Oy.No)("clusteredMarkersQuery",h,this.REQUEST_ID))}getInfrastructure({rubrIds:e,radius:t,center:s,locale:r,screen:i}){const a={key:this.KEY,map_width:i.width,map_height:i.height,locale:r,radius:t,lon:s.lon,lat:s.lat,rubric_id:e.join(","),type:lx("search",this.excludeTypesFromSearch),search_device_type:this.searchDeviceType,search_user_hash:this.searchUserHash,fields:_x.markers};return this.request(this.SEARCH_MARKERS_URL,this.extendParams(a,this.SEARCH_MARKERS_URL)).then(tx(this.SEARCH_MARKERS_URL)).then(rx).catch((0,Oy.No)("getInfrastructure",a,this.REQUEST_ID))}searchFilials({orgId:e,page:t=1,pageSize:s,regionId:r,viewpoint:i,filters:a={},withFilters:n=!1,isViewportChanged:o=!1,sortPoint:c,locale:d,fields:l,searchDisableClippingByRelevance:u=!0,cityId:p,accessToken:g}){const m=l||`${this.featureDiscoveryKeywords?_x.getItemList:_x.getItemListNoKeyWords}${n?",filters,widgets":""}`,h=Object.assign(Object.assign(Object.assign(Object.assign({page:t,page_size:s||N.Cz,org_id:e,region_id:"0"!==r?r:void 0,sort_point:gx(c),fields:m,key:this.KEY,type:"branch",locale:d,search_device_type:this.searchDeviceType,search_user_hash:this.searchUserHash,search_disable_clipping_by_relevance:u,location:gx(c),city_id:p},ox(a)),o?{is_viewport_change:!0}:{}),ux(i)),px(i,a));return this.request(this.SEARCH_FIRM_URL,this.extendParams(h,this.SEARCH_FIRM_URL,g?{headers:{Authorization:`Bearer ${g}`}}:void 0)).then(tx(this.SEARCH_FIRM_URL)).then(rx).catch((0,Oy.No)("searchFilials",h,this.REQUEST_ID))}searchByBuildingId({buildingId:e,viewpoint:t,page:s=1,filters:r,locale:i,fields:a}){const n=r?ox(r):void 0,o=Object.assign(Object.assign({key:this.KEY,building_id:e,fields:a||_x.getItemListWithoutContextRubrics,locale:i,page_size:N.Cz,page:s},mx(t)),n);return this.request(this.BRANCH_LIST_URL,this.extendParams(o,this.BRANCH_LIST_URL)).then(rx).then(ex(this.BRANCH_LIST_URL)).catch((0,Oy.No)("fetchInBuildingList",o,this.REQUEST_ID))}searchInBuildingByQuery({buildingId:e,page:t=1,query:s,filters:r,viewpoint:i,locale:a,fields:n,withFilters:o=!1,sortPoint:c}){const d=n||_x.getItemListNoKeyWords+(o?",filters,widgets":""),l=r?ox(r):void 0,u=Object.assign(Object.assign({key:this.KEY,building_id:e,q:s,fields:d,page_size:N.Cz,search_type:"indoor",locale:a,page:t,location:gx(c),search_device_type:this.searchDeviceType,search_user_hash:this.searchUserHash,allow_deleted:!0},l),mx(i));return this.request(this.SEARCH_FIRM_URL,this.extendParams(u,this.SEARCH_FIRM_URL)).then(tx(this.SEARCH_FIRM_URL)).then(rx).catch((0,Oy.No)("searchInBuildingByQuery",u,this.REQUEST_ID))}searchMaintainers({buildingId:e,page:t=1,withStandardPageSize:s=!1,viewpoint:r,locale:i,fields:a}){const n=Object.assign({servicing:!0,servicing_group:"default",page_size:s?N.Cz:void 0,key:this.KEY,building_id:e,locale:i,fields:a||_x.getItemListNoKeyWords,page:t},mx(r));return this.request(this.BRANCH_LIST_URL,this.extendParams(n,this.BRANCH_LIST_URL)).then(rx).then(ex(this.BRANCH_LIST_URL)).catch((0,Oy.No)("searchMaintainers",n,this.REQUEST_ID))}searchProviders({buildingId:e,page:t=1,withStandardPageSize:s=!1,viewpoint:r,locale:i,fields:a}){const n=Object.assign({servicing:!0,servicing_group:"internet",page_size:s?N.Cz:void 0,key:this.KEY,building_id:e,locale:i,fields:a||_x.getItemListNoKeyWords,page:t},mx(r));return this.request(this.BRANCH_LIST_URL,this.extendParams(n,this.BRANCH_LIST_URL)).then(rx).then(ex(this.BRANCH_LIST_URL)).catch((0,Oy.No)("searchProviders",n,this.REQUEST_ID))}searchSuggestionsByQuery({regionId:e,query:t,types:s,type:r,locale:i}){const a={key:this.KEY,locale:i,q:t,region_id:"0"!==e?e:void 0,types:s&&s.length?s.join(","):lx("suggest",this.excludeTypesFromSearch),type:r};return this.request(this.SUGGESTS_URL,this.extendParams(a,this.SUGGESTS_URL)).then(rx).then(ex(this.SUGGESTS_URL)).catch((0,Oy.No)("searchSuggestionsByQuery",a,this.REQUEST_ID))}searchObjectSuggestions({query:e,types:t,locale:s,regionId:r,viewpoint:i,sortPoint:a,suggesterType:n,personalRecords:o}){const c=t?t.join(","):lx("objectSuggest",this.excludeTypesFromSearch),d=Object.assign(Object.assign({key:this.KEY,q:e,suggesttype:n},ux(i)),{region_id:"0"!==r?r:void 0,fields:_x.getSuggestions,type:"route_endpoint"===n?`${c},parking`:c,location:gx(a),search_device_type:this.searchDeviceType,search_user_hash:this.searchUserHash,locale:s}),l=o&&o.length>0?{method:"post",data:{personal_records:o}}:void 0;return this.request(this.OBJECTS_SUGGESTS_URL,this.extendParams(d,this.OBJECTS_SUGGESTS_URL,l)).then(tx(this.OBJECTS_SUGGESTS_URL)).then(rx).catch((0,Oy.No)("searchObjectSuggestions",l?Object.assign(Object.assign({},l),d):d,this.REQUEST_ID))}getProfile({userId:e,authId:t}){const s={key:this.KEY,user_id:e,auth_id:t};return this.request(this.PROFILE_URL,this.extendParams(s,this.PROFILE_URL)).then(rx).catch((0,Oy.No)("getProfile",s,this.REQUEST_ID))}getItem({id:e,fields:t,locale:s,clickPoint:r,viewpoint:i,contextRubrics:a,adsId:n,mapAdsId:o,searchCtx:c}){const d=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({id:e,key:this.KEY,locale:s,fields:t||_x.getItem,clickPoint:r?`${r.lon},${r.lat}`:void 0},c?{search_ctx:c}:{}),function(e){return e&&e.length?e.reduce(((e,t)=>(e[t.group]=e[t.group]||[],e[t.group].push(t.id),e)),[]).reduce(((e,t,s)=>(e[`context_rubrics[${s}]`]=t.join(","),e)),{}):{}}(a)),mx(i)),n?{ads_id:n}:{}),o?{map_ads_id:o}:{});return this.request(this.GET_ITEM_URL,this.extendParams(d,this.GET_ITEM_URL)).then(tx(this.GET_ITEM_URL)).then(rx).catch((0,Oy.No)("getItem",d,this.REQUEST_ID))}fetchApartments(e){const t={id:e.id,key:this.KEY,locale:e.locale,fields:"items.links,items.links.database_entrances.apartments_info"},s=this.extendParams(t,this.GET_ITEM_URL),r={Authorization:`Bearer ${e.accessToken}`};return this.request(this.GET_ITEM_URL,Object.assign(Object.assign({},s),{headers:r})).then(rx).catch((0,Oy.No)("fetchApartments",t,this.REQUEST_ID))}getItems({ids:e,fields:t,locale:s,clickPoint:r,viewpoint:i}){const a=Object.assign({id:e.join(","),key:this.KEY,locale:s,fields:t||_x.getItem,clickPoint:r?`${r.lon},${r.lat}`:void 0},mx(i));return this.request(this.GET_ITEM_URL,this.extendParams(a,this.GET_ITEM_URL)).then(tx(this.GET_ITEM_URL)).then(rx).catch((0,Oy.No)("getItem",a,this.REQUEST_ID))}getProfiles({ids:e,viewpoint:t,locale:s},r){const i=Object.assign({id:e.join(","),key:this.KEY,locale:s,fields:r||_x.getItemListNoKeyWords,allow_deleted:!0},mx(t));return this.request(this.BRANCH_GET_URL,this.extendParams(i,this.BRANCH_GET_URL)).then(rx).then(ex(this.BRANCH_GET_URL)).catch((0,Oy.No)("getProfiles",i,this.REQUEST_ID))}getRegionById({id:e,locale:t}){const s=t=>({result:t.result.mapByCode[e]}),r=function({key:e,store:t}){const s=t.data[e];if(s)return t.staleWhileRevalidate||s.expires>Date.now()?s.promise:void 0}({key:t||"",store:Ex});if(r)return r.then(s);const i={fields:_x.getRegion,id:e,key:this.KEY,locale:t};return this.request(this.REGION_INFO,this.extendParams(i,this.REGION_INFO)).then(rx).then((e=>Sx(e,{requestId:this.REQUEST_ID}))).then(s).catch((0,Oy.No)("getRegionById",i,this.REQUEST_ID))}searchParkingsAround({point:{lon:e,lat:t},radius:s,fields:r,locale:i}){const a={type:"parking",key:this.KEY,locale:i,point:`${e},${t}`,radius:s,fields:r||_x.getItemListNoKeyWords};return this.request(this.SEARCH_GEO_URL,this.extendParams(a,this.SEARCH_GEO_URL)).then(tx(this.SEARCH_GEO_URL)).then(rx).catch((0,Oy.No)("searchParkingsAround",a,this.REQUEST_ID))}searchFirmByRubric({page:e=1,rubrId:t,regionId:s,viewpoint:r,filters:i={},sortPoint:a,pageSize:n,locale:o,fields:c,withFilters:d=!1,cityId:l,accessToken:u,bestKeyword:p}){const g=c||`${this.featureDiscoveryKeywords?_x.getItemList:_x.getItemListNoKeyWords}${d?",filters,widgets":""}`,m=Object.assign(Object.assign(Object.assign(Object.assign({page:e,page_size:n||N.Cz,rubric_id:t,region_id:"0"!==s?s:void 0,sort_point:gx(a),fields:g,key:this.KEY,locale:o,search_device_type:this.searchDeviceType,search_user_hash:this.searchUserHash,location:gx(a),city_id:l},p&&{search_query_context:{best_keyword:p}}),ux(r)),px(r,i)),ox(i));return this.request(this.SEARCH_FIRM_URL,this.extendParams(m,this.SEARCH_FIRM_URL,u?{headers:{Authorization:`Bearer ${u}`}}:void 0)).then(tx(this.SEARCH_FIRM_URL)).then(rx).catch((0,Oy.No)("searchFirmByRubric",m,this.REQUEST_ID))}searchFirmByAttribute({page:e=1,attrId:t,regionId:s,viewpoint:r,filters:i={},sortPoint:a,pageSize:n,locale:o,fields:c,withFilters:d=!1,accessToken:l}){const u=c||`${this.featureDiscoveryKeywords?_x.getItemList:_x.getItemListNoKeyWords}${d?",filters,widgets":""}`,p=Object.assign(Object.assign(Object.assign({page:e,page_size:n||N.Cz,[`attr[${t}]`]:!0,region_id:"0"!==s?s:void 0,sort_point:gx(a),fields:u,key:this.KEY,locale:o,allow_deleted:!0,search_device_type:this.searchDeviceType,search_user_hash:this.searchUserHash,location:gx(a)},ux(r)),px(r,i)),ox(i));return this.request(this.SEARCH_FIRM_URL,this.extendParams(p,this.SEARCH_FIRM_URL,l?{headers:{Authorization:`Bearer ${l}`}}:void 0)).then(rx).then(ex(this.SEARCH_FIRM_URL)).catch((0,Oy.No)("searchFirmByAttribute",p,this.REQUEST_ID))}getRubric(e){const t={id:e.id,region_id:"0"!==e.regionId?e.regionId:void 0,locale:e.locale,key:this.KEY};return this.request(this.RUBRICATOR_GET_URL,this.extendParams(t,this.RUBRICATOR_GET_URL)).then(rx).catch((0,Oy.No)("getRubric",e,this.REQUEST_ID))}getDashboard(e){const t=e.viewpoint?ux(e.viewpoint):{},s=Object.assign(Object.assign({region_id:"0"!==e.regionId?e.regionId:void 0,locale:e.locale},t),{key:this.KEY});return this.request(this.RUBRICATOR_DASHBOARD_URL,this.extendParams(s,this.RUBRICATOR_DASHBOARD_URL)).then(rx).catch((0,Oy.No)("getDashboard",e,this.REQUEST_ID))}getRubricatorList(e){const t=Object.assign(Object.assign({parent_id:e.parentId,region_id:"0"!==e.regionId?e.regionId:void 0,locale:e.locale},ux(e.viewpoint)),{key:this.KEY});return this.request(this.RUBRICATOR_LIST_URL,this.extendParams(t,this.RUBRICATOR_LIST_URL)).then(rx).catch((0,Oy.No)("getRubricatorList",e,this.REQUEST_ID))}getRubricsTree(e){if("0"===e.regionId)return Promise.resolve([]);const t={key:this.KEY,region_id:"0"!==e.regionId?e.regionId:void 0,locale:e.locale,fields:"items.rubrics"};return this.request(this.RUBRICS_TREE_URL,this.extendParams(t,this.RUBRICS_TREE_URL)).then(rx).then((e=>{if(200!==e.code)throw new sx.F7("Rubrics tree not found",404);return e.items})).catch((0,Oy.No)("getRubricsTree",e,this.REQUEST_ID))}detectRegion(e){const t={key:this.KEY,locale:e.locale,limit:1,zoom_level:Math.min(e.zoomLevel,N.m8),k_area:.25,k_distance:.45,k_branches:.05,k_from_region:.25,min_percent_intersection_of_screen:5,distance_to_field:"board",geometry:e.geometry};return this.request(this.DETECT_REGION_URL,this.extendParams(t,this.DETECT_REGION_URL)).then(rx).catch((0,Oy.No)("detectRegion",e,this.REQUEST_ID))}getAdsAdviseGtaOnline(e){const t={key:this.KEY},s="0"!==e.regionId&&e.regionId?+e.regionId:void 0,r={withCredentials:this.sendPrivacyData,method:"post",data:Object.assign(Object.assign({},this.enableDebug()),{shv:this.appVersion,user_id:this.sendPrivacyData?this.userId:void 0,key:this.KEY,auth_user_id:e.authUserId,locale:e.locale,product_id:e.productId,viewport:e.viewport,query:e.query,region_id:s,user_location:e.userLocation,banner_slot:e.bannerSlot,query_context_rubrics:e.rubrics})};return this.request(this.ADS_ADVISE_GTA_ONLINE,this.extendParams(t,this.ADS_ADVISE_GTA_ONLINE,r)).then(rx).catch((0,Oy.No)("getAdsAdvise",e,this.REQUEST_ID))}getItemByEntrance({id:e,locale:t}){const s={id:e,key:this.KEY,locale:t,fields:_x.getItemByEntrance};return this.request(this.GET_ITEM_BY_ENTRACE_URL,this.extendParams(s,this.GET_ITEM_BY_ENTRACE_URL)).then(tx(this.GET_ITEM_BY_ENTRACE_URL)).then(rx).catch((0,Oy.No)("getItemByEntrance",s,this.REQUEST_ID))}getMetroStations({projectId:e}){const t={key:this.KEY,region_id:e,station_type:"metro",page_size:1e3,fields:"items.routes"};return this.request(this.METRO_STATIONS_URL,this.extendParams(t,this.METRO_STATIONS_URL)).then(rx).catch((0,Oy.No)("getMetroStations",t,this.REQUEST_ID))}enableDebug(){return this.debugMode?{debug:this.debugMode}:{}}extendParams(e,t,s){const r=Object.assign({withCredentials:this.sendPrivacyData},s),i=Object.assign(Object.assign(Object.assign({},e),this.enableDebug()),{"stat[sid]":this.sessionId,"stat[user]":this.sendPrivacyData?this.userId:void 0,shv:this.appVersion});return Object.assign({params:Object.assign(Object.assign({},i),{r:xx(t,i,this.a)})},r)}}var zx=s(48922),Ax=s(29019);const Fx=6e4;function Bx(e,t){return Object.assign(Object.assign({},(0,zx.G)(e,t)),function(e,t){const{photoApiKeyProfile:s,photoApiKey:r,photoApiUrl:i,requestId:a}=t;function n(e){return{"Auth-Version":"2.0","Auth-Token":e}}return{addPhoto({uid:t,objectId:o,objectType:c,albumCode:d,locale:l,regionId:u,accessToken:p,isReplaced:g,isMenuPhoto:m}){const h=new FormData;h.append("key","profile"===c?s:r),h.append("object_id",o),h.append("object_type",c),h.append("album_code",d),h.append("locale",l),h.append("region_id",u),h.append("items[0][uid]",t),m&&h.append("items[0][tag_code]","price_list_image"),g&&h.append("replace","true");const f=n(p);return e(`${i}2.0/photo/add`,{method:"post",headers:f,data:h}).then(Ax.tb).catch((0,Oy.No)("addPhotos",{objectId:o,objectType:c,albumCode:d},a))},deletePhoto({objectId:t,objectType:s,photoId:o,accessToken:c}){const d=new FormData;d.append("key",r),d.append("object_id",t),d.append("object_type",s),d.append("id",o);const l=`${i}2.0/photo/delete`,u=n(c);return e(l,{method:"post",headers:u,data:d}).then(Ax.Lg).catch((0,Oy.No)("deletePhoto",{objectId:t,objectType:s,photoId:o,accessToken:c},a))},uploadPhoto({id:t,hash:o,file:c,accessToken:d,objectType:l}){const u=new FormData;u.append("key","profile"===l?s:r),u.append("items[0][id]",t),u.append("items[0][hash]",o),u.append("items[0][file]",c,c.name),u.append("preview_size",zx.s);const p=n(d);return e(`${i}2.0/photo/upload`,{method:"post",headers:p,data:u,timeout:Fx}).then(Ax.dD).catch((0,Oy.No)("uploadPhoto",{id:t,hash:o,fileName:c.name,accessToken:d},a))}}}(e,t))}class Zx{constructor(e,t){this.request=e,this.URL=t.profileApiUrl,this.REQUEST_ID=t.requestId,this.userId=t.userId}clearSearchHistory({authId:e}={}){const t={ts:Date.now(),userId:e?this.userId:void 0},s=e?`${this.URL}/authuser/${e}/profile/history/clear`:`${this.URL}/user/${this.userId}/profile/history/clear`;return this.request(s,{withCredentials:!1,method:"post",params:t}).then((()=>({code:200}))).catch((0,Oy.No)("clearSearchHistory",t,this.REQUEST_ID))}}var Ux=s(24736);const Hx={branches:["meta.providers","meta.branch_rating","meta.branch_reviews_count","meta.total_count","reviews.hiding_reason","reviews.is_verified"].join(","),geo:["meta.providers","meta.geo_rating","meta.geo_reviews_count","meta.total_count","reviews.hiding_reason"].join(","),orgs:["meta.org_rating","meta.org_reviews_count","meta.total_count","reviews.object.address","reviews.hiding_reason","reviews.is_verified"].join(","),user:["reviews.object.address","reviews.object.logo","reviews.object.name","reviews.object.is_deleted","reviews.hiding_reason","reviews.is_verified"].join(","),create:["reviews.hiding_reason"].join(","),edit:["reviews.hiding_reason"].join(",")};class Dx{constructor(e,t){this.PAGE_SIZE=50,this.request=e,this.BASE_URL=t.reviewApiUrl,this.REQUEST_ID=t.requestId,this.KEY=t.reviewApiKey}getBranchReviews({id:e,offset:t,isAdvertiser:s=!1,withAnswer:r,ratings:i,unconfirmed:a,pageSize:n=this.PAGE_SIZE,accessToken:o,facts:c,newtworkTimeout:d,locale:l}){const u={limit:n,offset:t,ratings:i,is_advertiser:s,with_answer:r,fields:Hx.branches,without_my_first_review:!!o,rated:!a,facts:c,sort_by:"friends",key:this.KEY,locale:l};return this.request(`${this.BASE_URL}branches/${e}/reviews`,{params:u,headers:Object.assign({},o?{Authorization:`Bearer ${o}`}:void 0),withCredentials:!1,timeout:d}).then(Vx).catch((0,Oy.No)("getBranchReviews",u,this.REQUEST_ID))}getGeoReviews({id:e,offset:t,pageSize:s=this.PAGE_SIZE,ratings:r,accessToken:i,newtworkTimeout:a,locale:n}){const o={limit:s,offset:t,ratings:r,fields:Hx.geo,sort_by:"friends",without_my_first_review:!!i,key:this.KEY,locale:n};return this.request(`${this.BASE_URL}geo/${e}/reviews`,{params:o,headers:Object.assign({},i?{Authorization:`Bearer ${i}`}:void 0),withCredentials:!1,timeout:a}).then(Vx).catch((0,Oy.No)("getGeoReviews",o,this.REQUEST_ID))}getOrgReviews({id:e,offset:t,withAnswer:s,ratings:r,accessToken:i,unconfirmed:a,pageSize:n=this.PAGE_SIZE,facts:o,newtworkTimeout:c,locale:d}){const l={limit:n,offset:t,ratings:r,with_answer:s,fields:Hx.orgs,without_my_first_review:!!i,rated:!a,facts:o,sort_by:"friends",key:this.KEY,locale:d};return this.request(`${this.BASE_URL}orgs/${e}/reviews`,{params:l,headers:Object.assign({},i?{Authorization:`Bearer ${i}`}:void 0),withCredentials:!1,timeout:c}).then(Vx).catch((0,Oy.No)("getReviews",l,this.REQUEST_ID))}getUserReviews(e){const t={limit:this.PAGE_SIZE,locale:e.locale,fields:Hx.user,offset_date:e.offset,sort_by:"date_edited",key:this.KEY},s=`${this.BASE_URL}users/2gis/${e.userId}/reviews`;return this.request(s,{params:t,headers:{Authorization:`Bearer ${e.accessToken}`},withCredentials:!1}).then(Gx).catch((0,Oy.No)("getUserReviews",t,this.REQUEST_ID))}getUserReviewsByObject(e){const t=`${this.BASE_URL}users/2gis/${e.userId}/reviews/by-objects`;return this.request(t,{method:"get",params:{objects_ids:e.entityId,limit:1,fields:Hx.user,key:this.KEY,locale:e.locale},headers:{Authorization:`Bearer ${e.accessToken}`},withCredentials:!1}).then(Gx).catch((0,Oy.No)("getUserReviews",(0,Y.CE)(e,["accessToken"]),this.REQUEST_ID))}createReview(e){var t;const s=(0,Ux.O)();s.append("object_id",e.id),s.append("object_type",e.type),(null===(t=e.photos)||void 0===t?void 0:t.length)&&s.append("photo_ids",e.photos.join(",")),s.append("rating",e.rating.toString()),e.text.length>0&&s.append("text",e.text),s.append("fields",Hx.create),e.sourceId&&(s.append("source_type","sbol"),s.append("source_id",e.sourceId));const r=`${this.BASE_URL}reviews`;return this.request(r,{method:"post",params:{key:this.KEY,locale:e.locale},headers:{Authorization:`Bearer ${e.accessToken}`},data:s,withCredentials:!1}).then(Wx).catch((t=>{var s,r;const i=null===(s=null==t?void 0:t.details)||void 0===s?void 0:s.response;if(403===(null==i?void 0:i.status)&&"FORBIDDEN_YOU_HAVE_BUSINESS_ACCOUNT"===(null===(r=i.data)||void 0===r?void 0:r.error_code))throw{code:403,name:i.data.error_code,message:i.data.message,skipLog:!0};return(0,Oy.No)("createReview",e,this.REQUEST_ID)(t)}))}postReviewPhotos(e){const{accessToken:t,image:s}=e,r=`${this.BASE_URL}photos`,i=new FormData;return i.append("images[]",s),this.request(r,{method:"post",params:{key:this.KEY,locale:e.locale},headers:{Authorization:`Bearer ${t}`},data:i}).then((({data:e})=>e)).catch((0,Oy.No)("postReviewPhotos",e,this.REQUEST_ID))}editReview(e){var t;const s=(0,Ux.O)();s.append("rating",e.rating.toString()),e.text.length>0&&s.append("text",e.text),s.append("fields",Hx.edit),e.photos&&s.append("photos",e.photos.join(",")),(null===(t=e.new_photos)||void 0===t?void 0:t.length)&&s.append("new_photos",e.new_photos.join(","));const r=`${this.BASE_URL}reviews/${e.id}`;return this.request(r,{method:"patch",params:{key:this.KEY,locale:e.locale},headers:{Authorization:`Bearer ${e.accessToken}`},data:s,withCredentials:!1}).then(Wx).catch((0,Oy.No)("editReview",(0,Y.CE)(e,["accessToken"]),this.REQUEST_ID))}validateReview(e){const{text:t}=e,s=`${this.BASE_URL}reviews/validate`,r=new FormData;return r.append("text",t),this.request(s,{method:"post",params:{key:this.KEY,locale:e.locale},headers:{Accept:"application/json"},data:r}).then((({data:e})=>e)).catch((0,Oy.No)("validateReview",e,this.REQUEST_ID))}likeReview(e){const t=`${this.BASE_URL}reviews/${e.id}/likes`;return this.request(t,{method:"post",params:{key:this.KEY,locale:e.locale},headers:{Authorization:`Bearer ${e.accessToken}`},withCredentials:!1}).then((()=>({code:200}))).catch((0,Oy.No)("likeReview",(0,Y.CE)(e,["accessToken"]),this.REQUEST_ID))}unlikeReview(e){const t=`${this.BASE_URL}reviews/${e.id}/likes`;return this.request(t,{method:"delete",params:{key:this.KEY,locale:e.locale},headers:{Authorization:`Bearer ${e.accessToken}`},withCredentials:!1}).then((()=>({code:200}))).catch((0,Oy.No)("likeReview",(0,Y.CE)(e,["accessToken"]),this.REQUEST_ID))}getReviewComments({id:e,offset:t,limit:s,locale:r}){const i={limit:s,offset_date:t,key:this.KEY,locale:r};return this.request(`${this.BASE_URL}reviews/${e}/comments`,{params:i,withCredentials:!1}).then(qx).catch((0,Oy.No)("getReviewComments",i,this.REQUEST_ID))}deleteReview({id:e,accessToken:t,locale:s}){const r={id:e,key:this.KEY,locale:s},i=`${this.BASE_URL}reviews/${e}`;return this.request(i,{method:"delete",params:r,headers:{Authorization:`Bearer ${t}`},withCredentials:!1}).then((()=>({code:200}))).catch((0,Oy.No)("deleteReview",r,this.REQUEST_ID))}deleteComment({id:e,accessToken:t,locale:s}){const r={id:e,key:this.KEY,locale:s},i=`${this.BASE_URL}comments/${e}`;return this.request(i,{method:"delete",params:r,headers:{Authorization:`Bearer ${t}`},withCredentials:!1}).then((()=>({code:200}))).catch((0,Oy.No)("deleteComment",r,this.REQUEST_ID))}sendReviewComplaint(e){const t=(0,Ux.O)();t.append("id",e.id),t.append("text",e.text);const s=`${this.BASE_URL}reviews/${e.id}/complaints`;return this.request(s,{method:"post",params:{key:this.KEY,locale:e.locale},headers:{Authorization:`Bearer ${e.accessToken}`},data:t,withCredentials:!1}).then((()=>({code:200}))).catch((e=>{const t=e.details.response;if(t&&400===t.status&&"INVALID_PARAMETER_TEXT"===t.data.error_code)throw{name:"ComplaintError",message:"INVALID_PARAMETER_TEXT",code:400};throw e})).catch((0,Oy.No)("sendReviewComplaint",(0,Y.CE)(e,["accessToken"]),this.REQUEST_ID))}sendReviewCommentAnswer({id:e,text:t,accessToken:s,locale:r}){const i=`${this.BASE_URL}reviews/${e}/comments`,a={id:e,key:this.KEY,locale:r},n=(0,Ux.O)();return n.append("text",t),this.request(i,{method:"post",params:a,data:n,headers:{Authorization:`Bearer ${s}`},withCredentials:!1}).then((e=>({comment:e.data.comment,code:200}))).catch((e=>{const t=e.details.response;if(t&&400===t.status&&"INVALID_PARAMETER_TEXT"===t.data.error_code)throw{name:"ReviewCommentError",message:"INVALID_PARAMETER_TEXT",code:400};throw e})).catch((0,Oy.No)("sendReviewCommentAnswer",a,this.REQUEST_ID))}getFacts(e){const{id:t,type:s,isAdvertiser:r}=e,i=`${this.BASE_URL}objects/${s}/${t}/facts`,a={is_advertiser:r,key:this.KEY,locale:e.locale};return this.request(i,{params:a,withCredentials:!1}).then($x).catch((0,Oy.No)("getFacts",e,this.REQUEST_ID))}getRatings(e){const{id:t,forOrg:s}=e,r=s?`${this.BASE_URL}orgs/${t}/ratings`:`${this.BASE_URL}objects/${t}/ratings`,i={key:this.KEY};return this.request(r,{params:i,withCredentials:!1}).then((e=>({ratings:e.data.ratings,code:200}))).catch((0,Oy.No)("getRatings",e,this.REQUEST_ID))}getReviewSummary(e){const{id:t,locale:s}=e,r=`${this.BASE_URL}objects/${t}/summary`,i={locale:s,key:this.KEY};return this.request(r,{params:i}).then((e=>({text:e.data.text}))).catch((0,Oy.No)("getReviewSummary",e,this.REQUEST_ID))}}function $x({data:e}){return{code:e.meta.code,data:e.facts}}function Vx({data:e}){return{items:e.reviews?e.reviews:[],total:e.meta.branch_reviews_count||e.meta.org_reviews_count||e.meta.geo_reviews_count||0,rating:e.meta.branch_rating||e.meta.geo_rating||0,orgRating:e.meta.org_rating||0,totalForRequest:e.meta.total_count||0,hasMore:!!e.meta.next_link,code:200===e.meta.code?e.meta.code:(0,sx.og)(e.meta.code)}}function qx({data:e}){return{comments:e.comments,total:e.comments.length||0,code:200===e.meta.code?e.meta.code:(0,sx.og)(e.meta.code)}}function Gx({data:e}){const t=e.reviews?e.reviews:[];return{items:t,total:e.total_count||t.length,totalForRequest:e.total_count||t.length,code:200===e.meta.code?e.meta.code:(0,sx.og)(e.meta.code)}}function Wx({data:e}){if(!e.review)throw new Error("There is no review in create review response");return{items:[e.review],total:1,code:200}}function Qx({data:e}){return e.result&&e.result.items?{items:e.result.items,total:e.result.total_count||0,code:200}:{items:[],total:0,code:200}}function Kx(e,t){const{discountsApiUrl:s,requestId:r}=t;return{getDiscounts:({id:t})=>e(`${s}filials/${t}/discounts`).then(Qx).catch((0,Oy.No)("getDiscounts",{id:t},r))}}class Jx{constructor(e,t){this.request=e,this.URL=t.shortonizerUrl,this.REQUEST_ID=t.requestId}createShortLink(e){const t={mode:"json",encoded:!0,url:e};return this.request(this.URL,{params:t}).then(Yx).catch((0,Oy.No)("createShortLink",t,this.REQUEST_ID))}}function Yx(e){const{data:t,status:s,config:r}=e;return 200===s&&t&&t.shorturl||!r.params?t.shorturl:r.params.url}const Xx={name:"FeedbackError",message:"Длина поля message не должна превышать 10000 символов",code:400};class ej{constructor(e,t){this.request=e,this.FEEDBACK_URL=t.feedbackApiUrl,this.MEDIA_COMPLAIN_URL=`${t.photoApiUrl}2.0/feedback/add`,this.REQUEST_ID=t.requestId,this.photoApiKey=t.photoApiKey}sendFeedback(e){if(e.message.length>=1e4)return Promise.reject(Xx);const t=this.createFormDataFeedback(e);return this.request(this.FEEDBACK_URL,{method:"post",data:t,withCredentials:!1}).then(tj).catch((0,Oy.No)("sendFeedback",e,this.REQUEST_ID))}createFormDataFeedback(e){const t=(0,Ux.O)();if(t.append("special[product]",e.product),t.append("useJson","true"),t.append("special[city]",e.city),t.append("email",e.emailValue||""),t.append("message",e.message||""),t.append("type",e.errorType||""),t.append("sourceUrl",e.sourceUrl),t.append("screenWidth",e.screen.width.toString()),t.append("screenHeight",e.screen.height.toString()),t.append("user_id",e.userId),t.append("session_id",e.sessionId),e.accessToken&&t.append("authorizationToken",e.accessToken),e.routeName&&t.append("routeName",e.routeName),e.routeNumber&&t.append("routeNumber",e.routeNumber),e.filialId&&t.append("filialId",e.filialId),e.files&&e.files.forEach((e=>t.append("file[]",e,e.name))),e.place&&t.append("place",e.place),e.placeTitle&&t.append("placeTitle",e.placeTitle),e.mapType&&t.append("rawParams[mapType]",e.mapType),e.category&&t.append("rawParams[category]",e.category),e.hardwareInfo&&t.append("rawParams[hardwareInfo]",e.hardwareInfo),e.raw)for(const s in e.raw){const r=e.raw[s];r&&t.append(`rawParams[${s}]`,r)}return t.append("lang",e.lang),t}sendMediaComplaint(e){if(e.message.length>=1e4)return Promise.reject(Xx);const t=this.createFormDataMediaComplaint(e),s=new URLSearchParams({key:this.photoApiKey});return this.request(this.MEDIA_COMPLAIN_URL,{method:"post",data:t,withCredentials:!0,headers:Object.assign({},e.accessToken&&{Authorization:`Bearer ${e.accessToken}`}),params:s}).then(sj).catch((0,Oy.No)("sendFeedback",e,this.REQUEST_ID))}createFormDataMediaComplaint(e){const t=(0,Ux.O)();return t.append("email",e.emailValue||""),t.append("description",e.message||""),t.append("media_id",e.photoId),t}}function tj({data:e}){if("ok"!==e.result)throw{name:"FeedbackError",message:e.result,code:400};return{code:200}}function sj({data:e}){if(200!==e.meta.code)throw{name:"FeedbackError",message:e.result,code:400};return{code:200}}function rj(e){var t;const{data:s}=e;if("error"in s){const e=new Error(s.error);throw e.name=s.status,e}const{meta:r,result:i}=s;if([400,403,500].includes(r.code)){const e=r.error?`${r.error.message} (${r.code})`:`Unknown MarketAPI error (${r.code})`;if(500===r.code)throw new sx.F7(e,r.code);const s=new Error(e);throw s.name=(null===(t=r.error)||void 0===t?void 0:t.type)||s.name,s}return Object.assign(Object.assign({},i),{code:r.code,error:r.error})}function ij(e){const[t,s]=e;return{point1:`${t.lon},${t.lat}`,point2:`${s.lon},${s.lat}`}}function aj(e){const t={};return(0,Y.Ed)(e,((e,s)=>{e&&(t[s]=e)})),t}const nj=([e,t])=>({id:e,label:e,count:3,children:t?t.map(nj):[]}),oj=nj(["Товары",[["Автотовары",[["Шины",[]]]],["Лекарства",[["Лекарства",[]],["Витамины",[]],["БАД",[]],["Медицинские изделия",[]]]],["Строительные материалы",[["Брус",[]],["Доски",[]],["ДСП",[]],["МДФ",[]],["Фанера",[]],["Шпаклевка",[]],["Штукатурка",[]],["Кирпич",[]],["Гипсокартон",[]],["Межкомнатные двери",[]],["Входные двери",[]]]],["Отделочные материалы",[["Ламинат",[]],["Линолеум",[]],["Обои",[]],["Керамическая плитка",[]],["Керамогранит",[]],["Краски",[]],["Эмали",[]]]],["Сантехника",[["Ванны",[]],["Унитазы",[]],["Смесители",[]],["Душевые кабины",[]],["Раковины",[]]]],["Электроинструмент",[["Дрели",[]],["Перфораторы",[]],["УШМ (Болгарки)",[]],["Шуруповёрты",[]]]],["Крепёжные изделия",[["Гвозди",[]],["Саморезы",[]],["Болты",[]],["Дюбели",[]]]]]]),cj=["69","4","46","25","33","78","31","9","65","41","11","21","40","5","58","23","7","10","73","86","32","29","12","19","45","6","74","1","76","2","48","16","24","44","18","38","43","54","39","81","47","97","22","3","36","13","83","17","35","53","15","50","28"],dj={feature_config:"categories_without_fake_first_level,range_price_type_supported,from_price_type_supported"};class lj{constructor(e,t){this.request=e;const s=t.marketApiUrl;this.GET_SUGGESTIONS_URL=`${s}product/suggest`,this.SEARCH_PRODUCTS_URL=`${s}product/items`,this.SEARCH_PRODUCTS_BY_BRANCH_URL=`${s}product/items_by_branch`,this.GET_OFFERS_URL=`${s}offer/items`,this.GET_OFFERS_GROUPED_BY_ORG_URL=`${s}offer/items_by_org`,this.GET_PRODUCT_OFFER_WITH_ITEMS=`${s}offer/items_with_products`,this.GET_REALTY_URL=`${s}realty/items`,this.GET_REALTY_MARKERS=`${s}realty/markers`,this.GET_EXCHANGE_ITEMS=`${s}currency_exchange/items`,this.GET_EXCHANGE_MARKERS=`${s}currency_exchange/markers`,this.GET_EXCHANGE_ITEMS_BY_BRANCH=`${s}currency_exchange/items_by_branch`,this.SBER_MM_CC_CHECKOUT=`${s}partner/smm/cc/checkout`,this.GET_PRICE_LIST_IMAGES=`${s}price_list_images/items_by_branch`,this.GET_GEO_BY_ID_URL=`${t.marketGeoApiUrl}product/items_by_geo`,this.REQUEST_ID=t.requestId,this.CLIENT_ID=t.clientId}getProjectCategories({projectId:e}){return cj.includes(e)?Promise.resolve({code:200,categories:oj}):Promise.reject({code:404})}getSuggestions(e){const{query:t,branchId:s,viewpoint:r,locale:i}=e;return this.request(this.GET_SUGGESTIONS_URL,{params:Object.assign(Object.assign(Object.assign(Object.assign({},dj),{q:t,branch_id:s}),ij(r)),{locale:i,types:"category,org_product,raw_product"})}).then(rj).catch((0,Oy.No)("getSuggestions",e,this.REQUEST_ID))}searchProductsById(e){return this.searchProducts(e)}getBranchCategoriesAndProducts(e){return this.getProductsByBranch(e)}searchBranchProducts(e){return this.getProductsByBranch(Object.assign(Object.assign({},e),{page:e.page||1}))}getOffers(e){const{productId:t,buildingId:s,viewpoint:r,locale:i,page:a=1,filters:n={}}=e;return this.request(this.GET_OFFERS_URL,{params:Object.assign(Object.assign(Object.assign(Object.assign({product_id:t,building_id:s},ij(r)),{locale:i,page:a,page_size:N.Kt}),aj(n)),dj)}).then(rj).catch((0,Oy.No)("getOffers",e,this.REQUEST_ID))}getOffersGroupedByOrg(e){const{productId:t,buildingId:s,viewpoint:r,locale:i,page:a=1,filters:n={}}=e;return this.request(this.GET_OFFERS_GROUPED_BY_ORG_URL,{params:Object.assign(Object.assign(Object.assign(Object.assign({product_id:t,building_id:s},ij(r)),{locale:i,page:a,page_size:N.Kt}),aj(n)),dj)}).then(rj).catch((0,Oy.No)("getOffersGroupedByOrg",e,this.REQUEST_ID))}getRealtyItem(e){const{id:t,locale:s}=e,r={platform_code:this.CLIENT_ID,locale:s,id:t};return this.request(`${this.GET_REALTY_URL}/${t}`,{params:r}).then(rj).catch((0,Oy.No)("getRealtyItem",r,this.REQUEST_ID))}getRealtyMarkers(e){const{category_ids:t,viewpoint:s,locale:r,geo_id:i,filters:a}=e,n=Object.assign(Object.assign(Object.assign({platform_code:this.CLIENT_ID,category_ids:t},ij(s)),{locale:r,geo_id:i}),aj(a||{}));return this.request(this.GET_REALTY_MARKERS,{params:n}).then(rj).catch((0,Oy.No)("getRealtyMarkers",n,this.REQUEST_ID))}getRealtyItems(e){const{category_ids:t,viewpoint:s,page:r=1,locale:i,filters:a,pageSize:n,geometry:o,geo_id:c,sort:d,platformCode:l}=e,u=Object.assign(Object.assign(Object.assign({platform_code:l||this.CLIENT_ID,category_ids:t},ij(s)),{page:r,locale:i,page_size:n||N.N6,geometry:o,geo_id:c,sort:d}),aj(a||{}));return this.request(this.GET_REALTY_URL,{params:u}).then(rj).catch((0,Oy.No)("getRealtyItems",u,this.REQUEST_ID))}getRealtyForEntityTab(e){const{geoId:t,locale:s,page:r}=e,i=Object.assign({geo_id:t,locale:s,page:r,page_size:N.N6},this.CLIENT_ID?{product_id:this.CLIENT_ID}:void 0);return this.request(this.GET_GEO_BY_ID_URL,{params:i}).then(rj).catch((0,Oy.No)("getRealtyForEntityTab",e,this.REQUEST_ID))}getProductOfferWithItems(e){const{branchId:t,productIds:s,locale:r}=e,i={branch_id:t,product_ids:s.slice(0,50).join(","),locale:r};return this.request(this.GET_PRODUCT_OFFER_WITH_ITEMS,{params:i}).then(rj).catch((0,Oy.No)("getProductOfferWithItems",e,this.REQUEST_ID))}getExchangeItems(e){const t=Object.assign({locale:e.locale,currency:e.currency,volume:e.volume,action:e.action,page:e.page,page_size:e.page_size},ij(e.viewpoint));return this.request(this.GET_EXCHANGE_ITEMS,{params:t}).then(rj).catch((0,Oy.No)("getExchangeItems",e,this.REQUEST_ID))}getExchangeMarkers(e){const t=Object.assign({locale:e.locale,currency:e.currency,volume:e.volume,action:e.action},ij(e.viewpoint));return this.request(this.GET_EXCHANGE_MARKERS,{params:t}).then(rj).catch((0,Oy.No)("getExchangeMarkers",e,this.REQUEST_ID))}getExchangeByBranch(e){const t={locale:e.locale,branch_id:e.branch_id};return this.request(this.GET_EXCHANGE_ITEMS_BY_BRANCH,{params:t}).then(rj).catch((0,Oy.No)("getExchangeByBranch",e,this.REQUEST_ID))}sberMMCheckout(e){const t=e.payload;return this.request(this.SBER_MM_CC_CHECKOUT,{data:t,method:"post",params:{locale:e.locale}}).then((e=>e.data)).catch((e=>{var t,s;const r=null===(s=null===(t=null==e?void 0:e.details)||void 0===t?void 0:t.response)||void 0===s?void 0:s.data;if(r)return r;throw e})).catch((0,Oy.No)("sberMMCheckout",e,this.REQUEST_ID))}getPriceListImages(e){return this.request(this.GET_PRICE_LIST_IMAGES,{params:{locale:e.locale,branch_id:e.branchId}}).then(rj).then((e=>e[0])).catch((0,Oy.No)("getPriceListImages",e,this.REQUEST_ID))}searchProducts(e){const{query:t,productId:s,buildingId:r,viewpoint:i,locale:a,page:n=1,filters:o={},category_ids:c,page_size:d}=e;return this.request(this.SEARCH_PRODUCTS_URL,{params:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({q:t,product_id:s,building_id:r},ij(i)),{locale:a,page:n,page_size:d||N.LF}),c?{category_ids:c}:{}),aj(o)),dj)}).then(rj).catch((0,Oy.No)("searchProducts",e,this.REQUEST_ID))}getProductsByBranch(e){const{query:t,branchId:s,locale:r,page:i,filters:a={}}=e,n=Object.assign(Object.assign({q:t,branch_id:s,locale:r,page:i,page_size:N.Kt},aj(a)),dj);return this.request(this.SEARCH_PRODUCTS_BY_BRANCH_URL,{params:n}).then(rj).catch((0,Oy.No)("searchProducts",e,this.REQUEST_ID))}}function uj(e){return Object.keys(e).reduce(((t,s)=>e[s]?[...t,`${s}=${e[s]}`]:t),[]).join("&")}const pj=(e,t)=>({getUserInfo:({accessToken:s,refreshToken:r})=>e(`${t.authUrl}users/me`,{method:"get",params:{access_token:s}}).then((e=>({data:e.data,access_token:s,refresh_token:r}))).catch((0,Oy.No)("getUserInfo",{},t.requestId)),deleteProfile(s){const{accessToken:r,locale:i="ru_RU"}=s;return e(`${t.authUrl}users/me`,{method:"delete",params:{access_token:r,locale:i}}).then((()=>Promise.resolve())).catch((0,Oy.No)("deleteProfile",{},t.requestId))},confirmRegistration:s=>e(`${t.authUrl}users/me/confirmation`,{method:"post",data:uj({grant_type:"email"}),params:{access_token:s.accessToken}}).then((()=>Promise.resolve())).catch((0,Oy.No)("confirmRegistration",{},t.requestId)),fetchOauthToken:s=>e(`${t.authUrl}oauth/token`,{method:"post",data:uj(s)}).then((e=>e.data)).catch((0,Oy.No)("fetchOauthToken",{grant_type:s.grant_type},t.requestId)),revokeToken:s=>e(`${t.authUrl}oauth/revoke`,{method:"post",data:uj({access_token:s.access_token,refresh_token:s.refresh_token})}).catch((0,Oy.No)("revokeToken",{},t.requestId)),getPhoneConfirmationCode:s=>e(`${t.authUrl}confirmation/sms-code`,{method:"post",params:{locale:s.locale||"ru_RU",client_id:s.authClientId,access_token:s.accessToken},data:uj({action:s.action,phone:encodeURIComponent(s.phone),segment_id:s.segmentId})}).then((e=>e.data)).catch((e=>(0,sx.A1)("confirmationCode",t.requestId,e))),confirmPhone:s=>e(`${t.authUrl}users/me/phone`,{method:"put",params:{locale:s.locale||"ru_RU",client_id:s.authClientId,access_token:s.accessToken},data:uj({phone:encodeURIComponent(s.phone),confirmation_code:s.confirmationCode})}).then((e=>e.data)).catch((e=>(0,sx.A1)("confirmPhone",t.requestId,e))),updateUserInfo:s=>e(`${t.authUrl}users/me`,{method:"patch",params:{locale:s.locale||"ru_RU",client_id:s.authClientId,access_token:s.accessToken},data:uj(s.userInfo)}).then((e=>e.data)).catch((0,Oy.No)("updateUserInfo",{userInfo:s.userInfo},t.requestId)),updateEmail:s=>e(`${t.authUrl}users/me/email`,{method:"put",params:{locale:s.locale||"ru_RU",client_id:s.authClientId,access_token:s.accessToken},data:uj({new_email:s.email})}).then((e=>e.data)).catch((0,Oy.No)("updateEmail",s,t.requestId)),confirmEmail:s=>e(`${t.authUrl}users/me/confirmation`,{method:"post",params:{locale:s.locale||"ru_RU",access_token:s.accessToken},data:uj({grant_type:"email"})}).then((e=>e.data)).catch((0,Oy.No)("updateEmail",s,t.requestId))});class gj{constructor(e,t){this.request=e,this.videoServiceVersion=t.videoServiceVersion,this.REQUEST_ID=t.requestId}getVideoData(e){return this.request(`${e}/${this.videoServiceVersion}`,{withCredentials:!1}).then((e=>{if(null!==e.data&&"object"==typeof e.data)return e.data;throw new Error("response is not json data")})).catch((0,Oy.No)("getVideoData",{url:e},this.REQUEST_ID))}}function mj(e){return`{ ${Object.keys(e).reduce(((t,s)=>{const r=e[s];switch(typeof r){case"object":{const e=r;return r?Array.isArray(e)?`${t} ${s}: [ ${e.map(mj).join(", ")} ]`:`${t} ${s}: ${mj(e)}`:t}case"string":return`${t} ${s}: "${r.replace(/"/g,"'")}"`;case"number":return`${t} ${s}: ${r}`;case"boolean":return`${t} ${s}: ${r}`;default:return t}}),"").trim()} }`}class hj{constructor(e,t){this.request=e,this.domain=t.aggregatorUrl+"/normalized",this.config=t}updateProfile(e){const{first_name:t,middle_name:s,last_name:r,accessToken:i,locale:a,requestId:n,avatarUrl:o,public_identity_accepted:c}=e,d=function(e){return`updateUser {\n    updateMeInfo(partialUser: ${mj({first_name:e.first_name,middle_name:e.middle_name,last_name:e.last_name,avatar_url:e.avatarUrl,public_identity_accepted:e.public_identity_accepted})}) {\n      id\n      display_name\n      ${e.first_name?"first_name":""}\n      ${e.middle_name?"middle_name":""}\n      ${e.last_name?"last_name":""}\n      ${e.avatarUrl?"avatar_url":""}\n      ${void 0!==e.public_identity_accepted?"public_identity_accepted":""}\n    }\n  }`}({first_name:t,middle_name:s,last_name:r,public_identity_accepted:c,avatarUrl:o}),l={accessToken:i,locale:a},u=`mutation ${d}`;return this.submitGraphQLRequest({params:l,query:u,requestId:n}).then((t=>t.data.data.updateMeInfo.entities.users[e.userId])).catch((0,Oy.No)("updateProfile",e,n))}updateEmail(e){return this.request(`${this.config.authUrl}users/me/email`,{method:"put",params:{locale:e.locale,client_id:e.clientId,access_token:e.accessToken},data:uj({new_email:e.email})}).then((t=>{if(t.data.code&&200!==t.data.code&&204!==t.data.code)throw t.data;return{id:e.userId,new_email:e.email}})).catch((0,Oy.No)("updateEmail",e,this.config.requestId))}deleteProfile(e){const{accessToken:t,locale:s,requestId:r}=e,i={accessToken:t,locale:s};return this.submitGraphQLRequest({params:i,query:"mutation {\n    deleteMe\n  }",requestId:r}).then((e=>({isDeleted:e.data.data.deleteMe}))).catch((0,Oy.No)("deleteProfile",e,r))}submitGraphQLRequest({params:e,query:t}){const s={session_token:e.accessToken,locale:e.locale};return this.request(this.domain,{method:"post",data:t,params:s,headers:{"content-type":"application/graphql","Auth-Version":"2.0",Accept:"*/*"}})}}function fj(...e){if(window.gtag){const[t,s,r,i,a]=e,n=Object.assign(Object.assign(Object.assign({category:t},r&&{label:r}),i&&{value:i}),a&&{fieldsObject:a});window.gtag("event",s,n)}}function vj(e){window.gtag&&window.gtag("event","ChangeProject",{project_id:e})}function bj(){window.gtag&&window.gtag("consent","update",{analytics_storage:"granted",ad_storage:"granted"})}let yj="";function xj(){return{trackGoogleEvent:fj,changeGoogleProjectId:vj,setGoogleConsentGranted:bj,trackPageview:()=>{var e;window.gtag&&window.gtag("event","page_view",{page_path:window.location.pathname+window.location.search,page_location:window.location.origin+window.location.pathname+window.location.search,page_title:document.title}),window.ym_default&&window.ym_default("hit",window.location.origin+window.location.pathname+window.location.search,{title:document.title}),Hi(),(null===(e=window.fbqImageTrack)||void 0===e?void 0:e.isImgMethod)&&((new Image).src=`https://www.facebook.com/tr?id=${window.fbqImageTrack.counterId}&ev=PageView&hash=${Math.random()}`),function(){function e(){window.tnsCounter2gis_ru.hit(void 0,window.location.href,(yj||document.referrer).replace(/\*/g,"%2a")),yj=window.location.origin+window.location.pathname}(window.tnsCounter2gis_ru||window.tnscounter_callback)&&(window.tnsCounter2gis_ru?e():window.tnscounter_callback.push(e))}()}}}class jj{constructor(e,t){this.request=e,this.REQUEST_ID=t.requestId,this.FEEDBACK_URL=`${t.dataFeedbackApiUrl}feedback`,this.FEEDBACKS_PER_PAGE=t.feedbacksPerPage}sendFeedback(e){const{feedback:t,userToken:s}=e,r={data:this.createData(t),method:"post",withCredentials:!0,headers:Object.assign({},s&&{Authorization:`Bearer ${s}`}),timeout:0};return this.request(this.FEEDBACK_URL,r).then(this.formatApiResponse).catch((0,Oy.No)("typedFeedback",{url:this.FEEDBACK_URL,data:r},this.REQUEST_ID))}getUserFeedbacks(e){const t={Authorization:`Bearer ${e.accessToken}`};return this.request(this.FEEDBACK_URL,{method:"get",headers:t,params:{locale:e.locale,offset:e.offset,limit:this.FEEDBACKS_PER_PAGE}}).then((e=>({items:e.data.items}))).catch((0,Oy.No)("getUserFeedbacks",{url:this.FEEDBACK_URL,data:{offset:e.offset,locale:e.locale}},this.REQUEST_ID))}getUserFeedbacksCount(e){const t={Authorization:`Bearer ${e.accessToken}`};return this.request(`${this.FEEDBACK_URL}/count`,{method:"get",headers:t}).then((e=>({total:e.data.total}))).catch((0,Oy.No)("getUserFeedbacksCount",{url:this.FEEDBACK_URL},this.REQUEST_ID))}createData(e){const t=(0,Ux.O)(),{user:s,attachments:r}=e,i=(0,Me._T)(e,["user","attachments"]);return r&&r.forEach((e=>{t.append("attachments[]",e,e.name)})),t.append("feedback",JSON.stringify(Object.assign(Object.assign({},i),{user:s}))),t}formatApiResponse({data:e}){if(!e.feedback_id)throw{name:"DataFeedbackError",message:e.message,code:400};return{code:200,message:e.message,feedbackId:e.feedback_id}}}const wj=15e3;function _j(e,t){const{favoritesApiUrl:s,requestId:r}=t,i=()=>({timestamp:String(Date.now())});return{syncPublicFavorites({filter:t}){const a=Object.assign(Object.assign({},i()),{payload:{favorites:{filter:t}}});return e(`${s}public/sync`,{method:"post",data:a,headers:{"Content-Type":"application/json"},timeout:wj}).then((e=>e.data.favorites)).catch((0,Oy.No)("syncPublicFavorites",a,r))},syncPersonalFavorites({last_sync:t,objects:a,access_token:n}){const o=`${s}personal/collections/sync`,c=Object.assign(Object.assign({},i()),{access_token:n,payload:{personal_favorites:{last_sync:t,objects:a}}});return e(o,{method:"post",data:c,headers:{"Content-Type":"application/json"},timeout:wj}).then((e=>e.data.personal_favorites)).catch((0,Oy.No)("syncPersonalFavorites",c,r))},syncPlaces({last_sync:t,objects:a,access_token:n}){const o=`${s}personal/places/sync`,c=Object.assign(Object.assign({},i()),{access_token:n,payload:{places:{last_sync:t,objects:a}}});return e(o,{method:"post",data:c,headers:{"Content-Type":"application/json"},timeout:wj}).then((e=>e.data.places)).catch((0,Oy.No)("syncPlaces",c,r))}}}let Cj={sync:{lastSync:"0",lastSyncAttr:{project_id:{}}},objects:{},changes:{}};const Ij={sync:{lastSync:"0",lastSyncAttr:{project_id:{}}},objects:{},changes:{}};function kj(){let e=Ij,t=Ij;return{getPublic:()=>Promise.resolve(Cj),setPublic:e=>(Cj=e,Promise.resolve()),getPersonal:()=>Promise.resolve(e),setPersonal:t=>(e=t,Promise.resolve()),getPlaces:()=>Promise.resolve(t),setPlaces:e=>(t=e,Promise.resolve()),clearPersonal:()=>(e=Ij,Promise.resolve()),clearPlaces:()=>(t=Ij,Promise.resolve())}}function Oj({data:e}){return{items:"object"==typeof e?e:[],total:"object"==typeof e?e.length:0,code:200}}function Sj({data:e}){return{items:"object"==typeof e&&e.transport||[],total:"object"==typeof e&&e.transport&&e.transport.length||0,code:200}}function Nj({data:e}){return{items:"object"==typeof e?e.result:[],total:"object"==typeof e?e.result.length:0,code:200}}const Mj=60;function Tj(e){switch(e.split("_")[0]){case"ar":return"ar";case"en":return"en";case"es":return"es";case"it":return"it";case"cs":return"cs";case"uz":return"uz";case"kk":return"kk";case"hy":return"hy";case"ka":return"ka";default:return"ru"}}var Pj=s(1827);function Ej(e){return Ip.uR.includes(e)}function Lj(e){const t=function(e={}){const t=e[Ip.pA];return t?(0,Pj.X)(t).filter(Ej):[]}(e);return t.length?t:Ip.uR}function Rj(e,t){const[s,r]=e;return{topLeft:{x:s.lon,y:s.lat},bottomRight:{x:r.lon,y:r.lat},zoom:t}}function zj(e){return e.map(((t,s)=>({type:0===s||s===e.length-1?"pedo":"pref",x:t.lonLat.lon,y:t.lonLat.lat,object_id:t.entityId})))}const Aj=["dangerous_cargo","explosive_cargo"],Fj=["max_perm_mass","mass","axle_load","height","width","length"],Bj=e=>Aj.includes(e),Zj=e=>Fj.includes(e);function Uj(e,t){const{ppnotApiUrl:s,ppnotTypesApiUrl:r,ppnaApiUrl:i,pedestrianApiUrl:a,ppngApiUrl:n,requestId:o,webApiKey:c}=t,d="baf4c54e9dae";return{ppnot({projectCode:t,locale:r,points:i,viewpoint:a,zoom:n,filterValues:l}){const u=`${s}/${t}`,p=i[0],g=i[i.length-1],m={locale:Tj(r),enable_schedule:!0,source:{point:p.lonLat,object_id:p.entityId,name:"Source"},target:{point:g.lonLat,object_id:g.entityId,name:"Target"},transport:Lj(l),purpose:"routeSearch",viewport:Rj(a,n),start_time:Math.ceil(Date.now()/1e3),need_immersion:!0},h={key:c};return e(u,{method:"post",params:Object.assign(Object.assign({},h),{r:xx(u,h,d,JSON.stringify(m))}),data:m}).then(Oj).catch((e=>(e.response&&404!==e.response.status&&(0,Oy.No)("directionsApi.pedestrian",{projectCode:t,data:m},o),{items:[],total:0,code:200})))},ppnotTypes({projectCode:t}){const s=`${r}/filters/${t}`,i={},a={key:c};return e(s,{method:"post",params:Object.assign(Object.assign({},a),{r:xx(s,a,d,JSON.stringify(i))}),data:i}).then(Sj).catch((0,Oy.No)("directionsApi.ppnotTypes",{projectCode:t},o))},ppna({locale:t,points:s,viewpoint:r,zoom:a}){const n=`${i}/global`,l={locale:Tj(t),point_a_name:"Source",point_b_name:"Target",points:zj(s),purpose:"autoSearch",type:"online5",viewport:Rj(r,a),need_immersion:!0},u={key:c};return e(n,{method:"post",params:Object.assign(Object.assign({},u),{r:xx(n,u,d,JSON.stringify(l))}),data:l}).then(Nj).catch((0,Oy.No)("directionsApi.ppna",{data:l},o))},pedestrian({projectCode:t,locale:s,points:r,viewpoint:i,zoom:n}){const l=`${a}/${t}`,u={locale:Tj(s),point_a_name:"Source",point_b_name:"Target",points:zj(r),type:"pedestrian",purpose:"autoSearch",viewport:Rj(i,n)},p={key:c};return e(l,{method:"post",params:Object.assign(Object.assign({},p),{r:xx(l,p,d,JSON.stringify(u))}),data:u}).then(Nj).catch((0,Oy.No)("directionsApi.pedestrian",{projectCode:t,data:u},o))},ppng({locale:t,points:s,viewpoint:r,zoom:i,filterValues:a}){const l=`${n}/global`,u=function(e){if(!e)return;const t={};return(0,Y.Ed)(e,((e,s)=>{if((0,Y.$K)(e))if(Bj(s))t[s]="true"===e;else if(Zj(s)){const r=parseFloat(e);Number.isNaN(r)||(t[s]=r)}})),Object.keys(t).length>0?t:void 0}(a),p=Object.assign(Object.assign({locale:Tj(t),point_a_name:"Source",point_b_name:"Target",points:zj(s),purpose:"autoSearch",type:"truck_jam",alternative:0,viewport:Rj(r,i)},u&&{truck_params:u}),{need_immersion:!0}),g={key:c};return e(l,{method:"post",params:Object.assign(Object.assign({},g),{r:xx(l,g,d,JSON.stringify(p))}),data:p}).then(Nj).catch((0,Oy.No)("directionsApi.ppng",{data:p},o))},searchPlatformsSchedule({project:t,platforms:s,route:i,timezoneOffset:a}){const n=`${r}/search_schedule`,l={key:c},u=Math.ceil(Date.now()/1e3),p=s.map((e=>e.length)),g={requests:s.flat().map((e=>({type:"full_day_platform",project:t,request:{departure_time:u,platforms:[e],routes:[i]}})))};return e(n,{method:"post",params:Object.assign(Object.assign({},l),{r:xx(n,l,d,JSON.stringify(g))}),data:g}).then((e=>function(e,t,s){const r=Math.floor(Date.now()/1e3);return t.reduce(((i,a,n)=>{const o=0===n?0:t[n-1],c=o+a;return[...i,e.data.responses.slice(o,c).map((({schedules:e})=>{const t=e.some((({schedule:e})=>"precise"===e.type&&e.forecast));return e.filter((({schedule:e})=>t?"precise"===e.type&&e.forecast:"precise"===e.type)).map((({schedule:e})=>t||"precise"!==e.type?Math.ceil((e.start_time-r)/Mj-s):e.precise_time))}))]}),[])}(e,p,a))).catch((0,Oy.No)("directionsApi.searchPlatformsSchedule",{data:g},o))},searchDirectionsInterval({project:t,directions:s,timezoneOffset:i}){const a=`${r}/search_schedule`,n={key:c},l=Math.ceil(Date.now()/1e3),u={requests:s.map((e=>({type:"interval_trip",project:t,request:{departure_time:l,direction_id:e}})))};return e(a,{method:"post",params:Object.assign(Object.assign({},n),{r:xx(a,n,d,JSON.stringify(u))}),data:u}).then((e=>function(e,t){const s=e=>Math.ceil(1e3*e-6e4*t);return e.data.responses.map((e=>{if(!e.work_hours)return e;const t=s(e.work_hours.start_time),r=s(e.work_hours.finish_time);return Object.assign(Object.assign({},e),{work_hours:{start_time:t,finish_time:r}})}))}(e,i))).catch((0,Oy.No)("directionsApi.searchDirectionsInterval",{data:u},o))}}}function Hj(e,t){return{trafficScore(s){const r=(0,Y.dL)(t.trafficApiUrl,{s:Math.floor(10*Math.random()).toString(10),regionCode:s.regionCode});return e(r,{headers:{Accept:"text/plain"}}).then((e=>{const t=e.data.match(/^'(\d{1,2}),?([+-])?'$/);return t&&void 0!==t[1]?+t[1]:0}))}}}function Dj(e,t){return{getUserAchievements(s){const{locale:r,accessToken:i}=s,a=`${t.achievesApiUrl}achieves`;return e(a,{params:{locale:r,fields:"meta.contest_progress_weeks"},headers:{Accept:"application/json",Authorization:`Bearer ${i}`}}).then((({data:e})=>e))}}}function $j(e,t){return{getUserContestStatus(s){const{locale:r,contestId:i,accessToken:a}=s,n=`${t.contestApiUrl}contests/${i}`;return e(n,{params:{locale:r,accessToken:a},headers:{Accept:"application/json",Authorization:`Bearer ${a}`}}).then((({data:e})=>e)).catch((0,Oy.No)("getUserContestStatus",s,t.requestId))},joinUser(s){const{locale:r,contestId:i,accessToken:a}=s,n=`${t.contestApiUrl}contests/${i}/join`;return e(n,{method:"post",params:{locale:r,access_token:a},headers:{Accept:"application/json",Authorization:`Bearer ${a}`}}).then((({data:e})=>e)).catch((0,Oy.No)("joinUser",s,t.requestId))}}}function Vj({data:e}){return e?{items:e,code:200}:{items:[],code:200}}function qj(e){return 202===e.status?{code:200}:{code:500}}function Gj(e,t){const{pusherApiUrl:s,requestId:r}=t;return{fetchDevices:({authToken:t})=>e(`${s}devices`,{method:"get",headers:{"auth-token":t}}).then(Vj).catch((0,Oy.No)("fetchDevices",{authToken:t},r)),messageMe(t){const i=`${s}messages/me`,{authToken:a,deviceId:n,title:o,body:c,url:d}=t;return e(i,{method:"post",headers:{"auth-token":a},data:{app_instance_ids:[n],data:{title:o,body:c,url:d}}}).then(qj).catch((0,Oy.No)("messageMe",t,r))}}}function Wj(e){return e&&e.data&&e.data.length?{items:e.data,total:e.data.length,code:200}:{items:[],total:0,code:200}}const Qj='["camera","crash","roadwork","restriction","comment","other"]';function Kj(e,t){const{tugcApiUrl:s,requestId:r}=t;return{getUserLayers({regionCode:t}){const i={project:t,layers:Qj};return e(`${s}layers/user`,{params:i}).then(Wj).catch((0,Oy.No)("getLayers",i,r))},get2GisLayers({regionCode:t}){const i={project:t,layers:Qj};return e(`${s}layers/2gis`,{params:i}).then(Wj).catch((0,Oy.No)("getLayers",i,r))},getPhotos({eventId:t}){const i={id:t};return e(`${s}event/photo`,{params:i}).then(Wj).catch((0,Oy.No)("getLayers",i,r))}}}function Jj(e,t){const{paymentsApiUrl:s,requestId:r,userId:i}=t,a="online";return{checkoutOrder(n){const{idempotencyKey:o,entityId:c,orgId:d,user:l,cart:u,comment:p,accessToken:g,locale:m}=n;return e(`${s}payments/api/1.0/checkout`,{method:"post",data:{orgId:d,branchId:c,user:l,cart:u,comment:p},headers:Yj({accessToken:g,platform:a,commitIsoDate:t.commitIsoDate,bssUserId:i,idempotencyKey:o,locale:m}),withCredentials:!1}).then((e=>({code:200,total:1,items:[e.data]}))).catch((0,Oy.No)("checkoutOrder",n,r))},checkoutDelivery(n){const{idempotencyKey:o,entityId:c,orgId:d,user:l,cart:u,delivery:p,payment:g,comment:m,accessToken:h,locale:f}=n;return e(`${s}payments/api/2.0/checkout`,{method:"post",data:{orgId:d,branchId:c,user:l,cart:u,delivery:p,payment:g,comment:m},headers:Yj({accessToken:h,platform:a,commitIsoDate:t.commitIsoDate,bssUserId:i,idempotencyKey:o,locale:f}),withCredentials:!0}).then((e=>e.data)).catch((0,Oy.No)("checkoutDelivery",n,r))},getOrders(r){const{accessToken:n,locale:o}=r;return e(`${s}payments/api/2.0/orders`,{params:{limit:999},headers:Yj({accessToken:n,platform:a,commitIsoDate:t.commitIsoDate,bssUserId:i,idempotencyKey:void 0,locale:o})}).then((e=>e.data)).catch((0,Oy.No)("getOrders",r,t.requestId))},cancelOrder(r){const{accessToken:n,locale:o,orderId:c}=r;return e(`${s}payments/api/2.0/orders/${c}/cancel`,{method:"post",headers:Yj({accessToken:n,platform:a,commitIsoDate:t.commitIsoDate,bssUserId:i,idempotencyKey:void 0,locale:o})}).then((e=>e.data)).catch((0,Oy.No)("cancelOrder",r,t.requestId))},getDeliveryCalculation(r){const{orgId:n,branchId:o,cart:c,delivery:d,locale:l}=r;return e(`${s}payments/api/2.0/calculate`,{method:"post",headers:Yj({accessToken:void 0,platform:a,commitIsoDate:t.commitIsoDate,bssUserId:i,idempotencyKey:void 0,locale:l}),data:{orgId:n,branchId:o,cart:c,delivery:d}}).then((e=>e.data)).catch((e=>{var t,s,r;if("delivery_not_available_at_point"===(null===(r=null===(s=null===(t=null==e?void 0:e.details)||void 0===t?void 0:t.response)||void 0===s?void 0:s.data)||void 0===r?void 0:r.code))throw{name:"DeliveryNotAvailableError",message:e.details.response.data.message};throw e})).catch((0,Oy.No)("getDeliveryCalculation",r,t.requestId))},getOrdersShort(r){const{accessToken:i,locale:n,type:o}=r;return e(`${s}payments/api/2.0/orders/short`,{params:{type:o},headers:Yj({accessToken:i,platform:a,commitIsoDate:t.commitIsoDate,bssUserId:t.userId,idempotencyKey:void 0,locale:n})}).then((e=>e.data)).catch((0,Oy.No)("getOrdersShort",r,t.requestId))}}}function Yj(e){const{idempotencyKey:t,accessToken:s,platform:r,commitIsoDate:i,bssUserId:a,locale:n}=e;return Object.assign(Object.assign(Object.assign({},t?{"X-Idempotency-Key":t}:void 0),s?{Authorization:`Bearer ${s}`}:void 0),{"X-Device-Platform":"undefined"!=typeof window&&(navigator.standalone||matchMedia&&matchMedia("(display-mode: standalone)").matches)?"pwa":r,"X-App-Version":(0,Tx.n)(i),"X-Bss-User-Id":a,"X-Locale":n||""})}function Xj(e,t){return{getData(s){const[r,i]=s.viewport;return e(`${t.etaApiUrl}/points/viewport`,{method:"post",data:{viewport:{topLeft:{x:r.lon,y:r.lat},bottomRight:{x:i.lon,y:i.lat},zoom:s.zoom},type:"online5",immersive:!0}})},getCurrentDirectionsData(s){const{directions:r}=s;return e(`${t.etaApiUrl}/points/directions`,{method:"post",data:{directions:r,type:"online5",immersive:!0}})},getHasBusInViewport(s){const[r,i]=s.viewport;return e(`${t.etaApiUrl}/points/has_bus_in_viewport`,{method:"post",data:{viewport:{topLeft:{x:r.lon,y:r.lat},bottomRight:{x:i.lon,y:i.lat},zoom:s.zoom},type:"online5"}})}}}function ew(e,t){return{getUserFriendsActivityByObjects(s){const{accessToken:r,objectsIds:i,maxFriendsPerObject:a}=s,n=`${t.userActivityApiUrl}activities/by-friends`;return e(n,{params:{max_friends_per_object:a||5,objects_ids:i.join(","),fields:"activities.friends.user,activities.friends.types,activities.friends.items,activities.total_friends"},headers:{Accept:"application/json",Authorization:`Bearer ${r}`}}).then((({data:e})=>e)).catch((0,Oy.No)("getUserFriendsActivityByObjects",s,t.requestId))},getUserActivity(s){const{accessToken:r}=s,i=`${t.userActivityApiUrl}activities/counters`;return e(i,{headers:{Accept:"application/json",Authorization:`Bearer ${r}`}}).then((({data:e})=>e)).catch((0,Oy.No)("getUserActivity",s,t.requestId))}}}function tw(e,t){return{getTaxaProviders(s){const{regionId:r}=s,i=`${t.taxaApiUrl}providers`;return e(i,{params:{region_id:r,screen:"card"},headers:{Accept:"application/json"}}).then((({data:e})=>e)).catch((0,Oy.No)("getTaxaProviders",s,t.requestId))},searchTaxi(s){const{point1:r,point2:i,regionId:a}=s,n=`${t.taxaApiUrl}route/calculate`;return e(n,{method:"post",headers:{Accept:"application/json"},data:{point1:r,point2:i,region_id:a,screen:"card"}}).then((({data:e})=>e)).catch((0,Oy.No)("searchTaxi",s,t.requestId))}}}function sw(e,t){return{getWalkDistanceData(s){const{regionId:r}=s;return e(`https://disk.2gis.com/transport-reach/${r}.json`).then((({data:e})=>e)).catch((0,Oy.No)("getWalkDistanceData",s,t.requestId))},getRoadAccidentData(s){const{localityId:r}=s;return e(`https://disk.2gis.com/layers/dtp-stat/${r}.json`).then((({data:e})=>e)).catch((0,Oy.No)("getRoadAccidentData",s,t.requestId))}}}function rw(e,t){return{getSeoPollSearcher(s){const{geoId:r,adults:i,checkin:a,checkout:n}=s,o=`${t.otelloFluidsearchSeoUrl}/poll-searcher`;return e(o,{method:"POST",data:{geo_id:r,adult_count:i,checkin_date:a,checkout_date:n}}).then((({data:e})=>e)).catch((0,Oy.No)("getSeoPollSearcher",s,t.requestId))},getSeoPollSearcherProperties(s){const{sessionId:r,point:i,radius:a,sort:n,limit:o,page:c}=s,d=`${t.otelloFluidsearchSeoUrl}/poll-searcher/${r}/properties`;return e(d,{params:{by_radius:`${i.lon},${i.lat},${a}`,sort:n,limit:o,page:c}}).then((({data:e})=>e)).catch((0,Oy.No)("getSeoPollSearcherProperties",s,t.requestId))}}}const iw="baf4c54e9dae";function aw(e,t){return{getData({start:s,durations:r,start_time:i,mode:a}){const n={simplify:!0,reverse:!1,start:s,durations:r,start_time:i,mode:a},o={key:t.webApiKey};return e(t.isochronesApiUrl,{method:"post",params:Object.assign(Object.assign({},o),{r:xx(t.isochronesApiUrl,o,iw,JSON.stringify(n))}),data:n}).then((e=>e.data)).catch((0,Oy.No)("getData",o,t.requestId))}}}function nw(e,t){return{getCongestion(s){const{id:r}=s,i=`${t.congestionApiUrl}congestion`;return e(i,{params:{branch_id:r}}).then((({data:e})=>e)).catch((0,Oy.No)("getCongestion",s,t.requestId))}}}function ow(e,t){return{getUserChronologyPlaces(s){const{accessToken:r}=s,i=`${t.chronologyPlacesApiUrl}myplaces/authuser`,a={token:r,limit:N.BZ};return e(i,{params:a,headers:{Authorization:`Bearer ${r}`}}).then((({data:e})=>Object.assign(Object.assign({},e),{limit:a.limit}))).catch((0,Oy.No)("getUserChronologyPlaces",s,t.requestId))},getUserChronologyPlacesByObjects(s){const{accessToken:r,ids:i}=s,a=`${t.chronologyPlacesApiUrl}myplaces/authuser/objects`,n={token:r,ids:i.join(","),limit:N.BZ};return e(a,{params:n,headers:{Authorization:`Bearer ${r}`}}).then((({data:e})=>Object.assign(Object.assign({},e),{limit:n.limit}))).catch((0,Oy.No)("getUserChronologyPlacesByObjects",s,t.requestId))},approveChronologyPlace(s){const{accessToken:r,objectId:i}=s,a=`${t.checkinApiUrl}checkins`,n={object_id:i,source:"chronology",product_id:"34"};return e(a,{method:"post",data:`object_id=${i}&source=chronology&product_id=34`,headers:{Authorization:`Bearer ${r}`}}).then((({data:e})=>e)).catch((0,Oy.No)("approveChronologyPlace",n,t.requestId))},declineChronologyPlace(s){const{objectId:r,accessToken:i}=s,a=`${t.chronologyPlacesApiUrl}myplaces/authuser/${r}/decline`,n={token:i};return e(a,{method:"post",params:n,headers:{Authorization:`Bearer ${i}`}}).then((({data:e})=>e)).catch((0,Oy.No)("addChronologyPlace",n,t.requestId))}}}function cw(e,t){return{getCounters(s){const r=`${t.socialGraphApiUrl}social-graph/friends/counters`;return e(r,{headers:{Authorization:`Bearer ${s.accessToken}`}}).then((({data:e})=>e)).catch((0,Oy.No)("getCounters",s,t.requestId))},getFriends(s){const{accessToken:r,limit:i=20,next_page_token:a,source:n,without_friends:o,offset:c}=s,d=`${t.socialGraphApiUrl}social-graph/friends`,l={limit:i,next_page_token:a,source:n,without_friends:o,offset:c};return e(d,{params:l,headers:{Authorization:`Bearer ${r}`}}).then((({data:e})=>e)).catch((0,Oy.No)("getFriends",l,t.requestId))},getRecommendedFriends(s){const{accessToken:r,limit:i=20,next_page_token:a}=s,n=`${t.socialGraphApiUrl}social-graph/friends/all`,o={limit:i,next_page_token:a};return e(n,{params:o,headers:{Authorization:`Bearer ${r}`}}).then((({data:e})=>e)).catch((0,Oy.No)("getRecommendedFriends",o,t.requestId))},getSubscribers(s){const{accessToken:r,limit:i=20,next_page_token:a}=s,n=`${t.socialGraphApiUrl}social-graph/friends/subscribers`,o={limit:i,next_page_token:a};return e(n,{params:o,headers:{Authorization:`Bearer ${r}`}}).then((({data:e})=>e)).catch((0,Oy.No)("getSubscribers",o,t.requestId))},getSubscriptions(s){const{accessToken:r,limit:i=20,next_page_token:a}=s,n=`${t.socialGraphApiUrl}social-graph/friends/subscriptions`,o={limit:i,next_page_token:a};return e(n,{params:o,headers:{Authorization:`Bearer ${r}`}}).then((({data:e})=>e)).catch((0,Oy.No)("getSubscriptions",o,t.requestId))},subscribe(s){const{accessToken:r,user_ids:i}=s,a=`${t.socialGraphApiUrl}social-graph/friends`;return e(a,{method:"post",headers:{Authorization:`Bearer ${r}`},data:{user_ids:i}}).catch((0,Oy.No)("subscribeToFriends",{user_ids:i},t.requestId))},subscribeOnUser(s){const r=`${t.socialGraphApiUrl}social-graph/friend/${s.userId}`;return e(r,{method:"post",headers:{Authorization:`Bearer ${s.accessToken}`}}).catch((0,Oy.No)("subscribeToUser",{userId:s.userId},t.requestId))},subscribeToAll(s){const{accessToken:r,excludedUserIds:i,source:a}=s,n=`${t.socialGraphApiUrl}social-graph/friends/all`;return e(n,{method:"post",params:{source:a},headers:{Authorization:`Bearer ${r}`},data:{user_ids:i}}).catch((0,Oy.No)("subscribeToAllFriends",{user_ids:i,source:a},t.requestId))},unsubscribe(s){const{accessToken:r,user_ids:i}=s,a=`${t.socialGraphApiUrl}social-graph/friends`,n={user_ids:i.join(",")};return e(a,{method:"delete",params:n,headers:{Authorization:`Bearer ${r}`}}).catch((0,Oy.No)("unsubscribe",n,t.requestId))},getUserFriendshipCounter(s){const{accessToken:r}=s,i={headers:{Authorization:`Bearer ${r}`}},a=`${t.socialGraphApiUrl}social-graph/users/friendship/counter`;return e(a,i).then((({data:e})=>e)).catch((0,Oy.No)("getUserFriendsOnMap",s,t.requestId))},getUser(s){const{accessToken:r,id:i}=s,a={headers:{Authorization:`Bearer ${r}`}},n=`${t.socialGraphApiUrl}social-graph/users/${i}`;return e(n,a).then((({data:e})=>e)).catch((0,Oy.No)("getUser",s,t.requestId))},getFriendsList(s){const{accessToken:r,limit:i=20,next_page_token:a}=s,n=`${t.socialGraphApiUrl}social-graph/users/friendship/list`,o={limit:i,next_page_token:a};return e(n,{params:o,headers:{Authorization:`Bearer ${r}`}}).then((({data:e})=>e)).catch((0,Oy.No)("getFriendsList",o,t.requestId))}}}function dw(e,t){return{getGtaAdvise(s){const r=t.webApiKey,{regionId:i,authUserId:a,locale:n,viewport:o,query:c,userLocation:d,bannerSlot:l,object:u,objectId:p,queryContextRubrics:g}=s,m=`${t.casinoV3Url}advise/gta`,h=u||(p?{id:p}:void 0),f="0"!==i&&i?+i:void 0,v={withCredentials:!t.featureReadOnly,method:"post",data:{shv:(0,Tx.n)(t.commitIsoDate),userId:t.featureReadOnly?void 0:t.userId,key:r,authUserId:a,locale:n,productId:+t.clientId,viewport:o,query:c,projectId:f,userLocation:d,bannerSlot:l,object:h,queryContextRubrics:g},params:{key:r}};return e(m,v).then((({data:e})=>e.stories?Object.assign(Object.assign({},e),{stories:Object.assign(Object.assign({},e.stories),{objects:e.stories.objects.map((e=>Object.assign(Object.assign({},e),{content:Object.assign(Object.assign({},e.content),{slides:e.content.slides.map((e=>Object.assign(Object.assign({},e),{source:"firm"})))}),source:"firm"})))})}):e)).catch((0,Oy.No)("getAdsAdvise",s,t.requestId))}}}function lw({data:e}){return e.result?Object.assign(Object.assign({},e.result),{code:200}):(t=e.meta.code,{result:"code",code:(0,sx.og)(t)});var t}function uw(e,t){const{webApiKey:s,storyComplaintApiUrl:r,requestId:i}=t;return{sendStoryComplaint({segmentId:t,storyId:a,categoryCode:n,comment:o,userEmail:c,accessToken:d}){const l={segment_id:t,story_id:a,category_code:n,comment:o,source:{platform:"online"},user:{email:c}},u=function(e){return Object.assign(Object.assign({},e?{"Auth-Version":"2.0","Auth-Token":e}:void 0),{"Content-Type":"application/json","x-api-key":s})}(d);return e(`${r}v1/stories/complaints`,{method:"post",headers:u,data:l}).then(lw).catch((0,Oy.No)("sendStoryComplaint",{segmentId:t,storyId:a,categoryCode:n,comment:o,userEmail:c},i))}}}function pw(e,t){return{getItem(s){const r=`${t.infoStoryUrl}1.0/stories/${s.id}`,i={method:"get",params:{locale:"ru",utcOffset:s.utcOffset,region:s.region,platform:"online_2gis",version:"1.0.0"}};return e(r,i).then((({data:e})=>Object.assign(Object.assign({},e),{source:"info",slides:e.slides.map((e=>Object.assign(Object.assign({},e),{source:"info"})))}))).catch((0,Oy.No)("InfoStoriesApi.getItem",s,t.requestId))}}}var gw=s(5264);const mw=s(55340).v.join(",");function hw(e,t){const{requestId:s,locale:r,photosPerPage:i,photoApiUrl:a,photoApiKey:n,featureDiscoveryKeywords:o}=t;return{getMediaItemsByAlbums({objectId:t,albumId:c,accessToken:d,page_token:l,searchCtx:u,searchKeyword:p}){const g=new URLSearchParams(Object.assign(Object.assign(Object.assign({key:n,page_size:i.toString(),locale:r,preview_size:mw},l&&{page_token:l}),u&&{search_ctx:u}),p&&o?{search_keyword:p}:{}));return e(`${a}3.0/objects/${t}/albums/${c}/media`,{params:g,headers:Object.assign({},d?{"Auth-Version":"2.0","Auth-Token":d}:void 0)}).then((e=>{if(e.data.error)throw new Error(e.data.error.message);return e.data})).catch((0,Oy.No)("getMediaItemsByAlbums",g,s))},getMediaItemsLight({objectIds:t,size:r=N.lO,searchCtx:i,searchKeywords:c}){if(t.length>25)throw new Error("getMediaItemsLight: objectIds.length must be less than 26");const d=new URLSearchParams(Object.assign(Object.assign({key:n,object_ids:t.join(","),preview_size:mw,size:r.toString()},i&&{search_ctx:i}),c&&o?{search_keywords:c}:{}));return e(`${a}3.0/media/light`,{params:d}).then((e=>{if(e.data.error)throw new Error(e.data.error.message);return e.data})).catch((0,Oy.No)("getMediaItemsLight",d,s))},getMediaItemsByIds(t){const i=`${a}3.0/media/by-id`,o=new URLSearchParams({key:n,id:t.join(","),preview_size:mw,locale:r});return e(i,{params:o}).then((e=>{if(e.data.error)throw new Error(e.data.error.message);return e.data})).catch((0,Oy.No)("getMediaItemsByIds",o,s))},getMediaUserItems({page:t,accessToken:o}){const c={key:n,preview_size:mw,page:t,size:i,locale:r,access_token:o};return e(`${a}3.0/users/me/media`,{params:c}).then((e=>{var t;if(e.data.error&&404!==(null===(t=e.data.meta)||void 0===t?void 0:t.code))throw new Error(e.data.error.message);return e.data})).catch((0,Oy.No)("getMedtaUserItems",c,s))}}}function fw(e,t){return{subscribeSession(s){const r={method:"POST",headers:Object.assign(Object.assign({},s.token?{token:s.token}:{}),{"x-2gis-app-instance-id":s.userId})},i=`${t.sharingGeoUrl}/${s.sessionId}/subscriptions`;return e(i,r).then((({data:e})=>({id:e.sharer.profile.userId,isFriend:e.sharer.isFriend}))).catch((0,Oy.No)("subscribeSession",s,t.requestId))}}}var vw=s(81746);(0,vw.dN)("SharingGeoApi",fw);function bw(e){return{lat:e.lat>90?90:e.lat<-90?-90:e.lat,lon:e.lon>180?180:e.lon<-180?-180:e.lon}}function yw(e,t){return{getActivitiesMarkers({publicUserId:s,viewpoint:r,distances:i,zindex:a,accessToken:n}){const o=`${t.hybridApiUrl}/activities/v1/users/${s}/markers`,c=function(e){if(2!==e.length)throw new Error("Invalid viewpoint");const t=bw(e[0]),s=bw(e[1]);return[t.lat,t.lon,t.lat,s.lon,s.lat,s.lon,s.lat,t.lon].join(",")}(r),d={key:t.hybridApiKey,clip:c,"search-nearby":"true",locales:t.locale,jurisdiction:t.defaultCountryCode,zindex:a,distances:i.join(","),"catalog-fields":"type,subtype,subtype_name,name,name_ex,address,access,purpose"};return e(o,Object.assign({method:"get",params:d},n?{headers:{Authorization:`Bearer ${n}`}}:{})).then((e=>function(e,t){const s=t["content-type"].split("boundary=")[1];return e.split(`--${s}`).map((e=>{const[t,s]=e.split("\r\n\r\n");return{headers:t.split("\r\n").reduce(((e,t)=>{const[s,r]=t.split(": ");return Object.assign(Object.assign({},e),{[s]:r})}),{}),body:null==s?void 0:s.replace(/\r\n$/,"")}})).filter((e=>e.body))}(e.data.toString(),e.headers))).then(xw).catch((0,Oy.No)("getActivitiesMarkers",d,t.requestId))}}}const xw=e=>{if(e.length<2)throw new Error("Invalid response");const[t,s]=e.slice(0,2).map((e=>JSON.parse(e.body)));return t.result.markers.map(((e,t)=>{const r=s.result.activities[t];if(r)return Object.assign(Object.assign({},e),{activity:r})})).filter(Boolean)};function jw(e,t){return{getRouteById:s=>e(t.sharingRouteUrl,{method:"POST",data:s}).then((({data:e})=>{const t=(0,Y.by)(),s=e.result.points.length-1,r=e.result.edges.map((({geometry:e,color:t,immersive_height_begin:s,immersive_height_end:r})=>Object.assign({type:t||"no-traffic",geometry:e.wkt},(s||r)&&{immersive_line:[{position:0,height:s},{position:1,height:r}]})));return{activeRouteId:t,points:e.result.points.map((({lat:e,lon:t},r)=>({position:[t,e],icon:Dh({position:r,isFinishPoint:r===s,isStartPoint:0===r})}))),routes:[{id:t,sections:r}]}})).catch((0,Oy.No)("SharingRouteApi.getRouteById",s,t.requestId))}}(0,vw.dN)("SharingRouteApi",jw);function ww(e){const{getToken:t}=e;return{getToken(){return(0,Me.mG)(this,void 0,void 0,(function*(){try{const e=yield t();return e&&"string"==typeof e?e:void 0}catch(e){return}}))}}}const _w=6048e5;function Cw({request:e,config:t}){const s=(s,r,i)=>{if(t.userAgent.includes("Chrome")||!t.userAgent.includes("Safari"))return;const{expires:a,domain:n,secure:o}=i||{},c=a&&function(e){return"number"==typeof e?1e3*e*60*60*24:e.getTime()-Date.now()}(a);if(!c||c<_w)return;const d=[{name:s,value:r,maxAge:c,domain:n,secure:o}];return e("/_/cookie",{method:"post",data:d}).catch((0,Oy.No)("setHttpCookie",d,t.requestId)).catch((()=>{}))};return{set(e,t,r){return(0,Me.mG)(this,void 0,void 0,(function*(){r?jy.set(e,t,r):jy.set(e,t),yield s(e,t,r)}))},get(e){const t=jy.get(e);if(t)return-1===Ip.zO.indexOf(t)?t:void 0},delete:(e,t)=>jy.remove(e,t),setStrict(e,t){return(0,Me.mG)(this,void 0,void 0,(function*(){yield(0,Oo.J)(e,t,s)}))},getStrict:$.z}}var Iw=s(82066);const kw={queries:{refetchOnWindowFocus:!1,refetchOnReconnect:!1,refetchOnMount:!1,keepPreviousData:!0,retry:!1,retryOnMount:!1}};var Ow=s(43889);const Sw=window.__customcfg;if((0,i.a)(Sw.staticPath),window.location.href.includes("__emulate_fatal_error_3__"))throw new Error("Emulated fatal error #3");try{const e=function(e){const{featureReadOnly:t,isMobileDevice:s}=e;if(t)return;return function(e){const{locale:t,country:s}=e,r=(0,ky.hG)({networkTimeout:1e4,enableProxy:!1,analyticsBssEnableTestHandles:!1,featureReadOnly:!1},{GDPRAllowedServiceHosts:[]}),i={};return{on:(e,t)=>{i[e]=t},off:e=>{i[e]=void 0},ui:()=>(0,Me.mG)(this,void 0,void 0,(function*(){var e,a;try{const{data:a}=yield r("/_/auth/sign_in",{method:"post",params:{redirect_url_after_sign_in:encodeURIComponent(window.location.href),country:s,locale:t}});null===(e=i.login)||void 0===e||e.call(i,a)}catch(e){(0,Oy.No)("/_/auth/sign_in",{},void 0),null===(a=i.login)||void 0===a||a.call(i,{status:"error",code:500})}})),actualize:()=>(0,Me.mG)(this,void 0,void 0,(function*(){var e,t;try{const{data:t}=yield r("/_/auth/refresh",{method:"post"});null===(e=i.actualize)||void 0===e||e.call(i,t)}catch(e){(0,Oy.No)("/_/auth/refresh",{},void 0),null===(t=i.actualize)||void 0===t||t.call(i,{status:"error",code:500})}})),token:()=>Promise.resolve(wy().get(N.I_)),logout:()=>(0,Me.mG)(this,void 0,void 0,(function*(){var e,t;try{yield r("/_/auth/logout",{method:"post"}),null===(e=i.logout)||void 0===e||e.call(i,{status:"success",code:200})}catch(e){null===(t=i.logout)||void 0===t||t.call(i,{status:"error",code:500}),(0,Oy.No)("/_/auth/logout",{},void 0)}}))}}({isMobileDevice:s,locale:(0,uy.$)(e.lang,e.defaultCountryCode),country:e.isMiddleEast?"urbi"===e.brandCode?"ae_urbi":"ae":e.defaultCountryCode.toLowerCase()})}(Sw);window.addEventListener("error",(e=>{const{message:t,source:s,error:r}=e;(0,J.H)({message:t,level:"warn",id:"ghmyb",payload:{type:"windowerror",source:s,stack:r.stack}})})),window.addEventListener("unhandledrejection",(e=>{const{reason:t}=e;(0,J.H)({message:"string"==typeof t?t:t&&t.message,level:"warn",id:"ieey0",payload:{type:"unhandledrejection",stack:t&&t.stack}})})),window.onload=()=>{setTimeout((()=>{const e=Qy();e&&(0,J.UB)({message:"Client performance",level:"info",id:"9bin6",payload:e})}),0)},(0,lt.Qv)(window.__classNames);const t=function(e){const t=new ay.TranslationController(((t,s)=>{(0,ny.o)(t,e.supportedLangs).then((e=>{s(t,e)})).catch((()=>{(0,J.H)({message:`Fetch lang ${t} error`,level:"warn",id:"bu6p7",payload:{type:"network",subtype:"FetchLang"}}),s("ru",cy.Z)}))}),(e=>{(0,J.H)({message:"Error plural substitution",level:"warn",id:"2tfd5",payload:{type:"debug",subtype:"ErrorPluralSubstitution",data:e}})}),oy.C_);return new iy.o(t)}(Sw);window.isServerRendered=!0,Tw=window.location.hash,Fy=Tw||"";const i=function(e){const{config:t,sideEffects:s}=e,r=Object.assign({},(0,Oy.fp)(t.requestId)),i=(0,ky.hG)(t,{headers:r,GDPRAllowedServiceHosts:[t.webApi3Url,t.webApiUrl,t.ppnotApiUrl,t.ppnotTypesApiUrl,t.ppnaApiUrl,t.ppngApiUrl,t.pedestrianApiUrl,t.isochronesApiUrl]}),a=new Yy;return function({overwrittenServices:e,request:t,config:s}){return Object.assign({analyticsApi:xj(),achievesApi:Dj(t,s),contestApi:$j(t,s),webApi:new Rx(t,s),photoApi:Bx(t,s),mediaApi:hw(t,s),storyComplaintApi:uw(t,s),aggregatorApi:new hj(t,s),reviewsApi:new Dx(t,s),discountsApi:Kx(t,s),shortonizerApi:new Jx(t,s),profileApi:new Zx(t,s),videoApi:new gj(t,s),marketApi:new lj(t,s),authApi:pj(t,s),feedbackApi:new ej(t,s),dataFeedbackApi:new jj(t,s),favoritesApi:_j(t,s),favoritesStorage:kj(),directionsApi:Uj(t,s),trafficApi:Hj(t,s),pusherApi:Gj(t,s),tUgcApi:Kj(t,s),paymentsApi:Jj(t,s),etaApi:Xj(t,s),userActivityApi:ew(t,s),taxaApi:tw(t,s),diskApi:sw(t,s),otelloApi:rw(t,s),isochronesApi:aw(t,s),congestionApi:nw(t,s),chronologyPlacesApi:ow(t,s),socialGraphApi:cw(t,s),casinoApi:dw(t,s),infoStoriesApi:pw(t,s),publicProfileApi:(0,gw.Uu)(t,s),sharingGeoApi:fw(t,s),hybridApi:yw(t,s),sharingRouteApi:jw(t,s)},e)}({overwrittenServices:{windowApi:w(),cookieApi:Cw({request:i,config:t}),feedbackStorageApi:a,seoStoreApi:void 0,credentialsApi:ww({getToken:s.getToken})},request:i,config:t})}({config:Sw,sideEffects:{getToken:e?e.token:()=>Promise.resolve(void 0)}}),o=(0,kf.createModelContext)({services:i,config:Sw}),l=new Iw.QueryClient({defaultOptions:kw});(0,og.hr)(),Mw={reportUrl:Sw.clickstreamUrl,deviceIdUrl:Sw.clickstreamDeviceIdUrl,apiKey:Sw.clickstreamApiKey,userId:Sw.userId,countryCode:Sw.defaultCountryCode},"undefined"!=typeof window&&"RU"===Mw.countryCode&&Mw.reportUrl&&window.clickstream&&(window.clickstream.setConfig({reportUrl:Mw.reportUrl,deviceIdUrl:Mw.deviceIdUrl,bufferSize:1,credentials:!1}),window.clickstream.setMeta({apiKey:Mw.apiKey}),window.clickstream.setProfile({hashUserLoginId:Mw.userId}),Hi()),Promise.all([function(e,t,s,r){const i=Object.assign(Object.assign({},window.initialState),{config:t}),a=(0,n.l)({extraReducers:nt(t),enhancers:[],initialState:i,config:t,uiMiddlewares:[c(e),(0,_.n)(t,X),x(w(),t),e=>t=>s=>{switch(s.type){case"MAP/SET_VIEW":{const t=e.getState().session.is3dEnabled?"3d":"2d";(0,d.ay)(t).then((e=>e.setView(s.payload)));break}case"MAP/GENERALIZE_MARKERS":{const t=e.getState().session.is3dEnabled?"3d":"2d";(0,d.ay)(t).then((e=>e.generalizeMarkers()));break}}return t(s)},(0,dt.qg)(r,{config:t,services:s})],mwWithServices:[(0,ot.d)(O.BJ,t)],asyncExtraPayload:ct,apiServices:s});return Promise.resolve(a.dispatch(Q())).then((()=>a))}(t,Sw,i,l),function(e){const t=window.preloadedComponentsList;if(!t||!t.length)return Promise.all([]);const s=t.map((t=>{const s=e[t];return s&&s.asyncImport?s.asyncImport():Promise.resolve()}));return Promise.all(s).catch((e=>{}))}(vt.H),t.setLocale({lang:Sw.lang,countryCode:Sw.defaultCountryCode}).catch((()=>{})),(0,og.O0)(),(Nw=Sw.mapdbgmd,Nw?Promise.all([s.e(4736),s.e(4135)]).then(s.bind(s,77311)).then((({enable:e})=>{e()})):Promise.resolve())]).then((([s])=>{var n;n=s.dispatch,window.addEventListener("resize",(0,Y.Ds)((()=>{n((0,T.Kn)({type:"window:resize",event:void 0}))}),300)),window.addEventListener("popstate",(e=>{e.state&&n((0,T.Kn)({type:"window:popstate",event:e}))})),window.addEventListener("message",(e=>n((0,T.Kn)({type:"window:message",event:e})))),window.addEventListener("keydown",(e=>{if(!(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)){if(e.target instanceof Element){const t=e.target.localName;if(["input","textarea"].includes(t))return}switch(e.keyCode){case un.Hs:n((0,T.Kn)({type:"common:arrowLeftKeyDown",event:void 0}));break;case un.ro:n((0,T.Kn)({type:"common:arrowRightKeyDown",event:void 0}));break;case un.P9:n((0,T.Kn)({type:"common:arrowDownKeyDown",event:void 0}));break;case un.HI:n((0,T.Kn)({type:"common:arrowUpKeyDown",event:void 0}));break;case un.Fx:n((0,T.Kn)({type:"common:spaceKeyDown",event:void 0}))}}})),window.addEventListener("keyup",(e=>{e.ctrlKey||e.shiftKey||e.altKey||e.metaKey||e.keyCode!==un.O_||n((0,T.Kn)({type:"common:escapeKeyUp",event:void 0}))})),(e=>{const{platform:t,dispatch:s}=e;"android"===t&&("getInstalledRelatedApps"in navigator?navigator.getInstalledRelatedApps().then((e=>{var t;const r=!!(null===(t=e.find((e=>"ru.dublgis.dgismobile"===e.id||"ru.dublgis.dgismobile4preview"===e.id||"ru.dublgis.urbi"===e.id)))||void 0===t?void 0:t.id);s((0,ns.nc)(["NativeAppInfo",r?"Installed":"NotInstalled"]))})):s((0,ns.nc)(["NativeAppInfo","NoApi"])))})({dispatch:s.dispatch,platform:s.getState().session.platform}),(0,Ye.J)(Sw.isDxEnabled),(0,a.hydrate)((0,r.jsx)(Ky.C,Object.assign({i18n:t,config:Sw,store:s,modelContext:o,services:i,queryClient:l},{children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Iw.Hydrate,Object.assign({state:window.__REACT_QUERY_STATE__},{children:(0,r.jsx)(ry,{})})),(0,r.jsx)(Bl,{})]})})),document.querySelector("#root"),(()=>Wy(s,e,Sw)))})).catch((e=>{var t,s,r,i;Sw.isSearchBot||(0,J.H)({id:"egvnj",level:"fatal",message:e&&e.message,payload:{subtype:"ClientInitFailed",type:"exception",data:(null===(t=null==e?void 0:e.message)||void 0===t?void 0:t.includes("Minified React error #200"))?null===(r=null===(s=document.querySelector("div"))||void 0===s?void 0:s.outerHTML)||void 0===r?void 0:r.slice(0,100):null===(i=null==e?void 0:e.toString)||void 0===i?void 0:i.call(e),stack:null==e?void 0:e.stack}})}))}catch(Ur){(0,J.H)({message:"client entry error",level:"fatal",id:"h34h5",payload:{type:"exception",subtype:"ClientEntryError",stack:(0,Ow.d)(Ur)}})}var Nw,Mw,Tw},19631:(e,t,s)=>{"use strict";s.d(t,{U:()=>r});var r,i=s(56521);!function(e){e[e.Default=i.k]="Default",e[e.Map=i.k+1]="Map",e[e.Frame=i.k+2]="Frame",e[e.FrameElement=i.k+3]="FrameElement",e[e.Popup=i.k+4]="Popup",e[e.PopupElement=i.k+5]="PopupElement",e[e.Confirm=i.k+6]="Confirm"}(r||(r={}))},52138:(e,t,s)=>{"use strict";s.d(t,{V:()=>N});var r=s(26287),i=s(64693),a=s(3585),n=s(56659),o=s(65120),c=s(52261),d=s(31830),l=s(69742);function u(e,t,s){return t?Object.assign(Object.assign({},s),{[e]:t}):s}var p=s(56707),g=s(97825),m=s(62455),h=s(34015),f=s(70021),v=s(86649),b=s(34897);var y=s(60786),x=s(42313),j=s(11447),w=s(64929),_=s(70647);var C=s(21466),I=s(66263),k=s(27695);const O=(0,y.P1)([e=>e.appContext.weak.isLangRepresentedInOriginalRequest,e=>e.appContext.weak.showSlugsNeededOnlyForStartup,e=>e.appContext.weak.isMapViewRepresentedInOriginalRequest,e=>e.appContext.weak.mapInteractionStarted,e=>e.appContext.weak.emailVerificationStatus,e=>e.appContext.weak.reviewRating],((e,t,s,r,i,a)=>({isLangRepresentedInOriginalRequest:e,showSlugsNeededOnlyForStartup:t,isMapViewRepresentedInOriginalRequest:s,mapInteractionStarted:r,emailVerificationStatus:i,reviewRating:a}))),S=(0,y.P1)([e=>e.appContext.activeLayer,e=>e.appContext.activeSublayer,e=>e.appContext.showTrafficOnMap],((e,t,s)=>({activeLayer:e,activeSublayer:t,showTrafficOnMap:s}))),N=(0,y.P1)([r.kL,function(e){var t,s;const i=(0,r.mN)(e),a=i?(0,f.nM)({state:e,entityId:i}).data:void 0;return a?(0,w.i)(a)||(null===(s=null===(t=(0,j.D4)({state:e,id:a.region_id}))||void 0===t?void 0:t.data)||void 0===s?void 0:s.uri_code):(0,j.Rg)(e)},x.Z1,O,S,function(e){const t=[];if(!e.appContext.frames.length)return t;return e.appContext.frames.reduce(((t,s)=>{const r=function(e,t){var s;switch(e.type){case"search":if("query"===e.searchType){if(e.seoFakeEntityId)return;const t=(0,d.Z)(e),s=(0,c.Q)(e);return e.tabCatalog.isBuyHereRubric&&e.tabCatalog.rubricId?{type:"rubric",rubricId:e.tabCatalog.rubricId,filters:(0,c.Q)(e),page:t>1?t:void 0}:{type:"search",query:e.query,rubricId:e.tabCatalog.rubricId,filters:s,page:t>1?t:void 0,attributeId:e.tabCatalog.attributeId}}if("filials"===e.searchType)return{type:"branches",orgId:e.orgId,filters:e.filterValues};if("inbuilding"===e.searchType)return{type:"inside",buildingId:e.buildingId,filters:(0,c.Q)(e),query:e.query};if("offers"===e.searchType)return{type:"offers",query:e.query,filters:(0,c.Q)(e)};if("buyHere"===e.searchType||"fmcg"===e.searchType){const t=(0,d.Z)(e);return{type:e.searchType,adsIds:e.adsIds,page:t>1?t:void 0,filters:(0,c.Q)(e)}}return;case"prices":return{type:"prices",branchId:e.entityId,categoryId:e.categoryId};case"userProfile":return"places"===e.profileTab?{type:"profile",profileTab:e.profileTab}:"favorites"===e.profileTab?{type:"favorites"}:{type:"my",profileTab:e.profileTab||"places"};case"exchange":return{type:"exchange",page:e.page>1?e.page:void 0,filters:e.filterValues,calc:{action:e.action,currencyCode:e.currencyCode,volume:e.volume}};case"achievements":return{type:"achievements",group:e.groupName};case"directions":return e.isMetroSchemeMode?{type:"metroScheme",stub:"metro"}:{type:"directions",tab:e.tab!==g.QZ?e.tab:void 0,points:e.points.map((e=>null===e||(0,m.Sb)(e)?void 0:e)),filters:(0,c.Q)(e)};case"entity":if("point"===e.entityType)return{type:"geo",point:e.point};const r=(0,f.nM)({state:t,entityId:e.entityId}).data;return{type:(0,p.C)(e.entityType),entityId:e.entityId,tab:r&&e.tab!==(0,l.R)(r)[0]?e.tab:void 0,query:"inside"===e.tab?e.tabInside&&e.tabInside.query:void 0,filters:(0,c.Q)(e),point:e.point,entranceId:e.entranceId};case"product":return{type:"product",productId:e.productId,filters:u("b",e.buildingId,(0,c.Q)(e))};case"gallery":return{type:"gallery",entityType:"menu"===e.entityType?e.entityType:(0,p.C)(e.entityType),photoId:e.photoId,entityId:e.entityId};case"offer":return{type:"offer",productId:e.productId};case"publicFavorites":return{type:e.subtype};case"collection":return{type:"private"===e.subtype?"private":"collection",collectionId:e.collectionId};case"rubricator":return{type:"rubrics"};case"rubric":return{type:"subrubrics",parentId:e.parentId};case"userFriendsActivity":return{type:"friends",entityId:e.entityId};case"realty":return{type:"realty",at:null===(s=e.entity)||void 0===s?void 0:s.id,category:(0,h.ax)(e.categoryId)||"sale",filters:e.filterValues};case"realtyCard":const i=e.realtyId;if(!i)return;return{type:"realtyAd",id:i,tab:"ad"!==e.tab?e.tab:void 0};case"friendsList":return{type:"friendsList"};case"userPublicProfile":return{type:"user",userId:e.userId};case"sharingGeo":return{type:"geolocation",sessionId:e.sessionId};case"error":return(0,v.k)(b._,e.subtype)?{type:"error",subtype:e.subtype}:void 0}}(s,e);return r?[r,...t]:t}),[])},e=>e.appContext.popup,e=>e.appContext.lang,e=>e.appContext.floors,e=>e.session,e=>e.appContext.ruler,function(e){const t=e.appContext.showSnow;return t.allowSnowStyle?{type:"snow",intensity:"on"===t.status?t.intensity:void 0,allowSnowStyle:t.allowSnowStyle}:void 0},e=>e.appContext.friendRequest,e=>e.appContext.mapfriendsPage,e=>e.appContext.storiesPopupData,e=>e.appContext.friendInOtherDomain,e=>{var t;return"metro"===e.appContext.activeLayer&&Boolean(null===(t=(0,C.SI)(e))||void 0===t?void 0:t.isMetroSchemeMode)},e=>I.l.getIsAvailable(e)&&I.l.$isEnabled.get(e),k.A.U.get],((e,t,s,{isLangRepresentedInOriginalRequest:r,showSlugsNeededOnlyForStartup:c,isMapViewRepresentedInOriginalRequest:d,mapInteractionStarted:l,emailVerificationStatus:u,reviewRating:p},{activeLayer:g,activeSublayer:m,showTrafficOnMap:h},f,v,b,y,{is3dEnabled:x,statHash:j,utm:w},C,I,k,O,S,N,T,P,E)=>{const L=function(e){if(!e)return[];return Object.keys(e).map((t=>({type:t,value:e[t]})))}(w),R=t?{type:"region",code:t}:void 0,z=E?{type:"immersivePromo"}:void 0;if(z)return(0,i.oA)([R,z,{type:"campaign",value:"sharing_promo"}]);const A=v&&"createReview"===v.type&&!v.sourceId?{type:"addreview"}:void 0,F=v&&"editUserProfile"===v.type?{type:"preferences"}:void 0,B=v&&"createReview"===v.type&&v.sourceId?{type:"writeReview",source:v.sourceId}:void 0,Z=S.currentStoryId?{type:M(S.type),storyId:S.currentStoryId}:void 0,U=v&&"typedFeedback"===v.type?{type:"addOrg"===v.subtype?"addOrg":"feedback"}:void 0,H=(0,a.d)({project:e,is3d:x}),D=v&&"newYearPromo"===v.type?{type:"new_year_promo"}:void 0,$=u?{type:"auth",status:u}:void 0,V=l||d?{type:"mapview",center:s.center,pitch:(0,n.uZ)(s.pitch,o.eM,o.Nm),rotation:(0,n.uZ)(s.rotation,o.qN,o.mC),zoom:(0,n.uZ)(s.zoom,H.min,H.max)}:void 0,q=k?{type:"user",userId:k}:void 0,G=O?{type:"mapfriends",page:O,userId:k}:void 0,W=r?{type:"lang",lang:b}:void 0,Q=y&&void 0!==y.currentFloor?{type:"floor",value:y.currentFloor}:void 0,K=j&&c?{type:"stat",value:j}:void 0,J=C.isActive?{type:"ruler",points:C.points}:void 0,Y=g&&"realty"!==g&&!T?{type:"layer",value:g}:void 0,X=m&&!(0,_.j)(m)?{type:"sublayer",value:m}:void 0,ee=h?{type:"traffic"}:void 0,te=v&&"createReview"===v.type&&!v.sourceId&&p?{type:"reviewRating",value:p}:void 0,se=N.previousMapView?{type:"previousMapView",value:N.previousMapView}:void 0,re=P?{type:"immersive",state:"on"}:void 0;return(0,i.oA)([W,R,...f,A,B,U,Q,V,...L,K,J,Y,X,ee,$,D,I,q,G,Z,F,te,se,re,z])}));function M(e){switch(e){case"firm":return"firmStory";case"fmcg":return"fmcgStory";case"discovery":return"discoveryStory";default:return"story"}}},81465:(e,t,s)=>{"use strict";s.d(t,{C:()=>m,x:()=>g});var r=s(52322),i=s(2784),a=s(57935),n=s(35779),o=s(27215),c=s(89747),d=s(30445),l=s(6796),u=s(23822),p=s(82066);const g=i.createContext({}),m=({config:e,i18n:t,store:s,modelContext:i,services:m,children:h,queryClient:f})=>{const v=(0,d.gh)(e),b={config:e,tp:t.tp,dateFns:t.dateFns,theme:v};return(0,r.jsx)(p.QueryClientProvider,Object.assign({client:f},{children:(0,r.jsx)(o.zt,Object.assign({store:s},{children:(0,r.jsx)(g.Provider,Object.assign({value:s},{children:(0,r.jsx)(c.E.Provider,Object.assign({value:e},{children:(0,r.jsx)(a.Az,Object.assign({value:b},{children:(0,r.jsx)(d.nH,Object.assign({theme:v},{children:(0,r.jsx)(n.f.Provider,Object.assign({value:t},{children:(0,r.jsx)(u.H.Provider,Object.assign({value:m},{children:(0,r.jsx)(l.T.Provider,Object.assign({value:i},{children:h}))}))}))}))}))}))}))}))}))}},94577:(e,t,s)=>{"use strict";s.d(t,{M:()=>c,c:()=>d});var r=s(42866),i=s(2784),a=s(27215),n=s(26287);const{use:o}=(0,r.r)("tUGC events",(e=>({services:t})=>{const{regionCode:s}=e;return s?Promise.all([t.tUgcApi.getUserLayers({regionCode:s}),t.tUgcApi.get2GisLayers({regionCode:s})]):void 0}));function c(e){const t=(0,a.v9)(n.kL),s=(0,a.v9)((e=>e.appContext.showTrafficOnMap))&&(null==t?void 0:t.flags.traffic)?null==t?void 0:t.code:void 0,{data:r}=o({regionCode:s},e);return(0,i.useMemo)((()=>null==r?void 0:r.reduce(((e,t)=>[...e,...t.items]),[])),[r])}function d(e){const{id:t}=e,s=c({staleTime:1/0});return(0,i.useMemo)((()=>null==s?void 0:s.find((e=>e.id===t))),[s,t])}},70923:(e,t,s)=>{"use strict";s.d(t,{c:()=>o});var r=s(22970),i=s(42866),a=s(57955);function n({id:e,url:t,user:s,timestamp:r,preview_url:i}){return{id:e,url:t,creation_time:new Date(1e3*r).toISOString(),modification_time:new Date(1e3*r).toISOString(),owner:{id:s.auth_id||s.id,name:s.name},status:"active",block_reason:"",is_main:!0,is_visible:!0,preview_urls:{"656x340":(0,a.B)(i,{width:656,height:340}),"328x170":(0,a.B)(i,{width:328,height:170}),"232x232":(0,a.B)(i,{width:232,height:232}),"116x116":(0,a.B)(i,{width:116,height:116}),"176x176":(0,a.B)(i,{width:176,height:176}),"88x88":(0,a.B)(i,{width:88,height:88})}}}const{use:o}=(0,i.r)("tUGC photos",(e=>({services:t})=>(0,r.mG)(void 0,void 0,void 0,(function*(){return(yield t.tUgcApi.getPhotos(e)).items.map(n)}))))},97171:(e,t,s)=>{"use strict";s.d(t,{d:()=>r});const r=(e,t={checkByCtaList:!1})=>{const{checkByCtaList:s}=t;return s?(e=>{var t,s,r;return(null!==(r=null===(s=null===(t=e.ads)||void 0===t?void 0:t.options)||void 0===s?void 0:s.buy_here)&&void 0!==r?r:[]).filter((e=>!!e.cta_list))})(e):(e=>{var t,s,r;return(null!==(r=null===(s=null===(t=null==e?void 0:e.ads)||void 0===t?void 0:t.options)||void 0===s?void 0:s.buy_here)&&void 0!==r?r:[]).filter((e=>!!e.is_primary))})(e)}},42527:(e,t,s)=>{"use strict";s.d(t,{H:()=>r});var r={};s.r(r),s.d(r,{checkAwardRegion:()=>g,getAwardsFilters:()=>u,isAwardFilterSelected:()=>p});var i=s(93471);const a=e=>({label:e._t("Поесть"),values:[i.yf.Restaurants,i.yf.Cafe,i.yf.Bar,i.yf.Confectionery,i.yf.Coffeeshop,i.yf.Streetfood,i.yf.Foodmall,i.yf.Shotglass]}),n=e=>({label:e._t("Авто"),values:[i.yf.Carservice,i.yf.Detailing]}),o=e=>({label:e._t("Красота"),values:[i.yf.BeautySalon,i.yf.Nailsalon,i.yf.Hairdressing,i.yf.Barbershop,i.yf.Spa,i.yf.Massage]}),c=e=>({label:e._t("Цветы"),values:[i.yf.Flowers]}),d=e=>({label:e._t("Здоровье"),values:[i.yf.Dental,i.yf.MedicalCenter]}),l=e=>({label:e._t("Гостиницы"),values:[i.yf.Hotel]}),u=e=>({food:a(e),health:d(e),beauty:o(e),auto:n(e),travel:l(e),flowers:c(e)}),p=(e,t)=>e.values.every((e=>"true"===t[e]));function g(e){var t;return!!e&&(!!m.has(e.name)||!!(null===(t=e.admDiv)||void 0===t?void 0:t.some((({name:e})=>m.has(e)))))}const m=new Set(["Москва","Санкт-Петербург","Новосибирск","Екатеринбург","Казань","Краснодар","Нижний Новгород","Челябинск","Самара","Уфа","Омск","Красноярск","Пермь","Абакан","Альметьевск","Армавир","Архыз","Астрахань","Барнаул","Владивосток","Дзержинск","Ессентуки","Иркутск","Йошкар-Ола","Кемерово","Кисловодск","Кострома","Ленинск-Кузнецкий","Минеральные Воды","Набережные Челны","Находка","Нижневартовск","Нижнекамск","Новокузнецк","Прокопьевск","Пятигорск","Сочи","Тобольск","Тольятти","Томск","Тюмень","Уссурийск","Шерегеш","Волгоград","Анапа","Архангельск","Бийск","Благовещенск","Геленджик","Горно-Алтайск","Дербент","Златоуст","Калининград","Калуга","Курган","Курск","Магнитогорск","Махачкала","Миасс","Мурманск","Нижний Тагил","Новороссийск","Норильск","Обнинск","Оренбург","Петропавловск-Камчатский","Саратов","Сургут","Сыктывкар","Улан-Удэ","Ульяновск","Хабаровск","Ханты-Мансийск","Чита","Южно-Сахалинск","Якутск","Бишкек","Минск","Алматы","Астана","Кокшетау","Щучинск","Боровое","Костанай","Павлодар","Петропавловск","Уральск","Усть-Каменогорск","Шымкент"]);s(43486)},43486:(e,t,s)=>{"use strict";s.d(t,{X:()=>g});var r=s(52322),i=s(86687),a=s(98584),n=s(6801),o=s(66908),c=s(66988),d=s(2784),l=s(63993),u=s(13562),p=s(6340);const g=(0,d.memo)((({tag:e,name:t,ownerName:s,chip:a,iconUrl:d,link:l})=>{const{s:g,css:h}=(0,n.y)(m),{isSearchBot:f,lang:v}=(0,p.Z)(),{bssRef:b,useBssHandler:y}=(0,o.T)((0,c.jM)({tag:e,name:t,ownerName:s})),x=y(c.VS,{tag:e,name:t,ownerName:s,link:l});return l?(0,r.jsx)(i.Z,Object.assign({external:!0,href:l,onClick:x},{children:(0,r.jsxs)("div",Object.assign({ref:b,className:h(g.root,a&&g._chip)},{children:[d&&(0,r.jsx)(u.j,{src:d,isLoadingForced:f,width:16,height:16,alt:"ru"===v?"Иконка":void 0}),(0,r.jsx)("span",Object.assign({className:h(g.text)},{children:t}))]}))})):(0,r.jsxs)("div",Object.assign({ref:b,className:h(g.root,a&&g._chip),onClick:x},{children:[d&&(0,r.jsx)(u.j,{src:d,isLoadingForced:f,width:16,height:16,alt:"ru"===v?"Иконка":void 0}),(0,r.jsx)("span",Object.assign({className:h(g.text)},{children:t}))]}))}));g.displayName="AwardLabel";const m=(0,n.k)({root:{display:"flex",alignItems:"center"},_chip:{paddingTop:7,paddingBottom:9,paddingInlineStart:10,paddingInlineEnd:14,backgroundColor:a.O.gray_f2f2f2,borderRadius:8},text:Object.assign(Object.assign({},l.yG),{marginInlineStart:4,color:a.O.gray_262626})})},66263:(e,t,s)=>{"use strict";s.d(t,{l:()=>r});var r={};s.r(r),s.d(r,{$isEnabled:()=>n,getIsAvailable:()=>a});var i=s(26287);function a(e){if(!e.config.featureImmersiveMap)return!1;if(!e.session.is3dEnabled)return!1;const t=(0,i.kL)(e);return!!t&&e.config.immersiveMapProjects.includes(t.code)}const n=(0,s(2629).$)("isImmersiveMapEnabled")},27695:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var r={};s.r(r),s.d(r,{U:()=>a,d:()=>n});var i=s(2629);const a=(0,i.$)("isImmersivePromoRunning"),n=(0,i.$)("isImmersivePromoViewed")},16617:(e,t,s)=>{"use strict";s.d(t,{jQ:()=>_,AQ:()=>v,cY:()=>r});var r=s(42011),i=s(52322),a=s(6801),n=s(2784),o=s(19981),c=s(2933),d=s(67848);const l=e=>(0,i.jsx)(o.E,{loader:c.H.mediaVideoPlayer,render:t=>(0,i.jsx)(t,Object.assign({},e)),renderPlaceholder:d.Q});var u=s(35253),p=s(85843),g=s(85982),m=s(99261),h=s(6340),f=s(83681);const v=(0,n.memo)((({video:e,selected:t,footer:s})=>{const r=(0,n.useRef)(null),o=(0,n.useRef)(null),{css:c,s:d}=(0,a.y)(b),{isMobileDevice:u}=(0,h.Z)(),v=(0,n.useContext)(f.g),[y,x]=(0,n.useState)(!1),[j,w]=(0,m.S)({threshold:.2,showVisibility:!0}),_=u&&w,C=(0,n.useCallback)((e=>{var t,s;const r=u?null===(t=j.current)||void 0===t?void 0:t.getBoundingClientRect():null===(s=o.current)||void 0===s?void 0:s.getBoundingClientRect();if(r){const t=r.x,s=r.x+r.width,i=r.y,a=r.y+r.height,n=e.x>t&&e.x<s&&e.y>i&&e.y<a;if(n!==y||(null==v?void 0:v.isPressedProgressBar)){const e=(null==v?void 0:v.isPressedProgressBar)?null==v?void 0:v.isPressedProgressBar:n;x(e)}}}),[j,u,y,null==v?void 0:v.isPressedProgressBar]);return(0,n.useEffect)((()=>{setTimeout((()=>{r.current&&t&&(r.current.scrollIntoView({block:"center"}),r.current=null)}),0)}),[]),(0,n.useEffect)((()=>(document.addEventListener("mousemove",C),()=>{document.removeEventListener("mousemove",C)})),[C]),e?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g.i,{children:(0,i.jsxs)("div",Object.assign({className:c(d.snapItem),ref:r},p.dx.n("wat-media-video-player"),{children:[(0,i.jsx)("div",Object.assign({ref:j,className:c(d.wrapper,d.mobileWrapper)},{children:(0,i.jsx)(l,{selected:_,urls:e.video.urls,id:e.id,customControls:!0,showControls:y})})),null!=s?s:null]}),e.id)}),(0,i.jsx)(g.N,{children:(0,i.jsx)("div",Object.assign({className:c(d.wrapper),ref:o},{children:(0,i.jsx)(l,{selected:t,id:e.id,urls:e.video.urls,customControls:!0,showControls:y})}))})]}):null}));v.displayName="MediaVideo";const b=(0,a.k)({snapItem:{height:"100%",scrollSnapAlign:"center",scrollSnapStop:"always",scrollMargin:4,flexShrink:0,flexBasis:"100%",flexGrow:1,display:"flex",flexDirection:"column"},wrapper:{position:"relative",display:"flex",justifyContent:"center",height:"100%",width:"100%",zIndex:u.W5.base},mobileWrapper:{height:"calc(100% - 74px)"}});var y=s(13562),x=s(32983),j=s(66908),w=s(89122);const _=n.memo((({selected:e,activePhotoPosition:t,position:s,photo:r,isLoadingForced:o=!1,trackBSSSource:c,size:d,footer:l})=>{const u=n.useRef(null),{lang:m}=(0,h.Z)(),[f,v]=(0,n.useState)(!0),{s:b,css:_,theme:I}=(0,a.y)(C),{bssRef:k}=(0,j.T)((0,w.bssShowEvent)({trackBSSSource:c,photo:r,position:s,size:d}),{threshold:.5}),O=t===s&&c,S=()=>v(!1);return n.useEffect((()=>{setTimeout((()=>{u.current&&e&&(u.current.scrollIntoView({block:"center"}),u.current=null)}),0)}),[]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g.i,{children:(0,i.jsxs)("div",Object.assign({className:_(b.snapItem),ref:u},{children:[(0,i.jsxs)("div",Object.assign({ref:O?k:null,className:_(b.wrapper)},{children:[(0,i.jsx)(y.j,Object.assign({contain:!0,isLoadingForced:!!o,src:r.photo.url},p.dx.n("wat-image"),{onError:S,onLoad:S,alt:"ru"===m?"Фото":void 0})),!o&&f&&(0,i.jsx)("div",Object.assign({className:_(b.preloader)},p.dx.n("wat-mediaviewer-image-preloader"),{children:(0,i.jsx)(x.$,{size:24,color:I.colors.green_299400_brand})}))]})),null!=l?l:null]}),r.id)}),(0,i.jsx)(g.N,{children:(0,i.jsxs)("div",Object.assign({ref:O?k:null,className:_(b.wrapper)},{children:[(0,i.jsx)("img",Object.assign({className:_(b.image),src:r.photo.url,onLoad:S,onError:S,alt:"ru"===m?"Фото":void 0},p.dx.n("wat-image"))),!o&&f&&(0,i.jsx)("div",Object.assign({className:_(b.preloader)},p.dx.n("wat-mediaviewer-image-preloader"),{children:(0,i.jsx)(x.$,{size:24,color:I.colors.green_299400_brand})}))]}))})]})}));_.displayName="MediaImage";const C=(0,a.k)({snapItem:{height:"100%",scrollSnapAlign:"center",scrollSnapStop:"always",scrollMargin:4,flexShrink:0,flexBasis:"100%",flexGrow:1,display:"flex",flexDirection:"column"},wrapper:{position:"relative",display:"flex",justifyContent:"center",height:"100%",width:"100%",zIndex:u.W5.base,pointerEvents:"none"},image:{height:"100%",width:"100%",objectFit:"contain"},preloader:{position:"absolute",zIndex:u.W5.bottom,top:"50%",transform:"translate3d(-50%, -50%, 0)",left:"50%"}})},89122:(e,t,s)=>{"use strict";s.r(t),s.d(t,{bssShowEvent:()=>d});var r=s(72965),i=s(10484),a=s(70021),n=s(77878),o=s(50722),c=s(98224);const d=({trackBSSSource:e,photo:t,position:s,size:d})=>({frameId:l},u)=>{var p;if(!e)return;const g=(0,i.iF)(u.appContext.frames,l);if(t.id===o.Pn)return{uiElement:{name:"photoCardFull",ownerName:"friends"===e?"currentReviewFrame":"galleryFrame",frameUuid:l,position:s},payload:{photo:void 0}};const m=g&&"entityId"in g&&g.entityId?(0,a.nM)({entityId:g.entityId,state:u}).data:void 0,h=g?null===(p=(0,c.py)({state:u,frameId:g.id}))||void 0===p?void 0:p.id:void 0,f=(0,r.N)({photo:t,orgId:"branch"===(null==m?void 0:m.type)?m.org.id:void 0,entityId:null==m?void 0:m.id,entityType:null==m?void 0:m.type,tag:h});if(f||"reviews"!==e||(0,n.H)({message:"Не удалось сформировать payload.photo для события показа карточки фотографии отзыва v-dhbs3",level:"error",id:"lkjfd",payload:{type:"debug",subtype:"BssTrackerV3"}}),"reviews"===e){return{uiElement:{name:"reviewPhotoCardFull",ownerName:"reviewCardFull",frameUuid:l,position:s},payload:{photo:f}}}if("realty"===e){if(!d)return void(0,n.H)({message:"Не удалось сформировать payload.gallery для события показа фотографии карточки недвижимости v-4jv44",level:"error",id:"lxcvd",payload:{type:"debug",subtype:"BssTrackerV3"}});return{uiElement:{name:"realtyPhotoCardFull",ownerName:"realtyGalleryFrame",frameUuid:l,position:s},payload:{gallery:{size:d}}}}f||"friends"===e||(0,n.H)({message:"Не удалось сформировать payload.photo для события показа карточки фотографии v-gso2s",level:"error",id:"wlakw",payload:{type:"debug",subtype:"BssTrackerV3"}});return{uiElement:{name:"photoCardFull",ownerName:"friends"===e?"currentReviewFrame":"galleryFrame",frameUuid:l,position:s},payload:{photo:"friends"===e?{photoId:t.id}:f}}}},42011:(e,t,s)=>{"use strict";s.r(t),s.d(t,{bss:()=>m,prefetchUserItems:()=>g,setAlbum:()=>d,types:()=>r,useAlbum:()=>c,useById:()=>u,useList:()=>o,useUserItems:()=>p,withMediaAlbum:()=>l});var r={};s.r(r);var i=s(22970),a=s(42866),n=s(97825);const{use:o}=(0,a.r)("fetchListMedia",(e=>({services:t,config:s})=>{if(e.objectIds.length&&s.featureVideoInGallery)return t.mediaApi.getMediaItemsLight(Object.assign({objectIds:e.objectIds,searchCtx:e.searchCtx,searchKeywords:e.searchKeywords},e.size?{size:e.size}:{}))}),{staleTime:1/0,cacheTime:1/0}),{use:c,setQueryData:d,withQueryData:l}=(0,a.H)("fetchMediaAlbum",(e=>[[e.objectId,e.albumId,e.searchCtx,e.searchKeyword],({services:t,context:s})=>(0,i.mG)(void 0,void 0,void 0,(function*(){const{credentialsApi:r,mediaApi:i}=t,{pageParam:a}=s,{objectId:o,albumId:c=n.n4,searchCtx:d,searchKeyword:l}=e;if("__empty"===o)return{items:[],albums:[],next_page_token:void 0,meta:{code:200}};const u=yield r.getToken();return yield i.getMediaItemsByAlbums({objectId:o,albumId:c,accessToken:u,page_token:a?`${a}`:void 0,searchCtx:d,searchKeyword:l})}))]),{staleTime:1/0,cacheTime:1/0,getNextPageParam:e=>null==e?void 0:e.next_page_token}),{use:u}=(0,a.r)("fetchMediaById",(e=>({services:t,config:s})=>{if(e.length&&s.featureVideoInGallery)return t.mediaApi.getMediaItemsByIds(e)}),{staleTime:1/0,cacheTime:1/0}),{use:p,prefetch:g}=(0,a.H)("fetchMediaUserItems",(()=>({services:e,context:t})=>(0,i.mG)(void 0,void 0,void 0,(function*(){const s=yield e.credentialsApi.getToken();return e.mediaApi.getMediaUserItems({page:Number(t.pageParam)||1,accessToken:s})}))),{staleTime:1/0,cacheTime:1/0});var m=s(89122)},34904:(e,t,s)=>{"use strict";s.d(t,{ci:()=>f,Mi:()=>nt,mg:()=>i,Cg:()=>r});var r={};s.r(r),s.d(r,{IMAGE_THEMES:()=>je,baseSnippet:()=>Ce,bss:()=>re,makeContent:()=>Oe,makePreview:()=>Ne,makeSlide:()=>Se,makeStory:()=>ke,markStoryAsViewed:()=>me,useDiscoveryStories:()=>Ze,useFirmStories:()=>ze,useFmcgStories:()=>$e,useSlideSizes:()=>ie,useStoriesRotation:()=>he,useStoriesViewsChecker:()=>fe});var i={};s.r(i),s.d(i,{getDiscoveryStory:()=>Be,getFmcgStory:()=>Ue,getImageSlideDuration:()=>ct,getSlideTextPosition:()=>Ge,getSlideType:()=>Qe,getSlideUrl:()=>Ke,getStoryPreview:()=>p,getStorySlideButton:()=>We,getStorySlides:()=>Q,hasStories:()=>Re,isAdStory:()=>u,isAdStorySlide:()=>qe,miniStoriesLineClamped:()=>g});var a=s(52322),n=s(98584),o=s(6801),c=s(43228),d=s(63993),l=s(85843);const u=e=>"info"!==e.source,p=e=>({backgroundUrl:u(e)?e.content.preview.backgroundUrl:e.preview.background_url,text:u(e)?e.content.preview.text:e.preview.text});function g(e,t){const s=parseInt(t.lineHeight,10);return Object.assign(Object.assign({},t),{display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:e,overflow:"hidden",textOverflow:"ellipsis",maxHeight:s?e*s:"none"})}var m=s(66908),h=s(54974);const f=e=>{const{css:t,s}=(0,o.y)(v),{story:r,borderRadius:i,isNotViewed:n,isTextMedium:d,isStoryViewer:u,onClick:g,bssShowFunction:f,bssActionFunction:b,bssActionParams:y}=e,x=r?p(r):void 0,{bssRef:j,useBssHandler:w}=(0,m.T)(f?f():void 0,{threshold:.5}),_=w(b,y),C=(0,h.$)((()=>{r&&(_(),g(r))}));return(0,a.jsx)("div",Object.assign({className:t(s.root,n&&s._isNotViewed),style:{borderRadius:i}},{children:(0,a.jsxs)("div",Object.assign({className:t(s.inner),style:{borderRadius:i-2},onClick:C,ref:j},(0,l.Z)({n:x?"wat-mini-story-icon":"wat-mini-story-skeleton",v:null==r?void 0:r.id,t:u?"viewer":"card"}),{children:[!!(null==x?void 0:x.backgroundUrl)&&(0,a.jsx)("div",Object.assign({className:t(s.background)},{children:(0,a.jsx)(c.C,{src:x.backgroundUrl})})),!!(null==x?void 0:x.text)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:t(s.imageOverlay)}),(0,a.jsx)("div",Object.assign({className:t(s.text,d&&s.textMedium)},l.dx.n("wat-mini-story-text"),{children:x.text}))]})]}))}))},v=(0,o.k)((e=>({root:{width:"100%",height:"100%",padding:2,boxSizing:"border-box",overflow:"hidden",border:"solid 2px transparent"},_isNotViewed:{borderColor:e.colors.green_30ad00_brand},inner:{position:"relative",width:"100%",height:"100%",background:n.O.gray_f2f2f2,overflow:"hidden",cursor:"pointer"},background:{position:"absolute",inset:0},imageOverlay:{position:"absolute",inset:0,background:"linear-gradient(46deg, rgba(0, 0, 0, 0.70) 0%, rgba(0, 0, 0, 0.20) 48.06%, rgba(0, 0, 0, 0.00) 98.95%)"},text:Object.assign(Object.assign(Object.assign({},d.F0),{fontSize:"10px",position:"absolute",bottom:6,start:6,end:6,color:n.O.white}),g(3,Object.assign(Object.assign({},d.F0),{fontSize:"10px"}))),textMedium:Object.assign(Object.assign(Object.assign({},d.hC),(0,d.KU)(3,d.hC)),{paddingStart:12,paddingEnd:12,bottom:12})})));var b=s(22970),y=s(2784),x=s(38355),j=s(48236),w=s(27215),_=s(354),C=s(32712),I=s(52981);const k=(0,y.memo)((({slideButton:e,innerRef:t,showEventOrdinal:s,actionEventParamsSelector:r,onClick:i})=>{const n=(()=>{if("empty"!==e.action.type&&"open_card"!==e.action.type)return e.action.value})(),c=(0,w.I0)(),{s:d,css:l}=(0,o.y)(O),u=(0,h.$)((t=>{t.stopPropagation(),e.action.value&&"open_card"===e.action.type&&c((0,I.xo)({id:e.action.value,type:"branch"})),"empty"!==e.action.type&&"open_card"!==e.action.type||c((0,_._N)(r,(e=>(0,C.zs)(e)))),i()})),p={background:e.backgroundColor,color:e.textColor,containerRef:t,experimentalStyles:d.button,appearance:"primary",wide:!0,external:!0,children:e.action.caption};return(0,a.jsx)("div",Object.assign({className:l(d.buttonWrapper)},{children:n?(0,a.jsx)(x.X,Object.assign({originalHref:n,showEventOrdinal:s,actionEventParamsSelector:r},{children:e=>(0,a.jsx)(j.z,Object.assign({},p,{href:e,wide:!0,external:!0}))})):(0,a.jsx)(j.z,Object.assign({},p,{onClick:u}))}))})),O=(0,o.k)({button:{padding:16,textAlign:"center",zIndex:3},buttonWrapper:{padding:"0 24px"}});var S=s(6340);const N=(0,y.memo)((({url:e,onLoad:t,innerRef:s,loaded:r,onError:i,imageSlideStyles:n})=>{const{css:c,s:d}=(0,o.y)(M),{lang:l}=(0,S.Z)();return(0,a.jsx)("img",{"data-n":"wat-slide-image",ref:s,style:n,className:c(d.image,r&&d.imageLoaded),src:e,onLoad:t,onError:i,alt:"ru"===l?"Текущий слайд":void 0})})),M=(0,o.k)({image:{pointerEvents:"none",width:"100%",height:"100%",visibility:"hidden",userSelect:"none"},imageLoaded:{visibility:"visible"}});var T=s(11436);function P({color:e="currentColor"}){return(0,a.jsx)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.20243 11.2531L12.1451 16.1957L10.2598 18.081L8.07043 15.8917C8.0691 15.9277 8.06377 15.9637 8.06377 15.9997C8.06377 17.0797 8.27443 18.1264 8.69177 19.1144C9.09443 20.0664 9.67177 20.9224 10.4078 21.6557C11.1424 22.3917 11.9971 22.969 12.9504 23.3717C14.9238 24.2064 17.2091 24.205 19.1771 23.3717C20.1291 22.969 20.9851 22.3931 21.7211 21.6557L23.6064 23.5424C22.6264 24.5224 21.4838 25.2917 20.2158 25.8277C18.9024 26.3837 17.5051 26.6664 16.0638 26.6664C14.6251 26.6664 13.2278 26.3837 11.9118 25.8277C10.6411 25.2891 9.49977 24.521 8.52243 23.5424C7.54243 22.5651 6.7731 21.4237 6.23577 20.1517C5.78243 19.0771 5.5211 17.9477 5.43577 16.789L4.1451 18.081L2.25977 16.1957L7.20243 11.2531ZM15.9368 5.33398C17.3755 5.33398 18.7728 5.61532 20.0888 6.17265C21.3595 6.70998 22.4995 7.47932 23.4782 8.45798C24.4568 9.43532 25.2262 10.5767 25.7648 11.8473C26.2168 12.9233 26.4795 14.0526 26.5635 15.2113L27.8555 13.9193L29.7408 15.8047L24.7982 20.7473L19.8555 15.8047L21.7408 13.9193L23.9302 16.1086C23.9315 16.0726 23.9368 16.0366 23.9368 16.0006C23.9368 14.9206 23.7248 13.8727 23.3088 12.886C22.9048 11.934 22.3275 11.078 21.5928 10.3433C20.8582 9.60865 20.0022 9.03132 19.0502 8.62865C17.0768 7.79398 14.7902 7.79532 12.8235 8.62865C11.8715 9.02998 11.0142 9.60732 10.2782 10.3433L8.39283 8.45665C9.37417 7.47665 10.5155 6.70865 11.7835 6.17132C13.0982 5.61532 14.4942 5.33398 15.9368 5.33398Z",fill:e})}))}const E=(0,y.memo)((e=>{const{url:t,onLoad:s,onError:r,videoSlideStyles:i,innerRef:n,loaded:c,onPlaying:d,onWaiting:l,muted:u}=e,{css:p,s:g}=(0,o.y)(L);return(0,y.useEffect)((()=>{var e;null===(e=null==n?void 0:n.current)||void 0===e||e.load()}),[t]),(0,a.jsx)("video",{src:t,className:p(g.video,c&&g.videoLoaded),onPlaying:d,onWaiting:l,muted:u,playsInline:!0,onCanPlayThrough:s,onError:r,style:i,ref:n})})),L=(0,o.k)({video:{width:"100%",height:"100%",visibility:"hidden",userSelect:"none",pointerEvents:"none"},videoLoaded:{visibility:"visible"}}),R=(0,y.memo)((e=>{const{css:t,s}=(0,o.y)(z),{type:r,url:i,mediaSlideStyles:c,onLoad:d,loaded:l,hasContentLoadingError:u,onError:p,videoAPI:g,imageAPI:m}=e,f=(0,h.$)((()=>{"image"===r&&m.refresh(),"video"===r&&g.refresh()}));if((0,y.useEffect)((()=>{i||l||d()}),[d,i,l]),!i)return null;const v=!l||u||g.buffered,b=!u&&(!l||g.buffered);return(0,a.jsxs)("div",Object.assign({className:t(s.wrapper)},{children:[v&&(0,a.jsxs)("div",Object.assign({className:t(s.loadingState)},{children:[u&&(0,a.jsx)("button",Object.assign({className:t(s.refreshButton),onClick:f},{children:(0,a.jsx)(P,{color:n.O.white})})),b&&(0,a.jsx)(T.p,{dotColor:n.O.white})]})),"image"===r&&(0,a.jsx)(N,{innerRef:m.ref,url:i,imageSlideStyles:c,onLoad:d,loaded:l,onError:p}),"video"===r&&(0,a.jsx)(E,{muted:g.muted,onPlaying:g.play,onWaiting:g.wait,innerRef:g.ref,url:i,videoSlideStyles:c,onLoad:d,loaded:l,onError:p})]}))})),z=(0,o.k)({wrapper:{width:"100%",height:"100%",position:"relative",overflow:"hidden"},loadingState:{position:"absolute",inset:0,display:"flex",justifyContent:"center",alignItems:"center",zIndex:3},refreshButton:{border:0,color:n.O.gray_262626,background:"transparent",width:32,height:32}}),A="storyButton",F="storyItem";var B=s(74730),Z=s(93448);const U=(e,t,s)=>{const{story:r,slide:i,entity:a,storyPosition:n,callToAction:o,position:c}=e;return{uiElement:{name:A,ownerName:F,frameUuid:t,position:c},payload:{callToAction:o,storiesList:(0,Z.C)({story:r,entity:a,position:n,locale:s.config.locale}),storyItem:(0,B.L)({slide:i})}}},H={bssShow:e=>({frameId:t},s)=>U(e,t,s),bssTap:e=>t=>Object.assign(Object.assign({},U(e,e.ownerFrameId,t)),{action:"tap"})},D="storyItem",$="storiesFrame",V={bssShow:e=>({frameId:t},s)=>{const{story:r,slide:i,entity:a,storyPosition:n,position:o}=e;return{uiElement:{name:D,ownerName:$,frameUuid:t,position:o},payload:{storyItem:(0,B.L)({slide:i}),storiesList:(0,Z.C)({story:r,entity:a,position:n,locale:s.config.locale})}}}},q="storiesFrame",G="storiesFrame";var W=s(77878);const Q=e=>(e=>"info"===e.source)(e)?e.slides:e.content.slides,K={bssTap:e=>(t,s,r)=>{const{frameId:i,story:a,entity:n,storyPosition:o}=e,{title:c,slideId:d,actionType:l,name:u}=r||{};if(!a||void 0===o||["firm","fmcg"].includes(a.source)&&!n)return;const p=Q(a).findIndex((e=>e.id===d));if(-1!==p&&u&&d&&l&&i)return{uiElement:Object.assign(Object.assign({name:u},u===q?{}:{ownerName:G}),{position:p+1,frameUuid:i}),payload:{storyItem:{id:d,title:c},storiesList:(0,Z.C)({story:a,entity:n,position:o,locale:s.config.locale})},action:l};(0,W.H)({message:`Не удалось сформировать событие навигации сторис ${u}`,level:"error",id:"99sp5",payload:{type:"debug",subtype:"BssTrackerV3"}})}};var J=s(18122);const Y="storyIcon";var X=s(91982),ee=s(10484);const te=(e,t)=>{switch(!0){case t:return"storiesFrame";case"firm"===e.source:case"fmcg"===e.source:return"cardContacts";case"discovery"===e.source:return"searchResultsList";default:return}},se={bssShow:e=>({frameId:t},s)=>{const{story:r,entity:i,position:a,isStoryViewer:n,isHide:o}=e;if(o)return;const c=r&&te(r,n);if(c)return{uiElement:{name:Y,ownerName:c,frameUuid:t},payload:{placeItem:i?(0,X.Pj)({entity:i}):void 0,storiesList:(0,Z.C)({story:r,entity:i,position:a,locale:s.config.locale})}};(0,W.H)({message:"Не удалось сформировать ownerName для события показа превью Истории (v-n46l9 или v-lm6bi)",level:"error",id:"vkm59",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify((0,ee.iF)(s.appContext.frames,t))}})},bssTap:e=>({frameId:t},s)=>{const{story:r,entity:i,position:a,isStoryViewer:n}=e,o=r&&te(r,n);if(o)return{uiElement:{name:Y,ownerName:o,frameUuid:t},payload:{placeItem:i?(0,X.Pj)({entity:i}):void 0,storiesList:(0,Z.C)({story:r,entity:i,position:a,locale:s.config.locale})},action:"tap"};(0,W.H)({message:"Не удалось сформировать ownerName для события тапа превью Истории (a-anopo или a-jpjzt)",level:"error",id:"vkm59",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify((0,ee.iF)(s.appContext.frames,t))}})}},re={storyItemBss:V,slideButtonBss:H,storiesNavigationBss:K,miniStoryBss:se,generators:{bssShowStoryButton:({id:e,position:t,storyPosition:s,link:r,storyId:i,actionType:a})=>(0,J.d7)()({uiElement:{name:A,ownerName:F,position:t},payload:{callToAction:{actionType:null!=a?a:expect.stringMatching(/^('link' | 'phone')$/),value:r},storyItem:{id:e,title:expect.any(String),template:expect.stringMatching(/^(LeftBottom|LeftTop)$/)},storiesList:{id:i,name:expect.any(String),position:s,entity:expect.any(Object),adsAlg:expect.any(Number),size:expect.any(Number)}}}),bssTapStoryNavigate:({name:e,actionType:t,slideId:s,storyId:r,previewText:i,size:a,entityId:n,entityType:o,slidePosition:c,storyPosition:d,title:l})=>(0,J.k1)()({actionType:t,uiElement:Object.assign(Object.assign({name:e},e===q?{}:{ownerName:G}),{position:null!=c?c:expect.any(Number),frameUuid:expect.any(String)}),payload:{storiesList:Object.assign(Object.assign({id:null!=r?r:expect.any(String),name:null!=i?i:expect.any(String),size:null!=a?a:expect.any(Number)},d?{position:null!=d?d:expect.any(Number)}:{}),{entity:{id:null!=n?n:expect.any(String),type:null!=o?o:expect.any(String),dataSource:"API",segmentInfo:expect.any(Object)},adsAlg:expect.any(Number)}),storyItem:Object.assign({id:null!=s?s:expect.any(String)},l?{title:l}:{})}}),bssShowStoryItem:({id:e,position:t,storyPosition:s,storyId:r})=>(0,J.d7)()({uiElement:{name:D,ownerName:$,position:t},payload:{storyItem:{id:e,title:expect.any(String),template:expect.stringMatching(/^(LeftBottom|LeftTop)$/)},storiesList:{id:r,name:expect.any(String),position:s,entity:expect.any(Object),adsAlg:expect.any(Number),size:expect.any(Number)}}}),bssShowStoryIcon:({story:e,entity:t,position:s,isStoryViewer:r})=>(0,J.d7)()({uiElement:{name:Y,ownerName:te(e,r)},payload:{storiesList:(0,Z.C)({story:e,entity:t,position:s,locale:"ru_RU"}),placeItem:t?expect.any(Object):void 0}}),bssStoryIconTap:({story:e,entity:t,position:s,isStoryViewer:r})=>(0,J.k1)()({uiElement:{name:Y,ownerName:te(e,r)},payload:{storiesList:(0,Z.C)({story:e,entity:t,position:s,locale:"ru_RU"}),placeItem:t?expect.any(Object):void 0}})}},ie=()=>{const e=(0,w.v9)((e=>e.session.screen)),t=(0,w.v9)((e=>!e.config.isMobileDevice)),s=.8*e.height/16*9,r=t?{height:.8*e.height,width:s}:{height:e.height,width:e.width};return{original:r,styles:t?{height:`${r.height}px`,width:`${r.width}px`}:{height:"100%",width:"100%"}}};var ae=s(29759),ne=s(67753),oe=s(56104);const ce="stories";let de=!1,le=[],ue={},pe={};const ge=(0,ne.gQ)("initStoriesState",(()=>(ve(),(0,oe.yy)({stories:{viewedIdsMap:ue,viewedIdsAtStartMap:pe}})))),me=(0,ne.gQ)("markStoryAsViewed",(e=>(ve(),ue[e]?(0,ne.ZT)():(le.push(e),ue=Object.assign(Object.assign({},ue),{[e]:!0}),function(){if(!de)return;le.length>100&&(le=le.slice(le.length-100));ae.tO.local.setItem(ce,le.join(","))}(),(0,oe.yy)({stories:{viewedIdsMap:ue,viewedIdsAtStartMap:pe}})))));const he=e=>{const t=(0,w.I0)();(0,y.useEffect)((()=>{t(ge())}),[t]);const s=(0,w.v9)((e=>{var t;return null===(t=e.appContext.weak.stories)||void 0===t?void 0:t.viewedIdsAtStartMap})),r=(0,y.useMemo)((()=>e&&s?function(e,t){const s=[],r=[];return e.forEach((e=>{t[e.id]?r.push(e):s.push(e)})),[...s,...r]}(e,s):void 0),[e,s]);return{stories:r}},fe=()=>{const e=(0,w.v9)((e=>{var t;return null===(t=e.appContext.weak.stories)||void 0===t?void 0:t.viewedIdsMap}));return{isStoryViewed:(0,y.useCallback)((t=>!(!t||!(null==e?void 0:e[t]))),[e])}};function ve(){if(!de){try{const e=ae.tO.local.getItem(ce);e&&(le=e.split(","),ue=le.reduce(((e,t)=>(e[t]=!0,e)),{}),pe=Object.assign({},ue))}catch(e){(0,W.H)({message:"Не получилось распарсить ID просмотренных историй",level:"error",id:"ke8ls72e",payload:{type:"debug",subtype:"FailedParseValue"}})}de=!0}}var be,ye,xe=s(64693);const je=["sky","blue","green","girl","red","yellow","dog","knight","man","cat","woman","witcher","tree","snow","star","space","boy","flag","city","river","stone"],we={backgroundUrl:"https://loremflickr.com/360/640/sky",text:"страаашная история"},_e={slides:[{source:"firm",id:"0001",swipeInterval:8e3,backgroundUrl:`https://loremflickr.com/360/640/${null!==(be=je[1])&&void 0!==be?be:je[0]}?lock=1`,template:{textPosition:"left_top"},button:{action:{value:"https://google.com",caption:"ГО ТУ ГУГЛ",type:"link"}},title:"Это очень крутой тайтл",footnote:{title:"ФАС title",warning:"Есть противопоказания, нужна консультация врача"}}],preview:{backgroundUrl:`https://loremflickr.com/360/640/${null!==(ye=je[1])&&void 0!==ye?ye:je[0]}?lock=1`,text:"страаашная история"}},Ce={source:"firm",id:"mocked-0001",algorithmId:1,orgId:(0,xe.by)(),projectId:1,erid:["2Ranyn4duZ2"],legalName:"ООО legalName",content:_e};var Ie=s(37276);const ke=(0,Ie.B)(Ce),Oe=(0,Ie.B)(_e),Se=(0,Ie.B)({source:"firm",id:"0001",swipeInterval:8e3,backgroundUrl:"https://loremflickr.com/360/640/sky",template:{textPosition:"left_top"},button:{action:{value:"https://google.com",caption:"ГО ТУ ГУГЛ",type:"link"}},title:"Это очень крутой тайтл",footnote:{title:"ФАС title",warning:"Есть противопоказания, нужна консультация врача"}}),Ne=(0,Ie.B)(we);var Me=s(55476),Te=s(42313),Pe=s(26287);var Ee=s(42866);const{use:Le}=(0,Ee.r)("stories",(e=>({services:t})=>(0,b.mG)(void 0,void 0,void 0,(function*(){var s;return null===(s=(yield t.casinoApi.getGtaAdvise(e)).stories)||void 0===s?void 0:s.objects.filter((e=>!!e.content.preview.text))}))),{staleTime:1/0,cacheTime:1/0}),Re=e=>{var t,s;return!!(null===(s=null===(t=e.ads)||void 0===t?void 0:t.options)||void 0===s?void 0:s.organization_stories)};function ze({entity:e,enabled:t=!0}){const{featureStoriesInCard:s,locale:r}=(0,S.Z)(),i=(0,w.v9)(Pe.fq),a=(0,w.v9)(Te.ls),n=(0,w.v9)(Me.b1),o=(0,y.useMemo)((()=>e?function(e){const t=[];return e.rubrics.forEach((({id:e,kind:s})=>{const r="primary"===s?0:1;t[r]||(t[r]=[]),t[r].push(Number(e))})),t}(e):[]),[e]);return Le({regionId:i,viewport:a,authUserId:n,locale:r,bannerSlot:"organization_stories",objectId:e?e.id:"",queryContextRubrics:o},{enabled:s&&void 0!==e&&Re(e)&&t})}var Ae=s(31481),Fe=s(40464);const Be=e=>Object.assign(Object.assign({},e),{source:"discovery",content:Object.assign(Object.assign({},e.content),{preview:Object.assign(Object.assign({},e.content.preview),{backgroundUrl:(0,Fe.W)(e.content.preview.backgroundUrl,"80x96")}),slides:e.content.slides.map((e=>Object.assign(Object.assign({},e),{source:"discovery"})))})}),Ze=e=>{var t,s;const r=(0,w.v9)((t=>e?(0,Ae.s)({state:t,props:{frame:e}}):void 0)),i=null===(t=null==r?void 0:r.context)||void 0===t?void 0:t.gtaId,a=(0,w.v9)((e=>{var t;return i?null===(t=e.data.gta[i])||void 0===t?void 0:t.stories:null})),n=null===(s=null==r?void 0:r.result)||void 0===s?void 0:s.meta;return{data:null==a?void 0:a.objects.map(Be),isLoading:"loading"===(null==n?void 0:n.status),isSuccess:"success"===(null==n?void 0:n.status),isError:"error"===(null==n?void 0:n.status)}},Ue=e=>Object.assign(Object.assign({},e),{source:"fmcg",content:Object.assign(Object.assign({},e.content),{preview:Object.assign(Object.assign({},e.content.preview),{backgroundUrl:(0,Fe.W)(e.content.preview.backgroundUrl,"80x96")}),slides:e.content.slides.map((e=>Object.assign(Object.assign({},e),{source:"fmcg"})))})});var He=s(35706),De=s(70021);const $e=e=>{var t,s,r,i;const a=(0,w.v9)((t=>e&&(0,He.k)({state:t,gtaId:e.gtaId}))),n=(0,w.v9)((t=>e&&(0,De.nM)({state:t,entityId:e.entityId})));return{data:null===(t=null==a?void 0:a.stories)||void 0===t?void 0:t.objects.map(Ue),isLoading:"loading"===(null===(s=null==n?void 0:n.meta)||void 0===s?void 0:s.status),isSuccess:"success"===(null===(r=null==n?void 0:n.meta)||void 0===r?void 0:r.status),isError:"error"===(null===(i=null==n?void 0:n.meta)||void 0===i?void 0:i.status)}};var Ve=s(33511);const qe=e=>"info"!==e.source,Ge=e=>{var t,s;return qe(e)?null!==(s=null===(t=e.template)||void 0===t?void 0:t.textPosition)&&void 0!==s?s:"left_top":2===e.template?"left_bottom":"left_top"},We=e=>{var t;if(e.button)return qe(e)?"phone"===e.button.action.type?Object.assign(Object.assign({},e.button),{action:Object.assign(Object.assign({},e.button.action),{value:`tel:${e.button.action.value}`})}):e.button:{backgroundColor:e.button.background_color,textColor:e.button.text_color,action:{type:e.button.type,caption:e.button.text,value:null===(t=e.button.link)||void 0===t?void 0:t.replace("dgis://","https://")}}},Qe=e=>(e=>!!qe(e)&&!!e.video)(e)?"video":"image",Ke=(e,t)=>{var s;return qe(e)?"discovery"===e.source&&t&&e.backgroundUrl?(0,Fe.W)(e.backgroundUrl,`${Math.floor(t.width)}x${Math.floor(t.height)}`):"image"===Qe(e)?e.backgroundUrl:null===(s=e.video)||void 0===s?void 0:s.url:e.background_url};var Je=s(58703);const Ye=(0,y.memo)((({title:e,body:t,subtitle:s,footerText:r,titleStyle:i})=>{const{css:n,s:c}=(0,o.y)(Xe);return(0,a.jsxs)("div",Object.assign({className:n(c.wrapper)},{children:[e&&(0,a.jsx)("span",Object.assign({className:n(c.title,"big"===i&&c.bigTitle)},l.dx.n("wat-story-slide-title"),{children:e})),s&&(0,a.jsx)("span",Object.assign({className:n(c.subtext)},{children:s})),t&&(0,a.jsx)("span",Object.assign({className:n(c.body)},l.dx.n("wat-story-slide-body"),{children:t})),r&&(0,a.jsx)(Je.p,{html:r,contentClassName:c.footerText,className:n(c.subtext)})]}))})),Xe=(0,o.k)({wrapper:{display:"flex",flexDirection:"column",color:n.O.white,gap:"8px",zIndex:1e3,position:"relative"},title:{fontSize:"24px",fontWeight:500,lineHeight:"32px",letterSpacing:"0em",textAlign:"left"},bigTitle:{fontSize:29},body:{fontSize:"16px",fontWeight:400,lineHeight:"20px",letterSpacing:"0em",textAlign:"left",whiteSpace:"pre-line"},subtext:{fontSize:"13px",textAlign:"left",fontWeight:400,color:"rgba(255, 255, 255, .7)",lineHeight:"16px",letterSpacing:"0em"},footerText:{"& a":{color:"rgba(255, 255, 255, .7)",textDecoration:"underline",":hover":{color:n.O.gray_262626}}}});var et=s(77351),tt=s(35253);const st=({rating:e})=>{const{css:t,s}=(0,o.y)(rt);return(0,a.jsxs)("div",Object.assign({className:t(s.wrapper)},{children:[(0,a.jsx)(et.i,{color:n.O.white,size:14,rating:e}),(0,a.jsx)("span",Object.assign({className:t(s.ratingCount)},{children:e}))]}))},rt=(0,o.k)({wrapper:{display:"flex",background:"#ffffff4d",borderRadius:tt.E0.default,paddingTop:6,paddingBottom:6,paddingStart:8,paddingEnd:10,color:n.O.white,gap:6,alignItems:"center",width:"max-content"},ratingCount:{fontSize:13,fontWeight:d.Ue.medium}}),it=({slide:e})=>{const{css:t,s}=(0,o.y)(at),r=qe(e)?{}:{subtitle:e.subtitle,footerText:e.footnote,titleStyle:e.title_style};return(0,a.jsxs)("div",Object.assign({className:t(s.wrapper)},{children:[qe(e)&&e.rating&&(0,a.jsx)(st,{rating:e.rating}),(0,a.jsx)(Ye,Object.assign({},r,{title:e.title,body:e.body}))]}))},at=(0,o.k)({wrapper:{display:"flex",flexDirection:"column",gap:8,padding:"0 24px"}}),nt=y.memo((e=>{var{activeSlide:t,onSlideLoaded:s,topContent:r,isContentLoaded:i,hasContentLoadingError:n,onError:c,mediaSlideStyles:d,onTapPrev:l,onTapNext:u,videoAPI:p,imageAPI:g,onTouchStart:f,entity:v,story:x,storyPosition:j,slidePosition:w,onStoryClose:_,slideSizes:C}=e,I=(0,b._T)(e,["activeSlide","onSlideLoaded","topContent","isContentLoaded","hasContentLoadingError","onError","mediaSlideStyles","onTapPrev","onTapNext","videoAPI","imageAPI","onTouchStart","entity","story","storyPosition","slidePosition","onStoryClose","slideSizes"]);const{css:O,s:S}=(0,o.y)(ot),N=y.useContext(Ve.j).frameId,M=(0,h.$)((()=>{s()})),T=void 0!==t.title||void 0!==t.body,P=Ge(t),E=T&&"left_top"===P,L=T&&"left_bottom"===P,{bssRef:z}=(0,m.T)(re.storyItemBss.bssShow({slide:t,story:x,storyPosition:j,position:w,entity:v}),{forceSendShowIfParamsChanged:[t.id],forcedIntersection:!0}),A=We(t),{bssRef:F,showEventOrdinal:B}=(0,m.T)(A?re.slideButtonBss.bssShow({slide:t,story:x,storyPosition:j,entity:v,position:w,callToAction:{value:A.action.value,actionType:A.action.type}}):void 0,{forceSendShowIfParamsChanged:[t.id],forcedIntersection:!0});return(0,a.jsxs)("div",Object.assign({ref:i?z:void 0,style:Object.assign({},C.styles),className:O(S.wrapper,i&&S.wrapperContentLoaded)},{children:[(0,a.jsxs)("div",Object.assign({},I,{className:O(S.overlay)},{children:[(0,a.jsx)("div",{onTouchStart:f,onTouchEnd:l,className:O(S.halfOverlay)}),(0,a.jsx)("div",{onTouchStart:f,onTouchEnd:u,className:O(S.halfOverlay)})]})),(0,a.jsxs)("div",Object.assign({className:O(S.slide,i&&S.fade)},{children:[(0,a.jsxs)("div",Object.assign({className:O(S.topContent)},{children:[r,E&&i&&(0,a.jsx)(it,{slide:t})]})),(0,a.jsxs)("div",Object.assign({className:O(S.contentWrapper)},{children:[(0,a.jsx)(R,{videoAPI:p,imageAPI:g,onError:c,url:Ke(t,C.original),type:Qe(t),onLoad:M,hasContentLoadingError:n,loaded:i,mediaSlideStyles:d}),i&&(0,a.jsx)("div",{className:O(S.gradient,E&&S.topTextGradient,L&&S.bottomTextGradient,!E&&!L&&S.noTextGradient)})]})),i&&(0,a.jsxs)("div",Object.assign({className:O(S.bottomContent)},{children:[L&&(0,a.jsx)(it,{slide:t}),A&&(0,a.jsx)(k,{onClick:_,showEventOrdinal:B,innerRef:F,slideButton:A,actionEventParamsSelector:re.slideButtonBss.bssTap({slide:t,story:x,position:w,ownerFrameId:N,storyPosition:j,entity:v,callToAction:{value:A.action.value,actionType:A.action.type}})})]}))]}))]}))})),ot=(0,o.k)({overlay:{background:"transparent",position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:2,overflow:"hidden",userSelect:"none",display:"flex"},halfOverlay:{width:"50%"},wrapper:{display:"flex",flexDirection:"column",background:n.O.gray_262626,position:"relative",borderRadius:16,overflow:"hidden"},wrapperContentLoaded:{background:"unset"},topContent:{position:"absolute",top:0,right:0,left:0},bottomContent:{position:"absolute",display:"flex",flexDirection:"column",gap:24,bottom:28,left:0,right:0},slide:{display:"flex",position:"relative",overflow:"hidden",alignItems:"center",width:"100%",height:"100%",borderRadius:16},contentWrapper:{display:"flex",alignItems:"center",position:"relative",height:"100%",width:"100%"},gradient:{position:"absolute",top:0,left:0,bottom:0,right:0,pointerEvents:"none",overflow:"hidden",userSelect:"none"},topTextGradient:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0.37) 37.27%, rgba(0, 0, 0, 0.06) 54.36%, rgba(0, 0, 0, 0) 61.76%)"},bottomTextGradient:{background:"linear-gradient(0deg, rgba(0, 0, 0, 0.7) 0%, rgba(0, 0, 0, 0.37) 37.27%, rgba(0, 0, 0, 0.06) 54.36%, rgba(0, 0, 0, 0) 61.76%), linear-gradient(180deg, rgba(0, 0, 0, 0.4) 0%, rgba(0, 0, 0, 0.06) 14.75%, rgba(0, 0, 0, 0) 21.48%)"},noTextGradient:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0.4) 0%, rgba(0, 0, 0, 0.06) 14.75%, rgba(0, 0, 0, 0) 21.48%)"},fade:{animationName:{"0%":{opacity:0},"100%":{opacity:1}},animationTimingFunction:"linear",animationDuration:"0.2s"}}),ct=(e,t)=>{const s=qe(e)?e.swipeInterval:e.swipe_interval;return null!=s?s:t}},29668:(e,t,s)=>{"use strict";s.d(t,{q:()=>L,s:()=>r});var r={};s.r(r),s.d(r,{getSuggestionPayload:()=>E,usePrepareSuggestion:()=>N});var i=s(52322),a=s(66908),n=s(98584),o=s(63993),c=s(85843),d=s(16286),l=s(86139),u=s(6801),p=s(75110),g=s(45544),m=s(6340);const h="advertisingCommentSuggest",f="withComment";(0,g.w)({name:h,percentRange:[0,1],groups:["controlGroup",f],forCountries:["RU"],excludeHumanFromSeo:!0});var v=s(27215),b=s(19977),y=s(16289),x=s(26287);const j=({type:e,url:t})=>{const s=(0,m.Z)(),{css:r,s:a}=(0,u.y)(w),n=(0,v.v9)(x.SJ);return s.featureSuggestAdsLogo&&t?(0,i.jsx)("div",Object.assign({className:r(a.logo)},c.dx.n("wat-suggest-logo"),{children:(0,i.jsx)(y.E,{src:t,height:32,width:32})})):(0,i.jsx)(b.c,{type:e,regionCode:n})},w=(0,u.k)({logo:{width:32,height:32,borderRadius:"50%",overflow:"hidden"}}),_=[2,3];var C=s(42858),I=s(51539),k=s(94958);function O(e){var t,s,r;const{name:i,item:a,isHint:n=!1}=e;if("history"===a.type)return[{text:i,is_suggested:!1}];const o=null===(t=a.search_attributes.suggest_parts)||void 0===t?void 0:t.find((e=>!e.is_suggested)),c=o&&o.text.toLowerCase();if(c){const e=i.toLowerCase().replace(k.E8," ").indexOf(c);if(e>-1)return[{text:i.substr(0,e),is_suggested:!0},{text:i.substr(e,c.length),is_suggested:!1},{text:i.substr(e+c.length),is_suggested:!0}].filter((e=>e.text))}const d=n&&"building"===(null===(s=a.entity)||void 0===s?void 0:s.type)?null===(r=a.entity.adm_div)||void 0===r?void 0:r.find((e=>"living_area"===e.type)):void 0;return[{text:d?`${i}, ${d.name}`:i,is_suggested:!0}]}var S=s(40464);const N=e=>{var t,s,r,i,a;const n=(0,m.Z)(),o=(0,C.T)(),{name:c,hint:d}=(0,I.v)({tp:o,config:n},e),l=O({name:c,item:e}),u=d?O({name:d,item:e,isHint:!0}):void 0,p=e.entity&&"ads"in e.entity&&(null===(t=e.entity.ads)||void 0===t?void 0:t.options)||void 0,g=!("object"!==e.type||!(null===(s=e.search_attributes)||void 0===s?void 0:s.dgis_ad_type)||!_.includes(e.search_attributes.dgis_ad_type)),h=g&&(e.search_attributes.dgis_ad_type===_[0]?null===(r=null==p?void 0:p.suggestor)||void 0===r?void 0:r.logo:null==p?void 0:p.logo),f=h?(0,S.P)(h,"64x64"):void 0;return{nameParts:l,hintParts:u,name:c,hint:d,adInfoParams:p&&g&&e.search_attributes.dgis_ad_type===_[0]?Object.assign(Object.assign({},null==p?void 0:p.suggestor),{legalName:null===(i=p.suggestor)||void 0===i?void 0:i.legal_name,erid:(null===(a=p.suggestor)||void 0===a?void 0:a.erid)?Array.isArray(p.suggestor.erid)?p.suggestor.erid:[p.suggestor.erid]:void 0}):void 0,logoImageUrl:f}};var M=s(4135),T=s(74333),P=s(91982);const E=e=>{var t,s,r,i,a,n,o;if(!("object"!==e.type||!(null===(t=e.search_attributes)||void 0===t?void 0:t.dgis_ad_type)||!_.includes(e.search_attributes.dgis_ad_type))&&(null===(s=e.entity)||void 0===s?void 0:s.id))return{entity:{id:e.entity.id,type:"branch",segmentInfo:(0,M.U)(e.entity)},org:"org"in e.entity?null===(r=e.entity.org)||void 0===r?void 0:r.id:void 0,mainRubric:"rubrics"in e.entity&&e.entity.rubrics?(0,T.o)(e.entity.rubrics):void 0,contextRubric:null===(i=e.search_attributes)||void 0===i?void 0:i.dgis_ad_rubric_id,adsId:"ads"in e.entity?null===(o=null===(n=null===(a=e.entity.ads)||void 0===a?void 0:a.options)||void 0===n?void 0:n.suggestor)||void 0===o?void 0:o.ads_id:void 0,adsAlgorithm:2===e.search_attributes.dgis_ad_type?39:40,adsHighlight:!0,geoPosition:"point"in e.entity&&e.entity.point?(0,P.a3)(e.entity.point):void 0}},L=({item:e,index:t,onClick:s,isHighlighted:r,bssShowFunction:n})=>{var o;const d=(0,m.Z)(),{css:v,s:b}=(0,u.y)(R),{name:y,hint:x,nameParts:w,hintParts:_,adInfoParams:C,logoImageUrl:I}=N(e),{bssRef:k}=(0,a.T)(n?n():void 0),O=4===t,S=(e,t)=>e.is_suggested?e.text:(0,i.jsx)("span",Object.assign({className:v(b.highlightedText)},{children:e.text}),e.text+t),M=(0,p.C)(e),T=(0,g.c)(h,d.experiments)===f;return(0,i.jsxs)("li",Object.assign({className:v(b.suggestion,r&&b.itemHighlighted),onClick:e=>{e.preventDefault(),e.stopPropagation()},onMouseDown:r=>{r.stopPropagation(),r.preventDefault(),s({hasLogo:!!I,index:t,item:e})},ref:k},c.dx.t(M),c.dx.n("wat-suggest-item"),c.dx.s(r&&"highlighted",!!x&&"withHint"),{children:[(0,i.jsx)("div",Object.assign({className:v(b.icon)},{children:(0,i.jsx)(j,{url:I,type:M})})),(0,i.jsxs)("div",Object.assign({className:v(b.content)},{children:[(0,i.jsx)("div",Object.assign({className:v(b.name),title:y},{children:w.map(S)})),_&&(0,i.jsx)("div",Object.assign({className:v(b.hint),title:x},{children:_.map(S)})),C&&(0,i.jsxs)("div",Object.assign({className:v(b.ads)},{children:[O&&T&&(null===(o=null==C?void 0:C.microcomment)||void 0===o?void 0:o.text),(0,i.jsx)(l.d,Object.assign({},C,{tiny:!0,gray:!0,source:"banner"}))]}))]}))]}))},R=(0,u.k)({suggestion:{position:"relative",boxSizing:"border-box",paddingTop:12,paddingBottom:12,paddingStart:72,paddingEnd:24,cursor:"pointer",display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"baseline",userSelect:"none",":hover":{background:n.O.gray_f9f9f9}},ads:{display:"flex",flexDirection:"column",paddingTop:6,color:n.O.black_transparent_50},itemHighlighted:{background:n.O.gray_f2f2f2,":hover":{background:n.O.gray_f2f2f2}},icon:{position:"absolute",color:n.O.gray_929292,top:4,start:24},content:{flex:"1 0 0%",minWidth:0},name:Object.assign(Object.assign({},(0,o.KU)(2,d.it)),{color:n.O.gray_929292,maxWidth:"100%"}),hint:Object.assign(Object.assign({},o.oN),{color:n.O.gray_929292,marginTop:6,maxWidth:"100%",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}),highlightedText:{color:n.O.gray_262626}})},39314:(e,t,s)=>{"use strict";s.d(t,{B:()=>o});var r=s(52322),i=s(19981),a=s(2933),n=s(67848);const o=e=>(0,r.jsx)(i.E,{loader:a.H.entityTooltip,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:n.Q})},47949:(e,t,s)=>{"use strict";s.d(t,{S_:()=>I,cn:()=>Ye,jJ:()=>qe,Q3:()=>tt,eG:()=>Zt,_n:()=>De,YS:()=>ct,mm:()=>Bt,E9:()=>a,userModel:()=>o});var r={};s.r(r),s.d(r,{X:()=>re});var i={};s.r(i),s.d(i,{_:()=>ie});var a={};s.r(a),s.d(a,{InformerData:()=>i.InformerData,MarkerElements:()=>r.MarkerElements,formatAvatarPreviewTpl:()=>Q,formatInformerRows:()=>ie,getIsAtShortDistanceFromCenter:()=>q,getIsInsideViewpoint:()=>G,getMarkerElements:()=>re,getUserAvatar:()=>K,getUserStatus:()=>te,isMyFriend:()=>se,useSmoothMoving:()=>oe});var n={};s.r(n),s.d(n,{changeProfilePrivacy:()=>Te,generators:()=>Ze,getProfileItemPayload:()=>Ce,showProfileStatus:()=>ke,showTooltip:()=>Me,showUserProfile:()=>Ie,showUserProfileHeader:()=>Ae,tapCluster:()=>Ne,tapFriendMarker:()=>Oe,tapSharerMarker:()=>Se,tapUserProfileHeader:()=>Fe});var o={};s.r(o),s.d(o,{bss:()=>n,getClusterStatusIcon:()=>ve,invalidatePublicProfile:()=>F,setPublicProfileData:()=>z,updatePublicProfileCache:()=>xe,useFriendStatus:()=>ge,useFriendsListQuery:()=>Z,useInformerTime:()=>he,useIsMyFriend:()=>be,useMoveToUserMarker:()=>le,usePublicProfile:()=>H,usePublicProfileApi:()=>R,useSocialGraphProfileQuery:()=>U,useUpdatePrivacy:()=>_e,useUserFriendshipCounterQuery:()=>B,useUserProfile:()=>ce,usersMarkersConfig:()=>me,withPublicProfile:()=>A});var c=s(52322),d=s(2784),l=s(42858);const u=1e3,p=({time:e})=>{const[t,s]=(0,d.useState)(e),r=(0,d.useRef)(),i=(0,l.T)();(0,d.useEffect)((()=>(r.current=setInterval((()=>{s((e=>e-u))}),u),()=>clearInterval(r.current))),[e]),(0,d.useEffect)((()=>{t<u&&(s(0),clearInterval(r.current))}),[t]);const{hours:a,minutes:n,seconds:o}=function(e){0;return{hours:g(Math.floor(e/36e5%24)),minutes:g(Math.floor(e/1e3/60%60)),seconds:g(Math.floor(e/1e3%60))}}(t);return(0,c.jsx)(c.Fragment,{children:`${i._t("Трансляция")} ${a}:${n}:${o}`})};function g(e){return e<10?`0${e}`:e}var m=s(27215),h=s(6801),f=s(63993),v=s(98584),b=s(54974),y=s(27516),x=s(48236),j=s(55206);function w(e=""){return e.split(" ").slice(0,2).map((e=>e[0])).filter((e=>e&&e.match(/\p{L}/u))).join("").toUpperCase()}var _=s(55557);const C={tiny:24,small:40,average:48,large:96},I=({url:e,name:t,size:s="large"})=>{const{css:r,s:i}=(0,h.y)(O),a="tiny"===s?i.initialsTiny:"small"===s?i.initialsSmall:i.initials;return(0,c.jsx)("div",Object.assign({className:r(i.avatar,"tiny"===s&&i._tiny,"small"===s&&i._small,"average"===s&&i._average),style:{width:s,height:s}},{children:(0,c.jsx)(j.q,{src:e,initials:()=>w(t),initialStyles:a})}))},k=({size:e="large"})=>{const t=C[e];return(0,c.jsx)(_.C,{width:t,height:t})},O=(0,h.k)({avatar:{width:C.large,height:C.large,flexShrink:0,borderRadius:"50%",overflow:"hidden",background:v.O.gray_f2f2f2},_tiny:{width:C.tiny,height:C.tiny},_small:{width:C.small,height:C.small},_average:{width:C.average,height:C.average},initials:Object.assign(Object.assign({},f.$h),{background:v.O.gray_929292,color:v.O.white,fontWeight:f.Ue.normal}),initialsSmall:Object.assign(Object.assign({},f.oN),{background:v.O.gray_929292,color:v.O.white,fontWeight:f.Ue.normal}),initialsTiny:Object.assign(Object.assign({},f.yG),{background:v.O.gray_929292,color:v.O.white,fontWeight:f.Ue.normal})});var S=s(22970);const N=e=>{var{subtitle:t,isMyProfile:s,broadcastTime:r}=e,i=(0,S._T)(e,["subtitle","isMyProfile","broadcastTime"]);const{css:a,s:n}=(0,h.y)(M),{_t:o}=(0,l.T)(),d=s?o("Это вы"):i.name;return(0,c.jsxs)("div",Object.assign({className:a(n.wrapper),style:t||r?{}:{justifyContent:"center "}},{children:[(0,c.jsx)("span",Object.assign({className:a(n.name)},{children:d})),!!r&&(0,c.jsx)("span",Object.assign({className:a(n.subtitle)},{children:(0,c.jsx)(p,{time:r})})),!r&&t&&(0,c.jsx)("span",Object.assign({className:a(n.subtitle)},{children:t}))]}))},M=(0,h.k)({wrapper:{display:"flex",flexDirection:"column",gap:4},name:Object.assign(Object.assign({},f.hC),{textAlign:"left"}),subtitle:Object.assign(Object.assign({},f.oN),{color:v.O.gray_929292})});var T=s(16289);function P(e){var{color:t="currentColor"}=e,s=(0,S._T)(e,["color"]);return(0,c.jsx)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},s,{children:(0,c.jsx)("path",{d:"M9.00333 15.3333L14.0033 2L0.669998 7L6.50333 9.5L9.00333 15.3333Z",fill:t})}))}var E=s(66908),L=s(42866);const{use:R,setQueryData:z,withQueryState:A,invalidate:F}=(0,L.r)("publicProfile",(e=>({services:t,config:s})=>(0,S.mG)(void 0,void 0,void 0,(function*(){const r=s.friendsDebugToken||(yield t.credentialsApi.getToken())||void 0;return yield t.publicProfileApi.getProfile(Object.assign(Object.assign({},e),{with_friend_info:!!r,accessToken:r}))}))),{cacheTime:0,refetchOnMount:!0}),{use:B}=(0,L.r)("userFriendsOnMap",(()=>({services:e,config:t})=>(0,S.mG)(void 0,void 0,void 0,(function*(){const s=t.friendsDebugToken||(yield e.credentialsApi.getToken());if(!s)throw new Error("There is no access_token");return yield e.socialGraphApi.getUserFriendshipCounter({accessToken:s})}))),{staleTime:0,cacheTime:0}),{use:Z}=(0,L.H)("friendsList",(e=>[[e.limit],({services:t,context:s,config:r})=>(0,S.mG)(void 0,void 0,void 0,(function*(){const i=r.friendsDebugToken||(yield t.credentialsApi.getToken())||void 0;if(!i)throw new Error("There is no access_token");return yield t.socialGraphApi.getFriendsList(Object.assign(Object.assign({},e),{accessToken:i,next_page_token:s.pageParam?`${s.pageParam}`:void 0}))}))]),{staleTime:1/0,cacheTime:1/0,getNextPageParam:e=>e.next_page_token}),{use:U}=(0,L.r)("socialGraphProfile",(e=>({services:t})=>(0,S.mG)(void 0,void 0,void 0,(function*(){return yield t.socialGraphApi.getUser(e)}))),{staleTime:1/0,cacheTime:1/0}),H=(e,t={enabled:!0})=>{const{states:s}=(0,m.v9)((e=>e.appContext.friendsOnMap)),r=R({id:e},{enabled:!!e&&t.enabled}),i=e?s[e]:void 0;return(0,d.useMemo)((()=>({state:i,profile:r})),[i,r])};var D=s(55476),$=s(6340),V=s(52145);function q(e,t){const[s,r]=t;return(0,V.I)(e.location,{lon:(r.lon+s.lon)/2,lat:(s.lat+r.lat)/2})<3e4}function G(e,t){const{lon:s,lat:r}=e.location,[i,a]=t;return s>=i.lon&&s<=a.lon&&r<=i.lat&&r>=a.lat}var W=s(57955);function Q(e,t){const s=t?48:96;return(0,W.B)(e,{width:s,height:s})}const K=(e,t)=>e.avatar_preview_tpl?Q(e.avatar_preview_tpl,t):e.avatar,J=e=>{if(e<0)return;const t=36e5,s=864e5;return{days:Math.floor(e/s),hours:Math.floor(e%s/t),minutes:Math.floor(e%t/6e4)}},Y=e=>"noGeo"===e.movement.status||!!e.staleTime&&Date.now()>e.staleTime;var X=s(19111);const ee=(e,t,s,r)=>{const i=(0,V.I)(e,t);return(0,X.z)({distance:i,isShortcut:!0,tp:s,rtl:r})},te=({state:e,entityName:t,selfUserLocation:s,eta:r,tp:i,rtl:a})=>{var n,o;if(!e)return;const c=(null===(n=null==e?void 0:e.locationPlace)||void 0===n?void 0:n.transportStatus)||(null===(o=e.locationPlace)||void 0===o?void 0:o.status),d=null==c?void 0:c.id,l=((e,t)=>{const s=J(Date.now()-e);if(s)return 1===s.days?t._t("Обновлено вчера"):s.days>1?t._t("Обновлено %1 дн назад",[s.days.toString()]):s.hours>0?t._t("Обновлено %1 ч назад",[s.hours.toString()]):s.minutes>0?t._t("Обновлено %1 мин назад",[s.minutes.toString()]):t._t("Обновлено только что")})(e.lastSeen,i),u=((e,t)=>{if(e.movement.stoppedAt){const s=J(Date.now()-e.movement.stoppedAt);if(s)return s.days>0?t._nt(["%% день","%% дня","%% дней"],s.days):s.hours>0&&s.minutes>0?t._t("%1 ч %2 мин",[s.hours.toString(),s.minutes.toString()]):s.hours>0?t._t("%1 ч",[s.hours.toString()]):t._t("%1 мин",[s.minutes.toString()])}})(e,i),p=r&&t?t:((e,t,s)=>{var r,i,a,n;if(Y(e))return s._t("Нет связи");if("moving"===e.movement.status&&void 0!==e.location.speed){const t=Math.max(Math.round(3.6*e.location.speed),1);return s._t("Скорость %1 км/ч",[t])}return"home"===(null===(i=null===(r=e.locationPlace)||void 0===r?void 0:r.status)||void 0===i?void 0:i.id)?s._t("Дома"):"work"===(null===(n=null===(a=e.locationPlace)||void 0===a?void 0:a.status)||void 0===n?void 0:n.id)?s._t("На работе"):t||s._t("Здесь")})(e,t,i),g=((e,t)=>{if(void 0===e||0===e)return;const s=J(1e3*e);return s&&s.hours?t._t("%1:%2 ч",[s.hours.toString(),s.minutes.toString()]):t._t("%1 мин",[null==s?void 0:s.minutes.toString()])})(r,i),m=(null==c?void 0:c.iconUrlTpl)?(0,W.B)(c.iconUrlTpl,{width:24,height:24}):void 0;return Y(e)?{eta:g,lastSeenText:l,place:{statusId:d,text:p}}:{eta:g,lastSeenText:l,place:{statusId:d,time:g?void 0:u,text:p,icon:m},distance:s?ee(s,e.location,i,a):void 0}},se=e=>!!(null==e?void 0:e.is_friend);function re(e){const t=e.parentElement,s=e.childNodes[0],[r,i,a,n,o]=s.childNodes,c=r.childNodes[0],d=c.childNodes[0];return{parent:t,root:s,flame:r,flameMarkerRotation:c,flameAnimation:d,avatar:i,informer:a,cluster:n,battery:o,rotateFlameMarker:e=>{c.style.rotate=`${e}deg`}}}function ie({isMoving:e,isOffline:t,speed:s,formattedTime:r,dir:i,tp:a}){if(e){if(void 0===s)return;return{firstRowText:`${Math.max(Math.round(3.6*s),1)}`,secondRowText:a._t("км/ч"),isOffline:!1}}if(!t&&r){const{days:e,hours:s,minutes:n}=r,o=e?`${e}`:s?a._t("%1 ч",[s]):`${n}`,c=e?a._nt(["%% день","%% дня","%% дней"],e):void 0,d="ltr"===i?null==c?void 0:c.split(" ")[1]:null==c?void 0:c.split(" ")[0];if(d)return{firstRowText:o,secondRowText:d,isOffline:t};if(!s&&!n)return;const l=a._nt(["%% мин","%% мин","%% мин"],n);return{firstRowText:o,secondRowText:s?l:"ltr"===i?null==l?void 0:l.split(" ")[1]:null==l?void 0:l.split(" ")[0],isOffline:t}}if(t&&r){const{days:e,hours:s,minutes:i}=r,n=e?a._nt(["%% день","%% дня","%% дней"],e):s?a._t("%1 ч",[s]):i?a._nt(["%% мин","%% мин","%% мин"],i):void 0;if(!n)return;return{firstRowText:n,secondRowText:a._t("назад"),isOffline:t}}}var ae=s(66842);var ne=s(78882);function oe({cluster:e,marker:t,markerElements:s}){const[r,i]=(0,d.useState)([]),a=r[0]||e,n=r[1],o=a.markers[0].state,c=null==n?void 0:n.markers[0].state,{isOffline:l,isMoving:u}=function(e){if(e.markers.length>1)return{isOffline:!1,isMoving:!1};const t=e.markers[0].state,s="noGeo"===t.movement.status||!!t.staleTime&&Date.now()>t.staleTime;return{isOffline:s,isMoving:!s&&"moving"===t.movement.status}}(a);return(0,d.useEffect)((()=>{i((t=>[...t,e]))}),[e.lonLat.lon,e.lonLat.lat,e.markers[0].state]),(0,d.useEffect)((()=>{if(!c||!t||!s)return;const e=()=>{t.setCoordinates([n.lonLat.lon,n.lonLat.lat]),i((e=>e.slice(1)))};if(!u)return e();s.rotateFlameMarker((0,ae.CN)({x:o.location.lon,y:o.location.lat},{x:c.location.lon,y:c.location.lat}));const a=Date.now(),d=function(e){if(e.length<2)throw new Error("Недостаточно точек для рассчета продолжительности анимации");let t=e[1].markers[0].state.updateTime-e[0].markers[0].state.updateTime;if(t>25e3||"moving"!==e[0].markers[0].state.movement.status)return 1e3;const s=e.length-1;return t/=Math.pow(s+3,.4)-.84,t}(r),l=()=>{const s=(Date.now()-a)/d;if(s>=1)return e();t.setCoordinates([o.location.lon+(c.location.lon-o.location.lon)*s,o.location.lat+(c.location.lat-o.location.lat)*s]),p=requestAnimationFrame(l)};let p=requestAnimationFrame(l);return()=>{cancelAnimationFrame(p)}}),[o,c,t,s]),function({isMoving:e,markerElements:t}){(0,ne.K)((s=>{if(!e||!t)return;const r=()=>{t.flame.style.rotate=`${s.getRotation()}deg`};return r(),s.on("rotation",r),()=>{s.off("rotation",r)}}),[e,t])}({isMoving:u,markerElements:s}),{state:o,isMoving:u,isOffline:l,isInsideViewpoint:o.isInsideViewpoint||!!(null==c?void 0:c.isInsideViewpoint),speed:u?void 0!==o.location.speed&&void 0!==(null==c?void 0:c.location.speed)?Math.round((o.location.speed+c.location.speed)/2):o.location.speed:void 0}}const ce=e=>{var t;const s=(0,$.Z)(),r=(null===(t=(0,m.v9)(D.bG).data)||void 0===t?void 0:t.public_user_id)||s.friendsDebugUserId,i=r===e,a=(0,m.v9)(D.Pc)||!!s.friendsDebugToken,n=(0,m.v9)(D.qv)&&!s.friendsDebugToken||a&&!i,{profile:o,state:c}=H(e,{enabled:n}),{profile:l,state:u}=H(r,{enabled:a}),{profile:p,state:g}=i?{profile:l,state:u}:{profile:o,state:c},h=!!p.isSuccess&&se(p.data.public_user.relation);return(0,d.useMemo)((()=>({profile:p,state:g,selfState:u,selfProfile:l,isMyProfile:i,isMyFriendProfile:h})),[p,g,u,l,i,h])};var de=s(69088);const le=e=>{const t=(0,m.I0)(),s=(0,d.useRef)(!1),r=(0,m.v9)((e=>e.appContext.friendsOnMap.sharedRoute));(0,d.useEffect)((()=>{!e||s.current||r||(t((0,de.Nr)({lon:e.location.lon,lat:e.location.lat,animate:!0})),s.current=!0)}),[e,t,r])};var ue=s(70021),pe=s(80837);const ge=({state:e,selfState:t,isMyProfile:s,isMyFriendProfile:r})=>{var i,a,n,o,c,u,p;const g=(0,l.T)(),{rtl:h}=(0,$.Z)(),f=(0,m.I0)(),v=(0,m.v9)((e=>e.appContext.friendsOnMap.sharedRoute)),b=(null==v?void 0:v.sharerId)===(null==e?void 0:e.id),y=b&&(null===(i=null==v?void 0:v.pointB)||void 0===i?void 0:i.title),x="work"===(null===(n=null===(a=null==e?void 0:e.locationPlace)||void 0===a?void 0:a.status)||void 0===n?void 0:n.id)||"home"===(null===(c=null===(o=null==e?void 0:e.locationPlace)||void 0===o?void 0:o.status)||void 0===c?void 0:c.id)||null===(p=null===(u=null==e?void 0:e.locationPlace)||void 0===u?void 0:u.object)||void 0===p?void 0:p.id,j=(0,m.v9)((e=>x?(0,ue.wj)({state:e,entityId:x}):void 0));(0,d.useEffect)((()=>{x&&!s&&f((0,pe.$)({id:x,searchId:void 0}))}),[f,x,s]);const w=y||((null==j?void 0:j.data)&&"name"in j.data?j.data.name:void 0),_=s||null==t?void 0:t.location;return(0,d.useMemo)((()=>{if(e&&(s||r))return te({state:e,entityName:w,eta:b?null==v?void 0:v.eta:void 0,selfUserLocation:_,tp:g,rtl:h})}),[e,s,r,w,null==v?void 0:v.eta,_,b,g,h])},me={clusteringRadius:.1,maxZoomForClustering:17,minZoomForBigMarkers:11.5,markerSize:48,safeZoneX:12,safeZoneY:20};function he({state:e,isOffline:t,isMoving:s}){const[r,i]=(0,d.useState)();return(0,d.useEffect)((()=>{i(fe({state:e,isOffline:t,isMoving:s}));const r=setInterval((()=>{i(fe({state:e,isOffline:t,isMoving:s}))}),6e4);return()=>{clearInterval(r)}}),[e,t,s]),r}function fe({isOffline:e,isMoving:t,state:s}){const r=(()=>{if(!t)return e?Date.now()-s.lastSeen:s.movement.stoppedAt?Date.now()-s.movement.stoppedAt:void 0})();return r?J(r):void 0}function ve(e){var t,s,r,i,a,n,o,c;let d;if(1===e.markers.length){const a=e.markers[0];d=(null===(s=null===(t=a.state.locationPlace)||void 0===t?void 0:t.transportStatus)||void 0===s?void 0:s.iconUrlTpl)||(null===(i=null===(r=a.state.locationPlace)||void 0===r?void 0:r.status)||void 0===i?void 0:i.iconUrlTpl)}else d=null===(c=null===(o=null===(n=null===(a=e.markers.find((e=>{var t,s;return null===(s=null===(t=e.state.locationPlace)||void 0===t?void 0:t.status)||void 0===s?void 0:s.iconUrlTpl})))||void 0===a?void 0:a.state)||void 0===n?void 0:n.locationPlace)||void 0===o?void 0:o.status)||void 0===c?void 0:c.iconUrlTpl;return null==d?void 0:d.replace("w={width}&h={height}","h=32")}const be=e=>{var t,s;const r=(0,$.Z)(),i=((e,{enabled:t}={enabled:!0})=>{var s;const r=(0,$.Z)(),i=(null===(s=(0,m.v9)(D.bG).data)||void 0===s?void 0:s.access_token)||r.friendsDebugToken,a=(0,m.v9)(D.zP);return U({id:e,accessToken:i},{enabled:!a&&!!i&&!r.featurePublicProfile&&t})})(e,{enabled:!(((null===(t=(0,m.v9)(D.bG).data)||void 0===t?void 0:t.public_user_id)||r.friendsDebugUserId)===e)});if(i.isSuccess)return"confirmed"===(null===(s=i.data.request)||void 0===s?void 0:s.status)};var ye=s(67753);const xe=(0,ye.gQ)("updatePublicProfileCache",((e,t)=>A({id:e},(s=>(null==s?void 0:s.data)?z({id:e},t(s.data)):(0,ye.ZT)()))));var je=s(82066),we=s(23822);const _e=()=>{const{credentialsApi:e,publicProfileApi:t}=(0,we.S)(),s=(0,m.I0)();return(0,je.useMutation)((s=>(0,S.mG)(void 0,void 0,void 0,(function*(){const r=yield e.getToken();if(r)return yield t.updatePrivacy(Object.assign({accessToken:r},s))}))),{onSuccess:(e,t)=>{s(xe(t.publicUserId,(e=>Object.assign(Object.assign({},e),{public_user:Object.assign(Object.assign({},e.public_user),{privacy:t.privacy})}))))}})},Ce=({user:e})=>({authUser:e.user_id,publicProfileId:e.public_user_id,isPrivate:"CLOSE"===e.privacy,isDeleted:e.is_deleted,hasPhoto:!!e.avatar}),Ie=({user:e,isFriend:t})=>({frameId:s})=>{const r=Ce({user:e});return{uiElement:{name:t?"friendCardFull":"profileCardFull",ownerName:"profileCardFrame",frameUuid:s},payload:{profileItem:r}}},ke=({user:e,status:t})=>({frameId:s},{appContext:r})=>{var i,a,n,o,c;const{sharedRoute:d,states:l,profiles:u}=r.friendsOnMap,p=u[e.public_user_id],g=l[e.public_user_id],m=null===(a=null===(i=l[e.public_user_id])||void 0===i?void 0:i.locationPlace)||void 0===a?void 0:a.transportStatus,h=null===(n=null==p?void 0:p.sharing)||void 0===n?void 0:n.isFriend,f=Ce({user:e}),v=(e=>{switch(e){case"car":return 1;case"freeRoam":return 2;case"pedestrian":return 3;case"truck":return 4;case"taxi":return 5;case"bicycle":return 6;case"scooter":return 7;default:return}})(null===(c=null===(o=null==g?void 0:g.locationPlace)||void 0===o?void 0:o.transportStatus)||void 0===c?void 0:c.id),b=null==t?void 0:t.place.statusId,y=null==d?void 0:d.eta;if(b)return{uiElement:{name:"locationStatusMessage",ownerName:h?"friendCardFull":"geoSharingCardScreen",frameUuid:s},payload:Object.assign({messageInfo:b?{type:"friendsLocationPlace",value:m?"moving":b}:void 0,profileItem:f},d?{navigationConfig:{timeLeft:y,routeType:v}}:{})}},Oe=({profile:e,state:t})=>(s,{appContext:r})=>{var i,a;const n=null===(a=null===(i=t.locationPlace)||void 0===i?void 0:i.status)||void 0===a?void 0:a.id;return{uiElement:{name:"friendMarker",ownerName:"map",frameUuid:r.staticFrames.map.id},payload:{mapMarker:{itemsCount:1,mapLayer:"friendsLayer"},profileItem:{publicProfileId:e.id,hasPhoto:Boolean(e.logo)},messageInfo:n?{type:"friendsLocationPlace",value:n}:void 0},action:"tap"}},Se=({profile:e})=>(t,{appContext:s})=>e.session&&{uiElement:{name:"geoSharingMarker",ownerName:"map",frameUuid:s.staticFrames.map.id},payload:{profileItem:{publicProfileId:e.id,hasPhoto:Boolean(e.logo)},geoSharing:{sessionId:e.session.sessionId,expirationTime:e.session.expiresAt?Math.round((e.session.expiresAt-e.session.serverTime)/1e3):void 0}},action:"tap"},Ne=({clusterSize:e})=>(t,s)=>({uiElement:{name:"friendClusterMarker",ownerName:"map",frameUuid:s.appContext.staticFrames.map.id},payload:{mapMarker:{itemsCount:e,mapLayer:"friendsLayer"}},action:"tap"}),Me=({publicProfileId:e,hasPhoto:t,placeId:s})=>(r,i)=>({uiElement:{name:"tooltip",ownerName:"friendMarker",frameUuid:i.appContext.staticFrames.map.id},payload:{profileItem:{publicProfileId:e,hasPhoto:t},messageInfo:s?{type:"friendsLocationPlace",value:s}:void 0}}),Te=({profile:e})=>({frameId:t},s,r)=>{if(e&&r)return{uiElement:{name:"changeProfilePrivacy",ownerName:"profileSettingsFrame",frameUuid:t},action:"tap",payload:{profileItem:Ce({user:Object.assign(Object.assign({},e),{privacy:r.newPrivacy})})}}};var Pe=s(98224),Ee=s(10484),Le=s(72965),Re=s(17774);const ze=(e,t,s)=>{var r;const i=(0,Ee.iF)(t.appContext.frames,s),a=i&&"entityId"in i&&i.entityId?(0,ue.nM)({entityId:i.entityId,state:t}).data:void 0;if("photoCardFull"===e.ownerName){const n=i?null===(r=(0,Pe.py)({state:t,frameId:i.id}))||void 0===r?void 0:r.id:void 0,o=(0,Le.N)({photo:e.photo,orgId:"branch"===(null==a?void 0:a.type)?a.org.id:void 0,entityId:null==a?void 0:a.id,entityType:null==a?void 0:a.type,tag:n});return{uiElement:{ownerName:e.ownerName,frameUuid:s,name:"userProfileHeader"},payload:{photo:o,profileItem:{authUser:e.authUser,inSubscriptions:e.inSubscriptions}}}}const n="branch"===(null==a?void 0:a.type)?a.org.id:void 0,o=(0,Re.H)({review:e.review,orgId:n});return{uiElement:{ownerName:e.ownerName,frameUuid:s,name:"userProfileHeader"},payload:{reviewItem:o,profileItem:{authUser:e.authUser,inSubscriptions:e.inSubscriptions}}}},Ae=e=>({frameId:t},s)=>ze(e,s,t),Fe=e=>({frameId:t},s)=>{const r=ze(e,s,t);return Object.assign({action:"tap"},r)};var Be=s(18122);const Ze={views:{profileFrame:(0,Be.vp)({name:"profileCardFrame"}),profile:(0,Be.d7)({uiElement:{name:"friendCardFull",ownerName:"profileCardFrame"}}),profileStatus:(0,Be.d7)({uiElement:{name:"locationStatusMessage",ownerName:"friendCardFull"}}),profileVisitedPlaces:(0,Be.d7)({uiElement:{name:"profileCardActivitiesList",ownerName:"profileCardTwoThirds"}})},actions:{profileVisitedPlaces:(0,Be.d7)({uiElement:{name:"profileCardActivitiesList",ownerName:"profileCardTwoThirds"}})}},Ue=({user:e,status:t})=>{const{css:s,s:r}=(0,h.y)(He),{place:i,distance:a,eta:n}=t,{bssRef:o}=(0,E.T)(ke({user:e,status:t}));return(0,c.jsxs)("div",Object.assign({className:s(r.status),ref:o},{children:[i.icon&&(0,c.jsx)("div",{children:(0,c.jsx)(T.E,{width:24,height:24,src:i.icon})}),(0,c.jsxs)("div",Object.assign({className:s(r.textPart)},{children:[i.text&&(0,c.jsx)("div",Object.assign({className:s(r.statusText,!!i.icon&&r._withIcon)},{children:(0,c.jsx)("div",Object.assign({className:s(r.text)},{children:i.text}))})),!!i.time&&(0,c.jsx)("div",Object.assign({className:s(r.time)},{children:i.time&&(0,c.jsx)("span",Object.assign({className:s(r.time)},{children:i.time}))}))]})),!(!n&&!a)&&(0,c.jsx)("div",Object.assign({className:s(r.distance)},{children:n?(0,c.jsx)("span",Object.assign({className:s(r.eta,i.icon&&r.pulse)},{children:n})):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(P,{}),(0,c.jsx)("span",{children:a})]})}))]}))},He=(0,h.k)({status:Object.assign({display:"flex",gap:8},f.oN),textPart:{alignSelf:"stretch",display:"flex",flexDirection:"column",gap:4,flexGrow:1},statusText:{display:"flex",alignItems:"center"},_withIcon:{minHeight:24},text:Object.assign(Object.assign({},(0,f.KU)(3,f.q0)),{color:v.O.black}),time:Object.assign(Object.assign({display:"flex",justifyContent:"space-between"},f.q0),{color:v.O.gray_929292}),distance:Object.assign(Object.assign({height:24,display:"flex",alignItems:"center",wordWrap:"nowrap",gap:8},f.q0),{color:v.O.gray_929292}),eta:{whiteSpace:"nowrap"},pulse:{position:"relative",color:"#30AD00","::after":{content:'""',position:"absolute",left:-10,top:"50%",transform:"translateY(-50%)",height:4,width:4,background:"#30AD00",borderRadius:"50%",animationName:{"0%":{boxShadow:"0 0 0 0px rgba(48, 173, 0, 0.6)"},"100%":{boxShadow:"0 0 0 4px rgba(48, 173, 0, 0)"}},animationTimingFunction:"linear",animationDuration:"1200ms",animationIterationCount:"infinite"}}}),De=({user:e,status:t,isMyProfile:s,isAuthorized:r,isMyFriendProfile:i})=>{const{css:a,s:n}=(0,h.y)($e),{featurePublicProfile:o}=(0,$.Z)(),d=(0,m.I0)(),{isMobileDevice:u}=(0,$.Z)(),p=(0,b.$)((()=>{d((0,y.mk)())})),{_t:g}=(0,l.T)(),f=(null==t?void 0:t.distance)||(null==t?void 0:t.place),v=K(e,u),{bssRef:j}=(0,E.T)(Ie({user:e,isFriend:i}));return(0,c.jsxs)("div",Object.assign({ref:j,style:{height:o?"unset":"100%"},className:a(n.profile)},{children:[(0,c.jsx)(I,{size:u?"average":"large",url:v,name:e.name}),(0,c.jsx)(N,{isMyProfile:s,name:e.name,subtitle:i||s?null==t?void 0:t.lastSeenText:null==t?void 0:t.countersText}),f&&(0,c.jsx)(Ue,{user:e,status:t}),!1===i&&!s&&r&&!o&&(0,c.jsx)("span",Object.assign({className:a(n.text)},{children:g("Добавьте пользователя в друзья в приложении 2ГИС на телефоне, чтобы видеть его местоположение на карте")})),!r&&!o&&(0,c.jsxs)("div",Object.assign({className:a(n.auth)},{children:[(0,c.jsx)("span",Object.assign({className:a(n.text)},{children:g("Авторизуйтесь, чтобы видеть местоположение друга на карте")})),(0,c.jsx)(x.z,Object.assign({wide:!0,appearance:"primary",onClick:p},{children:g("Авторизоваться")}))]}))]}))},$e=(0,h.k)((({mobile:e})=>({profile:{display:"flex",flexDirection:e?"row":"column",gap:16},text:Object.assign(Object.assign({},f.oN),{color:v.O.gray_929292}),auth:{display:"flex",flexDirection:"column",gap:16}})));var Ve=s(91520);const qe=()=>{const{css:e,s:t}=(0,h.y)(Ge),s=(0,l.T)();return(0,c.jsxs)("div",Object.assign({className:e(t.wrapper)},{children:[(0,c.jsx)(Ve.k,{color:v.O.gray_929292}),(0,c.jsx)("span",Object.assign({className:e(t.text)},{children:s._t("Пользователь не найден")}))]}))},Ge=(0,h.k)({wrapper:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:"100%",gap:32},text:Object.assign(Object.assign({},f.hC),{color:v.O.gray_929292})});var We=s(86139),Qe=s(44149),Ke=s(20094);const Je="friends_promo_qr_code",Ye=({userId:e,userName:t})=>{(0,Qe.yq)({elementId:Je,type:"userProfilePromo",deepLink:`https://2gis.ru/user/${e}`});const{_t:s}=(0,l.T)(),{css:r,s:i}=(0,h.y)(Xe);return(0,c.jsxs)("div",Object.assign({className:r(i.wrapper)},{children:[(0,c.jsx)("div",{className:r(i.bgImage)}),(0,c.jsxs)("div",Object.assign({className:r(i.textBlock)},{children:[(0,c.jsx)("div",Object.assign({className:r(i.text)},{children:s("Смотрите в&nbsp;приложении, с кем дружит %1, и&nbsp;добавляйте их в друзья!",[t])})),(0,c.jsx)("div",Object.assign({className:r(i.adInfoLink)},{children:(0,c.jsx)(We.d,{rating:0,gray:!0,source:"banner",erid:["2Ranyn8qroa"],legalName:'ООО "ДубльГИС"'})}))]})),(0,c.jsx)("div",Object.assign({className:r(i.qrBlock)},{children:(0,c.jsx)("div",{className:r(i.qrCode),id:Je})}))]}))},Xe=(0,h.k)((({rtl:e})=>({wrapper:{padding:16,backgroundColor:v.O.gray_f2f2f2,display:"flex",flexDirection:"row",gap:10,position:"relative",alignItems:"flex-start"},bgImage:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundImage:'url("/public/friendsOnMap/bannerHeart.png")',backgroundSize:"112px 128px",backgroundRepeat:"no-repeat",backgroundPosition:"top right",transform:e?"scaleX(-1)":"none"},textBlock:{display:"flex",flexDirection:"column",gap:16,justifyContent:"space-between",zIndex:1},text:Object.assign({color:v.O.black},f.q0),adInfoLink:Object.assign({},f.Vz),qrBlock:{background:v.O.white,padding:8,borderRadius:"8px",boxShadow:`0px 1px 2px 0px ${(0,Ke.j)(v.O.black,.06)}`,zIndex:1},qrCode:{display:"flex",justifyContent:"center",alignItems:"center",width:80,height:80,"& canvas":{width:"100%",height:"100%"}}})));var et=s(35253);const tt=()=>{const{isMobileDevice:e,featurePublicProfile:t}=(0,$.Z)(),{css:s,s:r}=(0,h.y)(st);return e?(0,c.jsxs)("div",Object.assign({className:s(r.mobile)},{children:[(0,c.jsx)("div",Object.assign({className:s(r.raw)},{children:(0,c.jsxs)("div",Object.assign({className:s(r.block)},{children:[(0,c.jsx)(k,{size:"average"}),(0,c.jsxs)("div",Object.assign({className:s(r.column)},{children:[(0,c.jsx)("div",{className:s(r.mobileName)}),(0,c.jsx)("div",{className:s(r.timer)})]}))]}))})),(0,c.jsx)("div",{className:s(r.button)})]})):(0,c.jsxs)("div",Object.assign({style:{height:t?"unset":"100%"},className:s(r.desktop)},{children:[(0,c.jsx)(k,{size:"large"}),(0,c.jsx)("div",{className:s(r.name)}),(0,c.jsx)("div",{className:s(r.status)})]}))},st=(0,h.k)({desktop:{display:"flex",flexDirection:"column",paddingTop:24,paddingEnd:24,paddingBottom:0,paddingStart:24},mobile:{display:"flex",flexDirection:"column",padding:16,gap:16,backgroundColor:v.O.white},name:{display:"flex",flexDirection:"column",marginTop:16,marginEnd:0,marginBottom:10,marginStart:0,gap:4,width:172,height:16,background:v.O.gray_f2f2f2,borderRadius:et.E0.default},status:{width:129,height:12,borderRadius:et.E0.default,background:v.O.gray_f2f2f2},raw:{display:"flex",alignItems:"center",justifyContent:"space-between"},block:{display:"flex",alignItems:"center",gap:12},column:{display:"flex",flexDirection:"column",justifyContent:"center",gap:4},button:{width:"100%",height:40,borderRadius:et.E0.default,background:v.O.gray_f2f2f2},mobileName:{width:172,height:20,background:v.O.gray_f2f2f2,borderRadius:et.E0.default},timer:{width:172,height:16,background:v.O.gray_f2f2f2,borderRadius:et.E0.default}});var rt=s(96729);const it=({user:e,avatarUrl:t,isMyFriendProfile:s,isMyProfile:r,status:i,broadcastTime:a,onClose:n,bssShowFunction:o,onAddFriend:d})=>{const u=(0,l.T)(),{css:g,s:f}=(0,h.y)(at),{bssRef:v}=(0,E.T)(o&&o()),{brandName:b}=(0,$.Z)(),y=(0,m.v9)(D.Pc),j=(null==i?void 0:i.distance)||(null==i?void 0:i.place);return(0,c.jsxs)("div",Object.assign({className:g(f.profile),ref:v},{children:[(0,c.jsxs)("div",Object.assign({className:g(f.raw)},{children:[(0,c.jsxs)("div",Object.assign({className:g(f.block)},{children:[(0,c.jsx)(I,{url:t,name:e.name,size:"average"}),(0,c.jsxs)("div",Object.assign({className:g(f.column)},{children:[(0,c.jsx)(N,{isMyProfile:r,name:e.name,subtitle:s||r?null==i?void 0:i.lastSeenText:void 0}),!!a&&(0,c.jsx)("span",Object.assign({className:g(f.text)},{children:(0,c.jsx)(p,{time:a})}))]}))]})),(0,c.jsx)("button",Object.assign({type:"button",onClick:n,className:g(f.closeButton)},{children:(0,c.jsx)(rt.x,{})}))]})),j&&(0,c.jsx)(Ue,{user:e,status:i}),(0,c.jsx)(x.z,Object.assign({wide:!0,appearance:"primary",external:!0,href:`https://2gis.ru/user/${e.public_user_id}`,onClick:d,dataN:"wat-add-to-friends-button"},{children:y?u._t("Скачать %1",[b]):u._t("Добавить в друзья")}))]}))},at=(0,h.k)({profile:{display:"flex",flexDirection:"column",padding:16,gap:16},text:Object.assign(Object.assign({},f.oN),{color:v.O.gray_929292}),raw:{display:"flex",alignItems:"center",justifyContent:"space-between"},closeButton:{display:"flex",alignItems:"center",justifyContent:"center",width:40,height:40,borderRadius:8,backgroundColor:"#F2F2F2"},block:{display:"flex",gap:12},column:{display:"flex",flexDirection:"column",justifyContent:"center"}}),nt=({avatarUrl:e,user:t,isMyProfile:s,isMyFriendProfile:r,broadcastTime:i,status:a,bssShowFunction:n,onAddFriend:o})=>{const d=(0,l.T)(),{css:u,s:p}=(0,h.y)(ot),{bssRef:g}=(0,E.T)(n&&n()),m=(null==a?void 0:a.distance)||(null==a?void 0:a.place);return(0,c.jsxs)("div",Object.assign({className:u(p.desktop),ref:g},{children:[(0,c.jsx)(I,{url:e,name:t.name}),(0,c.jsx)(N,{isMyProfile:s,name:t.name,subtitle:r||s?null==a?void 0:a.lastSeenText:void 0,broadcastTime:i}),m&&(0,c.jsx)(Ue,{user:t,status:a}),(0,c.jsx)(x.z,Object.assign({wide:!0,appearance:"primary",external:!0,href:`https://friends.2gis.ru?user_id=${t.public_user_id}`,onClick:o,dataN:"wat-add-to-friends-button"},{children:d._t("Добавить в друзья")}))]}))},ot=(0,h.k)({desktop:{display:"flex",flexDirection:"column",height:"100%",gap:16},text:Object.assign(Object.assign({},f.oN),{color:v.O.gray_929292})}),ct=e=>{const{isMobileDevice:t}=(0,$.Z)();return t?(0,c.jsx)(it,Object.assign({},e)):(0,c.jsx)(nt,Object.assign({},e))};var dt=s(48090),lt=s(56238);const ut=()=>{const{css:e,s:t}=(0,h.y)(pt);return(0,c.jsxs)("div",Object.assign({className:e(t.root)},{children:[(0,c.jsx)("div",Object.assign({className:e(t.flame)},{children:(0,c.jsx)("div",Object.assign({className:e(t.flameMarkerRotation)},{children:(0,c.jsx)("div",{className:e(t.flameAnimation)})}))})),(0,c.jsx)("div",{className:e(t.avatar)}),(0,c.jsx)("div",{className:e(t.informer)}),(0,c.jsx)("div",{className:e(t.cluster)}),(0,c.jsx)("div",{className:e(t.battery)})]}))},pt=(0,h.k)({root:{position:"relative",width:me.markerSize,height:me.markerSize,fontFamily:"SBSansText, Helvetica, Arial, sans-serif",fontWeight:f.Ue.medium},flame:{position:"absolute",inset:0},flameMarkerRotation:{position:"absolute",inset:0,transition:"rotate 666ms ease"},flameAnimation:{marginTop:2,marginRight:2},avatar:{position:"absolute",inset:0,"& > svg path":{cursor:"pointer",pointerEvents:"auto"}},informer:{position:"absolute",inset:0,transition:"transform 66ms ease",display:"flex",justifyContent:"center","& > *":{cursor:"pointer",pointerEvents:"auto"}},cluster:{position:"absolute",inset:0,"& > *":{cursor:"pointer",pointerEvents:"auto"}},battery:{position:"absolute",inset:0,transition:"transform 66ms ease","& > *":{cursor:"pointer",pointerEvents:"auto"}}});var gt=s(30445);var mt=s(12039),ht=s.n(mt);function ft({container:e,isEnabled:t,name:s,loop:r=!0,autoplay:i=!0,transformData:a}){const{data:n}=vt({name:s},{enabled:t}),o=(0,d.useMemo)((()=>a&&n?a(n):n),[n,a]),[c,l]=(0,d.useState)();return(0,d.useEffect)((()=>{if(!t||!e||!o)return;const s=ht().loadAnimation({container:e,renderer:"svg",loop:r,autoplay:i,animationData:o,rendererSettings:{hideOnTransparent:!1}});return s.addEventListener("DOMLoaded",(()=>{l(s)})),()=>{s.destroy(),l(void 0)}}),[t,e,o,r]),(0,d.useEffect)((()=>{c&&(i?c.play():c.stop())}),[c,i]),{isLoaded:!!c}}const{use:vt}=(0,L.r)("fetchAnimationData",(e=>({config:t})=>{const s=`${t.staticPath}animations/${e.name}.json`;return fetch(s).then((e=>e.json()))}),{staleTime:1/0,cacheTime:1/0,notifyOnChangeProps:["data"]});var bt=s(69003);function yt({initials:e,id:t}){return(0,c.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"48",height:"48",viewBox:"0 0 48 48",fill:"none"},{children:[(0,c.jsx)("rect",{x:"0",y:"0",width:"48",height:"48",rx:"24",fill:"#B8B8B8"}),(0,c.jsx)("path",{d:"M6 6H42V42H6V6Z",fill:`url(#pattern${t})`}),(0,c.jsx)("defs",{children:(0,c.jsx)("pattern",Object.assign({id:"pattern"+t,patternContentUnits:"objectBoundingBox",width:"1",height:"1"},{children:(0,c.jsx)("use",{xlinkHref:"#text"+t})}))}),(0,c.jsx)("text",Object.assign({id:"text"+t,x:"24",y:"25",dominantBaseline:"middle",textAnchor:"middle",fontSize:"16",fontFamily:"SBSansText, Helvetica, Arial, sans-serif",fill:"#FFFFFF"},{children:e}))]}))}var xt=s(86023),jt=s(95838);const wt=_t("...");function _t(e){return`data:image/svg+xml;base64,${(0,xt.oF)((0,dt.renderToStaticMarkup)((0,c.jsx)(yt,{initials:e,id:"friendWithInitials"})))}`}const Ct=({markerElements:e,logos:t,isCluster:s,isSelected:r,isMyProfile:i,isSmall:a,isOffline:n,isInsideViewpoint:o})=>{const c=null==e?void 0:e.avatar,l=(0,d.useCallback)((e=>e?kt({clusterSize:t.length,data:e}):void 0),[t.length]),{isLoaded:u}=ft({isEnabled:!r,container:c,name:s?"friends/cluster_5f":"friends/avatar"+(i?"_user":""),autoplay:!a&&!n&&o,transformData:s?l:void 0}),{isLoaded:p}=ft({isEnabled:r,container:c,name:`friends/avatar_${i?"user_":""}selected`,loop:!1}),g=p||u,[m,h]=(0,d.useState)(!1);return(0,d.useEffect)((()=>{g&&h(!0)}),[g]),function({container:e,logos:t,isLoaded:s}){(0,d.useEffect)((()=>{s&&e&&t.length&&e.querySelectorAll("svg g > image").forEach(((e,s)=>{const r=s===t.length?0:s,i=t[r],a=t=>{e.setAttribute("href",t)};i.url?(0,jt.A)({src:i.url,onLoad:()=>{a(i.url)},onError:()=>{a(_t(i.initials))},onLoading:()=>{a(wt)}}):a(_t(i.initials))}))}),[s,e,t])}({container:c,logos:t,isLoaded:g}),{wasLoaded:m}},It=new Map,kt=({clusterSize:e,data:t})=>{let s=It.get(e);return s||(s=Object.assign(Object.assign({},t),{nm:`M_Claster_Photo_${e}`,op:1+50*e,assets:t.assets.reduce(((t,s)=>("image_0"===s.id?(0,bt.D)(e,(e=>{t.push(Object.assign(Object.assign({},s),{id:`image_${e}`}))})):s.id.startsWith("image_")||t.push(s),t)),[]),layers:t.layers.reduce(((t,s)=>{var r;const i=r=>{t.push(Object.assign(Object.assign(Object.assign({},s),{ind:t.length+1,op:1+50*e}),r))};return"image_0"===s.refId?"Photo"===s.nm?i({op:26}):(0,bt.D)(e,(t=>{const r=50*(e-t-1);i({refId:`image_${t}`,nm:`Photo ${t+1}`,ks:Object.assign(Object.assign({},s.ks),{p:Object.assign(Object.assign({},s.ks.p),{k:Ot(s.ks.p.k,r)})}),masksProperties:s.masksProperties.map((e=>Object.assign(Object.assign({},e),{pt:Object.assign(Object.assign({},e.pt),{k:Ot(e.pt.k,r)})}))),ip:16+r,op:0===t?1+50*e:76+r,st:r})})):"Null 17"===s.nm?i({ks:Object.assign(Object.assign({},s.ks),{s:Object.assign(Object.assign({},s.ks.s),{k:[...(0,bt.D)(e,(e=>[Object.assign(Object.assign({},s.ks.s.k[0]),{t:50*e}),Object.assign(Object.assign({},s.ks.s.k[1]),{t:50*e+25})])).flat(),{t:50*e,s:s.ks.s.k[e%2].s}]})})}):"Ellipse 727"===s.nm?i({ks:Object.assign(Object.assign({},s.ks),{s:Object.assign(Object.assign({},s.ks.s),{k:(0,bt.D)(e,(t=>[Object.assign(Object.assign({},s.ks.s.k[0]),{t:50*t}),Object.assign(Object.assign({},s.ks.s.k[1]),{t:50*t+18.974}),Object.assign({},t===e-1?{t:50*t+38,s:s.ks.s.k[2].s}:Object.assign(Object.assign({},s.ks.s.k[2]),{t:50*t+38}))])).flat()})})}):(null===(r=s.refId)||void 0===r?void 0:r.startsWith("image_"))||i(),t}),[])}),s=JSON.parse(JSON.stringify(s)),It.set(e,s)),s};function Ot(e,t){return[Object.assign(Object.assign({},e[0]),{t:16+t}),Object.assign(Object.assign({},e[1]),{t:25+t}),...e.slice(2)]}var St=s(1089);const Nt=({informer:e,statusIcon:t})=>{const{css:s,s:r}=(0,h.y)(Mt),{lang:i}=(0,$.Z)(),{firstRowText:a,secondRowText:n,isOffline:o}=e,d=!o&&!!t,l=o||d;return(0,c.jsx)("div",Object.assign({className:s(r.root,l&&r.withStatusIcon)},{children:(0,c.jsxs)("div",Object.assign({className:s(r.informer,!o&&r.online,o&&r.offline)},{children:[l&&(0,c.jsxs)("div",Object.assign({className:s(r.imgContainer)},{children:[o&&(0,c.jsx)(St._J,{}),d&&(0,c.jsx)("img",{src:t,height:"100%",alt:"ru"===i?"Иконка статуса":""})]})),(0,c.jsxs)("div",Object.assign({className:s(r.text)},{children:[(0,c.jsx)("div",Object.assign({className:s(!o&&r.bigText)},{children:a})),(0,c.jsx)("div",Object.assign({className:s(!o&&r.opacityText)},{children:n}))]}))]}))}))};Nt.displayName="Informer";const Mt=(0,h.k)({root:{position:"absolute",bottom:32,start:36},withStatusIcon:{bottom:40,start:"auto",display:"flex",justifyContent:"center"},informer:{flexGrow:2,flexWrap:"nowrap",display:"flex",justifyContent:"center",alignItems:"center",padding:"3px 5px",gap:3,color:v.O.white,border:"none",borderRadius:7},imgContainer:{height:16,minWidth:10,display:"flex",alignItems:"center"},text:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",color:v.O.white,whiteSpace:"nowrap",lineHeight:"9px",letterSpacing:"-1.6%",fontSize:8},online:{backgroundColor:"#5A5A5A"},offline:{backgroundColor:"#898989"},bigText:{padding:"1px 0",fontSize:11},opacityText:{opacity:.5}}),Tt=({batteryLevel:e,isDark:t=!1,isPlugged:s=!1})=>{const{css:r,s:i}=(0,h.y)(Pt);return!e||e>100||e<0?null:(0,c.jsx)("div",Object.assign({className:r(i.root)},{children:(0,c.jsxs)("div",Object.assign({className:r(i.container,t&&i.isDark)},{children:[(0,c.jsx)(Et,{batteryLevel:e,isDark:t,isPlugged:s}),(0,c.jsx)("span",Object.assign({className:r(i.text)},{children:`${e}%`}))]}))}))};Tt.displayName="Battery";const Pt=(0,h.k)({root:{position:"absolute",top:47,width:"100%",display:"flex",justifyContent:"center"},container:{padding:"2px 3px",gap:2,borderRadius:5,border:"none",display:"flex",flexWrap:"nowrap",justifyContent:"space-between",alignItems:"center",backgroundColor:v.O.white,boxShadow:"0 1px 4px 0 rgba(0, 89, 214, 0.16), 0 0 0 0.5px rgba(1, 104, 249, 0.08)"},text:{fontSize:8,lineHeight:"9px",letterSpacing:"-1.6%",color:v.O.gray_141414},isDark:{backgroundColor:v.O.gray_141414,color:v.O.white}}),Et=({isPlugged:e,batteryLevel:t,isDark:s})=>{const r=s?v.O.white:void 0;return e?(0,c.jsx)(St.zY,{}):t>99?(0,c.jsx)(St.y,{color:r}):t<21?(0,c.jsx)(St.PA,{color:r}):(0,c.jsx)(St.se,{color:r})},Lt=({size:e,isSmall:t,statusIcon:s})=>{const{lang:r}=(0,$.Z)(),{css:i,s:a}=(0,h.y)(Rt);return(0,c.jsxs)("div",Object.assign({className:i(a.cluster,t&&a.smallCluster)},{children:[s&&!t&&(0,c.jsx)("img",{className:i(a.img),src:s,alt:"ru"===r?"Иконка статуса":void 0}),(0,c.jsx)("p",Object.assign({className:i(a.text,t&&a.smallText)},{children:e}))]}))};Lt.displayName="ClusterInfo";const Rt=(0,h.k)({cluster:{position:"absolute",top:27,start:36,display:"flex",flexWrap:"nowrap",justifyContent:"center",alignItems:"center",gap:2,border:"none",color:v.O.white,minWidth:24,height:24,borderRadius:24,backgroundColor:"#5A5A5A",boxSizing:"border-box",padding:"0 4px"},text:{alignItems:"center",justifyContent:"center",fontSize:13,lineHeight:"16px",letterSpacing:"-3%"},smallCluster:{top:22,start:28,minWidth:16,height:16,borderRadius:10,boxSizing:"border-box",padding:"0 3px"},smallText:{fontSize:8,lineHeight:"10px",letterSpacing:"-1.6%"},img:{height:16}});var zt=s(97825);const At=(e,t)=>{e.style.transform=t},Ft=e=>{const{markerElements:t,isCluster:s,clusterSize:r,batteryLevel:i,statusIcon:a,logos:n,informer:o,isSmall:l,isSelected:u,isOffline:p,isMoving:g,isInsideViewpoint:m,isMyProfile:h}=e,{wasLoaded:f}=Ct({markerElements:t,logos:n,isCluster:s,isSmall:l,isSelected:u,isOffline:p,isMoving:g,isInsideViewpoint:m,isMyProfile:h});(({markerElements:e,isSelected:t,isMoving:s,isInsideViewpoint:r,isMyProfile:i,wasAvatarLoaded:a})=>{ft({isEnabled:s&&a&&!i,container:null==e?void 0:e.flameAnimation,name:t?"friends/flame_ini":"friends/flame",autoplay:r})})({markerElements:t,isSelected:u,isMoving:g,isMyProfile:h,isInsideViewpoint:m,wasAvatarLoaded:f}),function({markerElements:e,isSmall:t,isSelected:s,isCluster:r,isStatusIcon:i}){(0,d.useEffect)((()=>{if(!e)return;const{parent:a,flame:n,avatar:o,informer:c,battery:d}=e,l=e=>{a.style.zIndex=`${e}`};if(s)return At(n,"scale(0.7)"),At(o,`translate(0, -${me.markerSize/2}px) scale(1.5)`),At(c,`translate(0, -${i?34:30}px)`),At(d,"translate(0, -20px)"),void l(zt.yQ.friendsCzar);if(t||r){const e=t?.666:1,s=r?1.25:1;return At(n,`scale(${1.1*e})`),At(o,`scale(${e*s})`),At(c,""),At(d,""),void l(t?zt.yQ.friendsSmall:zt.yQ.friends)}At(n,"scale(1.1)"),At(o,""),At(c,""),At(d,""),l(zt.yQ.friends)}),[t,s,r,i,e])}({markerElements:t,isSmall:l,isSelected:u,isCluster:s,isStatusIcon:!!a}),(0,d.useEffect)((()=>{t&&f&&(t.informer.innerHTML=o?(0,dt.renderToStaticMarkup)((0,c.jsx)(Nt,{informer:o,statusIcon:a})):"")}),[o,a,f,t]),(0,d.useEffect)((()=>{t&&f&&!h&&(t.battery.innerHTML=i?(0,dt.renderToStaticMarkup)((0,c.jsx)(Tt,{batteryLevel:i})):"")}),[i,f,t,h]),(0,d.useEffect)((()=>{t&&f&&(t.cluster.innerHTML=s?(0,dt.renderToStaticMarkup)((0,c.jsx)(Lt,{size:r,isSmall:l,statusIcon:a})):"")}),[r,l,a,f,t])},Bt=(0,d.memo)((({cluster:e,isSelected:t,onSelect:s,isMyProfile:r,ClusterTooltipView:i,TooltipView:a})=>{const n=(0,m.I0)(),{maxZoomForClustering:o,markerSize:u}=me,[p,g]=(0,d.useState)(),h=(0,d.useMemo)((()=>p&&re(p.getContent())),[p]),{state:f,isOffline:v,isMoving:y,isInsideViewpoint:x,speed:j}=oe({cluster:e,marker:p,markerElements:h}),{isCluster:_,clusterSize:C,batteryLevel:I,statusIcon:k,logos:O,informer:S,isSmall:N}=function({cluster:e,state:t,speed:s,isOffline:r,isMoving:i,isSelected:a}){const n=(0,l.T)(),o=(0,gt.Fg)().rtl?"rtl":"ltr",c=e.markers.length>1,u=e.markers.length,p=e.small&&!a,g=he({state:t,isOffline:r,isMoving:i}),m=!c&&!p,h=(0,d.useMemo)((()=>m?ie({isMoving:i,isOffline:r,speed:s,formattedTime:g,dir:o,tp:n}):void 0),[m,i,r,s,g,o,n]),f=(0,d.useMemo)((()=>e.markers.map((e=>e.profile.id.slice(0,5))).join("")),[e]),v=(0,d.useMemo)((()=>e.markers.map((({profile:e})=>{var t;return{url:null===(t=e.logoTpl)||void 0===t?void 0:t.replace("{width}x{height}",`${2*me.markerSize}x${2*me.markerSize}`),initials:w(e.name)}}))),[f]),b=c||p||r?void 0:Math.round(100*t.battery.level),y=ve(e);return{id:t.id,clusterSize:u,isCluster:c,batteryLevel:b,statusIcon:y,logos:v,informer:h,isSmall:p,isOwner:!1}}({cluster:e,state:f,speed:j,isOffline:v,isMoving:y,isSelected:t}),{useBssHandler:M}=(0,E.T)(),T=e.markers[0].profile,P=M(Ne,{clusterSize:C}),L=M(Oe,{profile:T,state:f}),R=M(Se,{profile:T});Ft({markerElements:h,isCluster:_,clusterSize:C,batteryLevel:I,statusIcon:k,logos:O,informer:S,isSmall:N,isSelected:t,isOffline:v,isMoving:y,isInsideViewpoint:x,isMyProfile:r}),(0,ne.K)(((t,{HtmlMarker:s},r)=>{const i=new s(r,{html:(0,dt.renderToStaticMarkup)((0,c.jsx)(ut,{})),coordinates:[e.lonLat.lon,e.lonLat.lat],anchor:[u/2,u/2],interactive:!1,preventMapInteractions:!1,disableRounding:!0});return g(i),()=>{i.destroy()}}),[]);const z=(0,b.$)((()=>{var e;_?(n((0,lt.xN)({center:null==p?void 0:p.getCoordinates(),zoom:o})),P()):t?s(void 0):T.session&&!(null===(e=T.sharing)||void 0===e?void 0:e.isFriend)?(s(f.id),R()):(s(f.id),L())}));return(0,d.useEffect)((()=>{h&&(h.avatar.addEventListener("click",z),h.informer.addEventListener("click",z),h.cluster.addEventListener("click",z),h.battery.addEventListener("click",z))}),[h]),h?_?(0,c.jsx)(i,{markerElements:h,cluster:e}):(0,c.jsx)(a,{friendId:f.id,markerElements:h,batteryLevel:I,isSmall:N,isSelected:t}):null}));Bt.displayName="UserMarker";const Zt=({place:e,distance:t,bssRef:s})=>{const{css:r,s:i}=(0,h.y)(Ut);return(0,c.jsxs)("div",Object.assign({className:r(i.status),ref:s},{children:[(0,c.jsxs)("div",Object.assign({className:r(i.place)},{children:[e.icon&&(0,c.jsx)("span",Object.assign({className:"icon"},{children:(0,c.jsx)(T.E,{width:12,height:12,src:e.icon})})),e.text&&(0,c.jsx)("span",Object.assign({title:e.text,className:r(i.statusText)},{children:e.text})),e.time&&(0,c.jsx)("span",Object.assign({className:r(i.time)},{children:e.time}))]})),t&&(0,c.jsxs)("div",Object.assign({className:r(i.distance)},{children:[(0,c.jsx)(P,{width:10,height:10}),(0,c.jsx)("span",{children:t})]}))]}))},Ut=(0,h.k)({status:Object.assign({display:"flex",alignItems:"center",alignSelf:"stretch",gap:"16px"},f.oN),statusText:Object.assign({color:v.O.black,wordBreak:"break-all"},(0,f.KU)(1,f.q0)),time:Object.assign(Object.assign({},f.q0),{color:v.O.black,flexShrink:0}),place:{display:"flex",alignItems:"center",gap:4,flex:"1 0 0",color:v.O.black},distance:{display:"flex",alignItems:"center",gap:4,color:v.O.gray_929292}})},92309:(e,t,s)=>{"use strict";s.d(t,{HV:()=>p,VN:()=>u,$m:()=>k,VA:()=>n,Nv:()=>T.N});var r={};s.r(r),s.d(r,{P:()=>S});var i={};s.r(i),s.d(i,{t:()=>N});var a={};s.r(a),s.d(a,{toggleLogo:()=>M});var n={};s.r(n),s.d(n,{vH:()=>r,wl:()=>i,pp:()=>a});var o=s(52322),c=s(19981),d=s(2933),l=s(67848);const u=e=>(0,o.jsx)(c.E,{loader:d.H.airplaneLogoOnMap,render:t=>(0,o.jsx)(t,Object.assign({},e)),renderPlaceholder:l.Q}),p=e=>(0,o.jsx)(c.E,{loader:d.H.airplaneControl,render:t=>(0,o.jsx)(t,Object.assign({},e)),renderPlaceholder:l.Q});var g=s(66908),m=s(2784);function h({color:e="currentColor"}){return(0,o.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"100",height:"16",fill:"none",viewBox:"0 0 100 16"},{children:[(0,o.jsx)("path",{fill:e,d:"M25.89 4.43l-2.026 5.405-2.04-5.404h-2.53v7.206h1.518v-5.48l2.114 5.48h1.668l2.114-5.509v5.509h1.623V4.43H25.89zm13.042 0h5.583v7.207h-1.728V5.949H40.51a155.382 155.382 0 01-.075 3.128c-.06 1.89-.61 2.56-2.233 2.56h-.774v-1.519h.432c.73 0 .968-.327 1.012-1.355.045-1.1.06-3.29.06-4.332zm14.414 0h6.566v1.52h-2.427v5.687h-1.712V5.949h-2.427V4.431zm-38.521-.147h-.618c-1.485 0-2.611.903-2.87 2.247l1.579.253c.216-.64.712-1.077 1.34-1.106.202-.009.153-.007.356 0 .932.034 1.353.48 1.353 1.585-1.766 0-2.974-.084-3.862.502-.726.479-1.037 1.008-1.037 1.847 0 1.213.944 2.175 2.468 2.175h.21c1.077 0 1.945-.42 2.3-.925v.776l1.59.001V7.295c0-1.677-.898-3.012-2.81-3.012zm-.97 6.097c-.677-.02-1.068-.41-1.068-.906 0-.41.185-.61.428-.753.256-.15.589-.2 1.106-.219.497-.017.9-.04 1.671-.04 0 1.23-.774 1.848-1.734 1.914a3.492 3.492 0 01-.404.004zm39.09-1.859v-.674c0-2.326-1.46-3.529-3.346-3.529h-.37c-2.03 0-3.325 1.385-3.392 3.338-.009.286-.009.405 0 .796.048 1.943 1.411 3.252 3.231 3.3.333.008.29.008.605 0 1.585-.045 2.785-.96 3.139-2.155l-1.534-.268c-.374.75-1.09 1.036-1.66 1.065-.182.01-.207.008-.389 0-.895-.036-1.697-.739-1.697-1.758V8.52h5.414zm-3.744-2.845c.18-.01.245-.01.426 0 .753.039 1.545.527 1.62 1.499h-3.706c.086-.868.783-1.45 1.66-1.499zM36.957 7.398c-.038-1.744-1.445-3.08-3.304-3.08h-.673c-1.86 0-3.266 1.336-3.304 3.09-.01.485-.01.77 0 1.254.038 1.755 1.445 3.09 3.304 3.09h.673c1.86 0 3.266-1.335 3.304-3.09.009-.485.009-.778 0-1.264zm-1.698 1.176c-.02 1.018-.761 1.71-1.757 1.76-.192.01-.18.01-.37 0-1.007-.05-1.738-.742-1.758-1.76-.01-.424-.01-.664 0-1.088.02-1.008.751-1.699 1.757-1.75.192-.01.18-.01.37 0 .997.051 1.738.742 1.758 1.761.01.423.01.653 0 1.077zm-26.87.52c-.2.668-.738 1.127-1.46 1.227a2.17 2.17 0 01-.581-.002c-.898-.125-1.53-.799-1.549-1.745-.01-.423-.01-.664 0-1.088.019-.953.683-1.65 1.597-1.747a2.21 2.21 0 01.444-.004c.77.083 1.348.544 1.556 1.246l1.674-.324C9.71 5.29 8.47 4.32 6.885 4.32h-.48c-1.859 0-3.266 1.335-3.304 3.088-.01.486-.01.77 0 1.256.038 1.754 1.445 3.088 3.304 3.088h.48c1.616 0 2.868-1.009 3.198-2.425L8.39 9.095z"}),(0,o.jsx)("path",{fill:e,fillRule:"evenodd",d:"M63.907 2.6H95.52c.742 0 1.345.602 1.345 1.344v8.18c0 .742-.603 1.345-1.345 1.345H63.907a1.345 1.345 0 01-1.344-1.345v-8.18c0-.742.601-1.345 1.344-1.345zm7.622 2.66h-5.331l-1.247 5.973h1.51l.949-4.524h2.3l-.939 4.524h1.511L71.53 5.26zm7.028 0H74c-.264 1.3-.588 2.749-.817 3.698-.14.562-.43.781-.94.781h-.298l-.308 1.493h.677c1.264 0 1.914-.439 2.292-2.029.114-.49.225-.992.33-1.467l.232-1.035h1.572l-.949 4.532h1.52l1.247-5.973zm2.516 3.707h.905c.026 1.457 1.036 2.353 2.609 2.353 2.468 0 3.487-1.906 3.487-3.715 0-1.485-.975-2.433-2.618-2.433-1.81 0-2.845 1.063-3.258 2.345h-.826l.474-2.257h-1.51l-1.248 5.973H80.6l.474-2.266zm4.26-2.425c.764 0 1.186.493 1.186 1.239 0 1.124-.659 2.17-1.81 2.17-.711 0-1.176-.484-1.176-1.213 0-1.098.685-2.196 1.8-2.196zm9.144 2.741L93 9.011c-.255.562-.755.94-1.406.94-.667 0-1.089-.44-1.089-1.213 0-1.124.66-2.196 1.704-2.196.668 0 .984.405 1.046.923L94.8 7.21c-.07-1.265-.922-2.038-2.459-2.038-2.275 0-3.381 1.906-3.381 3.733 0 1.484 1.019 2.415 2.52 2.415 1.608 0 2.539-.781 2.996-2.037z",clipRule:"evenodd"})]}))}var f=s(98584),v=s(6801),b=s(86139),y=s(44069);const x="filterSamoletPlus",j="filtersPanel",w={name:"provider",value:"СамолётСпецпроект"},_=()=>({frameId:e},t,s)=>({uiElement:{name:x,ownerName:j,frameUuid:e},payload:{filterItem:w},action:(null==s?void 0:s.isActive)?"filterOff":"filterOn"});var C=s(52167),I=s(1445);const k=(0,m.memo)((()=>{const{css:e,s:t}=(0,v.y)(O),{bssRef:s,useBssHandler:r}=(0,g.T)((({frameId:e})=>({uiElement:{name:x,ownerName:j,frameUuid:e},payload:{filterItem:w}})),{threshold:.5}),i=r(_),{isAvailable:a,isActive:n,buttonText:c,activate:d}=(0,I.C)({trackBssTap:i});return a?(0,o.jsxs)("div",Object.assign({className:e(t.root),ref:s},{children:[(0,o.jsx)(y.L,Object.assign({isChecked:n,onClick:d,title:c||"Самолет+",isCentered:!0},{children:(0,o.jsx)("span",Object.assign({className:e(t.icon,n&&t._active)},{children:(0,o.jsx)(h,{})}))})),(0,o.jsx)("div",Object.assign({className:e(t.adInfoLink)},{children:(0,o.jsx)(b.d,Object.assign({},C.f,{erid:["2RanymHwYYp"],tiny:!0}))}))]})):null}));k.displayName="WidgetAirplane";const O=(0,v.k)({root:{},icon:{display:"flex",justifyContent:"center",alignItems:"center",color:"#007BFB"},_active:{color:f.O.white},adInfoLink:{marginTop:2,marginStart:8,color:f.O.gray_b2b2b2}}),S=new Set(["Абакан","Альметьевск","Армавир","Архангельск","Астрахань","Барнаул","Бийск","Благовещенск","Брянск","Владивосток","Владикавказ","Владимир","Волгоград","Вологда","Воронеж","Екатеринбург","Иваново","Ижевск","Иркутск","Ишим","Йошкар-Ола","КавМинВоды","Казань","Калининград","Калуга","Киров","Кострома","Краснодар","Красноярск","Кумертау","Курган","Курск","Кызыл","Липецк","Майкоп","Махачкала","Миасс и Златоуст","Москва","Московская область","Мурманскаяобласть","Муром","Набережные Челны","Нижневартовск","Нижний Новгород","Нижний Тагил","Новороссийск","Новосибирск","Новый Уренгой","Омск","Оренбург","Пенза","Пермь","Петропавловск-Камчатский","Республика Алтай","Ростов-на-Дону","Рязань","Самара","Санкт-Петербург","Саратов","Смоленск","Сочи","Ставрополь","Старый Оскол","Стерлитамак","Сургут","Сыктывкар","Тверь","Тобольск","Тольятти","Тула","Тюмень","Улан-Удэ","Ульяновск","Уфа","Хабаровск","Ханты-Мансийск","Чебоксары","Челябинск","Черкесск","Чита","Южно-Сахалинск","Якутск","Ярославль","Томск","Магадан","Комсомольск-на-Амуре","Невинномысск","Псков","Белгород","Волгодонск","Грозный","Минеральные Воды","Кемерово","Ленинск-Кузнецкий","Магнитогорск","Миасс","Златоуст","Мурманск","Нальчик","Новокузнецк","Норильск","Петрозаводск","Рубцовск","Салехард","Тамбов","Ухта","Хасавюрт","Ковров","Ноябрьск","Орел","Элиста","Переславль-Залесский","Борисоглебск","Таруса","Суздаль","Ростов","Углич","Мышкин","Рыбинск","Калязин"]);const N=(0,s(60786).P1)([e=>e.appContext.showAirplaneLogo],(e=>e));const M=(0,s(40554).mq)("UI/TOGGLE_AIRPLANE_LOGO");var T=s(33721)},52167:(e,t,s)=>{"use strict";s.d(t,{f:()=>r});const r={source:"banner",erid:["2Ranyn7WCTA"],legalName:"ООО «Самолет Плюс»"}},33721:(e,t,s)=>{"use strict";s.d(t,{N:()=>i});const r="Самолет Плюс";function i(e){if(e)for(const t of e)if("checkboxlist"===t.widget)for(const e of t.items)if(e.text===r)return Object.assign(Object.assign({},e),{tag:t.tag})}},1445:(e,t,s)=>{"use strict";s.d(t,{C:()=>j});var r=s(2576),i=s(33721),a=s(2784),n=s(27215),o=s(54974),c=s(66071),d=s(22849),l=s(25954),u=s(60256),p=s(67753),g=s(354);const m=(0,p.gQ)("withFetchedAirplaneWidget",((e,t)=>e?t(e):(0,g._N)(u.nv,(e=>(0,p.vP)((0,u.d2)(e),(0,u.Sk)(e,(e=>{var s,r;const a=(0,i.N)(null===(r=null===(s=null==e?void 0:e.data)||void 0===s?void 0:s.filters)||void 0===r?void 0:r.main);return a?t(a):"loading"===(null==e?void 0:e.status)?(0,p.vP)((0,p.Dc)(300),m(a,t)):(0,p.ZT)()})))))));var h=s(41582),f=s(83575),v=s(92141),b=s(74790),y=s(34015),x=s(92309);function j({isControl:e,trackBssTap:t}={}){var s;const u=(0,n.I0)(),g=(0,r.N)("realty"),j=null==g?void 0:g.filterValues,w=null===(s=(0,l.U)().data)||void 0===s?void 0:s.filters,_=(0,n.v9)(x.VA.wl.t),{isAvailable:C,isActive:I,buttonText:k,widget:O}=(0,a.useMemo)((()=>{const e=(0,i.N)(null==w?void 0:w.main),t=(0,b.K)(null==w?void 0:w.main),s=!!t&&(null==j?void 0:j[t.tag])===t.value,r=!!e&&!s&&_,a=!!e&&(null==j?void 0:j[e.tag])===e.value;return{buttonText:null==e?void 0:e.text,widget:e,isActive:a,isAvailable:r}}),[j,w,_]),S=(0,o.$)((()=>{u(e&&I?(0,h.h)():g&&O&&C?(0,d.T)({filter:{valueType:"single",value:O.value,name:O.tag,isChecked:!I}}):(0,p.Mf)(m(O,(e=>(0,c.T)({filters:{[e.tag]:e.value},categoryId:y.jY.sale.categoryId}))),(0,f.a)((0,v.kG)({isMinimized:!1})))),null==t||t({isActive:I})})),N=(0,o.$)((()=>{u(x.VA.pp.toggleLogo())}));return{isAvailable:C,isActive:I,buttonText:k,activate:S,close:N}}},6872:(e,t,s)=>{"use strict";s.d(t,{R7:()=>n,_V:()=>a,MS:()=>o,Hv:()=>i});var r=s(42866);const{use:i,prefetch:a,invalidate:n,setQueryData:o}=(0,r.r)("fetchEntityAlbums",(e=>({services:t})=>t.photoApi.getEntityAlbums({objectId:e.objectId})),{staleTime:1/0,cacheTime:1/0})},25568:(e,t,s)=>{"use strict";s.d(t,{i:()=>c,X:()=>o});var r=s(26223);const i={159:{isMedia:!0},269:{isMedia:!1},161:{isMedia:!0},547:{isMedia:!1},162:{isMedia:!0},603:{isMedia:!1},164:{isMedia:!0},946:{isMedia:!1},165:{isMedia:!0},19487:{isMedia:!1},166:{isMedia:!0},23469:{isMedia:!1},363:{isMedia:!0},52681:{isMedia:!1},469:{isMedia:!0},56759:{isMedia:!0},879:{isMedia:!0},111005:{isMedia:!1},1203:{isMedia:!0},9786:{isMedia:!0},10803:{isMedia:!0},15791:{isMedia:!0},51459:{isMedia:!0},52248:{isMedia:!0},58871:{isMedia:!0},110317:{isMedia:!0},111593:{isMedia:!0},111594:{isMedia:!0},112636:{isMedia:!0},112656:{isMedia:!0},112658:{isMedia:!0},112719:{isMedia:!0},168:{isMedia:!0},192:{isMedia:!0},193:{isMedia:!0},199:{isMedia:!0},222:{isMedia:!0},261:{isMedia:!0},267:{isMedia:!0},268:{isMedia:!0},291:{isMedia:!0},305:{isMedia:!0},309:{isMedia:!0},382:{isMedia:!0},389:{isMedia:!0},405:{isMedia:!0},607:{isMedia:!0},651:{isMedia:!0},652:{isMedia:!0},764:{isMedia:!0},809:{isMedia:!0},4521:{isMedia:!0},5603:{isMedia:!0},9281:{isMedia:!0},12211:{isMedia:!0},13726:{isMedia:!0},15075:{isMedia:!0},16743:{isMedia:!0},24353:{isMedia:!0},24472:{isMedia:!0},51256:{isMedia:!0},52495:{isMedia:!0},58858:{isMedia:!0},70348:{isMedia:!0},110305:{isMedia:!0},110355:{isMedia:!0},110430:{isMedia:!0},110998:{isMedia:!0},112550:{isMedia:!0},112647:{isMedia:!0}};var a=s(73039);const n={121:!0,122:!0,136:!0,137:!0,140:!0,141:!0,143:!0,144:!0,146:!0,147:!0,151:!0,153:!0,154:!0,157:!0,174:!0,201:!0,202:!0,203:!0,206:!0,208:!0,209:!0,210:!0,211:!0,212:!0,213:!0,216:!0,227:!0,229:!0,236:!0,238:!0,253:!0,255:!0,259:!0,261:!0,271:!0,276:!0,280:!0,281:!0,282:!0,283:!0,284:!0,285:!0,317:!0,318:!0,319:!0,323:!0,324:!0,325:!0,327:!0,328:!0,329:!0,330:!0,332:!0,333:!0,334:!0,350:!0,351:!0,352:!0,360:!0,361:!0,363:!0,366:!0,367:!0,372:!0,373:!0,375:!0,377:!0,438:!0,442:!0,443:!0,444:!0,446:!0,450:!0,451:!0,454:!0,458:!0,469:!0,475:!0,490:!0,495:!0,497:!0,498:!0,501:!0,513:!0,519:!0,520:!0,521:!0,522:!0,528:!0,530:!0,531:!0,533:!0,534:!0,539:!0,540:!0,541:!0,544:!0,557:!0,558:!0,559:!0,561:!0,562:!0,563:!0,564:!0,567:!0,568:!0,614:!0,623:!0,624:!0,626:!0,627:!0,632:!0,635:!0,637:!0,657:!0,673:!0,681:!0,691:!0,707:!0,712:!0,717:!0,758:!0,831:!0,879:!0,925:!0,935:!0,1206:!0,1269:!0,1273:!0,1281:!0,1549:!0,1556:!0,1614:!0,1616:!0,1644:!0,3231:!0,3232:!0,3236:!0,3237:!0,4480:!0,4509:!0,5266:!0,5435:!0,5655:!0,5798:!0,5843:!0,6505:!0,7406:!0,7591:!0,7666:!0,7988:!0,8065:!0,8242:!0,8533:!0,8743:!0,9228:!0,9867:!0,10106:!0,10112:!0,10115:!0,10291:!0,10923:!0,12062:!0,12075:!0,12076:!0,12078:!0,14142:!0,14190:!0,14376:!0,16182:!0,16322:!0,16648:!0,16796:!0,17205:!0,18305:!0,18978:!0,19288:!0,19290:!0,19571:!0,19585:!0,19645:!0,19754:!0,20223:!0,21075:!0,23847:!0,24717:!0,24738:!0,25012:!0,49529:!0,49532:!0,50810:!0,50840:!0,50841:!0,51096:!0,51100:!0,51105:!0,51213:!0,51249:!0,51349:!0,51351:!0,51352:!0,51360:!0,51373:!0,51905:!0,52184:!0,52255:!0,52971:!0,53624:!0,53832:!0,53975:!0,54620:!0,54646:!0,54649:!0,55540:!0,55723:!0,56326:!0,56581:!0,56684:!0,57185:!0,58828:!0,59508:!0,59511:!0,59930:!0,67041:!0,70039:!0,73893:!0,99172:!0,102029:!0,103240:!0,110324:!0,110327:!0,110328:!0,110350:!0,110360:!0,110370:!0,110401:!0,110440:!0,110456:!0,110483:!0,110487:!0,110516:!0,110525:!0,110526:!0,110530:!0,110668:!0,110976:!0,111499:!0,111500:!0,111501:!0,111592:!0,112429:!0,112446:!0,112451:!0,112456:!0,112582:!0,112590:!0,112620:!0,112625:!0,112629:!0,112639:!0,112674:!0,112683:!0,112704:!0,112789:!0,112801:!0,112854:!0,112868:!0};function o(e,t){var s;if(t===a.Lm)return;const o=t===a.eW||t===a.t1,c=(0,r.A)(null===(s=null==e?void 0:e.searchAttributes)||void 0===s?void 0:s.query_context);if(o){if((null==e?void 0:e.rubrId)&&!n[e.rubrId])return{isMedia:!0};if(!(null==c?void 0:c.length))return;if(c.some((e=>n[e])))return;return{isMedia:!0}}{if(null==e?void 0:e.rubrId)return i[e.rubrId];if(!(null==c?void 0:c.length))return;let t=!1;for(const e of c){const s=i[e];if(!s)return;s.isMedia||(t=!0)}return t?{isMedia:!1}:{isMedia:!0}}}function c(e,t){var s;if(t===a.Lm)return;return t===a.eW||t===a.t1?n[e]?void 0:{isMedia:!0}:null!==(s=i[e])&&void 0!==s?s:void 0}},68276:(e,t,s)=>{"use strict";s.d(t,{sv:()=>c,DV:()=>u,oD:()=>l,gx:()=>o,EU:()=>d});var r=s(22970),i=s(42866),a=s(97825),n=s(48922);const{use:o,invalidate:c,withQueryData:d,setQueryData:l,prefetch:u}=(0,i.H)("Entity Photo Album",(e=>[[e.id,e.albumId,e.searchCtx,e.searchKeyword],({services:t,context:s})=>(0,r.mG)(void 0,void 0,void 0,(function*(){const{credentialsApi:r,photoApi:i}=t,{pageParam:o}=s,{id:c,albumId:d=a.n4,pageSize:l,searchCtx:u,searchKeyword:p}=e;if("__empty"===c)return{items:[],albums:[],next_page_token:void 0};const g=yield r.getToken();return yield i.getPhotosByAlbum({objectId:c,albumId:d,page_size:l,page_token:o?`${o}`:void 0,preview_size:n.s,accessToken:g,searchCtx:u,searchKeyword:p})}))]),{getNextPageParam:e=>e.next_page_token})},2577:(e,t,s)=>{"use strict";s.d(t,{M:()=>a,t:()=>n});var r=s(22970),i=s(42866);const{use:a,prefetch:n}=(0,i.r)("entity photo by Id",(e=>({services:t})=>(0,r.mG)(void 0,void 0,void 0,(function*(){const{photoId:s,locale:r,preview_size:i}=e,a=yield t.credentialsApi.getToken();return yield t.photoApi.getPhotoById({photoId:s,locale:r,preview_size:i,accessToken:a})}))),{staleTime:1/0,cacheTime:1/0})},8082:(e,t,s)=>{"use strict";s.d(t,{h:()=>c,Z:()=>r});var r=s(48425),i=s(52322),a=s(2933),n=s(19981),o=s(67848);const c=e=>(0,i.jsx)(n.E,{loader:a.H.friendInOtherDomainPopup,render:t=>(0,i.jsx)(t,Object.assign({},e)),renderPlaceholder:o.Q})},48425:(e,t,s)=>{"use strict";s.r(t),s.d(t,{bss:()=>r,cleanFriendInOtherDomainModel:()=>c,defaultState:()=>n,openFriendInOtherDomainPopup:()=>m,setFriendInOtherDomainModel:()=>o,useOpenFriendInOtherDomainPopup:()=>h});var r={};s.r(r),s.d(r,{closeFriendInOtherDomainFrame:()=>y,generators:()=>j,showFriendInOtherDomainFrame:()=>v,tapLoginInFriendInOtherDomainFrame:()=>b});var i=s(94146),a=s(46042);const n={},o=(0,a.P)("setFriendInOtherDomainModel",(0,i.x)("appContext",((e,{previousMapView:t})=>Object.assign(Object.assign({},e),{friendInOtherDomain:{previousMapView:t}})))),c=(0,a.P)("cleanFriendsInOtherDomainModel",(0,i.x)("appContext",(e=>Object.assign(Object.assign({},e),{friendInOtherDomain:{}}))));var d=s(27215),l=s(33451),u=s(54974),p=s(67753),g=s(64693);const m=(0,p.gQ)("openFriendInOtherDomainPopup",(e=>(0,l.Mw)({id:(0,g.by)(),type:"friendInOtherDomain",previousMapView:e}))),h=()=>{const e=(0,d.I0)();return(0,u.$)((t=>{e(m(t))}))};var f=s(58666);const v=()=>({frameId:e},t)=>(0,f.xl)({name:"friendDomainFrame",state:t,uuid:e}),b=()=>({frameId:e})=>({uiElement:{name:"authorisationButton",ownerName:"friendDomainFrame",frameUuid:e},action:"tap"}),y=()=>({frameId:e})=>({uiElement:{name:"friendDomainFrame",frameUuid:e},action:"close"});var x=s(18122);const j={frame:()=>(0,x.vp)()({name:"friendDomainFrame",framesLayout:expect.any(Object)}),tapLogin:()=>(0,x.k1)()({uiElement:{name:"authorisationButton",frameUuid:expect.any(String),ownerName:"friendDomainFrame"}}),tapClose:()=>(0,x.A)()({uiElement:{name:"friendDomainFrame",frameUuid:expect.any(String)}})}},42714:(e,t,s)=>{"use strict";s.d(t,{m:()=>r});var r={};s.r(r),s.d(r,{closeFriendsList:()=>u,openFriendsList:()=>l});var i=s(67753),a=s(29600),n=s(95359),o=s(64693),c=s(354),d=s(10484);const l=e=>(0,c.gF)({userProfileFrame:e=>(0,d.t0)(e.appContext.frames,"userPublicProfile")},(({userProfileFrame:t})=>(0,i.vP)((0,a.BN)(),(0,n.Jt)({id:(0,o.by)(),type:"friendsList"}),t?e({userId:t.userId}):(0,i.ZT)()))),u=(0,i.gQ)("closeFriendsListFrame",(()=>(0,c.gF)({friendsListFrame:e=>(0,d.t0)(e.appContext.frames,"friendsList")},(({friendsListFrame:e})=>e?(0,n.t7)({id:e.id}):(0,i.ZT)()))))},32260:(e,t,s)=>{"use strict";s.d(t,{jo:()=>c.j,mD:()=>o,z8:()=>m,EV:()=>r});var r=s(75655),i=(s(95935),s(52322)),a=s(19981),n=s(2933);const o=e=>(0,i.jsx)(a.E,{loader:n.H.friendsOnMap,render:t=>(0,i.jsx)(t,Object.assign({},e)),renderPlaceholder:()=>(0,i.jsx)(i.Fragment,{})});var c=s(52978),d=s(27215),l=s(6340),u=s(42858),p=s(48236),g=s(44149);const m=({publicUserId:e,onClick:t})=>{const s=(0,u.T)(),r=(0,d.v9)((e=>e.session.platform)),{featureFriends:a}=(0,l.Z)(),n=(0,g.Og)({platform:r,type:"addFriendPromo",deepLink:`https://2gis.ru/user/${e}`});return a?(0,i.jsx)(p.z,Object.assign({wide:!0,appearance:"primary",external:!0,href:n,onClick:t,dataN:"wat-show-friend-geo-button"},{children:s._t("Посмотреть гео в приложении")})):null}},95935:(e,t,s)=>{"use strict";s.d(t,{N:()=>a,H:()=>i});var r=s(2784);function i({states:e}){return(0,r.useMemo)((()=>Object.entries(e).reduce(((e,[t,s])=>s?((s.isInsideViewpoint||s.isAtShortDistanceFromCenter)&&(e[t]=s),e):e),{})),[e])}function a(e,t){return"moving"===e.movement.status?e.lastSeen+t.movingLivenessTimeout:"stopped"===e.movement.status?e.lastSeen+t.stoppedLivenessTimeout:void 0}},75655:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Types:()=>r,cleanFriendsOnMapModel:()=>x,cleanSharedRoute:()=>_,defaultState:()=>h,getFriendsOnMap:()=>C,initFriendsOnMapModel:()=>f,removeFriend:()=>b,removeSubscription:()=>j,updateFriendsOnMapModel:()=>v,updateFriendsOnMapModelStatesByViewpoint:()=>y,updateSharedRoute:()=>w,useClustering:()=>i.n,useFriendsOnMap:()=>U,useGeneralization:()=>a._});var r={};s.r(r);var i=s(11364),a=s(20674),n=s(2784),o=s(27215),c=s(42313),d=s(33451),l=s(64693),u=s(46042),p=s(94146),g=s(60786),m=s(47949);const h={settings:void 0,profiles:{},states:{},hasSharingSession:!1,sharedRoute:null},f=(0,u.P)("initFriendsOnMapModel",(0,p.x)("appContext",((e,{profiles:t,states:s,settings:r})=>Object.assign(Object.assign({},e),{friendsOnMap:Object.assign(Object.assign({},e.friendsOnMap),{profiles:t,states:s,settings:r})})))),v=(0,u.P)("updateFriendsOnMapModel",(0,p.x)("appContext",((e,t)=>{var s;if("profile"===t.type){const r=!!(null===(s=Object.values(t.profile)[0])||void 0===s?void 0:s.session);return Object.assign(Object.assign({},e),{friendsOnMap:Object.assign(Object.assign(Object.assign({},e.friendsOnMap),{profiles:Object.assign(Object.assign({},e.friendsOnMap.profiles),t.profile)}),r?{hasSharingSession:r}:{})})}return"sharer"===t.type?Object.assign(Object.assign({},e),{friendsOnMap:Object.assign(Object.assign({},e.friendsOnMap),{hasSharingSession:!0})}):Object.assign(Object.assign({},e),{friendsOnMap:Object.assign(Object.assign({},e.friendsOnMap),{states:Object.assign(Object.assign({},e.friendsOnMap.states),t.state)})})}))),b=(0,u.P)("removeFriend",(0,p.x)("appContext",((e,t)=>{const s=Object.fromEntries(Object.entries(e.friendsOnMap.states).filter((([e])=>e!==t))),r=Object.fromEntries(Object.entries(e.friendsOnMap.profiles).filter((([e])=>e!==t)));return Object.assign(Object.assign({},e),{friendsOnMap:Object.assign(Object.assign({},e.friendsOnMap),{profiles:r,states:s})})}))),y=(0,u.P)("updateFriendsOnMapModelStatesByViewpoint",(0,p.x)("appContext",((e,t)=>{const s=Object.entries(e.friendsOnMap.states).reduce(((e,[s,r])=>{const i=m.E9.getIsInsideViewpoint(r,t),a=m.E9.getIsAtShortDistanceFromCenter(r,t);return r.isInsideViewpoint===i&&r.isAtShortDistanceFromCenter===a?e[s]=r:e[s]=Object.assign(Object.assign({},r),{isInsideViewpoint:i,isAtShortDistanceFromCenter:a}),e}),{});return Object.assign(Object.assign({},e),{friendsOnMap:Object.assign(Object.assign({},e.friendsOnMap),{states:s})})}))),x=(0,u.P)("cleanFriendsOnMapModels",(0,p.x)("appContext",(e=>Object.assign(Object.assign({},e),{friendsOnMap:Object.assign(Object.assign({},h),{hasSharingSession:e.friendsOnMap.hasSharingSession})})))),j=(0,u.P)("removeSubscription",(0,p.x)("appContext",((e,t)=>{const{profiles:s,states:r,hasSharingSession:i}=Object.values(e.friendsOnMap.profiles).reduce(((s,r)=>{var i;return r&&(null===(i=null==r?void 0:r.session)||void 0===i?void 0:i.sessionId)!==t&&(s.profiles[r.id]=e.friendsOnMap.profiles[r.id],s.states[r.id]=e.friendsOnMap.states[r.id]),r&&r.session&&r.session.sessionId!==t&&(s.hasSharingSession=!0),s}),{profiles:{},states:{},hasSharingSession:!1});return Object.assign(Object.assign({},e),{friendsOnMap:Object.assign(Object.assign({},e.friendsOnMap),{profiles:s,states:r,hasSharingSession:i})})}))),w=(0,u.P)("updateSharedRoute",(0,p.x)("appContext",((e,t)=>Object.assign(Object.assign({},e),{friendsOnMap:Object.assign(Object.assign({},e.friendsOnMap),{sharedRoute:t})})))),_=(0,u.P)("cleanSharedRoute",(0,p.x)("appContext",(e=>Object.assign(Object.assign({},e),{friendsOnMap:Object.assign(Object.assign({},e.friendsOnMap),{sharedRoute:null})})))),C=(0,g.P1)([e=>e.appContext.friendsOnMap,e=>e.appContext.activeLayer],((e,t)=>{if("friends"!==t){const{profiles:t,states:s}=Object.values(e.profiles).reduce(((t,s)=>((null==s?void 0:s.session)&&(t.profiles[s.id]=e.profiles[s.id],t.states[s.id]=e.states[s.id]),t)),{profiles:{},states:{}});return Object.assign(Object.assign({},e),{profiles:t,states:s})}return e}));var I=s(6340),k=s(54974),O=s(26352);const S=["mousemove","mousedown","resize","keydown","touchstart","wheel"];var N=s(88330),M=s(382);class T{init({onClose:e}){var t,s,r,i;this.isClosedByClient=!1,"undefined"!=typeof window&&(this.instance=new WebSocket(this.url)),null===(t=this.instance)||void 0===t||t.addEventListener("open",(e=>{this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null),this.emitter.emit("open",e)})),null===(s=this.instance)||void 0===s||s.addEventListener("message",(e=>{this.emitter.emit("message",e)})),null===(r=this.instance)||void 0===r||r.addEventListener("close",(t=>{if(this.isClosedByClient)return this.emitter.emit("close",t),this.emitter.removeAllListeners(),void e();if(this.timeoutId)return;this.reconnectingAttempts++,this.emitter.emit("reconnection",t);const s=2e3*this.reconnectingAttempts+1e3*(r=1,i=5,Math.floor(Math.random()*(i-r+1))+r);var r,i;this.timeoutId=setTimeout((()=>this.init({onClose:e})),s)})),null===(i=this.instance)||void 0===i||i.addEventListener("error",(e=>{this.emitter.emit("error",e)}))}close(){this.isClosedByClient=!0,this.instance&&this.instance.close()}addListener(e,t){this.emitter.on(e,t)}removeListener(e,t){this.emitter.off(e,t)}send(e){var t,s;1===(null===(t=this.instance)||void 0===t?void 0:t.readyState)&&(null===(s=this.instance)||void 0===s||s.send(e))}getReadyState(){var e;return null===(e=this.instance)||void 0===e?void 0:e.readyState}constructor(e,t){this.timeoutId=null,this.reconnectingAttempts=0,this.isClosedByClient=!1,this.instance=null,this.emitter=new M.EventEmitter,this.url=e,this.init({onClose:t})}}const P=new class{constructor(){this.connections=new Map}initConnection(e){return new T(e,(()=>this.closeConnection(e)))}closeConnection(e){const t=this.connections.get(e);t&&3===t.getReadyState()&&this.connections.delete(e)}createOrJoinConnection(e){const t=this.connections.get(e),s=null==t?void 0:t.getReadyState();if(t&&(0===s||1===s))return t;const r=this.initConnection(e);return this.connections.set(e,r),r}};var E=s(4805),L=s(55476);const R=([e,t],s)=>JSON.stringify({type:"viewportChanged",payload:{viewport:{topLeft:e,bottomRight:t},zoom:s}}),z=e=>JSON.stringify({type:"bindRoutes",payload:{sharers:e?[e]:[]}});var A=s(8476),F=s(2576);const B=(e={})=>{var t;const s=(0,I.Z)(),r=(0,o.I0)(),i=(0,o.v9)(c.Id),a=(0,o.v9)((e=>Math.floor((0,c.Hr)(e)))),d=(0,n.useRef)((0,N.Z)(i)),l=(0,n.useRef)(a),u=(0,o.v9)(L.bG),p=(0,o.v9)(A.r),g=(null===(t=u.data)||void 0===t?void 0:t.access_token)||s.friendsDebugToken,m=(0,F.N)("userPublicProfile"),h=(0,F.N)("sharingGeo"),f=(null==h?void 0:h.userId)||(null==m?void 0:m.userId),v=`${s.friendsOnMapSocketUrl}/anonymous/user/ws?appVersion=6.31.0&channels=markers,sharing,routes&appInstanceId=${p}`,b=`${s.friendsOnMapSocketUrl}/user/ws?appVersion=6.31.0&channels=markers,sharing,routes&token=${g}`,y=g?b:v,{connect:j,disconnect:w,send:C}=((e,t={})=>{const s=(0,n.useRef)(null),r=(0,n.useCallback)((e=>{var t;null===(t=s.current)||void 0===t||t.send(e)}),[]),i=(0,k.$)((e=>{var s;null===(s=null==t?void 0:t.onOpen)||void 0===s||s.call(t,e,r)})),a=(0,k.$)((e=>{var s;null===(s=null==t?void 0:t.onClose)||void 0===s||s.call(t,e)})),o=(0,k.$)((e=>{var s;null===(s=null==t?void 0:t.onMessage)||void 0===s||s.call(t,e)})),c=(0,k.$)((e=>{var s;null===(s=null==t?void 0:t.onError)||void 0===s||s.call(t,e)}));return{connect:(0,n.useCallback)((()=>{s.current||(s.current=P.createOrJoinConnection(e),s.current.addListener("open",i),s.current.addListener("close",a),s.current.addListener("message",o),s.current.addListener("error",c))}),[a,c,o,i,e]),disconnect:(0,n.useCallback)((()=>{s.current&&(s.current.close(),s.current=null)}),[]),send:r,connection:s.current}})(y,Object.assign(Object.assign({},e),{onOpen:(t,s)=>{var r;s(R(d.current,l.current)),s(z(f)),null===(r=e.onOpen)||void 0===r||r.call(e,t,s)}})),M=(0,k.$)((()=>{s.featureFriends&&j()})),T=(0,n.useCallback)((()=>{d.current&&C(R(d.current,l.current))}),[C]),{stopIdleTracking:B,idle:Z,startIdleTracking:U}=((e=6e4,t=S)=>{const[s,r]=(0,n.useState)(!1),i=(0,n.useRef)(),a=(0,O.y)((()=>{r(!1),clearTimeout(i.current),i.current=setTimeout((()=>r(!0)),e)}),50),o=(0,n.useCallback)((()=>{t.forEach((e=>{window.addEventListener(e,a)})),i.current=setTimeout((()=>r(!0)),e)}),[t,a,e]),c=(0,n.useCallback)((()=>{clearTimeout(i.current),t.forEach((e=>{window.removeEventListener(e,a)}))}),[t,a]);return(0,n.useEffect)((()=>(o(),()=>{c()})),[o,c]),{idle:s,startIdleTracking:o,stopIdleTracking:c}})(s.friendsSocketIdleTimeout),H=(0,k.$)((()=>{w(),r(x())}));(0,E.N)({onChange:()=>{"hidden"===document.visibilityState&&(B(),H()),"visible"===document.visibilityState&&(M(),U())}}),(0,n.useEffect)((()=>{r(_()),C(z(f))}),[r,C,f]),(0,n.useEffect)((()=>(M(),()=>{H()})),[M,H]),(0,n.useEffect)((()=>{Z&&H(),Z||M()}),[M,H,Z]),(0,n.useEffect)((()=>{const[e,t]=d.current,[s,r]=i,n=l.current!==a;n&&(l.current=a);(n||s.lon<e.lon||s.lat<e.lat||r.lon>t.lon||r.lat>t.lat)&&(d.current=(0,N.Z)(i),T())}),[T,i,a])};var Z=s(95935);function U(){const e=(0,o.v9)(c.Id),t=(0,o.I0)(),{profiles:s,states:r,settings:i,sharedRoute:a}=(0,o.v9)(C);return B({onMessage:n=>{var o,c,u;const p=JSON.parse(n.data);switch(p.type){case"initialState":const n=p.payload.markerSettings,g=p.payload.states.reduce(((t,s)=>(t[s.id]=H({settings:n,state:s,viewpoint:e}),t)),r),m=p.payload.profiles.reduce(((e,t)=>(e[t.id]=Object.assign(Object.assign({},t),{sharing:{isFriend:!0}}),e)),s);t(f({settings:n,states:g,profiles:m}));break;case"friendState":const h=r[p.payload.id];t(v({type:"state",state:{[p.payload.id]:H({settings:i,state:Object.assign(Object.assign({},p.payload),{locationPlace:{status:null===(o=p.payload.locationPlace)||void 0===o?void 0:o.status,transportStatus:null===(c=null==h?void 0:h.locationPlace)||void 0===c?void 0:c.transportStatus}}),viewpoint:e})}}));break;case"profile":const y=s[p.payload.id];t(v({type:"profile",profile:{[p.payload.id]:Object.assign(Object.assign({},y),p.payload)}}));break;case"friendRemoved":t(b(p.payload.id));break;case"sharingSubscriptionsInitialState":p.payload.subscriptions.forEach((({session:e,sharer:s})=>{const r={id:s.profile.userId,name:s.profile.name,logo:s.profile.avatarUrl,logoTpl:s.profile.avatarUrlTpl,sharing:{isFriend:s.isFriend},session:e};t(v({type:"profile",profile:{[r.id]:r}}))}));break;case"sharingSubscription":const{session:x,sharer:C}=p.payload,I={id:C.profile.userId,name:C.profile.name,logo:C.profile.avatarUrl,logoTpl:C.profile.avatarUrlTpl,sharing:{isFriend:C.isFriend},session:x};t(v({type:"profile",profile:{[I.id]:I}}));break;case"sharingSubscriptionRemoved":const k=Object.values(s).find((e=>{var t;return(null===(t=null==e?void 0:e.session)||void 0===t?void 0:t.sessionId)===p.payload.sessionId}));if(null===(u=null==k?void 0:k.sharing)||void 0===u?void 0:u.isFriend)return;t((0,d.Mw)({id:(0,l.by)(),type:"broadcastEnded",sessionId:p.payload.sessionId,sharerProfile:k})),t(j(p.payload.sessionId));break;case"transportStatusUpdated":const O=r[p.payload.sharerId];O&&t(v({type:"state",state:{[O.id]:Object.assign(Object.assign({},O),{locationPlace:Object.assign(Object.assign({},O.locationPlace),{transportStatus:p.payload.status})})}}));break;case"routeUpdated":t(w(a?Object.assign(Object.assign({},a),p.payload):p.payload));break;case"etaUpdated":(null==a?void 0:a.routeRequestId)===p.payload.routeRequestId&&t(w(Object.assign(Object.assign({},a),{eta:p.payload.eta})));break;case"routeRemoved":(null==a?void 0:a.routeRequestId)===p.payload.routeRequestId&&t(_())}}}),(0,n.useEffect)((()=>{t(y(e))}),[t,e]),{profiles:s,states:r}}function H({state:e,settings:t,viewpoint:s}){return Object.assign(Object.assign({},e),{updateTime:Date.now(),staleTime:t?(0,Z.N)(e,t):void 0,isInsideViewpoint:m.E9.getIsInsideViewpoint(e,s),isAtShortDistanceFromCenter:m.E9.getIsAtShortDistanceFromCenter(e,s)})}},11364:(e,t,s)=>{"use strict";s.d(t,{n:()=>d});var r=s(27215),i=s(2784),a=s(57927),n=s.n(a),o=s(42313),c=s(47949);function d({profiles:e,states:t,selectedId:s,selfUserId:a}){const d=(0,r.v9)(o.Hr)<c.userModel.usersMarkersConfig.maxZoomForClustering;return(0,i.useMemo)((()=>{const r=Object.entries(t).map((([t,s])=>function(e,t){if(!e||!t)return;const{lon:s,lat:r}=t.location;return{lonLat:{lon:s,lat:r},profile:e,state:t}}(e[t],s))).filter(Boolean);if(!d)return r.map((e=>({lonLat:e.lonLat,markers:[e],small:!1})));return function(e,t,s){const r=[],i=e.map((e=>1===e.length?e:e.filter((e=>!("moving"===e.state.movement.status&&e.state.location.speed||e.profile.id===t||e.profile.id===s)||(r.push(e),!1))))).filter((e=>e.length>0));return[...i,...r.map((e=>[e]))]}(n()(r,c.userModel.usersMarkersConfig.clusteringRadius,(e=>e.lonLat.lon),(e=>e.lonLat.lat)),s,a).map((e=>({lonLat:l(e),markers:e,small:!1})))}),[t,d,s,a,e])}function l(e){const t=e.reduce(((e,t)=>e+t.lonLat.lon),0),s=e.reduce(((e,t)=>e+t.lonLat.lat),0);return{lon:t/e.length,lat:s/e.length}}},20674:(e,t,s)=>{"use strict";s.d(t,{_:()=>h});var r=s(27215),i=s(30147),a=s.n(i),n=s(24973),o=s(2784),c=s(80207),d=s(47949);const{markerSize:l,safeZoneX:u,safeZoneY:p,minZoomForBigMarkers:g}=d.userModel.usersMarkersConfig,m=l/2;function h({clusters:e,selectedId:t}){const s=(0,r.v9)(c.X);return(0,o.useMemo)((()=>{if(s.zoom<g)return e.map((e=>Object.assign(Object.assign({},e),{small:!0})));const r=function(e){function t(t){return t.markers[0].state.id===e}function s(e){return!!d.userModel.getClusterStatusIcon(e)}function r(e){return"moving"===e.markers[0].state.movement.status}return(e,i)=>t(e)&&!t(i)?-1:t(i)&&!t(e)?1:s(e)&&!s(i)?-1:s(i)&&!s(e)?1:e.markers.length>1?-1:i.markers.length>1?1:r(e)?-1:r(i)?1:0}(t),i=[...e].sort(r),o=new(a()),c=[],l=[];return i.forEach((e=>{const t=function(e,t){const{lon:s,lat:r}=e.lonLat,[i,a]=(0,n.lonLatToScreenPoint)([s,r],t);return{minX:i-m-u,minY:a-m-p,maxX:i+m+u,maxY:a+m+p}}(e,s);o.collides(t)?l.push(Object.assign(Object.assign({},e),{small:!0})):(o.insert(t),c.push(e))})),[...l,...c]}),[e,s,t])}},52978:(e,t,s)=>{"use strict";s.d(t,{j:()=>p});var r=s(52322),i=s(6801),a=s(63993),n=s(98584),o=s(47949);const c=({name:e,status:t,bssRef:s})=>{const{css:a,s:n}=(0,i.y)(d),c=(null==t?void 0:t.distance)||(null==t?void 0:t.place);return(0,r.jsxs)("div",Object.assign({className:a(n.root),ref:s},{children:[(0,r.jsx)("span",Object.assign({className:a(n.name)},{children:e})),c&&(0,r.jsx)(o.eG,{place:t.place,distance:t.distance})]}))},d=(0,i.k)({root:Object.assign({padding:"10px 16px",minWidth:200,maxWidth:300,display:"flex",flexDirection:"column",justifyContent:"space-between",gap:2,color:n.O.gray_262626},a.yG),name:Object.assign(Object.assign({},a.Rw),{color:n.O.blue_0072ce})});var l=s(65796),u=s(66908);const p=({friendId:e})=>{var t,s;const{profile:i,state:a,isMyProfile:n,selfState:d}=o.userModel.useUserProfile(e),p=o.userModel.useFriendStatus({state:a,selfState:d,isMyProfile:n,isMyFriendProfile:!n}),{public_user:g}=i.data||{},{bssRef:m}=(0,u.T)(g&&a?o.userModel.bss.showTooltip({publicProfileId:g.public_user_id,hasPhoto:Boolean(g.avatar),placeId:null===(s=null===(t=a.locationPlace)||void 0===t?void 0:t.status)||void 0===s?void 0:s.id}):void 0);return i.isSuccess&&g?(0,r.jsx)(l.S,{children:(0,r.jsx)(c,{name:g.name,status:p,bssRef:m})}):null}},90612:(e,t,s)=>{"use strict";s.d(t,{N:()=>b,ZI:()=>G,bH:()=>q,CN:()=>x,qA:()=>C});var r=s(52322),i=s(2784),a=s(6801),n=s(35253),o=s(48236),c=s(16289),d=s(40464),l=s(66908),u=s(36804),p=s(10484),g=s(77878);const m=e=>t=>{const s=(0,u.s)({state:t,entityFrameId:e.ownerFrameId});return s||(0,g.H)({message:'Не удалось сформировать placeItem для события тапа "Тап в call-to-action владельца ЗМК / FMCG в карточке донора или провайдера на миникарточке" (a-50jsq, a-3kiu7)',level:"error",id:"xpjjg",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify((0,p.iF)(t.appContext.frames,e.ownerFrameId))}}),{uiElement:{name:"callToActionButton",ownerName:"placeCardFull",frameUuid:e.ownerFrameId},action:"tap",payload:{placeItem:s,callToAction:{actionType:"link",value:e.url,contentOwner:{org:e.orgId,adsPosition:"buildingBanner",adsId:e.adsId}}}}};var h=s(38355),f=s(2576),v=s(6340);const b=(0,i.memo)((e=>{const{banner:{logoUrl:t,url:s,text:i,adsId:n,orgId:b},frameName:x}=e,{lang:j}=(0,v.Z)(),{bssRef:w,showEventOrdinal:_}=(0,l.T)((C={url:s,adsId:n,orgId:b},({frameId:e},t)=>{const{url:s,orgId:r,adsId:i}=C,a=(0,u.s)({state:t,entityFrameId:e});return a||(0,g.H)({message:'Не удалось сформировать placeItem для события показа "Увидел кнопку call-to-action владельца FMCG ЗМК" (v-of2ve, v-u64dp)',level:"error",id:"84nix",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify((0,p.iF)(t.appContext.frames,e))}}),{uiElement:{name:"callToActionButton",frameUuid:e,ownerName:"placeCardFull"},payload:{placeItem:a,callToAction:{actionType:"link",value:s,contentOwner:{org:r,adsPosition:"buildingBanner",adsId:i}}}}}));var C;const{css:I,s:k}=(0,a.y)(y),O=(0,f.N)(x);return O?(0,r.jsx)("div",Object.assign({ref:w},{children:(0,r.jsx)(h.X,Object.assign({actionEventParamsSelector:m({ownerFrameId:O.id,url:s,adsId:n,orgId:b}),originalHref:s,showEventOrdinal:_},{children:e=>(0,r.jsx)(o.z,Object.assign({appearance:"primary",dataN:"wat-bulding-banner-button",href:e,external:!0,medium:!0},{children:(0,r.jsxs)("div",Object.assign({className:I(k.content)},{children:[t&&(0,r.jsx)("div",Object.assign({className:I(k.logo)},{children:(0,r.jsx)(c.E,{src:(0,d.W)(t,"16x16"),srcSet:`${(0,d.W)(t,"32x32")} 2x`,height:16,width:16,alt:"ru"===j?"Рекламный баннер":void 0,isLoadingForced:!0})})),i]}))}))}))})):null})),y=(0,a.k)({logo:{width:16,height:16,borderRadius:n.E0.default,overflow:"hidden",marginEnd:8},content:{display:"flex",alignItems:"center"}});b.displayName="BuildingBanner";const x=e=>{var t,s,r,i,a,n,o;const c=null===(s=null===(t=e.content)||void 0===t?void 0:t.options)||void 0===s?void 0:s.actions[0].name,d=null===(i=null===(r=e.content)||void 0===r?void 0:r.options)||void 0===i?void 0:i.actions[0].value,l=e.branchId,u=e.adsId,p=e.orgId;if(c&&d&&l&&u&&p)return{text:c,url:d,branchId:l,adsId:u,orgId:p,legalName:e.legalName,logoUrl:null===(o=null===(n=null===(a=e.content)||void 0===a?void 0:a.options)||void 0===n?void 0:n.logo)||void 0===o?void 0:o.img_url}};var j=s(27215),w=s(29476);const _=s(63140).V,C=(e,t={enabled:!0})=>{var s;const r=(0,j.v9)(_),i=(0,w.Q5)(Object.assign(Object.assign({},r),{bannerSlot:"building_banner",objectId:e.id}),Object.assign(Object.assign({},t),{enabled:"building"===e.type&&t.enabled}));return Object.assign(Object.assign({},i),{data:(null===(s=i.data)||void 0===s?void 0:s.length)?i.data[0]:void 0})};s(31628);var I=s(65649),k=s(42313),O=s(26287),S=s(45944),N=s(88007),M=s(86687),T=s(85843),P=s(33511),E=s(10661);const L=(0,i.memo)((({bssRef:e,hrefLink:t,imageSrc:s,bannerSlotConfig:a,showEventOrdinal:n,ownerName:o,banner:c,rubrics:d,dataN:l="",trackClick:u})=>{const p=(0,v.Z)(),{lang:g}=p,{size:m}=a,h=(0,i.useContext)(P.j),f=(0,j.v9)((0,E.Gl)({config:p,actionEventParamsSelector:(0,S.aT)({frameId:h.frameId,banner:c,ownerName:o,rubrics:d}),originalHref:t,showEventOrdinal:n}));return(0,r.jsx)(M.Z,Object.assign({href:f,external:!0,onClick:u},{children:(0,r.jsx)("img",Object.assign({},T.dx.n(l),{ref:e,src:s,style:{height:m[1],width:m[0]},alt:"ru"===g?"Рекламное изображение":void 0}))}))}));var R=s(1209),z=s(19631),A=s(57953),F=s(354),B=s(67753);var Z=s(74223);const U=(0,i.memo)((({ownerName:e,htmlContent:t,bannerSlotConfig:s,bssRef:a,banner:n,showEventOrdinal:o,rubrics:c,dataN:d="",trackClick:l})=>{const u=(0,j.I0)(),p=(0,i.useContext)(P.j),g=(0,i.useRef)(null),m=(0,i.useRef)(null);return(0,R.x)({type:"window:message",handler:t=>{var s;if(t.data)try{const e=JSON.parse(t.data);"mkb"===e.type&&e.source&&e.source.mp4&&(l(),u(Z.X.openVideoPlayer({videoUrl:"//"+e.source.mp4,adInfoParams:{source:"banner",erid:n.ad_attributes.erid,legalName:n.ad_attributes.legal_name},cover:e.cover&&"//"+e.cover,link:e.link&&`https://${e.link}`,bssPayload:{banner:n,rubrics:c}})))}catch(e){}if("2gis_ad:click"===(null===(s=t.data)||void 0===s?void 0:s.key)){const s=m.current;s&&s.contentWindow===t.source&&(l(),u(function(e){const{url:t,showEventOrdinal:s,actionEventParamsSelector:r}=e;return(0,B.Rh)((e=>(0,F._N)((0,E.Gl)({config:e,actionEventParamsSelector:r,originalHref:t,showEventOrdinal:s}),(e=>(0,A.k)({url:e,name:"_blank"})))))}({url:t.data.url,frameId:p.frameId,showEventOrdinal:o,actionEventParamsSelector:(0,S.aT)({frameId:p.frameId,banner:n,ownerName:e,rubrics:c})})))}},stopIfHandled:!0,priority:z.U.FrameElement}),(0,i.useEffect)((()=>{if(t&&g.current){const e=document.createElement("iframe");m.current=e,e.setAttribute("width",`${s.size[0]}px`),e.setAttribute("height",`${s.size[1]}px`),g.current.innerHTML="",g.current.appendChild(e),e.addEventListener("load",(t=>{var s,r,i,a;const n=t.currentTarget;if(!n)return;const o=null===(s=e.contentDocument)||void 0===s?void 0:s.querySelector("html");o&&(o.style.overflow="hidden");if(null===(r=n.contentDocument)||void 0===r?void 0:r.querySelector("script#gwd-init-code")){const t=null===(i=n.contentDocument)||void 0===i?void 0:i.querySelector("gwd-page");if(t){const{width:s,height:r}=t.getBoundingClientRect();e.setAttribute("width",`${s}`),e.setAttribute("height",`${r}`)}}const c=null===(a=e.contentDocument)||void 0===a?void 0:a.querySelector(".mkb");if(c){const{width:t,height:s}=c.getBoundingClientRect();e.setAttribute("width",`${t}`),e.setAttribute("height",`${s}`)}})),e.srcdoc=t}}),[t,g.current]),(0,r.jsx)("div",Object.assign({ref:a},T.dx.n(d),{children:(0,r.jsx)("div",{ref:g})}))}));var H=s(86139);const D={start_banner:{size:[336,280],rotationInterval:4e4},smart_banner:{size:[336,280]}},$=(0,i.memo)((({bannerSlot:e,ownerName:t,dataN:s,renderOnEmpty:a,onEmpty:n,rubrics:o})=>{var c;const d=(0,j.v9)(I.O),l=(0,j.v9)(O.fq),u=(0,j.v9)((e=>(0,p.t0)(e.appContext.frames,"search"))),g=(0,j.v9)(k.ls),{rotationInterval:m}=D[e],{data:h,isLoading:f,isError:v}=(0,N.X)({locale:d,regionId:l,bannerSlot:e,viewport:g,rubrics:o,query:"search"===(null==u?void 0:u.type)&&"query"===u.searchType?u.query:void 0},{refetchIntervalInBackground:"start_banner"===e,refetchOnMount:!0,keepPreviousData:!1,refetchInterval:m}),b=null==h?void 0:h.banners[0],y=null==b?void 0:b.ad_attributes.content,x=!f&&(v||!(null===(c=null==y?void 0:y.img)||void 0===c?void 0:c.link)||!(null==y?void 0:y.html));return(0,i.useEffect)((()=>{x&&(null==n||n())}),[x,n]),f?null:!v&&y&&b?(0,r.jsxs)("div",{children:[(0,r.jsx)(V,{bannerSlot:e,ownerName:t,banner:b,rubrics:o,dataN:s}),(0,r.jsx)(H.d,{tiny:!0,gray:!0,source:"banner",erid:b.ad_attributes.erid,legalName:b.ad_attributes.legal_name})]}):(null==a?void 0:a())||null})),V=(0,i.memo)((({bannerSlot:e,ownerName:t,dataN:s,banner:i,rubrics:a})=>{const{bssRef:n,showEventOrdinal:o,useBssHandler:c}=(0,l.T)((0,S.MZ)({banner:i,ownerName:t,rubrics:a}),{forceSendShowIfParamsChanged:[i.ad_attributes.auction_id],forcedIntersection:"start_banner"===e}),d=c(S.fB,{banner:i,ownerName:t,rubrics:a}),{html:u,img:p}=i.ad_attributes.content;return u?(0,r.jsx)(U,{banner:i,rubrics:a,ownerName:t,trackClick:d,bssRef:n,bannerSlotConfig:D[e],showEventOrdinal:o,htmlContent:u,dataN:s}):p?(0,r.jsx)(L,{bssRef:n,banner:i,rubrics:a,hrefLink:p.link,imageSrc:p.value,ownerName:t,showEventOrdinal:o,bannerSlotConfig:D[e],trackClick:d,dataN:s}):null})),q=()=>(0,r.jsx)($,{bannerSlot:"start_banner",ownerName:"dashboardFrame",dataN:"wat-start-banner"}),G=({ownerName:e,renderOnEmpty:t})=>(0,r.jsx)($,{bannerSlot:"smart_banner",dataN:"wat-smart-banner",ownerName:e,renderOnEmpty:t})},63140:(e,t,s)=>{"use strict";s.d(t,{V:()=>d});var r=s(60786),i=s(55476),a=s(65649),n=s(42313),o=s(26287),c=s(10484);const d=(0,r.P1)([a.O,o.fq,e=>(0,c.t0)(e.appContext.frames,"search"),n.ls,i.b1],((e,t,s,r,i)=>({locale:e,regionId:t,viewport:r,authUserId:i,query:"search"===(null==s?void 0:s.type)&&"query"===s.searchType?s.query:void 0})))},29476:(e,t,s)=>{"use strict";s.d(t,{Q5:()=>o});var r=s(22970),i=s(42866);const a=9e5,n=899e3,{use:o,prefetch:c}=(0,i.r)("banners",(e=>({services:t})=>(0,r.mG)(void 0,void 0,void 0,(function*(){return(yield t.casinoApi.getGtaAdvise(e)).banners}))),{staleTime:n,cacheTime:a,refetchInterval:n})},31628:(e,t,s)=>{"use strict";s.d(t,{SS:()=>d,NU:()=>p});var r=s(52322),i=s(2784),a=s(67414),n=s(27215),o=s(54974),c=s(52981);const d=(0,i.memo)((({banners:e,ownerName:t,miniCardPosition:s=2})=>{const i=(0,n.I0)(),d=(0,o.$)((({entityId:e,hash:t})=>{i((0,c.xo)({id:e,type:"branch",hash:t}))}));return(0,r.jsx)(a.E,{ownerName:t,onBannerClick:d,gtaBanners:e,title:"Реклама",miniCardPosition:s})}));const l=s(63140).V;var u=s(88007);const p=(e={})=>{var t,s;const{isEnabled:r=!0}=e,i=(0,n.v9)(l),a=(0,u.X)(Object.assign(Object.assign({},i),{bannerSlot:"realty_banner"}),{enabled:r});return Object.assign(Object.assign({},a),{data:null!==(s=null===(t=a.data)||void 0===t?void 0:t.banners)&&void 0!==s?s:[]})}},75954:(e,t,s)=>{"use strict";s.d(t,{et:()=>Xe,mL:()=>rt,wF:()=>We,GW:()=>i});var r={};s.r(r);var i={};s.r(i),s.d(i,{Types:()=>r,bssLayersIconTap:()=>g.U,bssShow:()=>g.MZ,bssShowList:()=>g.a4,bssShowSubLayersList:()=>Se,bssShowSubLayersListMenu:()=>Oe,bssSubLayerOpenTap:()=>Ne,useRealtySublayers:()=>qe});var a=s(52322),n=s(2784),o=s(6801),c=s(85843),d=s(98584),l=s(63993),u=s(27215),p=s(66908),g=s(99968),m=s(57475),h=s(42858);function f(e,t,s=!1){switch(e){case"additional":return t._gg("Дополнительные слои");case"friends":return`${t._t("Друзья на карте")} (beta)`;case"realty":return t._gg("Недвижимость");case"parkings":return t._t("Парковки");case"eta":return t._t("Транспорт на карте");case"photos":return t._t("Фотографии");case"metro":return t._t("Метро на карте");case"exchange":return t._gg("Обмен валют");case"backTo2004":return s?t._gg("Назад в будущее"):t._gg("Назад в 2004");case"roadAccident":return t._gg("Карта плотности ДТП");case"tourism":return t._t("Туристические места");default:return void 0}}var v=s(52372);function b({color:e="currentColor"}){return(0,a.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",viewBox:"0 0 32 32"},{children:(0,a.jsx)("path",{fill:e,d:"M27.52 24h-6.44l-2-4.87-3.08 4.7-3.06-4.7-2 4.87H4.48l7.33-17.09L16 13.2l4.19-6.29L27.52 24zm-5.1-2h2.06l-4.67-10.91L16 16.8l-3.81-5.71L7.52 22h2.06l3-7.13 3.42 5.3 3.44-5.3L22.42 22z"})}))}function y({color:e="currentColor"}){return(0,a.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",viewBox:"0 0 32 32"},{children:(0,a.jsx)("path",{fill:e,d:"M26.66 22L20.19 6.91 16 13.2l-4.19-6.29L5.34 22H4v2h9v-2h-1.25l1.19-2.87 3.06 4.7 3.06-4.7L20.25 22H19v2h9v-2h-1.34zm-4.24 0l-3-7.13-3.42 5.3-3.44-5.3L9.58 22H7.52l4.67-10.91L16 16.8l3.81-5.71L24.48 22h-2.06z"})}))}function x({color:e="currentColor"}){return(0,a.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:"none",viewBox:"0 0 32 32"},{children:(0,a.jsx)("path",{fill:e,d:"M8.47 24h3.43c-1.354-.696-2.51-1.723-3.358-2.987-.849-1.264-1.363-2.722-1.495-4.238-.132-1.517.123-3.042.74-4.433.619-1.391 1.58-2.603 2.793-3.522L16 24l5.42-15.18c1.213.919 2.174 2.13 2.792 3.522.618 1.391.872 2.916.74 4.433-.131 1.516-.646 2.974-1.494 4.238-.849 1.264-2.004 2.291-3.358 2.987h3.43c1.254-1.182 2.212-2.642 2.799-4.262.586-1.62.784-3.355.576-5.066-.207-1.71-.813-3.348-1.77-4.782C24.18 8.457 22.9 7.268 21.4 6.42l-1-.58L16 18 11.64 5.84l-1 .58c-1.503.845-2.786 2.03-3.746 3.462-.96 1.432-1.57 3.069-1.782 4.78-.211 1.71-.017 3.447.566 5.069.583 1.622 1.54 3.084 2.792 4.27z"})}))}function j({color:e="currentColor"}){return(0,a.jsx)("svg",Object.assign({width:32,height:32,viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},{children:(0,a.jsx)("path",{d:"M24 7.15C21.5649 5.76802 18.7989 5.07653 16 5.15C13.2011 5.07653 10.4351 5.76802 8 7.15V19.15L11.66 22.07L8.29 25.44L9.71 26.85L13.41 23.15H18.59L22.29 26.85L23.71 25.44L20.34 22.07L24 19.15V7.15ZM10 11.15H22V13.57L16 17L10 13.57V11.15ZM16 7.15C18.0612 7.1335 20.1037 7.54199 22 8.35V9.15H10V8.35C11.8954 7.53895 13.9385 7.13032 16 7.15ZM18.3 21.15H13.7L10 18.15V15.87L16 19.3L22 15.87V18.19L18.3 21.15Z",fill:e})}))}function w({color:e="currentColor"}){return(0,a.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:e,viewBox:"0 0 32 32"},{children:[(0,a.jsx)("path",{d:"M22 18h-3v2h3v-2zm-12 0h3v2h-3v-2zm12-4H10v2h12v-2z"}),(0,a.jsx)("path",{fillRule:"evenodd",d:"M16 5c-2.484 0-5.011.308-6.776.583C7.313 5.881 6 7.544 6 9.418V14H4v2h2v9a2 2 0 002 2h2a2 2 0 002-2h8a2 2 0 002 2h2a2 2 0 002-2v-9h2v-2h-2V9.418c0-1.874-1.313-3.537-3.224-3.835C21.011 5.308 18.484 5 16 5zM9.532 7.56C11.249 7.292 13.662 7 16 7c2.337 0 4.751.292 6.468.56.878.136 1.532.91 1.532 1.858V25h-2v-1a1 1 0 00-1-1H11a1 1 0 00-1 1v1H8V9.418c0-.949.654-1.722 1.532-1.858z"})]}))}function _({color:e="currentColor"}){return(0,a.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32"},{children:(0,a.jsx)("path",{d:"M14 4c2.582 0 4.935.978 6.71 2.585l1.936-1.939.708.708-1.939 1.937A9.959 9.959 0 0 1 24 14a9.954 9.954 0 0 1-2.084 6.111c.924.127 1.953.758 2.584 1.389.625.625 1.837 2.423 3.634 5.393a.903.903 0 0 1-1.241 1.241c-2.97-1.797-4.768-3.009-5.393-3.634-.63-.63-1.262-1.66-1.39-2.584A9.954 9.954 0 0 1 14 24a9.963 9.963 0 0 1-6.71-2.585l-1.936 1.939-.708-.708 1.939-1.937C4.978 18.935 4 16.582 4 14s.978-4.935 2.585-6.71L4.646 5.355l.708-.708L7.29 6.585A9.963 9.963 0 0 1 14 4zm6 4.708-4.277 4.276a2 2 0 0 1-2.739 2.739l-1.436 1.438a4.002 4.002 0 0 0 5.136-.195l.144-.138 1.415 1.415a6.002 6.002 0 0 1-8.117.34L8.708 20A8 8 0 0 0 20 8.708zm-12 0A7.967 7.967 0 0 0 6 14c0 2.03.755 3.882 2 5.292l1.418-1.418a6.003 6.003 0 0 1 0-7.748zm3.172 2.464a4 4 0 0 0-.332 5.281l1.437-1.437a2 2 0 0 1 2.739-2.739l1.437-1.437a4 4 0 0 0-5.281.332zM14 13a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm0-7c-2.03 0-3.882.755-5.292 2l1.417 1.419a6.002 6.002 0 0 1 7.75-.001L19.291 8A7.962 7.962 0 0 0 14 6z",fill:e,fillRule:"evenodd"})}))}function C({color:e="currentColor"}){return(0,a.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,a.jsx)("path",{d:"M27.14 22.36L25.23 8.59a3 3 0 0 0-3-2.59h-2.64l-2 2h-3.18l-2-2H9.74a3 3 0 0 0-3 2.59L4.86 22.36A3.2 3.2 0 0 0 11 24l1.68-4h6.66L21 24a3.2 3.2 0 0 0 6.13-1.67zm-2.26 1.23a1.24 1.24 0 0 1-2-.33L20.67 18h-9.34l-2.19 5.26a1.25 1.25 0 0 1-2 .33 1.2 1.2 0 0 1-.28-1L8.75 8.86a1 1 0 0 1 1-.86h1.85l2 2h4.82l2-2h1.85a1 1 0 0 1 1 .86l1.91 13.77a1.2 1.2 0 0 1-.3.96z"}),(0,a.jsx)("path",{d:"M18.005 14.002l2-2.003 2.002 2-2 2.003zM10.002 14.003l2-2.003 2.002 2-2 2.002z"})]}))}function I({color:e="currentColor"}){return(0,a.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:[(0,a.jsx)("path",{fill:e,fillRule:"evenodd",d:"M13 10h4.5a3.5 3.5 0 110 7H15v1h3v2h-3v2h-2v-2h-2v-2h2v-1h-2v-2h2v-5zm2 5h2.5a1.5 1.5 0 000-3H15v3z",clipRule:"evenodd"}),(0,a.jsx)("path",{fill:e,fillRule:"evenodd",d:"M16 5C9.925 5 5 9.925 5 16s4.925 11 11 11 11-4.925 11-11S22.075 5 16 5zM7 16a9 9 0 1118.001.001A9 9 0 017 16z",clipRule:"evenodd"})]}))}function k({color:e="currentColor"}){return(0,a.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",fill:e},{children:(0,a.jsx)("path",{d:"M6 9a3 3 0 013-3h14a3 3 0 013 3v14a3 3 0 01-3 3H9a3 3 0 01-3-3V9zm3-1a1 1 0 00-1 1v10.586l1.879-1.879a2.998 2.998 0 014.242 0L20.414 24H23a1 1 0 001-1V9a1 1 0 00-1-1H9zM8 23v-.586l3.293-3.293a1 1 0 011.414 0L17.586 24H9a1 1 0 01-1-1zm9-9.5a1.5 1.5 0 113.001.001A1.5 1.5 0 0117 13.5zm1.5-3.5a3.5 3.5 0 100 7 3.5 3.5 0 000-7z",fillRule:"evenodd"})}))}var O=s(14630),S=s(47958),N=s(26287);function M({color:e="currentColor"}){return(0,a.jsx)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.753 3.341a1 1 0 0 0-1.751.721l.5 8A1 1 0 0 0 15.5 13H24a1 1 0 0 0 .8-.4l3-4a1 1 0 0 0-1.017-1.576l-3.427.761-.364-2.91a1 1 0 0 0-1.643-.634l-2.748 2.356-2.848-3.256ZM16.439 11l-.258-4.131 1.566 1.79a1 1 0 0 0 1.404.1l2.087-1.79.27 2.155a1 1 0 0 0 1.209.852l1.861-.413L23.5 11h-7.06Zm-3.867.58-.248-1.991c-.993.05-1.928.12-2.695.21-1.252.149-2.133 1.12-2.358 2.246l-.707 3.536-.564.752a5 5 0 0 0-1 3V25a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2h10a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2v-5.667a5 5 0 0 0-1-3l-.564-.752L25.32 15H8.72l.512-2.563c.078-.39.35-.618.633-.652.753-.09 1.697-.158 2.707-.206ZM8 17l-.4.533A3 3 0 0 0 7.019 19H11a1 1 0 0 1 1 1v1H7v4h2v-2h14v2h2v-4h-5v-1a1 1 0 0 1 1-1h3.981a3 3 0 0 0-.581-1.467L24 17H8Z",fill:e})}))}var T=s(99079),P=s(44853);const E=(0,n.memo)((({type:e})=>{const t=(0,u.v9)(N.fq);switch(e){case"eta":return(0,a.jsx)(w,{});case"metro":return"32"===t?(0,a.jsx)(y,{}):"38"===t?(0,a.jsx)(x,{}):"99"===t?(0,a.jsx)(j,{}):(0,a.jsx)(b,{});case"realty":return(0,a.jsx)(v.b,{});case"parkings":return(0,a.jsx)(O.d,{});case"photos":return(0,a.jsx)(k,{});case"additional":return(0,a.jsx)(S.S,{});case"exchange":return(0,a.jsx)(I,{});case"backTo2004":return(0,a.jsx)(_,{});case"roadAccident":return(0,a.jsx)(M,{});case"tourism":return(0,a.jsx)(T.Q,{});case"friends":return(0,a.jsx)(P._,{});default:return(0,a.jsx)(C,{})}}));E.displayName="Icon";var L=s(55462),R=s(32002),z=s(35253),A=s(79597),F=s(86687),B=s(17942),Z=s(43149),U=s(13754);const H=(0,n.memo)((e=>{const{type:t,isDropdownOpen:s,isActive:r,position:i,onLayerHover:d,hasLabel:l}=e,{css:v,s:b}=(0,o.y)(D),y=(0,h.T)(),{ref:x,addTooltip:j}=(0,m.s)({title:f(t,y,r),to:"bottomMiddle",offset:4}),w="additional"===t,_=(0,n.useRef)(null),{isHovered:C}=(0,L.X)({ref:_});(0,n.useEffect)((()=>{d(t,C)}),[C]);const{bssRef:I,useBssHandler:k}=(0,p.T)((0,g.MZ)({type:t,position:i})),O=k(g.U,{type:t,enableMapLayer:!r,position:i}),S=(0,p.T)().useBssHandler(Z.V),M=(0,u.I0)(),T=(0,u.v9)((e=>e.appContext.relief)),P=(0,u.v9)(N.kL),R=(0,A.W)(function(e,t){switch(e){case"metro":return t?{type:"metroScheme",cityAlias:t.uri_code}:void 0;case"realty":return{type:"realty"};default:return}}(t,P));return(0,a.jsxs)("li",Object.assign({className:v(b.menuItem,w&&b._additional,r&&w&&b._additionalActive),ref:"additional"===t?_:x,onClick:()=>{w||(O(),M((0,U.tj)({newLayer:r?void 0:t,manual:!0})),"roadAccident"===t&&!r&&T&&(M((0,B.y)(!1)),S({isActive:!1,autoEvent:!0})))}},c.dx.n("wat-layer-list-item"),c.dx.t(t),c.dx.s(r.toString()),{children:[(0,a.jsx)(F.Z,Object.assign({href:R,color:"inherit"},{children:(0,a.jsx)("div",Object.assign({className:v(b.icon,!w&&r&&b._active),ref:I},{children:(0,a.jsx)(E,{type:t})}))})),l&&(0,a.jsx)("span",Object.assign({className:v(b.label)},{children:f(t,y,r)})),!s&&j]}))}));H.displayName="LayersControlItem";const D=(0,o.k)({menuItem:Object.assign(Object.assign({},l.oN),{display:"inline-flex",alignItems:"center",height:"100%",cursor:"pointer",listStyleType:"none","&:not(:last-child)":{paddingEnd:8}}),_additional:{paddingStart:8,paddingEnd:8,marginEnd:-8,boxShadow:R.q.innerBorderStartBase,color:d.O.gray_929292,":hover":{color:d.O.blue_028eff}},_additionalActive:{color:d.O.blue_028eff},icon:{flex:"0 0 32px",height:32},_active:{marginEnd:-4,marginStart:-4,paddingEnd:4,paddingStart:4,color:d.O.white,borderRadius:z.E0.small,backgroundColor:d.O.blue_028eff,":hover":{background:d.O.blue_0070cc}},label:{marginStart:8}});var $=s(66369);const V=e=>{const{layer:t,activeLayer:s,isDropdownOpen:r,isDropdownHovered:i}=e;return r||i?t===s||"additional"===t:s===t};var q=s(57935);const G=(0,n.memo)((e=>{const{position:t,isActive:s,onClose:r,item:{title:i,type:d}}=e,{css:l,s:m}=(0,o.y)(W),{bssRef:h,useBssHandler:f}=(0,p.T)((0,g.MZ)({type:d,position:t,hasOwner:!0})),v=f(g.U,{type:d,enableMapLayer:!s,position:t,hasOwner:!0}),b=(0,p.T)().useBssHandler(Z.V),y=(0,u.I0)(),x=(0,u.v9)((e=>e.appContext.relief)),j=(0,n.useCallback)((()=>{"additional"!==d&&(v(),y((0,U.tj)({newLayer:s?void 0:d,manual:!0})),"roadAccident"===d&&!s&&x&&(y((0,B.y)(!1)),b({isActive:!1,autoEvent:!0}))),r&&r()}),[d,r,v,y,s,x,b]);return(0,a.jsxs)("li",Object.assign({className:l(m.root,s&&m._active),onClick:j,ref:h},c.dx.n("wat-layer-drop-down-list-item"),c.dx.t(d),c.dx.s(s.toString()),{children:[(0,a.jsx)("div",Object.assign({className:l(m.icon)},{children:(0,a.jsx)(E,{type:d})})),i]}))}));G.displayName="DropdownItem";const W=(0,o.k)({root:{position:"relative",display:"flex",alignItems:"center",minWidth:172,paddingTop:4,paddingBottom:4,paddingStart:20,paddingEnd:24,whiteSpace:"nowrap",listStyleType:"none",borderRadius:z.E0.default,color:d.O.gray_929292,cursor:"pointer","--icon-color":d.O.gray_262626,":hover":{color:d.O.blue_028eff}},_active:{color:d.O.gray_262626,"--icon-color":d.O.blue_028eff,":hover":{color:d.O.blue_028eff}},icon:{postion:"absolute",height:32,width:32,start:0,marginEnd:16,color:"var(--icon-color)"}}),Q=(e,{tp:t})=>{const{items:s,activeLayer:r}=e;return{list:s.reduce(((e,s)=>{const i=f(s,t,s===r);return i?[...e,{type:s,title:i}]:e}),[])}},K=(0,n.memo)((e=>{const{items:t,isDropdownOpen:s,onClose:r}=e,{css:i,s:n}=(0,o.y)(J),c=(0,u.v9)((e=>e.appContext.activeLayer)),{list:d}=(0,q.Gb)(Q,{items:t,activeLayer:c});return(0,a.jsx)("nav",Object.assign({className:i(n.root)},{children:(0,a.jsx)("ul",Object.assign({className:i(n.list)},{children:d.map(((e,t)=>(0,a.jsx)(G,{item:e,position:t+1,onClose:r,isActive:V({layer:e.type,activeLayer:c,isDropdownOpen:s,isDropdownHovered:!0})},t)))}))}))}));K.displayName="Dropdown";const J=(0,o.k)((({mobile:e})=>({root:{display:"block",boxShadow:e?"none":R.q.popup,borderRadius:z.E0.default,background:d.O.white,paddingTop:8,paddingBottom:8},list:Object.assign({},e?{display:"flex",flexDirection:"column",gap:8}:{})})));var Y=s(6340),X=s(28167),ee=s(65120),te=s(69698),se=s(22970);const re=(0,s(12563).createModel)("hasBusInViewport",(({services:e},{viewport:t},s)=>({fetch(){return(0,se.mG)(this,void 0,void 0,(function*(){return void 0!==s?s:(yield e.etaApi.getHasBusInViewport({viewport:t,zoom:11})).data.has_bus_in_viewport}))}})),(({fetch:e})=>{e()}));var ie=s(11447),ae=s(10484),ne=s(3454),oe=s(12678),ce=s(74246),de=s(78882);const le=(0,s(60786).P1)([({state:e,localityId:t})=>{var s;return t&&(null===(s=e.data.roadAccident[t])||void 0===s?void 0:s.data)||void 0}],(e=>({roadAccidentData:e})));var ue=s(88757),pe=s(94142),ge=s(35571);const me=(0,ue.G)("fetchRoadAccident",(e=>({diskApi:t})=>t.getRoadAccidentData({localityId:e.localityId})),(0,pe.r)("roadAccident",{start:(e,{params:t})=>(0,ge.Av)(e,t.localityId),success:(e,{result:t,params:s})=>(0,ge.Cj)(e,s.localityId,t),error:(e,{params:t,error:s})=>(0,ge.VJ)(e,t.localityId,s)}));var he=s(92309),fe=s(55476),ve=s(47949),be=s(42714),ye=s(44344);var xe=s(67810);const je=["realty","metro","eta","friends","exchange","tourism","roadAccident","photos"],we=["realty","friends","metro","eta","parkings","exchange","tourism","roadAccident","photos","backTo2004"],_e=["5349042514588558","5349042514588559"];function Ce(e){const{isDropdownOpen:t,isDropdownHovered:s}=e,{featureRealty:r,featureReadOnly:i,featureExchange:a,featureBackTo2004:o,featureRoadAccidentHeatmap:c,featureTouristLayer:d,featureAirplane:l,featureFriends:p}=(0,Y.Z)(),g=(0,u.v9)((e=>e.appContext.activeLayer)),m=(0,u.I0)(),h=e=>V({layer:e,activeLayer:g,isDropdownOpen:t,isDropdownHovered:s}),f=(0,u.v9)((e=>(0,ce.n)(e)||!!(0,ae.t0)(e.appContext.frames,"directions"))),v=(0,u.v9)(N.kG),b=null==v?void 0:v.data,y=(0,n.useMemo)((()=>l&&(0,xe.s)(b,he.VA.vH.P)),[l,b]),x=(0,u.v9)((e=>e.session.is3dEnabled)),j=(0,u.v9)((e=>e.appContext.zoom)),w=j<9,_=(0,u.v9)((e=>(null==b?void 0:b.regionId)?(0,ie.D4)({state:e,id:b.regionId}):void 0)),C=null==_?void 0:_.data,I=(0,n.useMemo)((()=>(null==C?void 0:C.bounds)?(0,ee.Hg)((0,oe.J)(C.bounds)):void 0),[null==C?void 0:C.id]),k=(0,te.tT)(I?re({viewport:[{lon:I[1][0],lat:I[0][1]},{lon:I[0][0],lat:I[1][1]}]}):void 0).data,O=!!C&&!!k&&x&&!(0,X.e)(j),S="loading"===(null==_?void 0:_.meta.status)||"loading"===(null==v?void 0:v.meta.status),M=h("roadAccident"),T=(0,u.v9)(N.E5)||"",P=(0,u.v9)(N.k2),E=_e.includes(T)?P:T,L=(0,u.v9)((e=>le({state:e,localityId:E}).roadAccidentData));(0,n.useEffect)((()=>{M&&x&&c&&!L&&E&&m(me({localityId:E}))}),[M,E,c,L,x,m]),(0,n.useEffect)((()=>{c&&x||!M||m((0,ne.u$)())}),[c,M,x,m]),function(e=[]){(0,de.K)(((t,{Heatmap:s})=>{const r=e.map((({longitude:e,latitude:t,severity:s})=>({coordinates:[e,t],weight:s})));if(!r.length)return;const i=new s(t,{points:r,pointRadius:["interpolate",["linear"],["zoom"],7,1,9,3,10,6,11,9,12,15,13,25,14,35,16,75,18,150,19,250,20,500],palette:{.37:"rgba(53,136,253,0)",.425:"rgba(53,136,253,0.2)",.45:"rgb(255,201,77,0.7)",.5:"rgb(255,202,20)",1:"rgb(245,0,7)"},intensity:["interpolate",["linear"],["zoom"],9,.13,11,.24,13,.35,16,.365,18,.47],opacity:1});return()=>{i.destroy()}}),[e])}(M?L:void 0);const R=o&&!f&&!w&&x,z=h("backTo2004");(0,n.useEffect)((()=>{(f||!o||w)&&z&&m((0,ne.u$)())}),[f,z,w,o,m]);const A=!(!(null==C?void 0:C.flags.metro)||!x||w),F=h("metro");(0,n.useEffect)((()=>{C&&C.flags.metro&&!w||!F||m((0,ne.u$)())}),[null==C?void 0:C.id,F,w]);const B=h("eta");(0,n.useEffect)((()=>{O||!B||void 0===k||S||m((0,U.tj)({newLayer:void 0}))}),[O,k,S]);const Z=(0,u.v9)((e=>!!(0,ae.t0)(e.appContext.frames,"realty"))),H=h("realty");(0,n.useEffect)((()=>{r&&(Z&&!H&&m((0,ne.t9)("realty")),H&&!Z&&m((0,ne.u$)()))}),[g,Z,r,H,m,C]),function(e){const t=(0,u.v9)((e=>!!e.appContext.activeSublayer));(0,de.K)((s=>{e&&t&&s.once("styleload",(()=>{s.addLayer({id:"realty-heatmap-style",type:"raster",minzoom:6,filter:["match",["sourceAttr","type"],["realty_heatmap"],!0,!1],style:{opacity:["interpolate",["linear"],["zoom"],2,.7,10,.6,13,.5,16,.3,18,.15]}})}))}),[!!e,t])}(H);const D=!(!x||!(null==C?void 0:C.flags.parking_layer)),$=h("parkings");(0,n.useEffect)((()=>{$&&m((0,ne.t9)("parkings"))}),[$,m]);const q=(0,u.v9)((e=>{var t;return null===(t=e.appContext.frames[e.appContext.frames.length-1])||void 0===t?void 0:t.type})),G=h("exchange");(0,n.useEffect)((()=>{a&&("exchange"!==q&&G&&m((0,ne.u$)()),"exchange"!==q||G||m((0,ne.t9)("exchange")))}),[a,q,g,G,m]);const W=h("tourism");return(0,n.useEffect)((()=>{x&&d||!W||m((0,ne.u$)())}),[x,d,W,m]),function({isLayerHighlighted:e}){const t=(0,u.I0)(),{featureFriends:s,friendsDebugToken:r,isMobileDevice:i,featureFriendsList:a}=(0,Y.Z)(),o=(0,u.v9)(fe.Pc)||!!r,c=(0,u.v9)(fe.qv)&&!r,d=e("friends"),{data:l}=ve.userModel.useUserFriendshipCounterQuery({},{enabled:s&&!i&&o&&d}),p=l&&l.from.confirmed+l.to.confirmed,g=(0,u.v9)((e=>e.appContext.frames)),m=!!(0,ae.t0)(g,"userPublicProfile"),h=o&&d&&!!p&&(0===g.length||m),f=(0,u.v9)((e=>!!(0,ae.t0)(e.appContext.frames,"friendsList")));(0,n.useEffect)((()=>{s&&!i&&(h&&!f&&a?t(be.m.openFriendsList(ye.i.openPublicProfile)):f&&c&&t(be.m.closeFriendsList()))}),[f,t,s,h,i,c,a])}({isLayerHighlighted:h}),(0,n.useMemo)((()=>{function e(e){switch(e){case"realty":return r;case"friends":return p;case"metro":return A;case"eta":return O;case"parkings":return D;case"exchange":return a;case"tourism":return x&&d;case"roadAccident":return x&&c;case"photos":return x&&!i;case"backTo2004":return R;default:return!1}}const t=4-(y?2:0),s=je.filter((t=>e(t))).slice(0,t),n=we.filter((t=>e(t)));return n.length>0&&s.push("additional"),{mainLayers:s,additionalLayers:n,isAirplaneShown:y}}),[je,we,O,y,A,D,R])}var Ie=s(38399),ke=s(80895);const Oe=()=>({frameId:e})=>({uiElement:{name:"mapSubLayersScreen",ownerName:"realtyLayerIcon",frameUuid:e}}),Se=e=>({frameId:t})=>({uiElement:{name:"mapSubLayersList",ownerName:"mapSubLayersScreen",frameUuid:t},payload:{mapSubLayersList:{size:e.size}}}),Ne=e=>({frameId:t})=>{const{type:s,size:r,enableMapSubLayer:i}=e;return{uiElement:{name:s,ownerName:"mapSubLayersList",frameUuid:t},action:"tap",payload:{mapSubLayersList:{size:r},mapSubLayer:{name:Me(s),enableMapSubLayer:i}}}},Me=e=>{switch(e){case"realtyBuySubLayerIcon":return"realtyBuySubLayer";case"realtyRentSubLayerIcon":return"realtyRentSubLayer";case"realtyWalkDistanceSubLayerIcon":return"realtyWalkDistanceSubLayer"}};var Te=s(67753),Pe=s(43854),Ee=s(24743),Le=s(34015);const Re=(0,Te.gQ)("setSublayerOnClick",(e=>(0,Te.XJ)((0,Te.vP)((0,Pe.nv)((t=>{const s=function(e){switch(e){case"realtyPriceRent":return Le.jY.rent.categoryId;case"realtyPriceSale":return Le.jY.sale.categoryId;default:return}}(e);return(null==t?void 0:t.categoryId)!==s&&s?(0,Ee.c)({newValue:s}):(0,Te.ZT)()})),(0,ne.PD)(e)))));var ze=s(85982),Ae=s(50278);const Fe=(0,n.memo)((({type:e,title:t,size:s})=>{const{s:r,css:i}=(0,o.y)(Be),{isHovered:n,refCallback:d}=(0,L.X)(),{useBssHandler:l}=(0,p.T)(),g=e===(0,u.v9)(Ae.j);let m="realtyBuySubLayerIcon";"realtyPriceRent"===e&&(m="realtyRentSubLayerIcon"),"realtyWalkDistance"===e&&(m="realtyWalkDistanceSubLayerIcon");const h=l(Ne,{type:m,size:s,enableMapSubLayer:!g}),f=(0,ke.A)((({isActive:e,type:t})=>(h(),e?(0,ne.P)():Re(t))),{isActive:g,type:e});return(0,a.jsxs)("div",Object.assign({className:i(r.root),onClick:f,ref:d},c.dx.n("wat-on-off-sublayer"),{children:[(0,a.jsx)(ze.N,{children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:i(r.dot,n&&r._hoveredDot,g&&!n&&r._activeDot)}),(0,a.jsx)("div",Object.assign({className:i(r.title_gray_929292,g&&r.title_gray_262626,n&&r.hoveredTitle)},{children:t}))]})}),(0,a.jsx)(ze.i,{children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",Object.assign({className:i(r.bigDotWrapper,g&&r._activeBigDot)},{children:(0,a.jsx)("div",{className:i(g&&r._activeInnerDot)})})),(0,a.jsx)("div",Object.assign({className:i(r.title_gray_262626,g&&r.title_gray_929292)},{children:t}))]})})]}))}));Fe.displayName="RealtySublayersItem";const Be=(0,o.k)({root:{height:32,padding:"0 16px",display:"flex",alignItems:"center",boxSizing:"border-box",cursor:"pointer"},dot:{width:0,height:0,marginEnd:8,border:`4px solid ${d.O.gray_262626}`,borderRadius:$.E.oval},_hoveredDot:{borderColor:d.O.blue_028eff},_activeDot:{borderColor:d.O.blue_028eff},title_gray_929292:{whiteSpace:"nowrap",color:d.O.gray_929292},hoveredTitle:{color:d.O.blue_028eff},title_gray_262626:{whiteSpace:"nowrap",color:d.O.gray_262626},bigDotWrapper:{display:"flex",alignItems:"center",justifyContent:"center",marginEnd:20,boxSizing:"border-box",width:20,height:20,border:`2px solid ${d.O.gray_e6e6e6}`,borderRadius:"50%"},_activeBigDot:{border:`2px solid ${d.O.blue_028eff}`},_activeInnerDot:{width:12,height:12,borderRadius:"50%",backgroundColor:d.O.blue_028eff}});var Ze=s(66612),Ue=s(24568),He=s(64516),De=s(10961);var $e=s(97825),Ve=s(25467);const qe=()=>{const e=(0,u.v9)(N.kL),t=(0,h.T)(),s=(0,u.v9)(Ae.j);return(0,n.useMemo)((()=>{const r=[];return((null==e?void 0:e.code)&&$e.yJ.includes(e.code)||"realtyPriceSale"===s||"realtyPriceRent"===s)&&r.push({type:"realtyPriceSale",title:t._gg("Цена продажи"),temperatureLabels:[t._gg("Дешевле"),t._gg("Дороже")]},{type:"realtyPriceRent",title:t._gg("Цена аренды"),temperatureLabels:[t._gg("Дешевле"),t._gg("Дороже")]}),((null==e?void 0:e.flags.metro)||"realtyWalkDistance"===s)&&r.push({type:"realtyWalkDistance",title:t._gg("Доступность метро"),temperatureLabels:[t._gg("< 5 мин"),t._gg("5-10"),t._gg("10-20"),t._gg("20-30")]}),r}),[t,null==e?void 0:e.flags.metro,s])},Ge=(0,n.memo)((()=>{const{css:e,s:t}=(0,o.y)(Qe),s=(0,h.T)(),r=(0,u.v9)(Ae.j),i=qe(),{isHovered:c,refCallback:l}=(0,L.X)(),{bssRef:g,useBssHandler:m}=(0,p.T)(Oe()),f=r&&i.find((e=>e.type===r)),[v,b]=(0,n.useState)(!0),y=(0,n.useRef)(null);!function({ref:e,isActive:t,currentLayer:s,promotedLayer:r}){const i=(0,u.I0)(),a=(0,Y.Z)(),o=!(0,u.v9)(fe.zP),c=function(e){switch(e){case"metro":return"layer_metro";case"realty":return"layer_realty_heatmap";case"realty_sublayers":return"layer_realty_sublayers";case"exchange":return"layer_exchange";case"roadAccident":return"layer_road_accident";case"tourism":return"layer_tourism";default:return"layer_photo"}}(r);(0,n.useEffect)((()=>{r&&o&&s===r&&(t&&i((0,De.m)({name:`_seen-${c}`,value:!0})),setTimeout((()=>{e.current&&i((0,He.I)({type:c,targetBoundingClientRect:e.current.getBoundingClientRect(),to:"bottomMiddle",offset:0}))}),2500))}),[o,c,e.current,r,t,a])}({ref:y,isActive:!!r,currentLayer:"realty_sublayers",promotedLayer:"realty_sublayers"});const x=m(Ve.H,{type:v?"mapSubLayers":"closeMapSubLayers"}),j=(0,n.useCallback)((()=>{x(),b(!v)}),[v,x]);return(0,n.useEffect)((()=>{b(!0)}),[f]),(0,Ue.t)(y,(()=>{b(!0)})),(0,a.jsxs)("nav",Object.assign({className:e(t.root),ref:y},{children:[(0,a.jsx)("div",Object.assign({ref:g},{children:(0,a.jsx)(F.Z,Object.assign({onClick:j,color:"inherit",styles:t.headerLink,dataN:"wat-realty-sublayers-switcher"},{children:(0,a.jsxs)("div",Object.assign({className:e(t.header),ref:l},{children:[(0,a.jsxs)("div",Object.assign({className:e(t.title)},{children:[(0,a.jsx)("div",{className:e(t.dot,f&&v&&t._dotCollapsed,f&&!v&&t._dotActive,c&&t._dotHovered)}),(0,a.jsx)("span",Object.assign({className:e(t.text,f&&!v&&t._collapsed,c&&t._textHovered)},{children:f&&v?f.title:s._gg("Карты недвижимости")}))]})),(0,a.jsx)(Ie.E,{direction:v?"down":"up",color:c?d.O.gray_262626:d.O.gray_929292})]}))}))})),f&&v&&(0,a.jsx)("div",Object.assign({className:e(t.temperature)},{children:(0,a.jsx)(Ze.I,{segments:"realtyWalkDistance"===f.type?$e.fN:$e.tC,labels:f.temperatureLabels})})),(0,a.jsx)(We,{items:i,isListCollapsed:v})]}))}));Ge.displayName="RealtySublayers";const We=(0,n.memo)((({items:e,isListCollapsed:t})=>{const{css:s,s:r}=(0,o.y)(Qe),{bssRef:i}=(0,p.T)(Se({size:e.length}),{forceSendShowIfParamsChanged:[t]});return(0,a.jsx)("ul",Object.assign({className:s(r.list,t&&r.listCollapsed),ref:t?void 0:i},{children:e.map(((t,s)=>(0,n.createElement)(Fe,Object.assign({},t,{key:s,size:e.length}))))}))})),Qe=(0,o.k)({root:{display:"block",minWidth:216,padding:"6px 0",overflow:"hidden",boxShadow:R.q.popup,borderRadius:$.E.default,backgroundColor:d.O.white},header:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingTop:6,paddingBottom:6,paddingStart:16,paddingEnd:12},headerLink:{width:"100%",cursor:"pointer"},dot:{width:0,height:0,marginEnd:8,border:`4px solid ${d.O.gray_e6e6e6}`,borderRadius:$.E.oval},_dotActive:{borderColor:d.O.gray_262626},_dotCollapsed:{borderColor:d.O.blue_028eff},_dotHovered:{borderColor:d.O.blue_028eff},title:{display:"flex",alignItems:"center",boxSizing:"border-box",marginEnd:10},_titleHovered:{color:d.O.blue_028eff},text:{whiteSpace:"nowrap",color:d.O.gray_262626},_textHovered:{color:d.O.blue_028eff},_collapsed:{color:d.O.gray_929292},temperature:{paddingTop:0,paddingBottom:4,paddingStart:16,paddingEnd:16},list:{overflow:"hidden"},listCollapsed:{height:0}});var Ke=s(33451),Je=s(64693);const Ye=["realtyPriceRent","realtyPriceSale","realtyWalkDistance"],Xe=(0,n.memo)((()=>{const e=(0,u.I0)(),{s:t,css:s}=(0,o.y)(et),r=(0,n.useRef)(null),i=(0,n.useRef)(null),{isHovered:d,refCallback:l}=(0,L.X)({ref:i}),[m,h]=(0,n.useState)(!1),[f,v]=(0,n.useState)(!1),b=(0,n.useRef)(!1);b.current=m||d,(0,n.useEffect)((()=>{setTimeout((()=>{v(b.current)}),0)}),[m,d]);const y=(0,u.v9)((e=>e.appContext.activeLayer)),{mainLayers:x,additionalLayers:j,isAirplaneShown:w}=Ce({isDropdownOpen:f,isDropdownHovered:d}),{bssRef:_}=(0,p.T)((0,g.a4)({size:x.length})),C=(0,n.useCallback)(((e,t)=>{h("additional"===e&&!!t)}),[]),I=function(e){if(e.includes("tourism"))return"tourism";if(e.includes("roadAccident"))return"roadAccident";if((new Date).getMinutes()%2==0){if(e.includes("metro"))return"metro"}else if(e.includes("realty"))return"realty";return e.includes("exchange")?"exchange":e.includes("photos")?"photos":void 0}(x),k=(0,u.v9)((e=>e.session.is3dEnabled)),O=(0,u.v9)(N.kL),S=(0,u.v9)(Ae.j),M=function({is3dEnabled:e,activeLayer:t,activeSublayer:s,projectData:r}){return e&&"realty"===t&&(s&&Ye.includes(s)||(null==r?void 0:r.code)&&$e.yJ.includes(r.code)||(null==r?void 0:r.flags.metro))}({is3dEnabled:k,activeLayer:y,activeSublayer:S,projectData:O})&&!f;return x.length?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ze.N,{children:(0,a.jsxs)("nav",Object.assign({className:s(t.root),ref:_},{children:[(0,a.jsxs)("ul",Object.assign({className:s(t.list),ref:r},c.dx.n("wat-layers-icon-entry"),{children:[w&&(0,a.jsx)("li",Object.assign({className:s(t.menuItem)},{children:(0,a.jsx)(he.HV,{})})),x.map(((e,t)=>(0,a.jsx)(H,{type:e,isActive:V({layer:e,activeLayer:y,isDropdownOpen:f,isDropdownHovered:d}),onLayerHover:C,position:t+1,isDropdownOpen:f,promotedLayer:I,hasLabel:1===x.length},e)))]})),f&&(0,a.jsx)("div",Object.assign({className:s(t.dropdown),ref:l},c.dx.n("wat-layers-drop-down-list"),{children:(0,a.jsx)(K,{items:j,isDropdownOpen:f})})),M&&(0,a.jsx)("div",Object.assign({className:s(t.sublayers)},c.dx.n("wat-realty-sublayers-switcher-short"),{children:(0,a.jsx)(Ge,{})}))]}))}),(0,a.jsx)(ze.i,{children:(0,a.jsx)("div",Object.assign({className:s(t.mobile),ref:_},{children:(0,a.jsx)("div",Object.assign({onClick:()=>{e((0,Ke.Mw)({id:(0,Je.by)(),type:"layersControl",layers:j}))},className:s(t.layersIcon)},{children:(0,a.jsx)(E,{type:"additional"})}))}))})]}):null}));Xe.displayName="LayersControl";const et=(0,o.k)({root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",boxSizing:"border-box",height:"40px",background:d.O.white,cursor:"pointer",pointerEvents:"auto",boxShadow:R.q.popup,borderRadius:$.E.default},list:{position:"relative",zIndex:z.W5.top,overflow:"hidden",height:"100%",padding:"0 8px"},dropdown:{position:"absolute",top:40,end:0,zIndex:z.W5.top,paddingTop:8},sublayers:{zIndex:z.W5.top,position:"absolute",top:48,start:"50%",transform:"translateX(-50%)"},menuItem:Object.assign(Object.assign({},l.oN),{display:"inline-flex",alignItems:"center",height:"100%",cursor:"pointer",listStyleType:"none","&:not(:last-child)":{paddingEnd:8}}),mobile:{display:"flex",alignItems:"center",justifyContent:"center",width:40,height:40,borderRadius:$.E.default,background:d.O.white,boxShadow:R.q.popup},layersIcon:{display:"flex",alignItems:"center"}});var tt=s(76912),st=s(96729);const rt=({layers:e})=>{const t=(0,h.T)(),s=(0,u.I0)(),{css:r,s:i}=(0,o.y)(it),n=()=>{s((0,Ke.j4)())};return(0,a.jsx)(tt.F,{header:(0,a.jsxs)("div",Object.assign({className:r(i.title)},{children:[(0,a.jsx)("h2",{children:t._t("Слои")}),(0,a.jsx)(st.x,{onClick:n})]})),body:(0,a.jsx)(K,{items:e,isDropdownOpen:!0,onClose:n})})},it=(0,o.k)({title:Object.assign({display:"flex",alignItems:"center",justifyContent:"space-between",padding:24},l.hC)})},99968:(e,t,s)=>{"use strict";s.d(t,{MZ:()=>d,U:()=>l,a4:()=>c});var r=s(4135),i=s(65649),a=s(26287);const n=e=>{switch(e){case"eta":return"ctxLayerIcon";case"photos":return"photosLayerIcon";case"realty":return"realtyLayerIcon";case"parkings":return"parkingLayerIcon";case"metro":return"metroLayerIcon";case"exchange":return"exchangeCurrencyLayerIcon";case"backTo2004":return"backTo2004LayerIcon";case"roadAccident":return"trafficIncidentLayerIcon";case"tourism":return"touristLayerIcon";case"friends":return"friendsLayerIcon";default:return}},o=e=>{switch(e){case"eta":return"ctxLayer";case"photos":return"photosLayer";case"backTo2004":return"backTo2004Layer";case"realty":return"realtyLayer";case"parkings":return"parkingLayer";case"metro":return"metroLayer";case"exchange":return"exchangeCurrencyLayer";case"roadAccident":return"trafficIncidentLayer";case"tourism":return"touristLayer";case"friends":return"friendsLayer";default:return}},c=e=>({frameId:t})=>{const{size:s}=e;return{uiElement:{name:"mapLayersList",ownerName:"mapLayers",frameUuid:t},payload:{mapLayersList:{size:s}}}},d=e=>({frameId:t},s)=>{const c=(0,a.fq)(s),d=(0,i.O)(s),{type:l,position:u,hasOwner:p}=e,g=n(l),m=o(l);if(g&&m)return{uiElement:{name:g,ownerName:u&&p?"mapLayersList":void 0,frameUuid:t,position:u||1},payload:{mapLayer:{entity:{type:"mapLayer",segmentInfo:(0,r.U)({locale:d,region_id:c})},name:m}}}},l=e=>({frameId:t},s)=>{const c=(0,a.fq)(s),d=(0,i.O)(s),{type:l,enableMapLayer:u,position:p,hasOwner:g,autoEvent:m}=e,h=n(l),f=o(l);if(!h||!f)return;return{autoEvent:m,uiElement:{name:h,ownerName:p&&g?"mapLayersList":void 0,frameUuid:t,position:p||1},action:"roadAccident"===l?u?"on":"off":"tap",payload:{mapLayer:{name:f,entity:{type:"mapLayer",segmentInfo:(0,r.U)({locale:d,region_id:c})},enableMapLayer:u}}}}},43149:(e,t,s)=>{"use strict";s.d(t,{V:()=>r});const r=()=>(e,t,s)=>{const{isActive:r,autoEvent:i}=null!=s?s:{};return{autoEvent:i,uiElement:{name:"reliefButton",ownerName:"map",frameUuid:t.appContext.staticFrames.map.id},action:r?"on":"off"}}},74223:(e,t,s)=>{"use strict";s.d(t,{f:()=>o,X:()=>c});var r=s(52322),i=s(2933),a=s(19981),n=s(67848);const o=e=>(0,r.jsx)(a.E,{loader:i.H.videoPopup,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>(0,r.jsx)(n.w,{asyncStatus:e})});var c=s(58428)},58428:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Types:()=>r,bss:()=>i,openVideoPlayer:()=>g});var r={};s.r(r);var i={};s.r(i),s.d(i,{clickCtaButton:()=>d,showCtaButton:()=>c,showVideoPlayer:()=>o});var a=s(45944),n=s(58666);const o=()=>({frameId:e},t)=>(0,n.xl)({state:t,name:"videoFrame",uuid:e}),c=e=>({frameId:t},s)=>{const{banner:r,link:i,rubrics:n}=e,o=(0,a.gC)({banner:r,rubrics:n,state:s});if(i)return{uiElement:{name:"callToActionButton",ownerName:"videoFrame",frameUuid:t},payload:{callToAction:{actionType:"link",value:i},adsBanner:o}}},d=e=>t=>{const{banner:s,link:r,rubrics:i,frameId:n}=e;return{action:"tap",uiElement:{name:"callToActionButton",ownerName:"videoFrame",frameUuid:n},payload:{callToAction:{actionType:"link",value:r},adsBanner:(0,a.gC)({banner:s,rubrics:i,state:t})}}};var l=s(67753),u=s(33451),p=s(64693);const g=(0,l.gQ)("openVideoPlayer",(({videoUrl:e,adInfoParams:t,cover:s,link:r,bssPayload:i})=>{const a=(0,p.by)();return(0,u.Mw)({id:a,type:"videoPlayer",isPopupGlassDark:!0,videoUrl:e,adInfoParams:t,cover:s,link:r,bssPayload:i})}))},45346:(e,t,s)=>{"use strict";s.d(t,{x:()=>a});var r=s(33451),i=s(64693);const a=e=>(0,r.Mw)({promoType:e,type:"mobileAppPromoBannerPopup",id:(0,i.by)()})},66733:(e,t,s)=>{"use strict";s.d(t,{eR:()=>f,ij:()=>x});var r=s(52322),i=s(22970),a=s(42866);const{use:n,invalidate:o}=(0,a.r)("reviewsRatings",(e=>({services:t})=>(0,i.mG)(void 0,void 0,void 0,(function*(){return(yield t.reviewsApi.getRatings(e)).ratings}))),{staleTime:1/0,cacheTime:1/0});var c=s(6801),d=s(98584),l=s(87599),u=s(63993);const p=({distribution:e,rating:t,reviewsTotalText:s})=>{const{css:i,s:a}=(0,c.y)(m),n=e?Math.max(...Object.values(e)):0;return(0,r.jsxs)("div",Object.assign({className:i(a.root)},{children:[(0,r.jsxs)("div",Object.assign({className:i(a.ratingBlock)},{children:[(0,r.jsx)("div",Object.assign({className:i(a.rating)},{children:t})),(0,r.jsx)("div",Object.assign({className:i(a.reviewsTotal)},{children:s}))]})),(0,r.jsx)("div",Object.assign({className:i(a.ratingsRows)},{children:new Array(5).fill("").map(((t,s)=>{const o=5-s,c=(null==e?void 0:e[o])||0;let d=c?c/n*100:0;return d>0&&d<1&&(d=1),(0,r.jsxs)("div",Object.assign({className:i(a.ratingRow)},{children:[(0,r.jsx)("div",Object.assign({className:i(a.stars)},{children:(0,r.jsx)(g,{stars:o})})),(0,r.jsx)("div",Object.assign({className:i(a.bar)},{children:(0,r.jsx)("div",{className:i(a.completeBar),style:{width:`${d}%`}})}))]}),s)}))}))]}))},g=({stars:e})=>(0,r.jsx)(r.Fragment,{children:new Array(e).fill("").map(((e,t)=>(0,r.jsx)(l.U,{size:12},t)))}),m=(0,c.k)({root:{borderTop:`1px solid ${d.O.gray_e6e6e6}`,borderBottom:`1px solid ${d.O.gray_e6e6e6}`,padding:"16px 20px",display:"flex",justifyContent:"space-between",gap:16},ratingBlock:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",paddingTop:8},rating:Object.assign(Object.assign({},u.$h),{color:d.O.gray_262626}),reviewsTotal:Object.assign(Object.assign({},u.oN),{color:d.O.gray_929292}),ratingsRows:{display:"flex",flexDirection:"column",flexGrow:1,gap:2},ratingRow:{display:"flex",alignItems:"center",gap:8},stars:{minWidth:60,display:"flex",justifyContent:"flex-start",color:d.O.gray_b2b2b2},bar:{width:"100%",height:6,borderRadius:2,backgroundColor:d.O.gray_e6e6e6,overflow:"hidden"},completeBar:{height:6,borderRadius:2,backgroundColor:d.O.yellow_ffb81c,transition:"width .3s ease-in-out"}});var h=s(42858);const f=({objectId:e,isOrg:t,rating:s,reviewsTotal:i})=>{const a=(0,h.T)(),{data:o}=n({id:e,forOrg:t});return 0===i?null:(0,r.jsx)(p,{distribution:o,rating:s,reviewsTotalText:a._nt(["%% оценка","%% оценки","%% оценок"],i)})};var v=s(67753),b=s(354),y=s(87627);const x=(0,v.gQ)("invalidateReviewsRatings",(e=>(0,b.gF)({entity:(0,y.lh)(e)},(({entity:e})=>{const t=e.data;return t?(0,v.Mf)(o({id:t.id,forOrg:!1}),"branch"===t.type?o({id:t.org.id,forOrg:!0}):void 0):(0,v.ZT)()}))))},26239:(e,t,s)=>{"use strict";s.d(t,{C:()=>T,i:()=>a});var r={};s.r(r),s.d(r,{closeBroadcastEndedPopup:()=>j,sendFriendRequestFromPopup:()=>y,sendFriendRequestFromProfile:()=>x,showBroadcastEndedPopup:()=>_,showSharerProfile:()=>w,showSharingGeoFrame:()=>C});var i={};s.r(i);var a={};s.r(a),s.d(a,{Types:()=>i,bss:()=>r,openBroadcastEndedPopup:()=>O,openSharerProfile:()=>M,useGetRouteByIdQuery:()=>v.Q,useSubscribeSessionQuery:()=>v.N});var n=s(52322),o=s(27215),c=s(66908),d=s(86465),l=s(43228),u=s(6801),p=s(63993),g=s(48236),m=s(33451),h=s(42858),f=s(6340),v=s(80934),b=s(58666);const y=({publicProfileId:e})=>(t,{appContext:s})=>({uiElement:{name:"friendItem",ownerName:"promoGeoSharingFinished",frameUuid:s.staticFrames.map.id},action:"tap",payload:{profileItem:{publicProfileId:e}}}),x=({publicProfileId:e})=>({frameId:t})=>({uiElement:{name:"sendFriendRequestButton",ownerName:"sharingCard",frameUuid:t},action:"tap",payload:{profileItem:{publicProfileId:e}}}),j=({publicProfileId:e})=>(t,{appContext:s})=>({uiElement:{name:"promoGeoSharingFinished",ownerName:"geoSharingCardFrame",frameUuid:s.staticFrames.map.id},action:"close",payload:{profileItem:{publicProfileId:e}}}),w=({sharerLocationPlace:e,publicProfileId:t,sessionId:s,expirationTime:r})=>({frameId:i})=>({uiElement:{name:"sharingCard",ownerName:"geoSharingCardFrame",frameUuid:i},payload:Object.assign({profileItem:{publicProfileId:t},geoSharing:{sessionId:s,expirationTime:r}},e&&{messageInfo:{type:"friendsLocationPlace",value:e}})}),_=({publicProfileId:e})=>({frameId:t})=>({uiElement:{name:"promoGeoSharingFinished",ownerName:"geoSharingCardFrame",frameUuid:t},payload:{profileItem:{publicProfileId:e}}}),C=()=>({frameId:e},t)=>(0,b.xl)({name:"geoSharingCardFrame",uuid:e,state:t});var I=s(67753),k=s(64693);const O=(0,I.gQ)("openBroadcastEndedPopup",(({sessionId:e,sharerProfile:t})=>(0,m.Mw)({id:(0,k.by)(),type:"broadcastEnded",sessionId:e,sharerProfile:t})));var S=s(95359),N=s(29600);const M=({sessionId:e})=>(0,I.vP)((0,N.BN)(),(0,S.Jt)({id:(0,k.by)(),type:"sharingGeo",sessionId:e})),T=({sharerProfile:e})=>{const t=(0,h.T)(),s=(0,o.I0)(),{isMobileDevice:r}=(0,f.Z)(),{css:i,s:a}=(0,u.y)(P),p=null==e?void 0:e.id,{bssRef:v,useBssHandler:b}=(0,c.T)(_({publicProfileId:p})),x=b(j,{publicProfileId:p}),w=b(y,{publicProfileId:p}),C=(null==e?void 0:e.name)?`${t._t("%1 есть на карте 2ГИС. Добавьтесь в друзья, чтобы видеть друг друга всегда",[e.name])}`:t._t("Добавляйте друзей, чтобы всегда видеть друг друга на карте"),I=p?`https://friends.2gis.ru?user_id=${p}`:"https://friends.2gis.ru/",k=p?`https://2gis.ru/user/${p}`:"https://2gis.ru/mapfriends/invite/";return(0,n.jsx)(d.R,Object.assign({withCloseButton:!0,onClose:()=>{x(),s((0,m.j4)())}},{children:(0,n.jsxs)("div",Object.assign({className:i(a.popup),ref:v},{children:[(0,n.jsx)(l.C,{src:"/public/friendsOnMap/sharingPopupBg.png",width:323,height:182,isLoadingForced:!0}),(0,n.jsx)("h2",Object.assign({className:i(a.title)},{children:t._t("Трансляция завершена")})),(0,n.jsx)("p",{children:C}),(0,n.jsx)("div",Object.assign({className:i(a.button)},{children:(0,n.jsx)(g.z,Object.assign({wide:!0,appearance:"primary",external:!0,href:r?k:I,onClick:w,dataN:"wat-add-to-friends-button"},{children:t._t("Добавить в друзья")}))}))]}))}))},P=(0,u.k)((({mobile:e})=>({popup:{display:"flex",flexDirection:"column",alignItems:"center",paddingTop:56,paddingBottom:42,paddingStart:e?20:45,paddingEnd:e?20:45},title:Object.assign(Object.assign({},p.hC),{paddingTop:20,paddingBottom:16,paddingStart:0,paddingEnd:0}),button:{paddingTop:32,maxWidth:e?"auto":303,width:"100%"}})))},80934:(e,t,s)=>{"use strict";s.d(t,{N:()=>a,Q:()=>n});var r=s(22970),i=s(42866);const{use:a}=(0,i.r)("subscribeSession",(e=>({services:t})=>(0,r.mG)(void 0,void 0,void 0,(function*(){return t.sharingGeoApi.subscribeSession(e)})))),{use:n}=(0,i.r)("getRouteById",(e=>({services:t})=>(0,r.mG)(void 0,void 0,void 0,(function*(){return t.sharingRouteApi.getRouteById(e)}))))},63513:(e,t,s)=>{"use strict";s.d(t,{zU:()=>c,Kn:()=>r.Kn,S3:()=>r.S3,Pn:()=>r.Pn});var r=s(17799),i=s(52322),a=s(19981),n=s(2933),o=s(67848);const c=e=>(0,i.jsx)(a.E,{loader:n.H.viewStoryPopup,render:t=>(0,i.jsx)(t,Object.assign({},e)),renderPlaceholder:o.Q})},17799:(e,t,s)=>{"use strict";s.d(t,{Kn:()=>o,Pn:()=>d,S3:()=>n,e8:()=>c});var r=s(94146),i=s(64693),a=s(46042);const n=(0,a.P)("openStoryPopup",(0,r.x)("appContext",((e,t)=>Object.assign(Object.assign({},e),{storiesPopupData:{currentStoryId:t.id,popupId:(0,i.by)(),type:t.type}})))),o=(0,a.P)("closeStoryPopup",(0,r.x)("appContext",(e=>Object.assign(Object.assign({},e),{storiesPopupData:{}})))),c=(0,a.P)("setCurrentStory",(0,r.x)("appContext",((e,t)=>Object.assign(Object.assign({},e),{storiesPopupData:Object.assign(Object.assign({},e.storiesPopupData),t)})))),d=e=>e.appContext.storiesPopupData},93374:(e,t,s)=>{"use strict";s.d(t,{pM:()=>a.p,Th:()=>T,FA:()=>P,WY:()=>F,qI:()=>D,fx:()=>i});var r={};s.r(r),s.d(r,{generators:()=>S,tapChangeSubscriptionButton:()=>k});var i={};s.r(i),s.d(i,{bss:()=>r,openUserRelationDifferencePopup:()=>I,saveSubscribeToUserInCache:()=>b,useSubscribe:()=>j,useUnsubscribe:()=>w});var a=s(75248),n=s(52322),o=s(2784),c=s(42858),d=s(48236),l=s(54974),u=s(27215),p=s(27516),g=s(22970),m=s(82066),h=s(23822),f=s(47949),v=s(67753);const b=(0,v.gQ)("subscribeToUser",((e,{isSubscription:t})=>f.userModel.updatePublicProfileCache(e,(e=>Object.assign(Object.assign({},e),{public_user:Object.assign(Object.assign({},e.public_user),{relation:Object.assign(Object.assign({},e.public_user.relation||{is_friend:!1}),{is_subscription:t})})})))));var y=s(76171),x=s(36928);const j=()=>{const{socialGraphApi:e,credentialsApi:t}=(0,h.S)(),s=(0,u.I0)(),r=(0,c.T)();return(0,m.useMutation)((s=>(0,g.mG)(void 0,void 0,void 0,(function*(){const r=yield t.getToken();if(r)return yield e.subscribe({accessToken:r,user_ids:[s.userId]})}))),{onSuccess:(e,t)=>{s(b(t.publicUserId,{isSubscription:!0}))},onError:()=>{s((0,y.c)((0,x.v)({title:r._t("Что-то пошло не так"),message:r._t("Не удалось подписаться, попробуйте позже")})))}})},w=()=>{const{socialGraphApi:e,credentialsApi:t}=(0,h.S)(),s=(0,u.I0)(),r=(0,c.T)();return(0,m.useMutation)((s=>(0,g.mG)(void 0,void 0,void 0,(function*(){const r=yield t.getToken();if(r)return yield e.unsubscribe({accessToken:r,user_ids:[s.userId]})}))),{onSuccess:(e,t)=>{s(b(t.publicUserId,{isSubscription:!1}))},onError:()=>{s((0,y.c)((0,x.v)({title:r._t("Что-то пошло не так"),message:r._t("Не удалось подписаться, попробуйте позже")})))}})};var _=s(33451),C=s(64693);const I=(0,v.gQ)("openUserRelationDifferencePopup",(e=>(0,_.Mw)({type:"userRelationDifferencePopup",id:(0,C.by)(),publicUserId:e}))),k=({userId:e,publicProfileId:t,inSubscriptions:s,name:r})=>({frameId:i})=>({uiElement:{name:r,frameUuid:i,ownerName:"profileCardFull"},action:"tap",payload:{profileItem:{authUser:e,publicProfileId:t,inSubscriptions:s}}});var O=s(18122);const S={actions:{changeSubscriptionsButton:e=>(0,O.k1)({uiElement:{name:expect.any(String),ownerName:"profileCardFull",frameUuid:expect.any(String)},payload:{profileItem:{authUser:expect.any(String),publicProfileId:expect.any(String),inSubscriptions:expect.any(Boolean)}}})(e)}};var N=s(55476),M=s(66908);const T=({userId:e,publicUserId:t})=>{const s=(0,c.T)(),r=(0,u.I0)(),i=j(),a=(0,u.v9)(N.Pc),g=(0,M.T)().useBssHandler(k,{name:"subscribeButton",inSubscriptions:!1,userId:e,publicProfileId:t});(0,o.useEffect)((()=>{var s;"subscribeToUser"===(null===(s=(0,p.gF)())||void 0===s?void 0:s.key)&&(r((0,p.u$)()),i.mutate({userId:e,publicUserId:t}))}),[r,i,t,e]);const m=(0,l.$)((()=>{g(),a&&i.mutate({userId:e,publicUserId:t}),a||r((0,p.mk)("subscribeToUser"))}));return(0,n.jsx)(d.z,Object.assign({noBorder:!0,wide:!0,appearance:"noncontrast",onClick:m,disabled:i.isLoading,dataN:"wat-add-subscribe-button"},{children:s._t("Подписаться")}))},P=({userId:e,publicUserId:t})=>{const s=(0,c.T)(),r=w(),i=(0,M.T)().useBssHandler(k,{name:"unsubscribeButton",inSubscriptions:!0,userId:e,publicProfileId:t}),a=(0,l.$)((()=>{i(),r.mutate({userId:e,publicUserId:t})}));return(0,n.jsx)(d.z,Object.assign({noBorder:!0,wide:!0,appearance:"noncontrast",onClick:a,disabled:r.isLoading,dataN:"wat-unsubscribe-button"},{children:s._t("Отписаться")}))};var E=s(6801),L=s(61589),R=s(98584),z=s(63993),A=s(6340);const F=({publicUserId:e})=>{const t=(0,c.T)(),s=(0,u.I0)(),{featureFriends:r}=(0,A.Z)(),{css:i,s:a}=(0,E.y)(B);return r?(0,n.jsxs)("button",Object.assign({className:i(a.button),type:"button",onClick:()=>{s(I(e))}},{children:[(0,n.jsx)(L.Z,{color:"currentColor"}),(0,n.jsx)("span",{children:t._t("Разница между подписчиками и друзьями?")})]})):null},B=(0,E.k)({button:Object.assign({display:"flex",background:"transparent",justifyContent:"center",gap:8,width:"100%",color:R.O.gray_929292,padding:"12px 0"},z.oN)});var Z=s(19981),U=s(67848),H=s(2933);const D=e=>(0,n.jsx)(Z.E,{loader:H.H.userRelationDifferencePopup,render:t=>(0,n.jsx)(t,Object.assign({},e)),renderPlaceholder:U.Q})},75248:(e,t,s)=>{"use strict";s.d(t,{p:()=>d});var r=s(52322),i=s(27215),a=s(6340),n=s(42858),o=s(48236),c=s(44149);const d=({publicUserId:e,onClick:t})=>{const s=(0,n.T)(),d=(0,i.v9)((e=>e.session.platform)),{featureFriends:l}=(0,a.Z)(),u=(0,c.Og)({platform:d,type:"addFriendPromo",deepLink:`https://2gis.ru/user/${e}`});return l?(0,r.jsx)(o.z,Object.assign({wide:!0,appearance:"primary",external:!0,href:u,onClick:t,dataN:"wat-add-to-friends-button"},{children:s._t("Добавить в друзья")})):null}},13352:(e,t,s)=>{"use strict";s.d(t,{rA:()=>f,od:()=>_,cQ:()=>C,Do:()=>g,aH:()=>v});var r=s(67753),i=s(45717),a=s(9297),n=s(18337),o=s(76517),c=s(95359),d=s(7763),l=s(54974),u=s(27215);const p=(0,r.gQ)("deleteCollection",(e=>{const{id:t}=e;return(0,d.$0)((({tp:e})=>(0,n.R)(e._t("Удалить подборку? Это действие нельзя отменить."),(()=>{return(0,r.vP)((e=t,(0,r.xJ)((t=>{const s=t.appContext.frames.find(o.f);return s?s.collectionId===e?(0,c.t7)({id:s.id}):void 0:(0,r.ZT)()}))),(0,i.D)({[t]:void 0}),(0,a.K)());var e}))))}));const g=()=>{const e=(0,u.I0)();return{deleteCollection:(0,l.$)((t=>{e(p({id:t}))}))}};var m=s(354),h=s(66030);const f=(0,r.gQ)("editCollection",(e=>{const{id:t,title:s,color:n,is_visible_on_map:o}=e;return(0,m._N)((0,h.nA)(t),(e=>e?(0,r.vP)((0,i.D)({[t]:Object.assign(Object.assign(Object.assign(Object.assign({},e),s?{title:s}:{}),n?{color:n}:{}),void 0!==o?{is_visible_on_map:o}:{})}),(0,a.K)()):(0,r.ZT)()))})),v=()=>{const e=(0,u.I0)();return{edit:(0,l.$)((t=>{e(f(t))}))}};var b=s(29600),y=s(32791),x=s(52981),j=s(64693),w=s(95328);const _=(0,r.gQ)("openCollectionFromList",(e=>{const{id:t}=e;return(0,r.vP)((0,b.BN)(),(0,y.Q)({collectionId:t,type:"private"}))})),C=(0,r.gQ)("openEntityCardFromPlace",(e=>!e.object_id&&e.point?(0,w.W)({point:e.point,shouldCenterMap:!0}):e.object_type&&(0,j.$K)(e.object_id)?(0,x.xo)({id:e.object_id,type:e.object_type,point:e.point}):(0,r.ZT)()))},33727:(e,t,s)=>{"use strict";s.d(t,{N5:()=>H,Rl:()=>V,hd:()=>B,F0:()=>F});var r=s(52322),i=s(2784),a=s(54974),n=s(22970),o=s(6801),c=s(35253),d=s(98584),l=s(60878);function u({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 19V6.33333L9 5L14 6.11111V16H15V6.33333L20 5V17.6667L15 19L10 17.8889V12H9V17.6667L4 19Z",fill:e})}))}function p({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.99799 3.58789L2.58594 4.99994L4 6.414V18.9999L9 17.6666V11.9999H9.58594L10 12.414V17.8888L15 18.9999L16.2521 18.6661L18.9999 21.4139L20.412 20.0019L3.99799 3.58789ZM20 16.7653V4.99994L15 6.33327V11.7642L20 16.7653ZM14 10.764V6.11105L9 4.99994L8.39782 5.16052L14 10.764Z",fill:e})}))}var g=s(32121);const m=i.memo((({onClick:e,icon:t,children:s})=>{const{css:i,s:a}=(0,o.y)(h);return(0,r.jsxs)("button",Object.assign({type:"button",onClick:t=>{t.preventDefault(),t.stopPropagation(),e()},className:i(a.button)},{children:[(0,r.jsx)("div",Object.assign({className:i(a.icon)},{children:t})),s]}))})),h=(0,o.k)({button:{paddingTop:6,width:"100%",boxSizing:"border-box",paddingEnd:16,paddingBottom:6,paddingStart:12,display:"flex",gap:12,color:d.O.gray_929292,background:d.O.white,cursor:"pointer",alignItems:"center",":hover":{color:d.O.blue_028eff}},icon:{color:d.O.gray_262626,display:"flex",justifyContent:"center",alignItems:"center",alignContent:"center"}});var f=s(42858);const v=i.memo((({isVisibleOnMap:e,hideRemoveControl:t,onEditIsVisibleOnMap:s,onDelete:i,onEditTitle:a})=>{const n=(0,f.T)(),o=e?n._t("Убрать с карты"):n._t("Показывать на карте");return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m,Object.assign({icon:e?(0,r.jsx)(p,{}):(0,r.jsx)(u,{}),onClick:s},{children:o})),(0,r.jsx)(m,Object.assign({icon:(0,r.jsx)(l.I,{}),onClick:a},{children:n._t("Изменить")})),!t&&(0,r.jsx)(m,Object.assign({icon:(0,r.jsx)(g.r,{color:d.O.red_fe5000}),onClick:i},{children:n._t("Удалить")}))]})})),b=i.memo((e=>{var{innerRef:t}=e,s=(0,n._T)(e,["innerRef"]);const{css:i,s:a}=(0,o.y)(y);return(0,r.jsx)("div",Object.assign({ref:t,className:i(a.root)},{children:(0,r.jsx)("div",Object.assign({className:i(a.dropdown)},{children:(0,r.jsx)(v,Object.assign({},s))}))}))})),y=(0,o.k)({root:{position:"absolute",top:24,zIndex:c.W5.top,width:200,end:0,paddingTop:8},dropdown:{width:"100%",background:"#fff",padding:"8px 0",borderRadius:4,boxShadow:"0px 1px 3px 0px rgba(38, 38, 38, 0.5)"}});var x=s(55462);function j({color:e="currentColor"}){return(0,r.jsxs)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{d:"M12.5 8C11.6716 8 11 7.32843 11 6.5C11 5.67157 11.6716 5 12.5 5C13.3284 5 14 5.67157 14 6.5C14 7.32843 13.3284 8 12.5 8Z",fill:e}),(0,r.jsx)("path",{d:"M12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11C13.3284 11 14 11.6716 14 12.5C14 13.3284 13.3284 14 12.5 14Z",fill:e}),(0,r.jsx)("path",{d:"M11 18.5C11 19.3284 11.6716 20 12.5 20C13.3284 20 14 19.3284 14 18.5C14 17.6716 13.3284 17 12.5 17C11.6716 17 11 17.6716 11 18.5Z",fill:e})]}))}var w=s(6340),_=s(24568);const C=i.memo((({onClick:e,dropdown:t,styles:s,openByClick:n=!1})=>{const{css:c,s:d}=(0,o.y)(I),l=(0,i.useRef)(null),[u,p]=(0,i.useState)(!1),{isMobileDevice:g}=(0,w.Z)(),{isHovered:m,ref:h}=(0,x.X)(),{isHovered:f,ref:v}=(0,x.X)(),b=m||f||u,y=(0,a.$)((t=>{t.preventDefault(),t.stopPropagation(),e&&e(),n&&p(!0)}));(0,_.t)(l,(()=>{n&&u&&p(!1)}));const C=g?(0,r.jsx)("button",Object.assign({onClick:y,type:"button",className:c(d.control)},{children:(0,r.jsx)(j,{})})):(0,r.jsx)("div",Object.assign({className:c(d.control),ref:h},{children:(0,r.jsx)(j,{})}));return(0,r.jsxs)("div",Object.assign({ref:l,className:c(d.root,s)},{children:[C,b&&t(v)]}))})),I=(0,o.k)({root:{position:"relative"},control:{background:"transparent",color:d.O.gray_929292,border:"none",display:"flex",justifyContent:"center",alignItems:"center",":hover":{cursor:"pointer",color:d.O.gray_262626}}}),k=i.memo((e=>{var{onClick:t}=e,s=(0,n._T)(e,["onClick"]);return(0,r.jsx)(C,{onClick:t,dropdown:e=>(0,r.jsx)(b,Object.assign({innerRef:e},s))})}));var O=s(27215),S=s(33451),N=s(67753),M=s(64693);const T=(0,N.gQ)("openEditUserFavoritesPopup",((e,t)=>(0,S.Mw)({type:"editUserFavoritesPopup",id:(0,M.by)(),collection:e,itemsCount:t})));var P=s(66908),E=s(13352);const L=e=>{const{id:t,size:s}=e;return{entity:{id:t,type:"collection"},size:s}},R=e=>({frameId:t})=>{const{id:s,isVisibleOnMap:r,size:i}=e;return{action:r?"on":"off",uiElement:{frameUuid:t,name:"showFavoritesOnMap",ownerName:"collectionItem"},payload:{collectionItem:L({id:s,size:i})}}};var z=s(94146),A=s(46042);const F=(0,A.P)("enableEditMode",(0,z.x)("appContext",((e,t)=>Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{favoritesUIState:Object.assign(Object.assign({},e.weak.favoritesUIState),{[t.id]:{editMode:!0}})})})))),B=(0,A.P)("disableEditMode",(0,z.x)("appContext",((e,t)=>Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{favoritesUIState:Object.assign(Object.assign({},e.weak.favoritesUIState),{[t.id]:{editMode:!1}})})})))),Z=((0,A.P)("clearFavoritesUIState",(0,z.x)("appContext",(e=>Object.assign(Object.assign({},e),{weak:Object.assign(Object.assign({},e.weak),{favoritesUIState:{}})})))),(e,t)=>{const{edit:s}=(0,E.aH)(),{deleteCollection:r}=(0,E.Do)(),{enterEditMode:i}=(()=>{const e=(0,O.I0)();return{enterEditMode:(0,a.$)((t=>{e(F({id:t}))}))}})(),n=(0,P.T)().useBssHandler(R,{id:e.id,isVisibleOnMap:void 0!==e.is_visible_on_map&&!e.is_visible_on_map,size:t}),o=(0,a.$)((()=>{s({id:e.id,is_visible_on_map:!e.is_visible_on_map}),n()}));return{delete:(0,a.$)((()=>{r(e.id)})),changeIsVisibleOnMap:o,enterEditMode:(0,a.$)((()=>{i(e.id)}))}});var U=s(26352);const H=i.memo((({collection:e,itemsCount:t})=>{const{open:s}=(()=>{const e=(0,O.I0)();return{open:(0,a.$)(((t,s)=>{e(T(t,s))}))}})(),i=Z(e,t),n=(0,a.$)((()=>{void 0!==e.is_visible_on_map&&s(e,t)})),o=(0,U.y)((()=>{i.changeIsVisibleOnMap()}),300);return(0,r.jsx)(k,{onClick:n,isVisibleOnMap:!!e.is_visible_on_map,onDelete:i.delete,onEditIsVisibleOnMap:o,onEditTitle:i.enterEditMode,hideRemoveControl:!!e.is_default})}));var D=s(9650);var $=s(58666);const V=i.memo((e=>{const{popup:{collection:t,itemsCount:s}}=e,{css:i,s:n}=(0,o.y)(q),c=(0,O.I0)(),{bssRef:d}=(0,P.T)((({frameId:e},t)=>(0,$.xl)({state:t,uuid:e,name:"showFavoritesSettingsFrame"}))),l=Z(t,s),u=(0,a.$)((()=>{l.enterEditMode(),c((0,S.j4)())})),p=(0,a.$)((()=>{l.changeIsVisibleOnMap(),c((0,S.j4)())})),g=(0,a.$)((()=>{l.delete(),c((0,S.j4)())}));return(0,r.jsx)(D.P,Object.assign({innerRef:d,withCloseButton:!0},{children:(0,r.jsx)("div",Object.assign({className:i(n.root)},{children:(0,r.jsx)(v,{isVisibleOnMap:!!t.is_visible_on_map,hideRemoveControl:!!t.is_default,onEditIsVisibleOnMap:p,onDelete:g,onEditTitle:u})}))}))})),q=(0,o.k)({root:{width:"100%",height:"100%",paddingTop:44,paddingBottom:24,paddingStart:24,paddingEnd:24}})},44344:(e,t,s)=>{"use strict";s.d(t,{i:()=>r});var r={};s.r(r),s.d(r,{openPublicProfile:()=>u,showOpenPublicProfileError:()=>h});var i=s(55476),a=s(67817),n=s(95359),o=s(67753),c=s(64693),d=s(29600),l=s(354);const u=({userId:e})=>(0,l._N)(i.bG,(t=>{var s;const r=null===(s=t.data)||void 0===s?void 0:s.public_user_id;return r&&r===e?(0,a.D)("reviews"):(0,o.vP)((0,d.BN)(),(0,n.Jt)({id:(0,c.by)(),type:"userPublicProfile",userId:e}))}));var p=s(7763),g=s(76171),m=s(36928);const h=(0,o.gQ)("showOpenPublicProfileError",(()=>(0,p.$0)((({tp:e})=>(0,g.c)((0,m.v)({title:e._t("Отзыв из внешнего источника"),message:e._t("Не можем показать профиль пользователя")}))))))},20755:(e,t,s)=>{"use strict";s.d(t,{B:()=>r});var r={};s.r(r),s.d(r,{generators:()=>c,getProfileItemPayload:()=>d,showVisitedPlaces:()=>l,tapFeedTab:()=>n,tapFriendsTab:()=>a,tapVisitedPlaces:()=>u});var i=s(47949);const a=()=>({frameId:e},t,s)=>{if(!s)return;const{isFriend:r,profile:a}=s;return{uiElement:{name:"friendsTab",ownerName:r?"friendCardFull":"profileCardFull",frameUuid:e},action:"tap",payload:{profileItem:i.userModel.bss.getProfileItemPayload({user:a})}}},n=()=>({frameId:e},t,s)=>{if(!s)return;const{isFriend:r,profile:a}=s;return{uiElement:{name:"activitiesTab",ownerName:r?"friendCardFull":"profileCardFull",frameUuid:e},action:"tap",payload:{profileItem:i.userModel.bss.getProfileItemPayload({user:a})}}};var o=s(18122);const c={actions:{tab:e=>(0,o.k1)({uiElement:{name:"friendsTab",ownerName:"friendCardFull",frameUuid:expect.any(String)},payload:{profileItem:{authUser:expect.any(String),publicProfileId:expect.any(String),isPrivate:expect.any(Boolean),isDeleted:expect.any(Boolean),hasPhoto:expect.any(Boolean)}}})(e)}},d=({user:e})=>({authUser:e.user_id,publicProfileId:e.public_user_id,isPrivate:"CLOSE"===e.privacy,isDeleted:e.is_deleted,hasPhoto:!!e.avatar}),l=({user:e})=>({frameId:t})=>({uiElement:{name:"profileCardActivitiesList",ownerName:"profileCardTwoThirds",frameUuid:t},payload:{profileItem:d({user:e}),activitiesList:{size:756}}}),u=()=>({frameId:e},t,s)=>{if(!s)return;const{isFriend:r,user:i}=s;return{uiElement:{name:"profileCardActivitiesList",ownerName:r?"profileCardTwoThirds":"profileCardFull",frameUuid:e},action:"tap",payload:{profileItem:d({user:i}),activitiesList:{size:756}}}}},2933:(e,t,s)=>{"use strict";s.d(t,{H:()=>r});const r={prices:{asyncImport:()=>s.e(6039).then(s.bind(s,50400)),chunkName:"prices",moduleID:50400},catalog:{asyncImport:()=>Promise.all([s.e(4736),s.e(1321),s.e(4668),s.e(4842),s.e(701)]).then(s.bind(s,2806)),chunkName:"catalog",moduleID:2806},collection:{asyncImport:()=>s.e(8137).then(s.bind(s,84147)),chunkName:"collection",moduleID:84147},contactsTab:{asyncImport:()=>Promise.all([s.e(5497),s.e(4845),s.e(1627)]).then(s.bind(s,97882)),chunkName:"contactsTab",moduleID:97882},discountsTab:{asyncImport:()=>s.e(4989).then(s.bind(s,93023)),chunkName:"discountsTab",moduleID:93023},dashboard:{asyncImport:()=>s.e(9966).then(s.bind(s,19422)),chunkName:"dashboard",moduleID:19422},direction:{asyncImport:()=>s.e(0).then(s.bind(s,9361)),chunkName:"direction",moduleID:9361},directions:{asyncImport:()=>Promise.all([s.e(4736),s.e(9418)]).then(s.bind(s,11480)),chunkName:"directions",moduleID:11480},editFavorite:{asyncImport:()=>s.e(4195).then(s.bind(s,69634)),chunkName:"editFavorite",moduleID:69634},entityList:{asyncImport:()=>s.e(7011).then(s.bind(s,48726)),chunkName:"entityList",moduleID:48726},entityTooltip:{asyncImport:()=>s.e(7157).then(s.bind(s,31040)),chunkName:"entityTooltip",moduleID:31040},entityVideoPopup:{asyncImport:()=>s.e(2e3).then(s.bind(s,96970)),chunkName:"entityVideoPopup",moduleID:96970},exchangeTooltip:{asyncImport:()=>s.e(1621).then(s.bind(s,24555)),chunkName:"exchangeTooltip",moduleID:24555},favorites:{asyncImport:()=>s.e(205).then(s.bind(s,61176)),chunkName:"favorites",moduleID:61176},feedback:{asyncImport:()=>s.e(8656).then(s.bind(s,14106)),chunkName:"feedback",moduleID:14106},filters:{asyncImport:()=>s.e(7596).then(s.bind(s,68135)),chunkName:"filters",moduleID:68135},galleryAlbum:{asyncImport:()=>s.e(8709).then(s.bind(s,68772)),chunkName:"galleryAlbum",moduleID:68772},gtaAds:{asyncImport:()=>s.e(1863).then(s.bind(s,76209)),chunkName:"gtaAds",moduleID:76209},gdprCookieBanner:{asyncImport:()=>s.e(3883).then(s.bind(s,59244)),chunkName:"gdprCookieBanner",moduleID:59244},infoTab:{asyncImport:()=>Promise.all([s.e(1321),s.e(5497),s.e(4845),s.e(376)]).then(s.bind(s,96530)),chunkName:"infoTab",moduleID:96530},insideTab:{asyncImport:()=>s.e(9439).then(s.bind(s,71696)),chunkName:"insideTab",moduleID:71696},installAppToSeeFriendsPopup:{asyncImport:()=>s.e(9707).then(s.bind(s,18454)),chunkName:"installAppToSeeFriendsPopup",moduleID:18454},interestingCarousel:{asyncImport:()=>s.e(7840).then(s.bind(s,82800)),chunkName:"interestingCarousel",moduleID:82800},realtyTooltip:{asyncImport:()=>s.e(2375).then(s.bind(s,45856)),chunkName:"realtyTooltip",moduleID:45856},miniEntity:{asyncImport:()=>s.e(8242).then(s.bind(s,85661)),chunkName:"miniEntity",moduleID:85661},offer:{asyncImport:()=>Promise.all([s.e(4736),s.e(1321),s.e(4668),s.e(4842),s.e(5508)]).then(s.bind(s,28884)),chunkName:"offer",moduleID:28884},photoUploader:{asyncImport:()=>s.e(5800).then(s.bind(s,98452)),chunkName:"photoUploader",moduleID:98452},photoViewer:{asyncImport:()=>s.e(4186).then(s.bind(s,20530)),chunkName:"photoViewer",moduleID:20530},mediaViewer:{asyncImport:()=>s.e(6516).then(s.bind(s,70924)),chunkName:"mediaViewer",moduleID:70924},product:{asyncImport:()=>Promise.all([s.e(1321),s.e(3018)]).then(s.bind(s,50117)),chunkName:"product",moduleID:50117},pricesTab:{asyncImport:()=>s.e(1328).then(s.bind(s,80971)),chunkName:"pricesTab",moduleID:80971},publicFavorites:{asyncImport:()=>s.e(8749).then(s.bind(s,67031)),chunkName:"publicFavorites",moduleID:67031},realtyTab:{asyncImport:()=>Promise.all([s.e(2002),s.e(1039)]).then(s.bind(s,44790)),chunkName:"realtyTab",moduleID:44790},reviewsTab:{asyncImport:()=>s.e(5164).then(s.bind(s,43812)),chunkName:"reviewsTab",moduleID:43812},menuTab:{asyncImport:()=>s.e(618).then(s.bind(s,23269)),chunkName:"menuTab",moduleID:23269},mediaTab:{asyncImport:()=>s.e(9347).then(s.bind(s,77898)),chunkName:"mediaTab",moduleID:77898},rubric:{asyncImport:()=>s.e(4531).then(s.bind(s,24558)),chunkName:"rubric",moduleID:24558},rubricator:{asyncImport:()=>s.e(6854).then(s.bind(s,83698)),chunkName:"rubricator",moduleID:83698},servicesTab:{asyncImport:()=>s.e(9430).then(s.bind(s,57648)),chunkName:"servicesTab",moduleID:57648},sharing:{asyncImport:()=>Promise.all([s.e(1321),s.e(8460)]).then(s.bind(s,81363)),chunkName:"sharing",moduleID:81363},suggestList:{asyncImport:()=>Promise.all([s.e(1321),s.e(3267)]).then(s.bind(s,83644)),chunkName:"suggestList",moduleID:83644},typedFeedback:{asyncImport:()=>s.e(254).then(s.bind(s,22350)),chunkName:"typedFeedback",moduleID:22350},userProfile:{asyncImport:()=>Promise.all([s.e(1321),s.e(873)]).then(s.bind(s,99251)),chunkName:"userProfile",moduleID:99251},subscriptions:{asyncImport:()=>s.e(9841).then(s.bind(s,88512)),chunkName:"subscriptions",moduleID:88512},subscribers:{asyncImport:()=>s.e(4331).then(s.bind(s,29300)),chunkName:"subscribers",moduleID:29300},successfulSubscriptions:{asyncImport:()=>s.e(9669).then(s.bind(s,28334)),chunkName:"successfulSubscriptions",moduleID:28334},noFriends:{asyncImport:()=>s.e(1622).then(s.bind(s,61144)),chunkName:"noFriends",moduleID:61144},social:{asyncImport:()=>s.e(7443).then(s.bind(s,35471)),chunkName:"social",moduleID:35471},recommendations:{asyncImport:()=>s.e(5544).then(s.bind(s,7350)),chunkName:"recommendations",moduleID:7350},videoPopup:{asyncImport:()=>s.e(8663).then(s.bind(s,31888)),chunkName:"videoPopup",moduleID:31888},mediaVideoPlayer:{asyncImport:()=>s.e(8972).then(s.bind(s,14877)),chunkName:"mediaVideoPlayer",moduleID:14877},writeReview:{asyncImport:()=>s.e(7530).then(s.bind(s,87521)),chunkName:"writeReview",moduleID:87521},unconfirmedReviews:{asyncImport:()=>s.e(9828).then(s.bind(s,58831)),chunkName:"unconfirmedReviews",moduleID:58831},currentReview:{asyncImport:()=>s.e(6469).then(s.bind(s,88270)),chunkName:"currentReview",moduleID:88270},tUgcCard:{asyncImport:()=>s.e(2577).then(s.bind(s,34865)),chunkName:"tUgcCard",moduleID:34865},searchResults:{asyncImport:()=>Promise.all([s.e(4736),s.e(4668),s.e(4842),s.e(910)]).then(s.bind(s,16630)),chunkName:"searchResults",moduleID:16630},deliveryOrderPopup:{asyncImport:()=>s.e(6718).then(s.bind(s,8423)),chunkName:"deliveryOrderPopup",moduleID:8423},cart:{asyncImport:()=>Promise.all([s.e(4736),s.e(1321),s.e(4668),s.e(511)]).then(s.bind(s,33838)),chunkName:"cart",moduleID:33838},sendOrderPopup:{asyncImport:()=>Promise.all([s.e(1321),s.e(9428)]).then(s.bind(s,29979)),chunkName:"sendOrderPopup",moduleID:29979},confirm:{asyncImport:()=>s.e(3368).then(s.bind(s,74778)),chunkName:"confirm",moduleID:74778},userFriendsActivity:{asyncImport:()=>s.e(3123).then(s.bind(s,48883)),chunkName:"userFriendsActivity",moduleID:48883},realty:{asyncImport:()=>Promise.all([s.e(1321),s.e(5497),s.e(2002),s.e(2557)]).then(s.bind(s,25437)),chunkName:"realty",moduleID:25437},realtyCard:{asyncImport:()=>Promise.all([s.e(1321),s.e(3189)]).then(s.bind(s,14089)),chunkName:"realtyCard",moduleID:14089},achievementsFrame:{asyncImport:()=>Promise.all([s.e(1321),s.e(5751)]).then(s.bind(s,54029)),chunkName:"achievementsFrame",moduleID:54029},privacyPolicyBanner:{asyncImport:()=>Promise.all([s.e(1321),s.e(5776)]).then(s.bind(s,27342)),chunkName:"privacyPolicyBanner",moduleID:27342},exchange:{asyncImport:()=>s.e(3663).then(s.bind(s,95062)),chunkName:"exchange",moduleID:95062},personalDataAgreementPopup:{asyncImport:()=>s.e(6421).then(s.bind(s,44795)),chunkName:"personalDataAgreementPopup",moduleID:44795},thanksForPhoto:{asyncImport:()=>s.e(2835).then(s.bind(s,26126)),chunkName:"thanksForPhoto",moduleID:26126},thanksForReview:{asyncImport:()=>s.e(6499).then(s.bind(s,97974)),chunkName:"thanksForReview",moduleID:97974},smmTipPopup:{asyncImport:()=>s.e(3933).then(s.bind(s,29327)),chunkName:"smmTipPopup",moduleID:29327},smmCheckoutPopup:{asyncImport:()=>s.e(9116).then(s.bind(s,57218)),chunkName:"smmCheckoutPopup",moduleID:57218},phonePopup:{asyncImport:()=>s.e(2757).then(s.bind(s,57341)),chunkName:"phonePopup",moduleID:57341},newYearPromoPopup:{asyncImport:()=>s.e(3464).then(s.bind(s,87430)),chunkName:"newYearPromoPopup",moduleID:87430},otelloChooseBookingParamsPopup:{asyncImport:()=>Promise.all([s.e(4736),s.e(3851)]).then(s.bind(s,15267)),chunkName:"otelloChooseBookingParamsPopup",moduleID:15267},otelloGeoWidget:{asyncImport:()=>s.e(9705).then(s.bind(s,31054)),chunkName:"otelloGeoWidget",moduleID:31054},desktopPromoMapBanner:{asyncImport:()=>s.e(5060).then(s.bind(s,70641)),chunkName:"desktopPromoMapBanner",moduleID:70641},mobileAppPromoBannerPopup:{asyncImport:()=>s.e(831).then(s.bind(s,41658)),chunkName:"mobileAppPromoBannerPopup",moduleID:41658},routeEditorBillboardBanner:{asyncImport:()=>s.e(188).then(s.bind(s,47678)),chunkName:"routeEditorBillboardBanner",moduleID:47678},launchSimplePopup:{asyncImport:()=>s.e(865).then(s.bind(s,48650)),chunkName:"launchSimplePopup",moduleID:48650},routeSearchFullscreenPopup:{asyncImport:()=>s.e(3172).then(s.bind(s,51823)),chunkName:"routeSearchFullscreenPopup",moduleID:51823},viewStoryPopup:{asyncImport:()=>s.e(360).then(s.bind(s,32311)),chunkName:"viewStoryPopup",moduleID:32311},airplaneLogoOnMap:{asyncImport:()=>s.e(7463).then(s.bind(s,17764)),chunkName:"airplaneLogoOnMap",moduleID:17764},airplaneControl:{asyncImport:()=>s.e(2624).then(s.bind(s,99796)),chunkName:"airplaneControl",moduleID:99796},friendsOnMap:{asyncImport:()=>s.e(1507).then(s.bind(s,89316)),chunkName:"friendsOnMap",moduleID:89316},facts:{asyncImport:()=>s.e(3353).then(s.bind(s,15705)),chunkName:"facts",moduleID:15705},attributes:{asyncImport:()=>Promise.all([s.e(5884),s.e(674)]).then(s.bind(s,83103)),chunkName:"attributes",moduleID:83103},review:{asyncImport:()=>Promise.all([s.e(5884),s.e(5915)]).then(s.bind(s,19887)),chunkName:"review",moduleID:19887},mobileFriendsOnMapPopup:{asyncImport:()=>s.e(6315).then(s.bind(s,58460)),chunkName:"mobileFriendsOnMapPopup",moduleID:58460},invitingFriendsOnMapPopup:{asyncImport:()=>s.e(4423).then(s.bind(s,16628)),chunkName:"invitingFriendsOnMapPopup",moduleID:16628},competitionNoFriends:{asyncImport:()=>s.e(7184).then(s.bind(s,73390)),chunkName:"competitionNoFriendsOnMapPopup",moduleID:73390},competitionHaveFriends:{asyncImport:()=>s.e(2013).then(s.bind(s,89063)),chunkName:"competitionHaveFriendsOnMapPopup",moduleID:89063},authFriendsOnMapPopup:{asyncImport:()=>s.e(4811).then(s.bind(s,5479)),chunkName:"authFriendsOnMapPopup",moduleID:5479},userPublicProfileFrame:{asyncImport:()=>s.e(3086).then(s.bind(s,77594)),chunkName:"userPublicProfileFrame",moduleID:77594},friendsListFrame:{asyncImport:()=>s.e(7309).then(s.bind(s,76925)),chunkName:"friendsListFrame",moduleID:76925},friendInOtherDomainPopup:{asyncImport:()=>s.e(965).then(s.bind(s,65195)),chunkName:"friendInOtherDomainPopup",moduleID:65195},friendsBanner:{asyncImport:()=>s.e(2249).then(s.bind(s,4972)),chunkName:"friendsBanner",moduleID:4972},immersivePromoBanner:{asyncImport:()=>s.e(2547).then(s.bind(s,48102)),chunkName:"immersivePromoBanner",moduleID:48102},immersivePromoTour:{asyncImport:()=>s.e(1138).then(s.bind(s,24062)),chunkName:"immersivePromoTour",moduleID:24062},mobileImmersiveFullscreenPopup:{asyncImport:()=>s.e(7621).then(s.bind(s,96535)),chunkName:"mobileImmersiveFullscreenPopup",moduleID:96535},userRelationDifferencePopup:{asyncImport:()=>s.e(9071).then(s.bind(s,35546)),chunkName:"userRelationDifferencePopup",moduleID:35546}}},40028:(e,t,s)=>{"use strict";s.d(t,{E:()=>p});var r=s(52322),i=s(2784),a=s(27215),n=s(46824),o=s(50894),c=s(98795);const d=()=>{const e=[(0,o.k)({isLabelShown:!0}),(0,c.d)()];return(0,r.jsx)(n.q,Object.assign({appearance:"transparent"},{children:e.map(((e,t)=>e&&(0,r.jsx)(n.Q,Object.assign({icon:e.icon,type:"whiteWithShadow",onClick:e.onClick},{children:e.label}),`${e.type}-${t}`)))}))};var l=s(99863);const u=()=>{const e=[(0,o.k)({isLabelShown:!0}),(0,l.o)({isLabelShown:!0})];return(0,r.jsx)(n.q,{children:e.map(((e,t)=>e&&(0,r.jsx)(n.Q,Object.assign({icon:e.icon,grow:"map"===e.type,type:"gray",onClick:e.onClick},{children:e.label}),`${e.type}-${t}`)))})};u.displayName="FullMobileCollectionCardNavigationFooter";const p=(0,i.memo)((()=>(0,a.v9)((e=>!!e.appContext.isDataViewerMinimized))?(0,r.jsx)(d,{}):(0,r.jsx)(u,{})))},26297:(e,t,s)=>{"use strict";s.d(t,{h:()=>r});const r=50},32791:(e,t,s)=>{"use strict";s.d(t,{Q:()=>c});var r=s(95359),i=s(64693),a=s(67753),n=s(99107),o=s(26297);function c(e){const{collectionId:t,type:s}=e;return(0,a.Mf)((0,r.Jt)({id:(0,i.by)(),type:"collection",subtype:s,collectionId:t,visibleItemsLimit:o.h}),(0,n.R)(s,t,o.h))}},99107:(e,t,s)=>{"use strict";s.d(t,{R:()=>p});var r=s(67753),i=s(52981),a=s(31559),n=s(70021),o=s(73982),c=s(28098),d=s(27672);const l=(e,t,s)=>r=>{const i=("private"===e?c.vE:a.zL)(t)(r);if(!i.length)return[];const l=[];return("private"===e?i.slice(0,s):i).forEach((e=>{const t=e.object_id;if(!t)return;const s=(0,n.nM)({state:r,entityId:t});(0,o.W)(s)&&l.push(t)})),(0,d.m)(l,(e=>e))};const u=50;function p(e,t,s){return"private"===e?function(e,t){return(0,r.xJ)((s=>{const a=l("private",e,t)(s);return a.length?(0,i.H3)({ids:a.slice(0,50),searchId:void 0}):(0,r.ZT)()}))}(t,s):function(e){return(0,r.xJ)((t=>{const s=l("public",e)(t);if(!s.length)return(0,r.ZT)();const a=new Array(Math.ceil(s.length/u)).fill(1).map(((e,t)=>s.slice(u*t,u*t+u)));return(0,r.Mf)(...a.map((e=>(0,i.H3)({ids:e,searchId:void 0}))))}))}(t)}},76517:(e,t,s)=>{"use strict";function r(e){return"collection"===e.type}s.d(t,{Z:()=>i,f:()=>r});const i=(0,s(38853).r)(r)},54181:(e,t,s)=>{"use strict";s.d(t,{s:()=>n});var r=s(67753),i=s(95359),a=s(76517);const n=(0,r.gQ)("closeUserProfileFrame",(()=>(0,a.Z)((e=>"private"===(null==e?void 0:e.subtype)?(0,i.t7)({id:e.id}):(0,r.ZT)()))))},90173:(e,t,s)=>{"use strict";s.d(t,{e:()=>n});var r=s(95359),i=s(64693),a=s(67753);function n(e){const{reviewId:t,searchId:s,publicUserId:n}=e;if(!t)return(0,a.ZT)();const o=(0,i.by)();return(0,r.Jt)({id:o,type:"currentReview",reviewId:t,searchId:s,publicUserId:n})}},34974:(e,t,s)=>{"use strict";s.d(t,{W:()=>n,r:()=>a});var r=s(32712),i=s(58666);const a=(e,t)=>({bssOnFeedbackClick(){e((0,r.zs)({uiElement:{name:"feedbackButton",ownerName:"dashboard",frameUuid:t.ownerFrameId},action:"tap"}))}}),n=()=>({frameId:e},t)=>(0,i.xl)({state:t,name:"dashboardFrame",uuid:e})},62927:(e,t,s)=>{"use strict";s.d(t,{Y:()=>g});var r=s(52322),i=s(2784),a=s(19697),n=s(59128),o=s(98584),c=s(86740),d=s(32712),l=s(354);var u=s(1950);class p extends i.PureComponent{constructor(){super(...arguments),this.renderIcon=()=>(0,r.jsx)(n.r,{color:o.O.gray_262626}),this.handleClick=()=>{this.props.bssOnClick(),this.props.onClick()}}render(){return(0,r.jsx)(a.M,{icon:this.renderIcon,title:this.props.i18n.tp._t("Избранное"),onClick:this.handleClick,dataT:"favorite"})}}const g=(0,u.$)()((0,c.z)(void 0,(e=>({bssOnClick(){e((0,l._N)((e=>e.appContext.staticFrames.dashboard.id),(e=>(0,d.zs)({uiElement:{name:"favoritesIcon",ownerName:"dashboardFrame",frameUuid:e},action:"tap"}))))}})))(p))},34918:(e,t,s)=>{"use strict";s.d(t,{H:()=>i,Y:()=>a});const r=e=>{switch(e){case"interesting":return"interestingIcon";case"guidebook":return"guidebookIcon";case"award2019":return"awardsIcon";case"realty":return"realtyIcon";case"award2022":return"award2gisIcon";case"GreatList":return"greatlistIcon";case"РРФ":return"rrfIcon";default:return}},i=e=>({frameId:t})=>{const{code:s,position:i}=e,a=r(s);if(a)return{uiElement:{name:a,ownerName:"dashboardFrame",frameUuid:t,position:i}}},a=e=>({frameId:t})=>{const{code:s,position:i}=e,a=r(s);if(a)return{uiElement:{name:a,ownerName:"dashboardFrame",frameUuid:t,position:i},action:"tap"}}},80175:(e,t,s)=>{"use strict";s.d(t,{p:()=>j});var r=s(52322),i=s(2784),a=s(86687),n=s(6801),o=s(97825),c=s(42858),d=s(63993),l=s(98584),u=s(20094),p=s(35253),g=s(66908),m=s(34918),h=s(6340),f=s(43228),v=s(72998),b=s(86139);const y="https://2023-awards.2gis.ru?utm_source=dashboard_online&utm_campaign=premiya_2023",x='ООО "Байкал-Сервис ТК"',j=(0,i.memo)((()=>{const{s:e,css:t}=(0,n.y)(w),{_t:s}=(0,c.T)(),{feature2gisAwardPromoAnnouncement:o,feature2gisAwardPromoMain:d,featureAwardPartner:l}=(0,h.Z)(),{bssRef:u,useBssHandler:p}=(0,g.T)((0,m.H)({code:"award2022",position:1})),j=p(m.Y,{code:"award2022",position:1}),_=(0,i.useCallback)((()=>{j()}),[j]);return d?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",Object.assign({ref:u,className:t(e.root)},{children:(0,r.jsxs)(a.Z,Object.assign({external:!0,href:y,onClick:_,styles:e.link},{children:[(0,r.jsx)("p",Object.assign({className:t(e.title)},{children:`${s("Премия 2ГИС")}`})),(0,r.jsx)("p",Object.assign({className:t(e.title,e.extraTitle)},{children:s("Победители")})),(0,r.jsx)("p",Object.assign({className:t(e.description)},{children:s("Лучшие компании города по&nbsp;версии пользователей")})),l&&(0,r.jsx)("div",Object.assign({className:t(e.partnerLogo)},{children:(0,r.jsx)(f.C,{src:`${(0,v.s)()}promo2gisAwards/partner-logo.png`,width:81,height:19})}))]}))})),l&&(0,r.jsx)("div",Object.assign({className:t(e.regularErid)},{children:(0,r.jsx)(b.d,{tiny:!0,gray:!0,source:"banner",erid:["2RanynkWasr"],legalName:x})})),l&&(0,r.jsx)("div",Object.assign({className:t(e.compactErid)},{children:(0,r.jsx)(b.d,{tiny:!0,gray:!0,source:"banner",erid:["22RanynYN9Jp"],legalName:x})}))]}):o?(0,r.jsx)("div",Object.assign({ref:u,className:t(e.root)},{children:(0,r.jsxs)(a.Z,Object.assign({external:!0,href:y,onClick:_,styles:e.link},{children:[(0,r.jsx)("p",Object.assign({className:t(e.title,e.flexTitle)},{children:`${s("Премия 2ГИС")}`})),(0,r.jsx)("p",Object.assign({className:t(e.description)},{children:s("Пользователи выбрали лучшие компании, результаты уже в мае")}))]}))})):null})),w=(0,n.k)((({mobile:e})=>({root:{display:"block",position:"relative",height:e?56:132,boxSizing:"border-box",backgroundSize:"cover",borderRadius:p.E0.default,backgroundImage:`url(/public/promo2gisAwards/promo-${e?"small":"large"}.jpg)`,[`@media (max-height: ${o.rP}px)`]:{height:56,backgroundImage:"url(/public/promo2gisAwards/promo-small.jpg)"}},link:{display:"block",width:"100%",height:"100%",padding:e?"10px 16px":16,boxSizing:"border-box",[`@media (max-height: ${o.rP}px)`]:{padding:"10px 16px"}},title:Object.assign(Object.assign({},d.hC),{color:l.O.white,maxWidth:190,"&:hover, &:focus":{color:l.O.white}}),flexTitle:{paddingTop:e?8:0,[`@media (max-height: ${o.rP}px)`]:{paddingTop:8}},extraTitle:Object.assign(Object.assign({},d.FY),{display:e?"inline-block":"none",[`@media (max-height: ${o.rP}px)`]:{display:"inline-block"}}),description:Object.assign(Object.assign({},d.oN),{maxWidth:163,marginTop:8,color:(0,u.j)(l.O.white,.7),display:e?"none":"inline-block","&:hover, &:focus":{color:(0,u.j)(l.O.white,.7)},[`@media (max-height: ${o.rP}px)`]:{display:"none"}}),partnerLogo:{position:"absolute",bottom:e?10:16,right:e?13:"auto",left:e?"auto":16,[`@media (max-height: ${o.rP}px)`]:{bottom:10,right:13,left:"auto"}},regularErid:{display:e?"none":"block",[`@media (max-height: ${o.rP}px)`]:{display:"none"}},compactErid:{display:e?"block":"none",[`@media (max-height: ${o.rP}px)`]:{display:"block"}}})))},83052:(e,t,s)=>{"use strict";s.d(t,{L:()=>r});const r=new Set(["Москва","Санкт-Петербург","Екатеринбург","Сочи","Красноярск","Ялта","Симферополь","Казань","Краснодар","Геленджик","Нижний Новгород","Челябинск","Калининград","Владивосток","Ярославль","Уфа","Киров","Кострома","Тюмень","Новокузнецк","Тобольск","Мурманск","Самара","Волгоград","Пермь","Альметьевск","Воронеж","Махачкала","Новосибирск","Ростов-на-Дону","Томск","Орел","Кемерово","Владимир","Иркутск","Курган","Тула","Дзержинск","Иваново","Омск","Тверь","Саратов","Пенза","Благовещенск","Архангельск","Йошкар-Ола","Ставрополь","Новороссийск","Тольятти"])},17566:(e,t,s)=>{"use strict";s.d(t,{d:()=>m});var r=s(52322),i=s(66908),a=s(2784),n=s(85982),o=s(98584),c=s(80895),d=s(6801),l=s(42858),u=s(40204),p=s(63993),g=s(34918);const m=()=>{const{s:e,css:t}=(0,d.y)(h),s=(0,l.T)(),{bssRef:o,useBssHandler:p}=(0,i.T)((0,g.H)({code:"РРФ",position:1})),m=p(g.Y,{code:"РРФ",position:1}),f=(0,c.A)(u._m,{query:"Российский ресторанный фестиваль"}),v=(0,a.useCallback)((()=>{m(),f()}),[m,f]);return(0,r.jsxs)("div",Object.assign({ref:o,onClick:v,className:t(e.root)},{children:[(0,r.jsx)(n.N,{children:(0,r.jsx)("div",{className:t(e.promoRRF)})}),(0,r.jsx)(n.i,{children:(0,r.jsxs)("div",Object.assign({className:t(e.promoRRF)},{children:[(0,r.jsx)("div",{children:s._gg("РРФ 2024")}),(0,r.jsx)("div",Object.assign({className:t(e.erid)},{children:"erid: 2RanynDp6aU"}))]}))})]}))},h=(0,d.k)((({mobile:e})=>({root:{cursor:"pointer"},promoRRF:Object.assign(Object.assign({background:o.O.white,color:o.O.black},p.hC),{fontWeight:600,fontSize:16,paddingBottom:e?6:0,paddingTop:e?15:0,paddingStart:e?16:0,paddingEnd:e?16:0,borderRadius:e?4:7,backgroundImage:e?"url(/public/rrf/rrfLogo.png)":"url(/public/rrf/restFestBig.png)",backgroundRepeat:"no-repeat",backgroundSize:"contain",height:e?"auto":132,backgroundPosition:e?"right":"center"}),erid:Object.assign(Object.assign({},p.Vz),{fontSize:4,opacity:.7,marginTop:3,letterSpacing:-.2})})))},40121:(e,t,s)=>{"use strict";s.d(t,{q:()=>g});var r=s(52322),i=s(2784),a=s(19697),n=s(80281),o=s(1950),c=s(81187),d=s(86740),l=s(32712),u=s(354);class p extends i.PureComponent{constructor(){super(...arguments),this.renderIcon=()=>(0,r.jsx)(n.g,{}),this.handleClick=e=>{e.preventDefault(),e.stopPropagation(),this.props.onClick(),this.props.bssOnClick()}}render(){return(0,r.jsx)(c.E,Object.assign({type:"rubrics"},{children:e=>(0,r.jsx)(a.M,{href:e,icon:this.renderIcon,title:this.props.i18n.tp._t("Рубрики"),onClick:this.handleClick,dataT:"rubricator"})}))}}const g=(0,d.z)(void 0,(e=>({bssOnClick(){e((0,u._N)((e=>e.appContext.staticFrames.dashboard.id),(e=>(0,l.zs)({uiElement:{name:"rubricatorIcon",ownerName:"dashboardFrame",frameUuid:e},action:"tap"}))))}})))((0,o.$)()(p))},57698:(e,t,s)=>{"use strict";s.d(t,{S:()=>i});var r=s(27516);const i=()=>(0,r.mk)("openFavorites")},75293:(e,t,s)=>{"use strict";s.d(t,{f:()=>o});var r=s(67753),i=s(33451),a=s(64693),n=s(29600);const o=(0,r.gQ)("openDeliveryOrderPopup",(({productId:e,entityId:t,source:s})=>(0,n.BN)((0,i.Mw)({id:(0,a.by)(),type:"deliveryOrder",productId:e,entityId:t,source:s}))))},39980:(e,t,s)=>{"use strict";s.d(t,{GN:()=>n});var r=s(76092),i=s(10484);const a=e=>"direction"===e.type;function n(e){const t=(0,i.t0)(e.appContext.frames,"direction");return t&&a(t)?t:void 0}(0,r.F)(a)},11149:(e,t,s)=>{"use strict";s.d(t,{b:()=>v});var r=s(95359),i=s(64693),a=s(97825);var n=s(67753),o=s(82187),c=s(96385),d=s(51604),l=s(39419);var u=s(27507),p=s(62907),g=s(47527),m=s(8357),h=s(19366),f=s(26620);function v(e={}){var t;const s=(0,i.by)(),v=(0,i.by)(),b=function(e){switch(e){case"car":case"truck":case"bus":case"pedestrian":return e;default:return a.QZ}}(e.tab),y=function(e){const t=Math.max(0,a.Kr-e.length);return(t?e.concat(Array(t).fill(void 0)):e.slice(0,a.MT)).map((e=>(0,l.z)(e)))}(e.points||[]),x=(0,u.D)(y)?y:void 0,j=(0,u.D)(y)?(0,i.by)():void 0,{filterValues:w,isMetroSchemeMode:_}=e,C=null===(t=(0,f.h)())||void 0===t?void 0:t.ppng,I={[b]:w};return I.truck=I.truck||C,(0,n.vP)((0,r.Jt)({id:s,type:"directions",statusId:v,tab:b,points:y,searchId:(0,d.Ue)(j),filterValuesByTab:I,filterPanelState:(0,i.xb)(w)||_?"manuallyClosed":"auto",isPpngSelected:"truck"===b,isMetroSchemeMode:_}),(0,n.Mf)((0,g.g)({tab:b}),...y.map(p.A)),(0,m.q)(),!!j&&!!x&&(0,n.vP)((0,o.w)(),(0,c.p)({searchId:j})),(0,h.x)())}},21466:(e,t,s)=>{"use strict";s.d(t,{B7:()=>n,RP:()=>d,SI:()=>o,eH:()=>c});var r=s(76092),i=s(10484),a=s(38853);function n(e){return"directions"===e.type}function o(e){const t=(0,i.t0)(e.appContext.frames,"directions");return t&&n(t)?t:void 0}const c=(0,r.F)(n),d=(0,a.r)(n)},58525:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var r=s(38261),i=s(26287),a=s(21466),n=s(62830);const o=e=>{var t;const s=(0,a.SI)(e);if(!s||"car"===s.tab||"truck"===s.tab)return(0,i.SJ)(e);const o=(0,n.r)(s);if(!o)return(0,i.SJ)(e);const c=null===(t=(0,r.cx)({searchId:o,state:e}))||void 0===t?void 0:t.data;return c&&"projectCode"in c?c.projectCode:(0,i.SJ)(e)}},82187:(e,t,s)=>{"use strict";s.d(t,{w:()=>b});var r=s(22970),i=s(17385),a=s(23818),n=s(40326),o=s(7484),c=s(354),d=s(65649),l=s(42313),u=s(21466),p=s(51604),g=s(27507),m=s(58525),h=s(93804),f=s(26287),v=s(11447);function b(){return(0,c.gF)({locale:d.O,viewpoint:l.Id,zoom:e=>e.appContext.zoom,frame:u.SI,profile:e=>e.data.entity.profile,region:e=>(0,f.mI)({state:e,code:(0,m.Z)(e)||""}),segmentCode:e=>(0,v.Rg)(e)},(({locale:e,viewpoint:t,zoom:s,frame:c,profile:d,region:l,segmentCode:u})=>{if(!c)return;const{tab:m,searchId:f,points:v,filterValuesByTab:b}=c,y=b[m],x=(0,p.sG)(f),j=(0,h.n)(v,m),w=(0,g.D)(j)?j.map((e=>{var t,s;const{entityId:i}=e,a=(0,r._T)(e,["entityId"]),n=i?null===(t=d[i])||void 0===t?void 0:t.data:void 0;if(!i||!n)return a;return"group"in n&&(null===(s=n.group)||void 0===s?void 0:s.some((e=>"adm_div"===e.type&&"place"===e.subtype)))?a:e})):void 0;if(x&&w)switch(m){case"car":return(0,a.b)({searchId:x,points:w,locale:e,viewpoint:t,zoom:s});case"truck":return(0,n.Y)({searchId:x,locale:e,points:w,viewpoint:t,zoom:s,filterValues:y});case"bus":return(0,i.i)({searchId:x,projectCode:(null==l?void 0:l.code)||u,points:w,locale:e,viewpoint:t,zoom:s,filterValues:y});case"pedestrian":return(0,o.U)({searchId:x,projectCode:(null==l?void 0:l.code)||u,points:w,locale:e,viewpoint:t,zoom:s})}}))}},47527:(e,t,s)=>{"use strict";s.d(t,{g:()=>l});var r=s(354),i=s(38261),a=s(90321),n=s(67753),o=s(40262),c=s(58525),d=s(26287);function l({tab:e}){return"bus"!==e?(0,n.ZT)():(0,r._N)((e=>(0,d.mI)({state:e,code:(0,c.Z)(e)||""})),(e=>(null==e?void 0:e.flags.public_transport)?(0,o.D)((0,i.UE)(e.code),(0,a.y)({projectCode:e.code})):(0,n.ZT)()))}},62907:(e,t,s)=>{"use strict";s.d(t,{A:()=>u});var r=s(67753),i=s(26287),a=s(78059),n=s(70021),o=s(52981),c=s(40458),d=s(62455),l=s(354);function u(e){if((0,c.j)(e)||(0,d.Sb)(e))return(0,r.ZT)();const{lonLat:t,searchId:s,entityId:u}=e;return(0,l._N)((e=>(0,n.u5)({state:e,searchId:s,entityId:u})),(e=>e&&e.meta&&"error"!==e.meta.status?(0,r.ZT)():u?(0,o.DZ)({id:u,searchId:s,clickPoint:t}):(0,l.gF)({zoom:e=>e.appContext.zoom,is3dEnabled:e=>e.session.is3dEnabled,projectId:i.yH},(({zoom:e,is3dEnabled:r,projectId:i})=>!!e&&(0,l.zh)((n=>(0,a.I5)({point:t,searchId:s,viewpoint:n,is3dEnabled:r,zoom:Math.ceil(e),regionId:i||"0"})))))))}},96385:(e,t,s)=>{"use strict";s.d(t,{p:()=>m});var r=s(67753),i=s(354),a=s(38261),n=s(69088),o=s(42313),c=s(49013),d=s(24973),l=s(89679),u=s(97825);function p(e){switch(e.type){case"ppna":case"ppng":case"pedestrian":return function(e){let t=[];return e.forEach((e=>{e.begin_pedestrian_path&&(t=t.concat(g(e.begin_pedestrian_path.geometry.selection))),(e.maneuvers||[]).forEach((e=>{const s=e.outcoming_path&&e.outcoming_path.geometry;s&&s.forEach((e=>{t=t.concat(g(e.selection))}))})),e.end_pedestrian_path&&(t=t.concat(g(e.end_pedestrian_path.geometry.selection)))})),t}(e.items);case"ppnot":return function(e){let t=[];return e.forEach((e=>{e.movements.forEach((e=>{(e.alternatives?e.alternatives[0].geometry.map((e=>e.selection)):[]).forEach((e=>{t=t.concat(g(e))}))}))})),t}(e.items)}}function g(e){const t=(0,l.h_)(e);return t&&t.length?t.map((e=>[e.lon,e.lat])):[]}const m=(0,r.gQ)("fitDirectionsSearchInMapView",(({searchId:e,movementId:t,directionId:s})=>(0,i._N)((t=>(0,a.cx)({searchId:e,state:t})),(e=>{if(!e)return;const{data:r,meta:a}=e;return a&&"success"===a.status&&r?(0,i._N)((e=>function({directionsData:e,state:t,routeId:s,movementId:r}){const i=(0,o.v9)(t);let a;if(s&&r){if("ppnot"!==e.type)return;const t=e.items.filter((e=>e.id===s)),i=t[0].movements.filter((e=>e.id===r)),n=[Object.assign(Object.assign({},t[0]),{movements:i})];a=p(Object.assign(Object.assign({},e),{items:n}))}else a=p(e);if(!a.length)return;const n=(0,c.o)(t.session.screen,i),l=(0,d.getCenterZoomByPoints)(a,t.appContext.rotation,[n.width,n.height]);return l?{lon:l.center[0],lat:l.center[1],zoom:Math.min(l.zoom,16)-u.Tj}:void 0}({directionsData:r,state:e,routeId:s,movementId:t})),(e=>e&&(0,n.Nr)(e))):void 0}))))},8357:(e,t,s)=>{"use strict";s.d(t,{q:()=>o});var r=s(67753),i=s(57695),a=s(21466),n=s(874);function o(){return(0,r.xJ)((e=>{const t=(0,a.SI)(e);if(!t)return;let s=!1;const r=t.points.map((t=>{if(t&&"point"===t.type&&!t.entityId){const r=(0,i.bx)({state:e,searchId:t.searchId});if(r!==n.k8)return s=!0,Object.assign(Object.assign({},t),{entityId:r})}return t}));return s?(0,a.eH)(t.id,(e=>Object.assign(Object.assign({},e),{points:r}))):void 0}))}},10910:(e,t,s)=>{"use strict";s.d(t,{R:()=>x});var r=s(67753),i=s(82187),a=s(96385),n=s(21466),o=s(95359),c=s(64693),d=s(51604),l=s(354);var u=s(27507),p=s(62907),g=s(47527),m=s(29600),h=s(8357),f=s(93804),v=s(97825),b=s(40458),y=s(19366);function x({frameId:e,tab:t,framePoints:s,filterValues:x,filterPanelState:j,dontClearEmptyAdditional:w,skipHistoryPush:_}){const C=s.length>v.Kr&&!w&&(0,b.j)(s[s.length-1])?s.slice(0,s.length-1):s,I=(0,f.n)(C,t),k=(0,u.D)(I)?(0,c.by)():void 0;return(0,r.vP)(!_&&(0,m.BN)(),(0,n.eH)(e,(e=>Object.assign(Object.assign({},e),{tab:t,points:C,searchId:k?(0,d.gg)(e.searchId,k):(0,d.Ue)(void 0),activeDirectionId:void 0,filterValuesByTab:x?Object.assign(Object.assign({},e.filterValuesByTab),{[t]:x}):e.filterValuesByTab,filterPanelState:j||e.filterPanelState,isPpngSelected:"truck"===t||"car"!==t&&e.isPpngSelected}))),(0,o.P2)({id:e}),(0,r.Mf)(!!k&&(0,r.vP)((0,i.w)(),function({frameId:e,searchId:t}){return t?(0,l.WW)(e,n.B7,(s=>(0,d.sG)(s.searchId)===t&&(0,n.eH)(e,(e=>Object.assign(Object.assign({},e),{searchId:(0,d._e)(e.searchId)}))))):(0,r.ZT)()}({frameId:e,searchId:k}),(0,a.p)({searchId:k})),(0,g.g)({tab:t}),...C.map((e=>(0,p.A)(e))),(0,h.q)()),(0,y.x)())}},19366:(e,t,s)=>{"use strict";s.d(t,{x:()=>u});var r=s(67753),i=s(10484),a=s(26287),n=s(21466),o=s(70021);var c=s(11447),d=s(354),l=s(80186);const u=(0,r.gQ)("updatePpngFiltersAvailability",(()=>(0,r.Rh)((({featureFullCoveragePPNG:e})=>(0,r.xJ)((t=>{const s=(0,i.t0)(t.appContext.frames,"directions");if(!s||!p(s))return(0,r.ZT)();if(e)return(0,n.eH)(s.id,(e=>Object.assign(Object.assign({},e),{isPpngFiltersAvailable:!0})));const u=[...s.points.map((e=>{var s;return"point"===(null==e?void 0:e.type)&&e.entityId?null===(s=(0,o.nM)({state:t,entityId:e.entityId}).data)||void 0===s?void 0:s.region_id:void 0})),(0,a.yH)(t)].map((e=>function(e,t){if(!e)return;return(0,n.RP)((s=>p(s)?(0,r.vP)((0,r.xJ)((t=>(0,l.sz)(t,e))),(0,d._N)((t=>{var s;return null===(s=(0,c.D4)({state:t,id:e}))||void 0===s?void 0:s.data}),(e=>function(e){return!!e&&!!e.flags.truck_graph}(e)&&(0,n.eH)(t,(e=>Object.assign(Object.assign({},e),{isPpngFiltersAvailable:!0})))))):(0,r.ZT)()))}(e,s.id)));return(0,r.vP)(...u)}))))));function p(e){return e&&["car","truck"].includes(e.tab)&&!e.isPpngFiltersAvailable}},67226:(e,t,s)=>{"use strict";s.d(t,{r:()=>d});var r=s(64693),i=s(43606),a=s(28814),n=s(97825),o=s(40458),c=s(62455);function d(e,t,s){if((0,o.j)(e)){if(!(0,r.$K)(s))return;return t.length>n.Kr?(0,a.O)(t,s):(0,i.g)(t,void 0,s)}const c=(0,r.$K)(s)?s:t.findIndex(o.j);if(c<0)return;let d=t;l(e,t[c-1])&&(d=(0,i.g)(d,void 0,c-1));return l(e,t[c+1])&&(d=(0,i.g)(d,void 0,c+1)),(0,i.g)(d,e,c)}function l(e,t){return!(0,o.j)(e)&&!(0,o.j)(t)&&(!(!(0,c.Sb)(e)||!(0,c.Sb)(t))||!(0,c.Sb)(e)&&!(0,c.Sb)(t)&&(e.entityId===t.entityId&&e.lonLat.lon===t.lonLat.lon&&e.lonLat.lat===t.lonLat.lat))}},39419:(e,t,s)=>{"use strict";s.d(t,{z:()=>a});var r=s(64693),i=s(62455);function a(e,t){return e?(0,i.Sb)(e)?e:Object.assign(Object.assign({},e),{searchId:t||(0,r.by)()}):void 0}},21269:(e,t,s)=>{"use strict";function r(e){return"car"===e||"pedestrian"===e}s.d(t,{M:()=>r})},27507:(e,t,s)=>{"use strict";s.d(t,{D:()=>a});var r=s(97825),i=s(40458);function a(e){const t=e.reduce(((e,t)=>{if((0,i.j)(t))return e;const s=t.lonLat;return s?e.concat({type:"point",lonLat:s,entityId:"entityId"in t?t.entityId:void 0}):e}),[]);return t.length===e.length&&t.length>=r.Kr}},40458:(e,t,s)=>{"use strict";function r(e){return!e}s.d(t,{j:()=>r})},26620:(e,t,s)=>{"use strict";s.d(t,{f:()=>n,h:()=>a});var r=s(29759);const i="pp_filters",a=()=>{if("undefined"==typeof window)return;const e=r.tO.local.getItem(i);return e?JSON.parse(e):void 0},n=e=>{"undefined"!=typeof window&&r.tO.local.setItem(i,JSON.stringify({ppng:e}))}},93804:(e,t,s)=>{"use strict";s.d(t,{n:()=>a});var r=s(21269),i=s(97825);function a(e,t){return e.length<=i.Kr||(0,r.M)(t)?e:[e[0],e[e.length-1]]}},13829:(e,t,s)=>{"use strict";s.d(t,{b:()=>p});var r=s(67753),i=s(33451),a=s(354),n=s(66030),o=s(1184),c=s(64693),d=s(79876),l=s(96160),u=s(44154);const p=(0,r.gQ)("openEditFavorite",(e=>(0,a._N)(g(e),(t=>(0,i.Mw)(Object.assign(Object.assign({},t),{id:(0,c.by)(),type:"editFavorite",item:e})))))),g=e=>t=>{const s={},r=(0,l.eb)(t),i=(0,l.M6)(t),a=(0,u.w)(null==r?void 0:r.point,e.point)||(null==r?void 0:r.object_id)===e.object_id,c=(0,u.w)(null==i?void 0:i.point,e.point)||(null==i?void 0:i.object_id)===e.object_id;return(0,o.s0)((0,n.tV)(t)).forEach((t=>{if(t&&"favorite"===t.type&&(0,d.G)(t,e)){const e=t.collection_id;e&&(s[e]=!0)}})),{collectionsInitial:s,collectionsCurrent:s,homeInitial:a,workInitial:c,homeCurrent:void 0,workCurrent:void 0}}},66988:(e,t,s)=>{"use strict";s.d(t,{VS:()=>l,_X:()=>c,jM:()=>d});var r=s(36804),i=s(77878),a=s(10484),n=s(51435),o=s(55476);const c=({ownerFrameId:e},t)=>{const s=(0,a.iF)(t.appContext.frames,e);if(!s||"entity"!==s.type)return void(0,i.H)({message:"Попытка показать фрейм, которого нет",level:"warn",id:"iq3n4",payload:{type:"debug",subtype:"InconsistentState",data:t.appContext.frames.map((e=>e.type)).reverse().join(";")||"dashboard"}});const c=(0,o.b1)(t),d=(0,r.s)({state:t,entityFrameId:e});d||(0,i.H)({message:"Не удалось сформировать payload для события показа полной карточки организации placeCardFull",level:"error",id:"kgvq5",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify((0,a.iF)(t.appContext.frames,e))}});const l=(null==d?void 0:d.entity.id)?n.Mu.get()[(0,n.ul)({entityId:d.entity.id,userId:c})]:void 0,u=l?{hasNote:!!l}:void 0;return{uiElement:{name:"placeCardFull",frameUuid:e},payload:{placeItem:d?Object.assign(Object.assign({},d),{adsId:void 0}):void 0,noteItem:u}}},d=e=>({frameId:t},s)=>{const{tag:i,name:a,ownerName:n}=e;return{uiElement:{name:"award2gisLink",ownerName:n,frameUuid:t},payload:{placeItem:(0,r.s)({state:s,entityFrameId:t}),awardItem:{id:i,name:a}}}},l=({tag:e,name:t,ownerName:s,link:i})=>({frameId:a},n)=>({uiElement:{name:"award2gisLink",ownerName:s,frameUuid:a},action:"tap",payload:Object.assign({placeItem:(0,r.s)({state:n,entityFrameId:a}),awardItem:{id:e,name:t}},i?{link:{value:i}}:{})})},66662:(e,t,s)=>{"use strict";s.d(t,{T:()=>n});var r=s(52322),i=s(21532),a=s(44661);const n=e=>"loading"===e.asyncStatus?(0,r.jsx)(i.h,{hasPinnedGoods:e.hasPinnedGoods}):(0,r.jsx)(a.j,{code:500})},44179:(e,t,s)=>{"use strict";s.d(t,{P:()=>p});var r=s(67753),i=s(70021),a=s(87324),n=s(56238);var o=s(50922),c=s(23996),d=s(52462),l=s(83575),u=s(92141);function p(e){return(0,r.Mf)((0,o.nc)(["Beta","Card_flight_around","Click"]),(0,r.xJ)((t=>{const{rotation:s,zoom:r,pitch:i}=t.appContext;if(!t.session.is3dEnabled)return;const o=g(t);if(!o||!o.data)return;const d=(0,a.B)({entity:o.data,state:t});if(!d)return;const p=[{main:[{zoom:17,duration:c.Ek,pitch:45,center:[d.lon,d.lat]}]},{main:[{rotation:s-150,duration:c._I/2,easing:"easeInSine"}]},{main:[{rotation:s-300,duration:c._I/2,easing:"easeOutSine"}]},{main:[{zoom:r,duration:c.Ek,rotation:s,pitch:i}]}];return function(e,t){let s=0;const r=[];t.forEach((t=>{const i=t.main,a=t.background;if(a){const t=window.setTimeout((()=>{e((0,n.xN)(a))}),s);r.push(t)}i.forEach((t=>{const i=window.setTimeout((()=>{e((0,n.xN)(t))}),s);r.push(i),s+=t.duration||0}))}))}(e,p),(0,l.a)((0,u.kG)({isMinimized:!0}))})))}function g(e){const t=e.appContext.frames[0];switch(t.type){case"entity":return(0,i.wj)({state:e,entityId:t.entityId});case"realtyCard":{const t=(0,d.W)(e);if(!t)return;return(0,i.wj)({state:e,entityId:t})}}}},23996:(e,t,s)=>{"use strict";s.d(t,{Kc:()=>j,_I:()=>v,Ek:()=>b});var r=s(52322),i=s(2784),a=s(1950),n=s(18586);const o=(0,s(60786).P1)([({state:e})=>e.session.is3dEnabled],(e=>({is3d:e}))),c=(0,n.X1)(((e,t)=>o({state:e,props:t})));var d=s(44179);const l=(0,n.Z3)((e=>({onClick:()=>e((0,d.P)(e))})));var u=s(4125),p=s(48236),g=s(86740),m=s(32712),h=s(36804),f=s(354);const v=4e3,b=1e3,y=v+2*b;class x extends i.PureComponent{constructor(){super(...arguments),this.state={isDisabled:!1},this.handleClick=()=>{this.setState({isDisabled:!0}),this.props.onClick(),this.props.bssOnFlightAroundClick(),setTimeout((()=>this.setState({isDisabled:!1})),y)}}render(){const{i18n:{tp:e},is3d:t}=this.props;return t?(0,r.jsx)(p.z,Object.assign({appearance:"default",compact:!0,onClick:this.handleClick,disabled:this.state.isDisabled},{children:e._t("Рассмотреть")})):null}}x.displayName=(0,u.I)("src/modules/entity/containers/content/containers/flightAround");const j=(0,g.z)(void 0,((e,{ownerFrameId:t,ownerName:s})=>({bssOnFlightAroundClick(){e((0,f._N)((e=>(0,h.s)({state:e,entityFrameId:t})),(e=>{if("TODO_REALTY_BSS_FAKE_OWNER_NAME_FOR_ADDRESS"===s)return;const r={uiElement:{name:"descry",ownerName:s,frameUuid:t},action:"tap",payload:{placeItem:e}};return(0,m.zs)(r)})))}})))((0,n.$j)(c,l)((0,a.$)()(x)))},88288:(e,t,s)=>{"use strict";s.d(t,{hp:()=>b,pm:()=>f,Eg:()=>m,C3:()=>h});var r=s(22970),i=s(42866),a=s(60786),n=s(70021),o=s(42313),c=s(10484),d=s(70258),l=s(26287),u=s(34015),p=s(24973);var g=s(3797);const m=12,{use:h,prefetch:f,withQueryData:v}=(0,i.H)("realty-tab-search",(e=>[[e.geo_id,e.locale,e.category_ids,e.filters],({services:t,context:s})=>(0,r.mG)(void 0,void 0,void 0,(function*(){return yield t.marketApi.getRealtyItems(Object.assign(Object.assign({},e),{page:Number(s.pageParam)||1,pageSize:m}))}))]),{staleTime:1/0,cacheTime:1/0,getNextPageParam:(e,t)=>m*(t.length-1)+e.items.length<e.total?t.length+1:void 0}),b=(0,a.P1)([e=>(0,c.t0)(e.appContext.frames,"entity"),e=>{var t;const s=null===(t=(0,c.t0)(e.appContext.frames,"entity"))||void 0===t?void 0:t.entityId;return s?(0,n.nM)({state:e,entityId:s}).data:void 0},o.Id,l.fq],((e,t,s,r)=>{var i,a;const n="building"===(null==e?void 0:e.entityType)||"branch"===(null==e?void 0:e.entityType)?(0,d.V)(t):null==e?void 0:e.entityId,o=null===(i=null==e?void 0:e.tabRealty)||void 0===i?void 0:i.currentCategoryValue,c="building"===(null==e?void 0:e.entityType)||(0,g.J)(t)||"branch"===(null==e?void 0:e.entityType)?"":u.jY.sale.categoryId,l=o||c,m=(null==t?void 0:t.point)&&!(0,g.J)(t)?function(e){const{point:t,radius:s=500}=e,r=[t.lon,t.lat],i=(0,p.lonLatToMapPoint)(r),a=(0,p.geoToMapDistance)(r,s),n=2*Math.PI/20,o=[];for(let e=0;e<20;e++){const t=n*e,s=i[0]+a*Math.cos(t),r=i[1]+a*Math.sin(t);o.push((0,p.mapPointToLonLat)([s,r]))}return`POLYGON((${o.reduce(((e,t)=>e.concat(`${t[0]} ${t[1]}`)),[]).concat(`${o[0][0]} ${o[0][1]}`).join(",")}))`}({point:null==t?void 0:t.point}):void 0;if(n&&s)return Object.assign(Object.assign({geometry:m,region_id:r,viewpoint:s,locale:"ru_RU",geo_id:n},l&&{category_ids:l}),{filters:null===(a=null==e?void 0:e.tabRealty)||void 0===a?void 0:a.currentFiltersValues})}))},84128:(e,t,s)=>{"use strict";s.d(t,{U:()=>o});var r=s(52322),i=s(19981),a=s(2933),n=s(66662);const o=e=>(0,r.jsx)(i.E,{loader:a.H.reviewsTab,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>(0,r.jsx)(n.T,{asyncStatus:e})})},69554:(e,t,s)=>{"use strict";s.d(t,{f:()=>i});var r=s(51919);function i({activeDirectionId:e,frameId:t}){return(0,r.me)(t,(t=>Object.assign(Object.assign({},t),{activeDirectionId:e})))}},67443:(e,t,s)=>{"use strict";s.d(t,{I:()=>d});var r=s(67753),i=s(29600),a=s(24947),n=s(68428),o=s(95359),c=s(70258);function d(e){const{entity:t,tab:s,frame:d}=e;return(0,r.vP)((0,i.BN)(),(0,o.P2)({id:d.id}),(0,a.Sb)({entityId:t.id,frameId:d.id,tab:s,searchId:(0,n.l)(d,s),buildingId:(0,c.V)(t),tabQuery:"inside"===s&&d.tabInside?d.tabInside.query:void 0,filterValues:"inside"===s&&d.tabInside?d.tabInside.filterValues:void 0}))}},52674:(e,t,s)=>{"use strict";s.d(t,{O:()=>n});var r=s(67753),i=s(33451),a=s(64693);const n=(0,r.gQ)("openVideoPlayerByEntity",(({entityId:e,searchId:t,isFmcg:s})=>{const r=(0,a.by)();return(0,i.Mw)({id:r,type:"entityVideoPlayer",isPopupGlassDark:!0,entityId:e,searchId:t,isFmcg:s})}))},13818:(e,t,s)=>{"use strict";s.d(t,{I:()=>o});var r=s(67753),i=s(33451),a=s(64693),n=s(29600);const o=(0,r.gQ)("erirPopup",(e=>(0,n.BN)((0,i.Mw)(Object.assign({id:(0,a.by)(),type:"erir"},e)))))},33752:(e,t,s)=>{"use strict";s.d(t,{E:()=>u});var r=s(67753),i=s(95359),a=s(64693),n=s(66204),o=s(29600),c=s(3454),d=s(354);const l=(0,r.gQ)("openExchangeFrame",((e,t,s)=>(0,r.Rh)((c=>c.featureExchange?(0,r.vP)((0,d.gF)({zoom:e=>e.appContext.zoom,center:e=>e.appContext.center},(({zoom:r,center:n})=>(0,o.BN)((0,i.Jt)({type:"exchange",filterPanelState:"auto",id:(0,a.by)(),page:e||1,scrollId:(0,a.by)(),searchId:(0,a.by)(),zoom:r,center:n,action:null==s?void 0:s.action,currencyCode:null==s?void 0:s.currencyCode,volume:null==s?void 0:s.volume,filterValues:t})))),(0,n.xU)({suggesterKey:"primary",query:void 0})):(0,r.ZT)())))),u=(0,r.gQ)("openExchange",(()=>(0,r.Rh)((e=>e.featureExchange?(0,r.vP)((0,r.XJ)(l()),(0,c.t9)("exchange")):(0,r.ZT)()))))},61423:(e,t,s)=>{"use strict";function r(e){return"exchange"===e.type}s.d(t,{Q:()=>i,l:()=>r});const i=(0,s(76092).F)(r)},77358:(e,t,s)=>{"use strict";s.d(t,{x:()=>p});var r=s(22970);const i=(0,s(12563).createModel)("exchangeItems",(({services:e},t,s)=>({fetch(){return(0,r.mG)(this,void 0,void 0,(function*(){return s||(yield e.marketApi.getExchangeItems(t))}))}})),(({fetch:e})=>(e(),({clearData:e})=>{e()})));var a=s(27215),n=s(69698),o=s(65649),c=s(61423),d=s(2784),l=s(42313);const u=12;function p(){const e=(0,a.v9)(o.O),t=(0,a.v9)((e=>e.appContext.frames.find(c.l))),s=(0,a.v9)(l.Id),r=(0,d.useMemo)((()=>s),[null==t?void 0:t.zoom,null==t?void 0:t.center,null==t?void 0:t.filterValues,null==t?void 0:t.action,null==t?void 0:t.volume,null==t?void 0:t.currencyCode,null==t?void 0:t.searchId]),p=(0,n.tT)(t?i({viewpoint:r,locale:e,action:t.action,volume:t.volume,currency:t.currencyCode,page:t.page,page_size:u,frameId:t.id}):void 0),m=(0,d.useMemo)((()=>Object.assign(Object.assign({},p),{data:g(p.data)})),[p]);return"undefined"==typeof window?n._:m}const g=e=>{if(e)return Object.assign(Object.assign({},e),{pages:Math.ceil(e.total/u)})}},33698:(e,t,s)=>{"use strict";s.d(t,{z:()=>i});var r=s(96094);const i=e=>{if(!e)return;let t=String(e);if(!t.includes("."))return`${(0,r.D)(e)},00`;t=t.replace(".",",");const[s,i]=t.split(",");return`${(0,r.D)(parseInt(s))},${1===i.length?i+"0":i.slice(0,2)}`}},58485:(e,t,s)=>{"use strict";s.d(t,{S:()=>a,q:()=>i});var r=s(33698);const i="--,--",a=({data:e,frame:t,short:s})=>{const{bid:i,offer:a,rate:o,total_amount:c}=e,{action:d}=t,l=o&&"buy"===d?o:a,u=o&&"sell"===d?o:i,p=(0,r.z)(l),g=(0,r.z)(u),m=(0,r.z)(c);if(!t.action)return[n({value:p,type:"buy"}),n({value:g,type:"sell"})];const h="buy"===t.action?p:g;return t.volume?s?[n({value:m,type:"result"})]:[n({value:h,type:t.action}),n({value:m,type:"result"})]:[n({value:h,type:t.action})]},n=e=>({type:e.type,value:e.value?e.value:i})},15197:(e,t,s)=>{"use strict";s.d(t,{Y:()=>n});var r=s(67753),i=s(95359);const a=(0,s(38853).r)((function(e){return"userFriendsActivity"===e.type})),n=(0,r.gQ)("closeUserFriendsActivityFrame",(()=>a((e=>e?(0,i.hp)():(0,r.ZT)()))))},72799:(e,t,s)=>{"use strict";s.d(t,{l:()=>h});var r=s(97825),i=s(67753),a=s(64693),n=s(6872),o=s(68276),c=s(2577),d=s(95359),l=s(71686),u=s(354),p=s(18869),g=s(72899),m=s(87627);function h(e){const{entityId:t,searchId:s,entityType:h,photoId:f,photoAlbum:v}=e,b=(0,a.by)();return(0,u.gF)({queryCtx:p.J,searchKeyword:(0,m.Ec)(t)},(({queryCtx:e,searchKeyword:a})=>{var u;const p=(0,n._V)({objectId:t}),m=(0,l.Jn)(e),y=g.sk?(0,i.ZT)():(0,o.DV)({id:t,albumId:null!==(u=null==v?void 0:v.id)&&void 0!==u?u:r.n4,searchCtx:m,searchKeyword:a}),x=f&&!g.sk?(0,c.t)({photoId:f}):(0,i.ZT)();return(0,i.Mf)(p,y,x,(0,d.Jt)({id:b,type:"gallery",entityType:h,photoId:f,entityId:t,searchId:s,photoAlbum:v}))}))}},92682:(e,t,s)=>{"use strict";s.d(t,{M8:()=>A,N6:()=>k,OF:()=>P,Rq:()=>F,VO:()=>E,W5:()=>R,Y8:()=>M,_X:()=>I,i2:()=>S,iQ:()=>N,jv:()=>T,pD:()=>O,qk:()=>z});var r=s(32712),i=s(57695),a=s(354),n=s(58666),o=s(10484),c=s(4193),d=s(22874),l=s(77878),u=s(67753),p=s(91982),g=s(77926),m=s(64693),h=s(4135),f=s(65649),v=s(26287),b=s(21933),y=s(61423),x=s(2066),j=s(54833),w=s(44939),_=s(70021),C=s(48084);const I=(e,t)=>(0,n.xl)({state:t,name:"map",uuid:e.ownerFrameId});function k(){return(0,a.gF)({mapUuid:e=>e.appContext.staticFrames.map.id},(({mapUuid:e})=>{const t={uiElement:{name:"favoritesMapIcon",ownerName:"map",frameUuid:e},action:"tap"};return(0,r.zs)(t)}))}function O(e,t){return(0,a.gF)({search:e=>(0,i.rO)({state:e,searchId:t.searchId}),mapUuid:e=>e.appContext.staticFrames.map.id},(({search:s,mapUuid:i})=>{var a,n,o;const d={uiElement:{name:"mapMarker",ownerName:L(e,s.data&&s.data.searchSourceType),frameUuid:i},action:"tap",payload:{mapMarker:{scale:(0,c.Z)(e.currentType),adsHighlight:"commercial"===e.type,hasLogo:!!(null===(n=null===(a=t.ads)||void 0===a?void 0:a.options)||void 0===n?void 0:n.marker_logo)||void 0,rubricType:(0,C.F)(e,t),hasActivities:!!(null===(o=t.friends)||void 0===o?void 0:o.total)}}};return(0,r.zs)(d)}))}function S(e){return(0,a.gF)({mapUuid:e=>e.appContext.staticFrames.map.id,placeItem:t=>({geoPosition:(0,p.a3)({lon:e.lonLat[0],lat:e.lonLat[1]}),entity:{type:"building",id:e.buildingId,segmentInfo:(0,h.U)({locale:(0,f.O)(t),region_id:(0,v.yH)(t)})}})},(({mapUuid:t,placeItem:s})=>{const i={uiElement:{name:"realtyMarker",ownerName:"map",frameUuid:t},action:"tap",payload:{placeItem:s,mapMarker:{scale:(0,c.Z)(e.currentType),mapLayer:"realtyLayer"}}};return(0,r.zs)(i)}))}function N(e){return(0,a.gF)({mapUuid:e=>e.appContext.staticFrames.map.id,frame:e=>(0,o.t0)(e.appContext.frames,"realtyCard")},(({mapUuid:t,frame:s})=>{const i=(0,j.ux)(s);return i?(0,j.VX)(i,(s=>{if(!s||!s.data)return(0,u.ZT)();const{data:i}=e,a=(0,x.I)({realtyItem:s.data});if(!a)return(0,l.H)({message:"Не удалось сформировать payload.productOfferItem для события показа блока инфраструктуры v-gvroz",level:"error",id:"fd12s",payload:{type:"debug",subtype:"BssTrackerV3"}}),(0,u.ZT)();const n={uiElement:{name:"infrastructureMarker",ownerName:"map",frameUuid:t},action:"tap",payload:{infrastructureItem:{tagName:null==i?void 0:i.mainInfrastructureType},productOfferItem:a}};return(0,r.zs)(n)})):(0,u.ZT)()}))}function M(e){const t=e.isCommercial&&e.entity?(0,p.Pj)({entity:e.entity}):void 0;return(0,a._N)((e=>e.appContext.staticFrames.map.id),(s=>(0,r.zs)({uiElement:{name:"POI",ownerName:"map",frameUuid:s},action:"tap",payload:{POI:(0,w.T)(e),placeItem:t},dangerouslyForcedEventOrdinal:e.forcedEventOrdinal})))}function T({id:e,adsPriority:t}){return(0,a.gF)({mapBssUuid:e=>e.appContext.staticFrames.map.id,placeItem:t=>{const s=(0,_.nM)({state:t,entityId:e}).data;return s&&(0,p.Pj)({entity:s})}},(({mapBssUuid:e,placeItem:s})=>(0,r.GM)({uiElement:{name:"POI",ownerName:"map",frameUuid:e},payload:{POI:{adsPriority:t,adsHighlight:!0},placeItem:s},showEventKey:(0,m.by)()})))}function P(e){return(0,a._N)((e=>e.appContext.staticFrames.map.id),(t=>(0,r.zs)({uiElement:{name:"stationIcon",ownerName:"routeGeometry",frameUuid:t},action:"tap",dangerouslyForcedEventOrdinal:e.forcedEventOrdinal})))}function E(e){const{entity:t,isModel3d:s,forcedEventOrdinal:i}=e;return(0,a._N)((e=>e.appContext.staticFrames.map.id),(e=>s?t?(0,r.zs)({action:"tap",uiElement:{name:"3dModelObject",ownerName:"map",frameUuid:e},payload:{placeItem:(0,p.Pj)({entity:t})},dangerouslyForcedEventOrdinal:i}):((0,l.H)({message:"Не удалось отправить сообщение для тапа в рекламную 3d-модель на карте",level:"error",id:"m2n3j",payload:{type:"debug",subtype:"BssTrackerV3"}}),(0,u.ZT)()):(0,r.zs)({uiElement:{name:"mapObject",ownerName:"map",frameUuid:e},action:"tap",dangerouslyForcedEventOrdinal:i})))}function L(e,t){switch(t){case"filial":return"filialsList";case"firmsInBuilding":return"buildingOrgsList";default:return e.data&&e.data.type&&("offer"===e.data.type||"product"===e.data.type)?"product"===e.data.type?"productsList":"productOffersList":"searchResultsList"}}function R(){return(0,a.gF)({mapBssUuid:e=>e.appContext.staticFrames.map.id,query:e=>{const t=(0,o.t0)(e.appContext.frames,"search");return t&&t.query||""},rubric:e=>{const t=(0,o.t0)(e.appContext.frames,"search");if(t&&"query"===t.searchType)return t.tabCatalog.rubricId||(0,o.fp)(t)}},(({mapBssUuid:e,query:t,rubric:s})=>(0,r.zs)({uiElement:{name:"map",frameUuid:e},action:"dragAndDrop",payload:{searchRequest:{text:t,entities:s?[{id:s,type:"rubric"}]:[]}}})))}function z(e,t){return(0,a.gF)({mapUuid:e=>e.appContext.staticFrames.map.id,entity:s=>(0,g.Q)((0,m._J)(e.id),t.searchId)(s)},(({mapUuid:e,entity:s})=>{const i=(0,d.U)(t);if(!i||!s)return(0,l.H)({message:"Не удалось отправить сообщение для тапа СТА в карте",level:"error",id:"ksdnkd",payload:{type:"debug",subtype:"BssTrackerV3"}}),(0,u.ZT)();const a={action:"tap",uiElement:{name:"callToActionButton",ownerName:"mapMarker",frameUuid:e},payload:{callToAction:{actionType:i.type,value:i.value},placeItem:(0,p.Pj)({entity:s})}};return(0,r.zs)(a)}))}const A=(e,t)=>(0,a.gF)({mapUuid:e=>e.appContext.staticFrames.map.id,frame:e=>e.appContext.frames.find(y.l)},(({mapUuid:s,frame:i})=>{if(!i)return void(0,l.H)({message:"Не удалось затрекать клик в маркер обмена валют(a-knpw8)",level:"error",id:"a-knpw8",payload:{type:"debug",subtype:"BssTrackerV3"}});const a={uiElement:{name:"exchangeCurrencyMarker",ownerName:"exchangeCurrencyList",frameUuid:s},action:"tap",payload:{mapMarker:{scale:(0,c.Z)(e.currentType),mapLayer:"exchangeCurrencyLayer"},exchangeCurrencyList:(0,b.R)(i,t)}};return(0,r.zs)(a)})),F=({entityId:e,searchId:t})=>(0,a.gF)({mapUuid:e=>e.appContext.staticFrames.map.id,entity:s=>(0,g.Q)(e,t)(s)},(({mapUuid:e,entity:t})=>t?(0,r.GM)({uiElement:{name:"3dModelObject",ownerName:"map",frameUuid:e},payload:{placeItem:(0,p.Pj)({entity:t})},showEventKey:(0,m.by)()}):((0,l.H)({message:"Не удалось отправить сообщение для показа рекламной 3d-модели на карте",level:"error",id:"rkt44k",payload:{type:"debug",subtype:"BssTrackerV3"}}),(0,u.ZT)())))},75884:(e,t,s)=>{"use strict";s.d(t,{S:()=>m});var r=s(52322),i=s(2784),a=s(87599),n=s(49793),o=s(85843),c=s(27903),d=s(20094),l=s(66369),u=s(6801),p=s(98584),g=s(16286);const m=(0,i.memo)((e=>{const{labelLines:t,dbgSize:s}=e,{css:c,s:d}=(0,u.y)(h),l=(0,i.useMemo)((()=>(e,t)=>{if(t)return(0,r.jsx)("span",Object.assign({className:c(d.workingTime),style:{color:t}},{children:e}),"workingTime")}),[c,d.workingTime]),p=(0,i.useMemo)((()=>e=>(0,r.jsxs)("span",{children:[(0,r.jsx)("div",Object.assign({className:c(d.ratingStar)},{children:(0,r.jsx)(a.U,{color:"#666",size:12})})),(0,r.jsx)("div",Object.assign({className:c(d.rating)},{children:e}))]},"rating")),[]),g=(0,i.useMemo)((()=>e=>(0,r.jsx)("span",Object.assign({"data-isctabutton":!0,className:c(d.ctaButtonContainer)},{children:e.href?(0,r.jsx)("a",Object.assign({href:e.href,target:"_blank",className:c(d.ctaButton)},{children:e.text})):(0,r.jsx)("span",Object.assign({className:c(d.ctaButton)},{children:e.text}))}),"actionButton")),[]),m=(0,i.useMemo)((()=>(e,s)=>{const{type:i,text:a,color:n}=e;switch(i){case"name":return(0,r.jsx)("span",Object.assign({className:c(d.title)},{children:a}),"name");case"adsText":return(0,r.jsx)("span",Object.assign({className:c(d.ads)},{children:a}),"adsText");case"rating":return p(a);case"stopFactor":return(0,r.jsx)("span",Object.assign({className:c(d.stopFactor)},{children:a}),s);case"workingTime":return l(a,n);case"link":case"order":return g(e);case"exchange":return(0,r.jsx)("span",Object.assign({className:c(d.exchange,1===t.length&&d.__onlyExchange)},o.dx.n("wat-exchange-rate-in-marker"),{children:a}),"exchange")}}),[g,p,l]),f=(0,i.useMemo)((()=>(e,t)=>{if(e[0])return"rating"===e[0].type||"stopFactor"===e[0].type?(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)("span",Object.assign({className:c(d.stopFactorsLine),"data-ismarkerlabel":!0},{children:(0,r.jsx)(n.v,Object.assign({inline:!0,styles:d.labelKebab,dotTheme:"dark"},{children:e.map(m)}))})),(0,r.jsx)("br",{})]},t):(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)("span",{children:e.map(m)},t),(0,r.jsx)("br",{})]},t)}),[m]);return t.length?(0,r.jsx)("div",Object.assign({className:c(d.wrapper,s&&d._dbgSelfOverlay)},o.dx.n("wat-marker-label"),{children:(0,r.jsxs)("span",Object.assign({className:c(d.container)},{children:[t.map(f),s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",Object.assign({className:c(d.dbgSizes)},{children:`${s.width}/${s.height}`})),(0,r.jsx)("span",{className:c(d._dbgSizeOverlay),style:{width:s.width,height:s.height}})]})]}))})):null})),h=(0,u.k)({wrapper:Object.assign(Object.assign({maxWidth:c.d,userSelect:"none"},g.LR),{fontFamily:"SBSansText, Helvetica, Arial, sans-serif",textShadow:"-1px -1px 0 #ffffff66, 1px -1px 0 #ffffff66, -1px 1px 0 #ffffff66, 1px 1px 0 #ffffff66",color:p.O.gray_4d4d4d,cursor:"pointer",position:"relative"}),_dbgSelfOverlay:{background:(0,d.j)(p.O.green_299400,.2)},_dbgSizeOverlay:{background:(0,d.j)("#94002a",.2),position:"absolute",top:0,left:0,pointerEvents:"none"},container:{pointerEvents:"auto"},title:Object.assign({color:"#262626"},g.bI),ads:{marginTop:2},stopFactorsLine:Object.assign({marginTop:2,color:"#555"},g.LR),labelKebab:{display:"inline"},ratingStar:{display:"inline-flex",verticalAlign:"top",stroke:"#ffffffee"},rating:Object.assign({display:"inline-flex",padding:"0 1px"},g.LR),stopFactor:Object.assign({padding:"0 1px"},g.LR),workingTime:Object.assign({marginTop:2},g.LR),dbgSizes:Object.assign(Object.assign({position:"absolute",color:p.O.red_fe5000,bottom:0,right:0},g.q9),{pointerEvents:"none"}),ctaButtonContainer:{paddingTop:2,display:"inline-block"},ctaButton:Object.assign(Object.assign({height:20,borderRadius:l.E.minicard,color:p.O.blue_0072ce,background:(0,d.j)(p.O.white,.8),padding:"4px 8px",boxSizing:"border-box",display:"inline-block"},g.q9),{":hover":{background:p.O.white,color:p.O.blue_028eff}}),exchange:Object.assign({marginTop:2},g.bI),__onlyExchange:{marginTop:0,color:"#262626"}})},2421:(e,t,s)=>{"use strict";s.d(t,{l:()=>f,$:()=>v});var r=s(74583),i=s(57695),a=s(67753),n=s(36180),o=s(354),c=s(42313),d=s(65649),l=s(24364),u=s(64693);const p=(0,a.gQ)("searchMarkersWithViewpoint",(e=>(0,o.gF)({viewpoint:c.Id,mapSize:c.hC,locale:d.O,currentMarkers:t=>{var s;return null===(s=t.data.search.markers[e.searchId])||void 0===s?void 0:s.data},geolocationPosition:e=>e.session.geolocation.position,zoom:e=>e.appContext.zoom},(({viewpoint:t,mapSize:s,locale:r,currentMarkers:i,geolocationPosition:n})=>(0,a.WC)((0,l.C)({query:e.query,attrId:e.attrId,rubrId:e.rubricId,buildingId:e.buildingId,orgId:e.orgId,searchId:e.searchId,filters:e.filters||{},adsIds:e.adsIds,sortPoint:n,viewpoint:e.isViewportChanged?t:e.viewpoint||t,isViewportChanged:!!e.isViewportChanged,mapSize:s,locale:r,markersWithLogoIds:i&&200===i.code?i.items.reduce(((e,t)=>{var s,r;return(null===(r=null===(s=t.ads)||void 0===s?void 0:s.options)||void 0===r?void 0:r.marker_logo)&&e.push((0,u._J)(t.id)),e}),[]):[]}))))));var g=s(52261),m=s(56104),h=s(66471);const f=e=>v(e),v=e=>(0,a.xJ)((t=>{h.a.startTracker();const{update:s,isViewportChanged:i}=e||{},n=(0,r.m)(t);if(!n)return(0,a.ZT)();return"query"===n.searchType&&"catalog"===n.tab||"filials"===n.searchType||"inbuilding"===n.searchType||"buyHere"===n.searchType||"fmcg"===n.searchType?(0,a.vP)(b(),y({update:s,isViewportChanged:i})):(0,a.ZT)()})),b=(0,a.gQ)("updateCatalogMarkersId",(()=>(0,o.gF)({frame:r.m,markersId:c.xl},(({frame:e,markersId:t})=>e&&!t?(0,m.PP)({frameId:e.id,markersId:(0,u.by)()}):(0,a.ZT)())))),y=(0,a.gQ)("fetchCatalogMarkersIfNecessary",(({update:e,isViewportChanged:t})=>(0,a.xJ)((s=>{const o=(0,r.m)(s),d=(0,c.xl)(s);if(!o||!d)return(0,a.ZT)();const l=!!(0,i.Aw)({state:s,searchId:d});if(!e&&l)return(0,a.ZT)();let u;if("query"===o.searchType){const e=o.tabCatalog.rubricId||o.tabCatalog.attributeId?void 0:o.query;u={searchId:d,attrId:o.tabCatalog.attributeId,filters:(0,g.Q)(o),isViewportChanged:t,query:e,rubricId:o.tabCatalog.rubricId,viewpoint:(0,n.v)(o)}}return"filials"===o.searchType&&(u={searchId:d,filters:(0,g.Q)(o),isViewportChanged:t,orgId:o.orgId,viewpoint:void 0}),"inbuilding"===o.searchType&&o.query&&(u={searchId:d,filters:(0,g.Q)(o),isViewportChanged:t,query:o.query,rubricId:o.rubricId,buildingId:o.originalSearchId?void 0:o.buildingId,viewpoint:void 0}),"buyHere"!==o.searchType&&"fmcg"!==o.searchType||(u={query:o.query,searchId:d,viewpoint:void 0,isViewportChanged:t,adsIds:o.adsIds,filters:(0,g.Q)(o)}),u?p(u):(0,a.ZT)()}))))},74583:(e,t,s)=>{"use strict";s.d(t,{m:()=>i});var r=s(10484);function i(e){const t=(0,r.Di)(e.appContext.frames);if(t)return t}},39911:(e,t,s)=>{"use strict";s.d(t,{t:()=>o});var r=s(60233),i=s(70021),a=s(18610);const n=(0,i.T3)();function o({state:e}){const t=(0,a.I)({state:e});if(!t)return;const{entityId:s,searchId:i}=(0,r.G)(t,e);return s?n({state:e,entityId:s,searchId:i}):void 0}},18610:(e,t,s)=>{"use strict";s.d(t,{I:()=>a});var r=s(60786),i=s(10484);const a=(0,r.P1)([({state:e})=>e.appContext.frames],(e=>(0,i.WZ)(e,["search","entity","pending","product","prices","realty","realtyCard"])))},34118:(e,t,s)=>{"use strict";s.d(t,{N:()=>i});var r=s(62294);function i(e){if(!e||!e.type)return"other";switch(e.type){case"crash":return"crash";case"camera":return(0,r.y)(e);case"roadwork":return"roadwork";case"restriction":return"closure";case"comment":return"chat"}return"other"}},62294:(e,t,s)=>{"use strict";s.d(t,{y:()=>i});var r=s(8301);const i=e=>{var t,s;const i=null===(t=e.data)||void 0===t?void 0:t.violation;if(!i)return"camera";if(i.includes(1)||i.includes(9)){const t=null===(s=e.data)||void 0===s?void 0:s.speed,i=`camera-${t}`;return t&&r.m.includes(i)?i:"camera"}return i.includes(10)?"camera-parking":i.includes(11)?"camera-line":i.includes(4)?"camera-bus":i.includes(2)?"camera-tl":"camera"}},29299:(e,t,s)=>{"use strict";function r(e){let t;if("3d"===e)t=s.e(1411).then(s.bind(s,29209));else t=s.e(4895).then(s.bind(s,2937));return t.then((e=>{"get3dMap"in e&&e.get3dMap?e.get3dMap().then(n):n(void 0)})),t}function i(e,t,s,i){return r(i).then((r=>r.init(e,t,s)))}function a(e,t){return r(t).then((t=>t.update(e)))}let n;s.d(t,{ay:()=>r,mA:()=>c,sA:()=>a,y9:()=>i});const o=new Promise((e=>{n=e}));function c(){return o}},38859:(e,t,s)=>{"use strict";s.d(t,{p:()=>a});var r=s(67753),i=s(11251);const a=(0,r.gQ)("killTooltips",(()=>(0,r.XJ)((0,r.PQ)((()=>i.M.set((()=>{})))))))},24864:(e,t,s)=>{"use strict";s.d(t,{t:()=>h});var r=s(67753),i=s(42313),a=s(89594),n=s(10484),o=s(82567),c=s(57695),d=s(63605),l=s(52261),u=s(354),p=s(92682);var g=s(2421),m=s(86590);const h=(0,r.gQ)("refreshSearchResults",(({prevZoom:e,afterMapViewChange:t})=>(0,u._N)((e=>function(e){const t=e[e.length-1];if(t&&"search"===t.type)switch(t.searchType){case"query":case"fmcg":case"buyHere":case"filials":case"inbuilding":return t;default:return}}(e.appContext.frames)),(s=>s?f({frame:s,prevZoom:e,afterMapViewChange:t}):(0,r.ZT)())))),f=(0,r.gQ)("refreshCatalogSearchResults",(({prevZoom:e,frame:t,afterMapViewChange:s})=>(0,r.xJ)((h=>{var f;const v=(0,n.QB)(t),b=(0,c.rO)({state:h,searchId:v}).data,y=(0,l.Q)(t),x=(0,i.Id)(h),j="filials"===t.searchType,{center:w,zoom:_,pitch:C,rotation:I}=h.appContext,{screen:k}=h.session,O=(0,i.v9)(h),S=(0,d.Lc)({dragBound:b&&b.searchAttributes&&b.searchAttributes.drag_bound,center:w,zoom:_,screen:k,offset:O,pitch:C,rotation:I}),N=(0,d.vI)({zoomInBound:null===(f=null==b?void 0:b.searchAttributes)||void 0===f?void 0:f.zoomin_bound,viewpoint:x}),M=(0,d.hy)({isDragboundOut:S,isZoomInBoundOut:N,isFilialsResults:j,isBuyHereResult:"buyHere"===t.searchType||"fmcg"===t.searchType,zoom:_,prevZoom:e,filterValues:y}),T=(0,d.sT)({updateSearchAndMarkers:M,isFilialsResults:j,zoom:_,prevZoom:e}),P=s&&T;switch(t.searchType){case"query":if(T)return(0,r.vP)(P&&(0,p.W5)(),(0,u.zh)((e=>(0,a.Qp)({frameId:t.id,rubricId:t.tabCatalog.rubricId,filterValues:y||{},parentSearchId:(0,n.vr)(t),filtersId:(0,o.p)(t),isViewportChanged:!0,query:t.query,preserveMarkers:!1,searchId:v,viewpoint:e}))));break;case"filials":if(T)return(0,r.vP)(P&&(0,p.W5)(),(0,a.tE)({frameId:t.id,filterValues:y||{},isViewportChanged:!0,filtersId:(0,o.p)(t),orgId:t.orgId}));break;case"buyHere":case"fmcg":if(T)return(0,r.vP)(P&&(0,p.W5)(),(0,m.K)({frame:t,filterValues:(0,l.Q)(t),isViewportChanged:!0}))}return(0,g.l)({update:!0,isViewportChanged:!0})}))))},29475:(e,t,s)=>{"use strict";s.d(t,{b:()=>N});var r=s(22970);const i=(0,s(12563).createModel)("exchangeMarkers",(({services:e},t)=>({fetch(){return(0,r.mG)(this,void 0,void 0,(function*(){return yield e.marketApi.getExchangeMarkers(Object.assign({},t))}))}})),(({fetch:e})=>(e(),({clearData:e})=>{e()})));var a=s(27215),n=s(42313),o=s(69698),c=s(65649),d=s(61423),l=s(2784),u=s(52322),p=s(31303),g=s(48090),m=s(75884),h=s(58485);const f=`${s(94958).E8}/ `;var v=s(35213),b=s(39013),y=s(13333),x=s(63655);const j=e=>{const{marker:t,labelLines:s,frame:r,currency:i,time:a,tp:n,is12h:o}=e,{name_ex:c,reviews:d}=t.data.branch;if(s.length)return s.reduce(((e,s)=>{var l;switch(s){case"name":{const t=null==c?void 0:c.primary;return t&&e.push([{type:"name",text:t}]),e}case"rating":{const s=null===(l=null==d?void 0:d.general_rating)||void 0===l?void 0:l.toString(),r=(e=>{const{marker:t,tp:s,time:r,is12h:i}=e,{timezone_offset:a,schedule:n}=t.data.branch;if(void 0===a||!n)return;const o=(0,x.t)(r,a),c=(0,b.Vi)(n,!1,o,s,i),d=(0,v.S)(n,o);return c?{text:c,color:(0,y.S)(d),type:"workingTime"}:void 0})({marker:t,time:a,tp:n,is12h:o}),i=[];return s&&i.push({type:"rating",text:s}),r&&i.push(r),e.push(i),e}case"rates":{const s=(0,h.S)({frame:r,data:t.data,short:!0}),a=(e=>{const{tp:t,values:s,symbol:r}=e;return null==s?void 0:s.map((e=>t._gg("%1&nbsp;%2",[e.value,r]))).join(f)})({symbol:i.symbol||i.code,tp:n,values:s});return e.push([{type:"exchange",text:a}]),e}default:return e}}),[])},w={offset:[14,-7]};function _(e){const{marker:t,tp:s,currency:r,labelLines:i,frame:a,is12h:n}=e,o=function(e){const t=j(e);if(!t)return;const s=(0,p.D)(t),r=!!(null===window||void 0===window?void 0:window.debugMap);return{content:(0,g.renderToStaticMarkup)((0,u.jsx)(m.S,{labelLines:t,dbgSize:r?s:void 0})),width:s.width,height:s.height,offset:w.offset}}({marker:t,tp:s,currency:r,labelLines:i,frame:a,time:Date.now(),is12h:n});return Object.assign(Object.assign({},t),{htmlLabel:o})}var C=s(42858),I=s(6340),k=s(874),O=s(29542),S=s(21683);function N(){const e=(0,a.v9)(c.O),t=(0,a.v9)((e=>e.appContext.frames.find(d.l))),s=(0,C.T)(),r=(0,a.v9)(n.Id),u=(0,a.v9)((e=>e.appContext.zoom)),p=(0,a.v9)((e=>e.appContext.center)),g=(0,a.v9)((e=>(0,S.k)({state:e}))),m=(0,l.useMemo)((()=>r),[u,p]),{is12h:h}=(0,I.Z)(),f=(0,o.tT)(t?i({viewpoint:m,locale:e,action:t.action,volume:t.volume,currency:t.currencyCode}):void 0);return(0,l.useMemo)((()=>{if(!(null==f?void 0:f.data)||!t)return{markersData:void 0,isPending:null==f?void 0:f.isPending,error:null==f?void 0:f.error};const{items:e,national_currency:r}=f.data;return{markersData:e.reduce(((e,i,a)=>{const n=i.branch.id,o=Object.assign(Object.assign({},i),{source:"exchange"}),c=_({marker:{key:n,id:n,lonLat:[i.lon,i.lat],type:"bigbullet",data:o,icon:(0,O.M)(g.styles.exchange.icons,i.benefit,"hover")},currency:r,tp:s,labelLines:T({zoom:u}),frame:t,is12h:h});return e.hashMap[n]=a,e.markers.push(c),e}),{hashMap:{},markers:[]}),isPending:null==f?void 0:f.isPending,error:null==f?void 0:f.error}}),[f.data,t])}const M=[{zoom:15,lines:["name","rating","rates"]},{zoom:12,lines:["name","rates"]},{zoom:9,lines:["rates"]},{zoom:1,lines:k.LZ}];function T(e){const{zoom:t}=e,s=M.find((e=>t>=e.zoom));return void 0!==s?s.lines:k.LZ}},63605:(e,t,s)=>{"use strict";s.d(t,{DT:()=>f,r1:()=>h,Lc:()=>p,vI:()=>v,sT:()=>m,hy:()=>g});var r=s(66842),i=s(49013),a=s(28167),n=s(64693),o=s(93011),c=s(56900),d=s(41462);const l=11;function u(e,t){return Math.floor(e)!==Math.floor(t)}function p(e){const{dragBound:t,center:s,zoom:a,screen:n,offset:o,pitch:c,rotation:d}=e;if(!t)return!0;const l=(0,i.o)(n,o),u=(0,r.Dd)({center:s,zoom:a,mapSize:l,pitch:c,rotation:d});return p=u,g=t.map((e=>[e.longitude,e.latitude])),!!p.find((e=>!function(e,t){const s=e[0],r=e[1];let i=!1;for(let e=0,a=t.length-1;e<t.length;a=e++){const n=t[e][0],o=t[e][1],c=t[a][0],d=t[a][1];o>r!=d>r&&s<(c-n)*(r-o)/(d-o)+n&&(i=!i)}return i}(e,g)));var p,g}function g(e){const{filterValues:t,isFilialsResults:s,isBuyHereResult:r,isDragboundOut:i,isZoomInBoundOut:n,prevZoom:o,zoom:c}=e;return!(!t||"true"!==t.bound)||!s&&!r&&(!!i||(!(!u(o,c)||!(0,a.e)(o))||!!n))}function m(e){const{updateSearchAndMarkers:t,isFilialsResults:s,zoom:r,prevZoom:i}=e;return!!t||!s&&(!!u(i,r)&&Math.min(r,i)<=l)}function h(e){return"marker"===e.origin&&e.marker?e.marker&&e.marker.data&&"market"===e.marker.data.source?e.marker.data.branch_id:e.marker&&e.marker.data&&"favorites"===e.marker.data.source?e.marker.data.entityId?e.marker.data.entityId:void 0:(0,n._J)(e.marker.id):"poi"===e.origin?e.target.id:void 0}function f(e,t,s,r){const{floorNames:i,firmsToFloorIndexMap:a,currentFloor:n}=e;if(void 0!==t&&!t.floorsId&&void 0!==t.currentFloor&&e.floorNames[t.currentFloor])return t.currentFloor;const d=s?a[s.entityId]:void 0;if(void 0!==d)return d;if(void 0===n){const e=(0,c.e)({floorNames:i,firmsToFloorIndexMap:a},r),t=e&&(0,o.M)(e);if(void 0!==t)return t}return n}function v(e){const{viewpoint:t,zoomInBound:s}=e,[r,i]=t;if(void 0===s)return!1;if(0===s)return!0;const a={lon:i.lon,lat:r.lat},n=(0,d.c)(r,a),o=(0,d.c)(a,i);return Math.max(n,o)<s}},91736:(e,t,s)=>{"use strict";function r(e){return e.match(/^(personal)(?:_|$)/)}s.d(t,{l:()=>r})},50237:(e,t,s)=>{"use strict";s.d(t,{I:()=>n});var r=s(67753),i=s(64693),a=s(33451);const n=(0,r.gQ)("openAgreementPopup",(e=>(0,a.Mw)({id:(0,i.by)(),type:"personalDataAgreement",withDecline:e})))},48688:(e,t,s)=>{"use strict";s.d(t,{Df:()=>o,Gk:()=>l,Lm:()=>a,PI:()=>d,mH:()=>c,qL:()=>i,yT:()=>n});var r=s(58666);const i=e=>({frameId:t})=>({uiElement:{name:e?"editPhoneNumber":"addPhoneNumber",ownerName:"profileSettingsFrame",frameUuid:t},action:"tap"}),a=()=>({frameId:e})=>({uiElement:{name:"confirmPhoneNumber",ownerName:"profileSettingsFrame",frameUuid:e},action:"tap"}),n=e=>({frameId:t})=>({uiElement:{name:"phoneExistsError",ownerName:"profile"===e?"profileSettingsFrame":"phoneVerificationFrame",frameUuid:t}}),o=()=>({frameId:e},t)=>(0,r.xl)({state:t,name:"phoneConfirmationFrame",uuid:e}),c=()=>({frameId:e})=>({uiElement:{name:"sendAgainButton",ownerName:"phoneConfirmationFrame",frameUuid:e},action:"tap"}),d=e=>({uiElement:{name:"sendConfirm",ownerName:"phoneConfirmationFrame",frameUuid:e},action:"tap"}),l=()=>({frameId:e})=>({uiElement:{name:"phoneConfirmationFrame",frameUuid:e},action:"close"})},74234:(e,t,s)=>{"use strict";s.d(t,{V:()=>n});var r=s(67753),i=s(64693),a=s(33451);const n=(0,r.gQ)("openPhoneConfirmationPopup",(({phone:e,withDecline:t,source:s,error:n})=>e?(0,a.Mw)({id:(0,i.by)(),type:"phoneConfirmationPopup",phone:e,withDecline:t,source:s,error:n}):(0,r.ZT)()))},36149:(e,t,s)=>{"use strict";s.d(t,{s:()=>w});var r=s(52322),i=s(98584),a=s(6340),n=s(54974),o=s(6801),c=s(86687),d=s(14707),l=s(66908),u=s(85843),p=s(2784),g=s(27215),m=s(42858),h=s(51203),f=s(52728),v=s(63993),b=s(48688),y=s(28217),x=s(12543),j=s(37147);const w=(0,p.memo)((({phone:e,phoneCode:t,isConfirmed:s,onChange:v,onSubmit:w,source:C,autofocus:I,showConfirm:k,hasPhone:O})=>{const{_t:S}=(0,m.T)(),{css:N,s:M}=(0,o.y)(_),T=(0,g.I0)(),{useBssHandler:P}=(0,l.T)(),{bssRef:E}=(0,l.T)((0,b.yT)(C)),L=P(b.qL,!!e&&s),R=P(b.Lm),{featurePhone:z,countryPhoneCode:A}=(0,a.Z)(),F=(0,p.useRef)(null),B=t||A,Z=(0,g.v9)((e=>e.appContext.weak.phoneError)),U=(0,g.v9)((e=>{var t,s;return"loading"===(null===(s=null===(t=e.data.user.phone)||void 0===t?void 0:t[j.F])||void 0===s?void 0:s.status)})),[H,D]=(0,p.useState)((()=>(0,x.CN)(e,A))),[$,V]=(0,p.useState)(!1),q=!!e&&!s,G=!!H&&!(0,x.JY)(H),W=q&&k||G||!!Z;(0,p.useEffect)((()=>()=>{T((0,y.g$)())}),[]);const Q=(0,p.useCallback)((()=>{V(!0)}),[]),K=(0,n.$)((()=>{"profile"===C&&L()})),J=(0,n.$)((()=>{V(!1)})),Y=(0,n.$)((()=>{U||(R(),T((0,y.nn)({phone:H,source:C})))})),X=(0,n.$)((e=>{13===e.keyCode&&(0,x.JY)(H)&&w&&(e.preventDefault(),w())})),ee=(0,n.$)((e=>{D(e),(0,x.JY)(e)?v(e):v(""),Z&&T((0,y.g$)())})),te=(0,p.useRef)(0),se=(0,p.useCallback)((e=>(setTimeout((()=>{if(!F.current||e===H)return;const t=F.current.selectionStart||0,s=(0,x.nI)({currentPosition:t,previousPosition:te.current,newValue:e,oldValue:H});F.current.setSelectionRange(s,s),te.current=s})),e)),[H]),re=(0,p.useCallback)((e=>(0,x.CN)(e,A)),[A]);return z||O?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.f,{label:S("Телефон"),hasLabel:!0,input:(0,r.jsx)(d.V,Object.assign({accept:/[\d\s/+]+/g,format:re,onChange:ee,value:H,replace:se},{children:({value:e,onChange:t})=>(0,r.jsx)("input",Object.assign({ref:F,className:N(M.input),type:"tel",autoComplete:"tel",placeholder:B,value:e,onChange:t,onFocus:Q,onBlur:J,onKeyDown:X,onClick:K,autoFocus:I},u.dx.n("wat-phone-input")))})),error:!$&&W,focused:$,renderOutside:()=>e&&(0,x.JY)(e)&&k?q?(0,r.jsx)(c.Z,Object.assign({styles:$?M.appendixFocused:M.appendixError,onClick:Y},{children:S("Подтвердить")})):(0,r.jsx)("span",Object.assign({className:N(M.appendix,$&&M.appendixFocused)},{children:(0,r.jsx)(h.J,{color:i.O.gray_e6e6e6})})):null}),W&&(0,r.jsx)("div",Object.assign({className:N(M.errorMessage)},{children:"EntityExists"===Z?(0,r.jsx)("div",Object.assign({ref:E},{children:S("Этот номер привязан к другому аккаунту. Воспользуйтесь вторым аккаунтом или привяжите другой номер")})):"ValueIsNotValid"===Z?S("Неправильный номер телефона"):Z?S("Что-то пошло не так, попробуйте позже"):G&&!$?S("Указан неполный номер телефона"):q?S("Телефон не подтверждён"):""}))]}):null}));w.displayName="PhoneInput";const _=(0,o.k)({input:Object.assign(Object.assign({color:i.O.gray_262626,border:"none",display:"block",width:"100%",outline:"none",padding:0,resize:"vertical",backgroundColor:"initial"},v.qH),{"::placeholder":{color:i.O.gray_929292}}),appendix:{display:"flex",alignItems:"center",borderBottom:`1px solid ${i.O.gray_e6e6e6}`},appendixError:{borderBottom:`1px solid ${i.O.red_fe5000}`},appendixFocused:{borderBottom:`1px solid ${i.O.blue_0072ce}`},errorMessage:Object.assign(Object.assign({},v.yG),{color:i.O.red_fe5000,paddingTop:6})})},28217:(e,t,s)=>{"use strict";s.d(t,{fy:()=>j,g$:()=>w,ho:()=>b,hx:()=>x,nn:()=>y});var r=s(10694),i=s(32712),a=s(45051),n=s(67753),o=s(64693),c=s(55476),d=s(25696),l=s(33451),u=s(56104),p=s(26287),g=s(354),m=s(48688),h=s(74234),f=s(12543),v=s(6786);const b=(0,n.gQ)("requestCode",((e,t)=>(0,g.gF)({projectId:p.yH,userId:e=>{var t;return null===(t=(0,c.bG)(e).data)||void 0===t?void 0:t.user_id}},(({projectId:s,userId:r})=>r?(0,n.Rh)((({authClientId:i})=>(0,v.$)({phone:(0,f.Wr)(e),segmentId:s||"65573",userId:r,statusId:t,authClientId:i}))):(0,n.ZT)())))),y=(0,n.gQ)("tryConfirmPhone",(({phone:e,withDecline:t,source:s})=>{const i=(0,o.by)();return(0,n.vP)(b((0,f.Wr)(e),i),(0,r.$c)(i,(r=>(0,d.d)(r)?(0,h.V)({phone:e,withDecline:!!t,source:s}):(0,u.yy)({phoneError:(null==r?void 0:r.meta).error.message}))))})),x=(0,n.gQ)("confirmPhone",(({phone:e,confirmationCode:t,withDecline:s,source:c})=>{const l=(0,o.by)();return(0,n.vP)((0,n.Rh)((({authClientId:s})=>(0,v.h)({phone:(0,f.Wr)(e),confirmationCode:t,statusId:l,authClientId:s}))),(0,r.$c)(l,(t=>(0,d.d)(t)?(0,n.vP)((0,a.m)({}),(0,g._N)((e=>{var t;return null===(t=e.appContext.popup)||void 0===t?void 0:t.id}),(e=>e?(0,i.zs)((0,m.PI)(e)):(0,n.ZT)())),j(c,!0)):(0,h.V)({phone:e,withDecline:s,source:c,error:(null==t?void 0:t.meta).error.message}))))})),j=(0,n.gQ)("closeConfirmationPopup",((e,t)=>(0,n.vP)((0,l.j4)(),(0,f.OW)(e,t)))),w=()=>(0,u.yy)({phoneError:""})},12543:(e,t,s)=>{"use strict";s.d(t,{F9:()=>M,CN:()=>C,OW:()=>S,KY:()=>T,ZQ:()=>E,nI:()=>P,j1:()=>k,lS:()=>O,qF:()=>L,X1:()=>N,JY:()=>v,Wr:()=>I});var r=s(75754),i=s(67753),a=s(76171),n=s(36928),o=s(33021),c=s(7763);const d=(0,i.gQ)("returnToPhoneLawPopup",(e=>e?(0,r.C)(!0):(0,o.p)())),l=(0,i.gQ)("returnToPhoneAddPopup",(e=>e?(0,c.$0)((({tp:e})=>(0,a.c)((0,n.V)({title:e._gg("Готово!"),message:e._gg("Теперь вы можете использовать номер телефона для входа в 2ГИС.")})))):(0,o.i)()));var u=s(78728);const p=10,g=20,m="+7",h="8",f={russia:"7",belarus:"375",ukrain:"380",kyrgyz:"996",uzbek:"998",azer:"994",arab:"971"};function v(e){const t=I(e),s=t.length;return t.startsWith(f.russia)||t.startsWith(h)||t.startsWith(f.kyrgyz)?11===s:t.startsWith(f.belarus)||t.startsWith(f.ukrain)||t.startsWith(f.uzbek)||t.startsWith(f.azer)?12===s:t.startsWith(f.arab)?12===s||11===s:p<=t.length&&t.length<=g}const b=/(\d{0,1})(\d{0,3})(\d{0,3})(\d{0,2})(\d{0,2})/,y=/(\d{0,3})(\d{0,2})(\d{0,3})(\d{0,2})(\d{0,2})/,x=/(\d{0,3})(\d{0,3})(\d{0,2})(\d{0,2})(\d{0,2})/,j=/(\d{0,3})(\d{0,1})(\d{0,7})/,w=/(\d{0,3})(\d{0,9})/,_=/(\d{0,3})(\d{0,3})(\d{0,3})(\d{0,3})(\d{0,3})(\d{0,3})(\d{0,2})/;function C(e,t){var s;const r=I(e),i="+"===e[0],a=function(e,t){if(e.startsWith(f.russia)||e.startsWith(h)&&!t)return b;if(e.startsWith(f.belarus)||e.startsWith(f.ukrain)||e.startsWith(f.uzbek)||e.startsWith(f.azer))return y;if(e.startsWith(f.kyrgyz))return x;if(e.startsWith(f.arab))return 12===e.length?w:j;return _}(r,i),n=null===(s=a.exec(r))||void 0===s?void 0:s.slice(1);if(!n)return e;const o=n.join(" ").trim();return v(o)&&!i?t===m&&o.startsWith(h)?m+o.slice(1,o.length):"+"+o:i?"+"+o:o}function I(e){return e.replace(/\D/g,"")}function k(e){const t=e.previousSibling;t&&t.focus()}function O(e){const t=e.nextSibling;t&&t.focus()}function S(e,t){switch(e){case"profile":return(0,u.Z)();case"law":return d(t);case"add":return l(t)}}function N(e){const t=parseInt(e);return 0<=t&&t<=9}const M="ConfirmationAttemptsExceeded";function T(e,t){switch(e){case"ConfirmationCodeIsNotValid":return t("Неверный код");case M:return t("Упс, вы ввели неверный код несколько раз подряд. Попробуйте ещё разок через несколько часов — верим, всё получится!");case"SMSLimitExceeded":return t("Дождитесь SMS с кодом подтверждения. Если код не приходит, запросите его ещё раз через несколько часов");default:return t("Что-то пошло не так, попробуйте позже")}}function P({currentPosition:e,previousPosition:t,newValue:s,oldValue:r}){return" "===s[e]?r.length?e+2:e+1:0===e&&s.startsWith("+")&&!r.startsWith("+")?t?t+3:2:e}function E(e){return((null==e?void 0:e.phone_code)||"")+((null==e?void 0:e.phone_number)||"")}function L(e){return e.join("").length===e.length}},33021:(e,t,s)=>{"use strict";s.d(t,{i:()=>o,p:()=>n});var r=s(67753),i=s(64693),a=s(33451);const n=(0,r.gQ)("openPhoneLawPopup",(()=>(0,a.Mw)({id:(0,i.by)(),type:"phonePopup",subtype:"law"}))),o=(0,r.gQ)("openPhoneAddPopup",(()=>(0,a.Mw)({id:(0,i.by)(),type:"phonePopup",subtype:"add"})))},95328:(e,t,s)=>{"use strict";s.d(t,{W:()=>c});var r=s(95359),i=s(67753),a=s(874),n=s(69088),o=s(64693);const c=(0,i.gQ)("openPoint",(e=>{const{point:t,shouldCenterMap:s}=e;return(0,i.vP)((0,r.Jt)({id:(0,o.by)(),type:"entity",entityId:a.k8,entityType:"point",point:e.point,searchId:"",gtaId:""}),s?(0,n.Nr)({lon:t.lon,lat:t.lat,zoom:16}):(0,i.ZT)())}))},75310:(e,t,s)=>{"use strict";s.d(t,{G:()=>$s,S:()=>b});var r=s(52322),i=s(2784),a=s(18586);const n=(0,a.X1)((e=>({popup:e.appContext.popup})));var o=s(33451);const c=(0,a.Z3)((e=>({closePopup(){e((0,o.j4)())}})));var d=s(68879),l=s(4125),u=s(19981),p=s(2933),g=s(67848);const m=e=>(0,r.jsx)(u.E,{loader:p.H.feedback,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:g.Q});var h=s(20094),f=s(98584);class v extends i.PureComponent{constructor(){super(...arguments),this.handleContentClick=e=>{e.stopPropagation()}}render(){const{children:e,isDark:t,onClick:s,s:i,contentStyles:a}=this.props;return(0,r.jsx)("div",Object.assign({className:(0,d.iv)(i.overlay,t&&i._dark),onClick:s},{children:(0,r.jsx)("div",Object.assign({className:(0,d.iv)(i.content,a),onClick:this.handleContentClick},{children:e}))}))}}v.displayName=(0,l.I)("src/modules/popup/components/wrapper");const b=(0,d.D2)((e=>({overlay:{background:(0,h.j)(f.O.black,.6),boxSizing:"border-box",padding:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},_dark:{background:(0,h.j)(f.O.black,.8)},content:{flex:"1 0 auto",display:"flex",justifyContent:"center",width:e.mobile?"100%":"initial"}})))(v),y=()=>(0,r.jsx)(u.E,{loader:p.H.photoUploader,render:e=>(0,r.jsx)(e,{}),renderPlaceholder:g.Q}),x=e=>(0,r.jsx)(u.E,{loader:p.H.writeReview,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:g.Q}),j=e=>(0,r.jsx)(u.E,{loader:p.H.typedFeedback,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:g.Q});var w=s(82584);const _=e=>(0,r.jsx)(u.E,{loader:p.H.editFavorite,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:g.Q});var C=s(74223);const I=e=>(0,r.jsx)(u.E,{loader:p.H.entityVideoPopup,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>(0,r.jsx)(g.w,{asyncStatus:e})}),k=e=>(0,r.jsx)(u.E,{loader:p.H.sharing,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:g.Q});var O=s(33511),S=s(22970),N=s(1950),M=s(76912),T=s(86281),P=s(90198),E=s(67753),L=s(354),R=s(71630),z=s(65649),A=s(64693),F=s(55476),B=s(10484),Z=s(45051);const U=(0,E.gQ)("updateInfo",(e=>(0,L.gF)({locale:e=>(0,z.O)(e),userInfo:e=>(0,F.bG)(e),frame:e=>(0,B.t0)(e.appContext.frames,"userProfile")},(({userInfo:t,frame:s})=>{if(!t||!t.data)return(0,E.ZT)();if(!s)return(0,E.ZT)();const{first_name:r,middle_name:i,last_name:a,public_identity_accepted:n}=e,c=r!==t.data.first_name,d=i!==t.data.middle_name,l=a!==t.data.last_name,u=n!==t.data.public_identity_accepted,p=(0,A.by)();return(0,E.vP)((0,E.Mf)((c||l||d||u)&&(0,R.gS)({userInfo:{first_name:r,last_name:a,middle_name:i,public_identity_accepted:n},statusId:p}),(0,o.j4)()),(0,Z.m)({}))}))));var H=s(76704),D=s(63993);const $={title:Object.assign(Object.assign({},D.yG),{color:f.O.gray_929292})},V=(0,d.D2)($)((0,w.C)(((e,{tp:t})=>{const{type:s,user:r}=e;if(!r)return;const i=((e,t,s)=>{switch(e){case"firstName":{const e=t.first_name;return{title:s._t("Имя"),initialValue:e}}case"middleName":{const e=t.middle_name;return{title:s._gg("Отчество"),initialValue:e,placeholder:s._gg("если есть")}}case"lastName":{const e=t.last_name;return{title:s._t("Фамилия"),initialValue:e}}case"email":{const e=t.new_email||t.email;return{title:s._t("Электронная почта"),initialValue:e,htmlInputType:"email"}}case"password":{const e=void 0;return{title:s._t("Сменить пароль"),initialValue:e,htmlInputType:"password"}}}})(s,r,t);return{data:i}}))((0,N.$)()((({data:e,type:t,onChange:s,error:i,s:a})=>{const{title:n,initialValue:o,htmlInputType:c,placeholder:l}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",Object.assign({className:(0,d.iv)(a.title)},{children:n})),(0,r.jsx)(H.n,{onChange:s,initialValue:o,error:i,dataT:t,inputType:c,placeholder:l})]})}))));var q=s(55206),G=s(24606),W=s(35253),Q=s(32002);function K({color:e="currentColor"}){return(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:[(0,r.jsx)("path",{fill:e,fillRule:"evenodd",d:"M13.222 12.843a4.999 4.999 0 115.555 8.312 4.999 4.999 0 01-5.555-8.312zm1.111 6.651a3 3 0 103.333-4.987 3 3 0 00-3.333 4.987z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:e,fillRule:"evenodd",d:"M20.72 6l1.08 3.24 5.2 2.08V23a3 3 0 01-3 3H8a3 3 0 01-3-3V11.32l5.2-2.08L11.28 6h9.44zm3.987 17.707A1 1 0 0025 23V12.68l-4.8-1.92L19.28 8h-6.56l-.92 2.76L7 12.68V23a1 1 0 001 1h16a1 1 0 00.707-.293z",clipRule:"evenodd"})]}))}const J={wrapper:{display:"flex",alignItems:"center",position:"relative"},avatar:{display:"flex",justifyContent:"center",alignItems:"center",color:f.O.gray_262626,background:f.O.white,boxShadow:Q.q.popup,overflow:"hidden",borderRadius:W.E0.oval,width:56,height:56,marginEnd:16},icon:{position:"absolute"},input:{display:"none"},errorText:{color:f.O.red_fe5000},uploaderText:{color:f.O.blue_0072ce,cursor:"pointer",display:"flex",alignItems:"center",":hover":{color:f.O.gray_262626}}},Y=(0,d.D2)(J)((0,w.C)(((e,{tp:t})=>{const{user:s}=e;if(!s)return;return{initials:(0,G.C)(s,t)}}))((0,N.$)()((({onUpload:e,avatarUrl:t,errorText:s,initials:a,i18n:{tp:n},s:o})=>{const c=(0,i.useCallback)((()=>{}),[a]),l=(0,i.useCallback)((t=>{e(t)}),[e]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("label",Object.assign({htmlFor:"avatar-uploader",className:(0,d.iv)(o.uploaderText)},{children:[(0,r.jsxs)("div",Object.assign({className:(0,d.iv)(o.avatar)},{children:[(0,r.jsx)(q.q,{src:t,initials:c}),(0,r.jsx)("div",Object.assign({className:(0,d.iv)(o.icon)},{children:(0,r.jsx)(K,{color:t?f.O.white:f.O.gray_929292})}))]})),n._t("Загрузить аватар")]})),!!s&&(0,r.jsx)("div",Object.assign({className:(0,d.iv)(o.errorText)},{children:s})),(0,r.jsx)("input",{name:"wat-upload-input",id:"avatar-uploader",type:"file",multiple:!0,accept:"image/*",className:(0,d.iv)(o.input),onChange:l})]})}))));var X=s(86687),ee=s(19515),te=s(88783),se=s(26287),re=s(30402);const ie=(0,E.gQ)("uploadAvatar",(e=>{const{userId:t,file:s}=e;return(0,L.gF)({locale:e=>(0,z.O)(e),regionId:e=>(0,se.fq)(e)},(({locale:e,regionId:r})=>{const i=(0,A.by)(),a=(0,A.by)();return(0,E.vP)((0,re.t)({objectType:"profile",albumCode:"avatar",objectId:t,locale:e,regionId:r,temporaryId:a,file:s,isReplaced:!0}),(0,L._N)((e=>e.data.photo[a]),(e=>{if(!e||!e.data||!("url"in e.data))return(0,E.ZT)();const t=e.data.url;return(0,R.gS)({userInfo:{avatar:t},statusId:i})})))}))}));var ae=s(85843),ne=s(16210),oe=s(6340),ce=s(42858),de=s(67455),le=s(6801),ue=s(57955),pe=s(66908),ge=s(58666);var me=s(36149),he=s(69422),fe=s(12543);const ve=(0,he.ze)("userAvatar"),be={openDeleteUserProfilePopup:o.Mw,closePopup:o.j4,uploadUserAvatar:ie},ye=(0,le.k)({wrapper:{color:f.O.gray_929292,padding:"16px 24px"},bottomBar:{display:"flex",justifyContent:"space-between",alignItems:"center"},removeLinks:{display:"flex",flexDirection:"column",alignItems:"flex-end"},input:{marginBottom:16,":empty":{marginBottom:0}},agreement:{display:"flex",alignItems:"center",paddingTop:28,cursor:"pointer"},agreementLabel:{color:f.O.gray_262626,marginInlineStart:4},agreementText:Object.assign(Object.assign({marginTop:14},D.yG),{color:f.O.gray_929292}),law:{marginTop:14},privacy:{marginTop:24,width:"100%",display:"flex",flexDirection:"column",gap:"16px"},privacyItem:Object.assign(Object.assign({},D.oN),{cursor:"pointer",lineHeight:"24px",color:f.O.black,display:"flex",gap:8,'& input[type="radio"]':{WebkitAppearance:"none",height:16,width:16,display:"inline-block",outline:0,cursor:"pointer",borderRadius:"50%",border:`2px solid ${f.O.gray_e6e6e6}`,verticalAlign:"top",position:"relative",flexShrink:0,"&:checked":{border:`2px solid ${f.O.blue_0168f9}`,background:f.O.blue_0168f9,"&::after":{content:"''",position:"absolute",width:6,height:6,top:3,left:3,borderRadius:"50%",background:f.O.white}}}}),privacyItemText:{display:"flex",flexDirection:"column"},privacyItemSubtitle:Object.assign(Object.assign({},D.oN),{fontSize:"11px",color:f.O.gray_929292}),title:Object.assign(Object.assign({},D.oN),{color:f.O.gray_929292}),checkboxes:{display:"flex"}}),xe=(0,P.G)({selectors:{},handlers:be})((({getUserInfo:e,openDeleteUserProfilePopup:t,uploadUserAvatar:s,user:a,privacy:n})=>{const[o,c]=(0,i.useState)(a.first_name),[d,l]=(0,i.useState)(a.middle_name),[u,p]=(0,i.useState)(a.last_name),[g,m]=(0,i.useState)(a.new_email||a.email),[h,v]=(0,i.useState)((0,fe.ZQ)(a)),[b,y]=(0,i.useState)(a.avatar_preview_tpl&&(0,ue.B)(a.avatar_preview_tpl,{width:128,height:128})),[x,j]=(0,i.useState)(n),[w,_]=(0,i.useState)(),[C,I]=(0,i.useState)(a.public_identity_accepted),{featurePersonalDataAgreement:k,featurePublicProfile:O}=(0,oe.Z)(),{css:S,s:N}=(0,le.y)(ye),M=(0,ce.T)(),{bssRef:T}=(0,pe.T)((({frameId:e},t)=>(0,ge.xl)({state:t,name:"profileSettingsFrame",uuid:e}))),P=(0,i.useCallback)((e=>{c(e)}),[]),E=(0,i.useCallback)((e=>{l(e)}),[]),L=(0,i.useCallback)((e=>{p(e)}),[]),R=(0,i.useCallback)((e=>{m(e)}),[]),z=(0,i.useCallback)((e=>{v(e.replace(/ /g,""))}),[]),F=(0,i.useCallback)((()=>{t({id:(0,A.by)(),user:a,type:"deleteUserProfile"})}),[t,a]),B=(0,i.useCallback)((e=>{j(e.target.value)}),[]),Z=(0,i.useCallback)((()=>{I(!C)}),[C,I]),U=(0,i.useCallback)((e=>{I(!e)}),[I]),H=(0,i.useMemo)((()=>({first_name:o,middle_name:d,last_name:u,avatarUrl:b,email:g,phone:h,public_identity_accepted:null!==a.public_identity_accepted||C?C:null,userId:a.user_id,privacy:x})),[o,d,u,b,g,h,C,a,x]);(0,i.useEffect)((()=>e(H)),[H,e]);const D=(0,i.useCallback)((e=>{const t=e.target.files;if(!t||!t.length)return;const r=t[0];(0,ee.w)(r,ve).then((e=>{s({userId:a.user_id,file:r}),_(void 0),y(e.src)})).catch((e=>{const t=(0,te.R)(e,ve,M);_(t)}))}),[a.user_id]),$=a.phone_number_confirmed&&h.replace("+","")===(0,fe.ZQ)(a)||!1;return(0,r.jsxs)("div",Object.assign({className:S(N.wrapper),ref:T},{children:[(0,r.jsx)("div",Object.assign({className:S(N.input)},ae.dx.n("wat-edit-userprofile-firstname"),{children:(0,r.jsx)(V,{onChange:P,type:"firstName",user:a,error:!o})})),k&&(0,r.jsx)("div",Object.assign({className:S(N.input)},ae.dx.n("wat-edit-userprofile-middlename"),{children:(0,r.jsx)(V,{onChange:E,type:"middleName",user:a})})),(0,r.jsx)("div",Object.assign({className:S(N.input)},ae.dx.n("wat-edit-userprofile-lastname"),{children:(0,r.jsx)(V,{onChange:L,type:"lastName",user:a,error:!u})})),(0,r.jsx)("div",Object.assign({className:S(N.input)},ae.dx.n("wat-edit-userprofile-email"),{children:(0,r.jsx)(V,{onChange:R,type:"email",user:a,error:!g})})),(0,r.jsx)("div",Object.assign({className:S(N.input)},ae.dx.n("wat-edit-userprofile-phone"),{children:(0,r.jsx)(me.s,{hasPhone:!!a.phone_number,phoneCode:a.phone_code?"+"+a.phone_code:"",phone:h,isConfirmed:$,onChange:z,source:"profile",showConfirm:!0})})),(0,r.jsxs)("div",Object.assign({className:S(N.bottomBar)},ae.dx.n("wat-edit-userprofile-avatar"),{children:[(0,r.jsx)(Y,{user:a,avatarUrl:b,errorText:w,onUpload:D}),(0,r.jsx)("div",Object.assign({className:S(N.removeLinks)},{children:(0,r.jsx)(X.r,Object.assign({color:"gray",dataN:"wat-edit-profile-link",dataT:"remove",onClick:F},{children:M._t("Удалить профиль")}))}))]})),O&&n&&(0,r.jsxs)("div",Object.assign({className:S(N.privacy)},{children:[(0,r.jsx)("span",Object.assign({className:S(N.title)},{children:M._t("Настройка публичности профиля")})),(0,r.jsxs)("div",Object.assign({className:S(N.checkboxes)},{children:[(0,r.jsxs)("label",Object.assign({className:S(N.privacyItem)},{children:[(0,r.jsx)("input",{type:"radio",name:"privacy",value:"OPEN",checked:"OPEN"===x,onChange:B}),(0,r.jsxs)("div",Object.assign({className:S(N.privacyItemText)},{children:[(0,r.jsx)("span",{children:M._t("Открытый профиль")}),(0,r.jsx)("span",Object.assign({className:S(N.privacyItemSubtitle)},{children:M._t("Люди могут читать отзывы и фото в вашем профиле, а также подписываться на него")}))]}))]})),(0,r.jsxs)("label",Object.assign({className:S(N.privacyItem)},{children:[(0,r.jsx)("input",{type:"radio",name:"privacy",value:"CLOSE",checked:"CLOSE"===x,onChange:B,className:S(N.privacyItem)}),(0,r.jsxs)("div",Object.assign({className:S(N.privacyItemText)},{children:[(0,r.jsx)("span",{children:M._t("Закрытый профиль")}),(0,r.jsx)("span",Object.assign({className:S(N.privacyItemSubtitle)},{children:M._t("Ленту отзывов и фото в вашем профиле будут видеть только друзья и одобренные подписчики")}))]}))]}))]}))]})),k&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",Object.assign({className:S(N.agreement)},ae.dx.n("wat-edit-userprofile-agreement"),{onClick:Z},{children:[(0,r.jsx)(de.X,{isChecked:!!C,backgroundColor:C?f.O.green_30ad00:void 0,tickColor:f.O.white,onClick:U,dataN:"wat-edit-userprofile-agreement-acception"}),(0,r.jsx)("span",Object.assign({className:S(N.agreementLabel)},{children:M._gg("Показывать моё имя, фамилию или никнейм в продуктах 2ГИС")}))]})),(0,r.jsx)("div",Object.assign({className:S(N.agreementText)},{children:M._gg("Обратите внимание: если вы отзовёте согласие на обработку и распространение персональных данных, весь ваш контент будет обезличен. Ваши имя, фамилию или никнейм смогут увидеть только представители компаний, имеющие доступ к Личному кабинету.")}))]}),(0,r.jsx)("div",Object.assign({className:S(N.law)},{children:(0,r.jsx)(ne.p,{type:"default",buttonName:M._t("Сохранить")})}))]}))}));var je=s(96729),we=s(23822),_e=s(96536),Ce=s(82066),Ie=s(27215);var ke=s(27516),Oe=s(11436),Se=s(47949);const Ne={updateUserInfo:U,closePopup:o.j4},Me={wrapper:{color:f.O.gray_929292,paddingTop:16,paddingBottom:16,paddingStart:24,paddingEnd:34},header:{borderBottom:`1px solid ${f.O.gray_e6e6e6}`},close:{position:"absolute",top:12,end:16,cursor:"pointer"},footer:{paddingTop:20,paddingBottom:20}},Te=(0,P.G)({selectors:()=>({}),handlers:Ne})((0,d.D2)(Me)((0,N.$)()((({popup:e,closePopup:t,updateUserInfo:s,s:a,i18n:{tp:n}})=>{var c,l,u,p,g,m;const h=(0,Ie.I0)(),v=(0,Ie.v9)(F.bG),b=Se.userModel.useUpdatePrivacy(),y=Se.userModel.usePublicProfile(null===(c=v.data)||void 0===c?void 0:c.public_user_id),x=(0,pe.T)().useBssHandler(Se.userModel.bss.changeProfilePrivacy,{profile:null===(l=y.profile.data)||void 0===l?void 0:l.public_user});(0,i.useEffect)((()=>{var e,t;"success"!==(null===(e=v.meta)||void 0===e?void 0:e.status)&&"error"!==(null===(t=v.meta)||void 0===t?void 0:t.status)||v.data||h((0,ke.mk)())}),[h,v]);const j=null===(u=y.profile.data)||void 0===u?void 0:u.public_user.privacy,w=v.data,[_,C]=(0,i.useState)({first_name:null==w?void 0:w.first_name,middle_name:null==w?void 0:w.middle_name,last_name:null==w?void 0:w.last_name,avatarUrl:null==w?void 0:w.avatar,email:(null==w?void 0:w.new_email)||(null==w?void 0:w.email),public_identity_accepted:null==w?void 0:w.public_identity_accepted,userId:null==w?void 0:w.user_id,phone:(0,fe.ZQ)(w),privacy:null===(p=y.profile.data)||void 0===p?void 0:p.public_user.privacy}),I=function(){const{authApi:e,credentialsApi:t}=(0,we.S)(),s=(0,Ie.v9)(z.O),r=(0,Ie.v9)(F.bG).data,i=(0,Ie.I0)(),{mutateAsync:a}=(0,Ce.useMutation)((i=>(0,S.mG)(this,void 0,void 0,(function*(){if(i===((null==r?void 0:r.new_email)||(null==r?void 0:r.email)))return;if(!(0,_e.v)(i))throw new Error("invalid email");const a=yield t.getToken();if(!a)throw new Error("no access token");return yield e.updateEmail({accessToken:a,authClientId:"online",locale:s,email:i})}))),{onSuccess(e,t){var s;void 0!==e&&(e.code&&200!==e.code&&204!==e.code?i((0,o.Mw)({id:(0,A.by)(),type:"emailConfirmation",subtype:422===e.code&&"EntityExists"===(null===(s=e.error_fields)||void 0===s?void 0:s[0].error)?"errorWithEmail":"error",email:t})):i((0,o.Mw)({id:(0,A.by)(),type:"emailConfirmation",subtype:"success",email:t})))},onError(e,t){i((0,o.Mw)({id:(0,A.by)(),type:"emailConfirmation",subtype:"error",email:t}))}});return a}(),k=(0,i.useCallback)((()=>(0,S.mG)(void 0,void 0,void 0,(function*(){_.email&&(yield I(_.email),s((0,A.CE)(_,["privacy"])),_.privacy&&j!==_.privacy&&v.data&&(x({newPrivacy:_.privacy}),b.mutateAsync({publicUserId:v.data.public_user_id,privacy:_.privacy})))}))),[x,_,j,I,s,b,v.data]),O=(0,i.useCallback)((()=>{t()}),[e.id]),N=(0,i.useCallback)((e=>{C(e)}),[]);return!w||y.profile.isLoading?(0,r.jsx)("div",Object.assign({className:(0,d.iv)(a.wrapper)},{children:(0,r.jsx)(Oe.p,{})})):(0,r.jsx)(M.F,{dataN:"wat-edit-user-profile-popup",header:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",Object.assign({className:(0,d.iv)(a.wrapper,a.header)},{children:n._t("Редактирование профиля")})),(0,r.jsx)("div",Object.assign({className:(0,d.iv)(a.close),onClick:O},ae.dx.n("wat-edit-popup-close"),{children:(0,r.jsx)(je.x,{color:f.O.gray_262626})}))]}),body:(0,r.jsx)(xe,{privacy:j,user:w,getUserInfo:N}),footer:(0,r.jsx)(T.y,{submitText:n._t("Сохранить"),withoutUserAvatar:!0,onSubmit:k,onCancel:O,experimentalStyles:a.footer,disabledButton:!(null===(g=_.first_name)||void 0===g?void 0:g.trim())||!(null===(m=_.last_name)||void 0===m?void 0:m.trim())})})}))));var Pe=s(95359),Ee=s(41198),Le=s(34702);const Re={deleteUserProfile:(0,E.gQ)("deleteProfile",(e=>e?(0,E.vP)((0,o.j4)(),(0,Pe.xO)(),(0,Le.a)({userId:e}),(0,Ee.k)()):(0,E.ZT)())),openEditProfilePopup:s(78728).Z},ze={wrapper:{display:"flex",justifyContent:"center"},title:Object.assign(Object.assign({},D.FY),{display:"flex",justifyContent:"center",height:40}),text:{padding:24},button:{cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",height:56},cancel:{background:f.O.blue_028eff,color:f.O.white}},Ae=(0,P.G)({selectors:{},handlers:Re})((0,d.D2)(ze)((0,N.$)()((({popup:e,deleteUserProfile:t,openEditProfilePopup:s,s:a,i18n:{tp:n}})=>{const o=(0,i.useCallback)((()=>{t(e.user.user_id)}),[e]),c=(0,i.useCallback)((()=>{s()}),[e.id]),l=(0,i.useMemo)((()=>(0,r.jsx)("div",Object.assign({className:(0,d.iv)(a.wrapper)},{children:(0,r.jsxs)("div",Object.assign({className:(0,d.iv)(a.text)},{children:[(0,r.jsx)("h1",Object.assign({className:(0,d.iv)(a.title)},{children:n._t("Уверены в этом?")})),(0,r.jsx)("p",{children:n._t("Ваш аккаунт будет удалён, но все отзывы, фотографии и зацепки останутся в справочнике, став анонимными.")})]}))}))),[e.id]),u=(0,i.useMemo)((()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",Object.assign({className:(0,d.iv)(a.button,a.cancel),onClick:c},{children:n._t("Не удалять")})),(0,r.jsx)("div",Object.assign({className:(0,d.iv)(a.button)},{children:(0,r.jsx)(X.r,Object.assign({onClick:o},{children:n._t("Удалить")}))}))]})),[e.id]);return(0,r.jsx)(M.F,{dataN:"wat-delete-user-profile-popup",header:(0,r.jsx)(r.Fragment,{}),body:l,footer:u})})))),Fe={closeEmailConfirmaionPopup:o.j4},Be=i.memo((e=>{const{closeEmailConfirmaionPopup:t,title:s,description:a,s:n,i18n:{tp:o}}=e,c=(0,i.useMemo)((()=>(0,r.jsx)("div",Object.assign({className:(0,d.iv)(n.wrapper)},{children:(0,r.jsxs)("div",Object.assign({className:(0,d.iv)(n.text)},{children:[(0,r.jsx)("h1",Object.assign({className:(0,d.iv)(n.title)},ae.dx.n("wat-confirm-email-popup-title"),{children:s})),(0,r.jsx)("p",Object.assign({},ae.dx.n("wat-confirm-email-popup-desc"),{children:a}))]}))}))),[a,s,n.wrapper,n.text,n.title]),l=(0,i.useMemo)((()=>(0,r.jsx)("div",Object.assign({className:(0,d.iv)(n.button)},ae.dx.n("wat-email-popup-close"),{onClick:t},{children:o._t("ok")}))),[t,n.button,o]);return(0,r.jsx)(M.F,{dataN:"wat-confirm-email-popup",body:c,footer:l})})),Ze={wrapper:{display:"flex",justifyContent:"center"},title:Object.assign(Object.assign({},D.FY),{display:"flex",justifyContent:"center",height:40}),text:{padding:24},button:{cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",height:56,background:f.O.blue_028eff,color:f.O.white,borderRadius:`0 0 ${W.E0.default} ${W.E0.default}`}},Ue=(0,P.G)({selectors:{},handlers:Fe})((0,d.D2)(Ze)((0,N.$)()((0,w.C)((({popup:{subtype:e,email:t}},{tp:s})=>({title:"success"===e?s._t("Необходимо подтвердить новый адрес"):s._t("Что-то пошло не так"),description:"success"===e?s._t("Для подтверждения перейдите по ссылке в письме, которое мы отправили по адресу %1",[t]):"errorWithEmail"===e?s._t("Данный e-mail занят другим пользователем"):s._t("Попробуйте еще раз!")})))(Be)))),He=()=>(0,r.jsx)(u.E,{loader:p.H.subscribers,render:e=>(0,r.jsx)(e,{}),renderPlaceholder:g.Q}),De=()=>(0,r.jsx)(u.E,{loader:p.H.subscriptions,render:e=>(0,r.jsx)(e,{}),renderPlaceholder:g.Q});var $e,Ve=s(97480),qe=s(76171),Ge=s(36928),We=s(45681),Qe=s(52300),Ke=s(7763);!function(e){e.offensiveContent="offensive_content",e.pornography="pornography_violence_drugs",e.violationOfTheLaw="violation_of_the_law",e.ageInappropriateAds="age_inappropriate_ads",e.other="other"}($e||($e={}));const Je=(0,E.gQ)("submitComplaint",(({data:e,context:t})=>{var s,r;const i=(0,A.by)(),a=null!==(s=e.categoryCode)&&void 0!==s?s:$e.other;return(0,E.vP)((0,o.BW)((e=>{if("complaint"===e.type)return Object.assign(Object.assign({},e),{isSending:!0})})),"review"===e.type&&(0,Ve.am)({reviewId:e.id,text:e.text,statusId:i}),("photo"===e.type||"media"===e.type)&&Ye(e,i,t),"story"===e.type&&(0,Ve.it)({segmentId:null!==(r=t.popup.segmentId)&&void 0!==r?r:"",storyId:e.id,categoryCode:a,comment:a===$e.other?e.text:void 0,userEmail:t.email,statusId:i}),Xe(i,e.type))})),Ye=(e,t,s)=>(0,L.gF)({baseParams:We.w},(({baseParams:r})=>(0,Ve.K6)({statusId:t,data:Object.assign(Object.assign(Object.assign({},r),(0,Qe.A)()),{photoId:e.id,message:e.text,errorType:"product",emailValue:s.email})}))),Xe=(e,t)=>(0,E.xJ)((s=>{const r=s.status[e];return r&&r.meta?r&&"success"===r.meta.status?(0,E.vP)((0,Ke.$0)((({tp:e})=>(0,qe.c)((0,Ge.V)({title:e._t("Спасибо"),message:"photo"===t||"media"===t?e._t("Мы ценим вашу помощь!"):"review"===t?e._t("Мы проверим этот отзыв!"):e._t("Мы проверим эту историю!")})))),(0,o.j4)()):r&&"error"===r.meta.status?(0,E.vP)(et(r.meta.code),(0,o.BW)((e=>{if("complaint"===e.type)return Object.assign(Object.assign({},e),{isSending:!1})}))):void 0:et()})),et=e=>(0,Ke.$0)((({tp:t})=>(0,qe.c)((0,Ge.v)({title:400===e?t._t("Длина сообщения должна быть от 3 до 500 символов"):t._t("Что-то пошло не так"),message:t._t("Не получилось отправить жалобу. Повторите попытку.")}))));var tt=s(48236);const st=f.O.black_transparent_50,rt=(0,i.memo)((e=>{const{formType:t,isDisabledEasyComplaintButton:s,onEasyComplaintBtnClick:a,activeText:n}=e,{s:o,css:c}=(0,le.y)(it),d=(0,ce.T)(),l=(0,i.useMemo)((()=>({value:d._t("Другая причина"),code:$e.other})),[d]),u=(0,i.useMemo)((()=>"media"===t||"photo"===t?[{value:d._t("Это спам"),code:void 0},{value:d._t("Другое место"),code:void 0},{value:d._t("Неактуально"),code:void 0},{value:d._t("Порнография, насилие, наркотики"),code:void 0},{value:d._t("Дубль"),code:void 0},l]:"story"===t?[{value:d._t("Оскорбительное содержание"),code:$e.offensiveContent},{value:d._t("Порнография, насилие, наркотики"),code:$e.pornography},{value:d._t("Нарушение закона"),code:$e.violationOfTheLaw},{value:d._t("Несоответствующая возрасту реклама"),code:$e.ageInappropriateAds},l]:[{value:d._t("Маты и оскорбления"),code:void 0},{value:d._t("Спам и реклама"),code:void 0},{value:d._t("О другом месте"),code:void 0},{value:d._t("Это не отзыв"),code:void 0},l]),[t,l,d]);return(0,r.jsx)("div",Object.assign({className:c(o.easyBtnsWrap)},{children:u.map((e=>(0,r.jsx)(tt.z,Object.assign({disabled:e!==l&&s,noBorder:!0,appearance:"noncontrast",wide:!0,onClick:t=>((e,t)=>{e.preventDefault(),e.stopPropagation(),a(t)})(t,e),background:e.value===n?st:void 0},{children:e.value}),e.value)))}))}));rt.displayName="EasyComplaintsBtns";const it=(0,le.k)({easyBtnsWrap:{display:"flex",flexDirection:"column",gap:10,paddingTop:"8px",paddingBottom:"8px"}}),at={isSendingStatus:e=>!(!e.appContext.popup||"complaint"!==e.appContext.popup.type)&&!!e.appContext.popup.isSending,user:e=>(0,F.bG)(e).data},nt={onSubmitComplaintButtonClick:Je,onCloseButtonClick:o.j4},ot={wrapper:{padding:"12px 24px",boxShadow:Q.q.innerBorderBottomBase},title:Object.assign({},D.FY),law:{marginTop:16}},ct=(0,P.G)({selectors:at,handlers:nt})((0,d.D2)(ot)((0,N.$)()((e=>{const{user:t,popup:s,onSubmitComplaintButtonClick:a,onCloseButtonClick:n,i18n:{tp:o},s:c,isSendingStatus:l}=e,{itemId:u,subtype:p}=s,g="photo"===p||"media"===p,m="story"===p,[h,f]=(0,i.useState)(""),[v,b]=(0,i.useState)(void 0),[y,x]=(0,i.useState)(""),[j,w]=(0,i.useState)("btns"),_="btns"===j?o._t("Пожаловаться"):o._t("Другая причина"),C=(0,i.useMemo)((()=>!(0,_e.v)(y)||y.length>100),[y]),I=(0,i.useMemo)((()=>h.length<4||h.length>500),[h]),k=(g||m)&&!t&&C,O=k||l||I,S=k||l,N=(0,i.useCallback)((()=>a({data:Object.assign({type:p,id:u,text:h},v?{categoryCode:v}:{}),context:{popup:s,email:t&&t.email||y}})),[h,t,u,y,a,s,p,v]),P=(0,i.useCallback)((e=>{if(e.code===$e.other)return f(""),b(void 0),void w("text");f(e.value),b(e.code)}),[w,f,b]),E=(0,i.useMemo)((()=>{const e=(g||m)&&!t;return(0,r.jsxs)("div",Object.assign({className:(0,d.iv)(c.wrapper)},{children:[e&&(0,r.jsx)(H.n,{error:!!y&&C,placeholder:o._t("Укажите эл. почту, и мы ответим на ваши вопросы"),onChange:x,inputType:"email"}),"text"===j?(0,r.jsx)(H.n,{multiline:!0,linesCount:6,placeholder:o._t("Опишите суть жалобы своими словами"),error:!!h&&I,onChange:f}):(0,r.jsx)(rt,{formType:p,isDisabledEasyComplaintButton:S,onEasyComplaintBtnClick:P,activeText:h})]}))}),[g,t,j,S,y,h]);return(0,r.jsx)(M.F,{withCloseButton:!0,onClose:n,dataN:"wat-review-coplaint-popup",header:(0,r.jsx)("div",Object.assign({className:(0,d.iv)(c.wrapper,c.title)},{children:(0,r.jsx)("h1",{children:_})})),body:E,footer:(0,r.jsx)(T.y,{disabledButton:O,withAuth:!0,submitText:o._t("Отправить"),onSubmit:N,onCancel:n})})}))));var dt=s(24777),lt=s(57935),ut=s(70021),pt=s(7477);const gt=(e,{dateFns:t,config:{comma:s}})=>{const{date:r,entity:i}=e;if(!i)return;const a="name"in i?i.name:void 0;return{title:a,description:`${t.format(new Date(r),"d MMMM yyyy")}${s} ${a}`}},mt=(0,P.G)({selectors:({entityId:e,searchId:t})=>({entity:s=>(0,ut.wj)({state:s,entityId:e,searchId:t}).data,isSearchBot:e=>e.session.isSearchBot})})((e=>{const{s:t,css:s}=(0,le.y)(ht),i=(0,lt.Gb)(gt,e);if(!i)return null;const{title:a,description:n}=i;if(!a)return null;const{entity:o,isSearchBot:c}=e;return(0,r.jsxs)("div",Object.assign({className:s(t.wrapper)},{children:[!!o&&(0,r.jsx)("div",Object.assign({className:s(t.image)},{children:(0,r.jsx)(pt.T,{entity:o,isLoadingForced:c})})),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",Object.assign({className:s(t.title)},{children:(0,r.jsx)("h1",{children:a})})),!!n&&(0,r.jsx)("div",{children:n})]})]}))})),ht=(0,le.k)({wrapper:{padding:"12px 24px",boxShadow:Q.q.innerBorderBottomBase,display:"flex",alignItems:"center"},image:{marginEnd:16},title:Object.assign(Object.assign({},D.FY),{marginBottom:4})}),ft=(0,i.memo)((({onTextChange:e,officialAnswerText:t})=>{const{s,css:i}=(0,le.y)(vt),a=(0,ce.T)();return(0,r.jsxs)("div",Object.assign({className:i(s.wrapper)},{children:[!!t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",Object.assign({className:i(s.title)},{children:a._t("Официальный ответ")})),(0,r.jsx)("div",Object.assign({className:i(s.text)},{children:t}))]}),(0,r.jsx)("div",Object.assign({className:i(s.title)},{children:a._t("Добавьте комментарий")})),(0,r.jsx)(H.n,{onChange:t=>e(t),autoFocus:!0,multiline:!0})]}))}));ft.displayName="Body";const vt=(0,le.k)({wrapper:Object.assign(Object.assign({},D.oN),{paddingTop:16,paddingBottom:24,paddingStart:24,paddingEnd:24}),title:{color:f.O.gray_929292},text:{boxShadow:Q.q.innerBorderBottomBase,paddingTop:8,paddingBottom:20,paddingStart:0,paddingEnd:0,marginBottom:16}});var bt=s(3767),yt=s(10694),xt=s(25696),jt=s(90740),wt=s(75754),_t=s(50237),Ct=s(33021);const It=(0,E.gQ)("submitReviewComment",(e=>{const{reviewId:t,text:s}=e,r=(0,A.by)(),i=(0,E.vP)((0,bt.g7)({id:t,text:s,statusId:r}),(0,yt.$c)(r,(e=>(0,xt.d)(e)?(0,E.Mf)((0,o.j4)(),(0,Ke.$0)((({tp:e})=>(0,qe.c)((0,Ge.V)({title:e._t("Спасибо!"),message:e._t("Ваш комментарий отправлен")}))))):(0,Ke.$0)((({tp:e})=>(0,qe.c)((0,Ge.v)({title:e._t("Ошибка!"),message:e._t("Попробуйте еще раз!")})))))));return(0,E.Rh)((({featurePersonalDataAgreement:e,featurePhoneLaw:t})=>(0,L.gF)({hasPhone:F.DK,status:t=>(0,jt.I)(t,e)},(({hasPhone:e,status:s})=>{const r=t&&!e;return r||"idle"===s?(0,wt.L)({after:e=>e?i:(0,E.ZT)(),openPopup:r?()=>(0,Ct.p)():()=>(0,_t.I)(!1)}):i}))))})),kt={review:e=>{const{popup:t}=e.appContext;if("addReviewComment"!==(null==t?void 0:t.type))return;const s=t.reviewId;return(0,dt.Tt)({state:e,id:s}).data}},Ot={closeAddReviewCommentPopup:o.j4,submitComment:It},St=e=>{var t;const{review:s}=e;if(s&&!s.temporary)return{date:s.date_created,officialAnswer:null===(t=s.official_answer)||void 0===t?void 0:t.text,entityId:s.object.id}},Nt=(0,P.G)({selectors:kt,handlers:Ot})((e=>{const{closeAddReviewCommentPopup:t,submitComment:s,review:a,popup:{searchId:n}}=e,[o,c]=(0,i.useState)(""),[d,l]=(0,i.useState)(!0),u=(0,i.useCallback)((e=>{c(e),l(e.length<4)}),[o]),p=(0,i.useCallback)((()=>{a&&s({text:o,reviewId:a.id})}),[t,o]),g=(0,ce.T)(),m=(0,lt.Gb)(St,e);if(!m)return null;const{date:h,entityId:f,officialAnswer:v}=m;return(0,r.jsx)(M.F,{dataN:"wat-add-review-comment-popup",header:(0,r.jsx)(mt,{date:h,entityId:f,searchId:n}),body:(0,r.jsx)(ft,{onTextChange:u,officialAnswerText:v}),footer:(0,r.jsx)(T.y,{submitText:g._t("Опубликовать"),withAuth:!0,onSubmit:p,onCancel:t,disabledButton:d})})})),Mt=e=>(0,r.jsx)(u.E,{loader:p.H.cart,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:g.Q}),Tt=e=>(0,r.jsx)(u.E,{loader:p.H.deliveryOrderPopup,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:g.Q}),Pt=e=>(0,r.jsx)(u.E,{loader:p.H.sendOrderPopup,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:g.Q}),Et=()=>(0,r.jsx)(u.E,{loader:p.H.thanksForReview,render:e=>(0,r.jsx)(e,{}),renderPlaceholder:g.Q}),Lt=()=>(0,r.jsx)(u.E,{loader:p.H.thanksForPhoto,render:e=>(0,r.jsx)(e,{}),renderPlaceholder:g.Q}),Rt=e=>(0,r.jsx)(u.E,{loader:p.H.personalDataAgreementPopup,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:g.Q}),zt=e=>(0,r.jsx)(u.E,{loader:p.H.smmTipPopup,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>(0,r.jsx)(g.w,{asyncStatus:e})}),At=e=>(0,r.jsx)(u.E,{loader:p.H.smmCheckoutPopup,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:e=>(0,r.jsx)(g.w,{asyncStatus:e})});var Ft=s(76430),Bt=s(54974),Zt=s(1209);function Ut(){return(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"212",height:"103",fill:"none"},{children:[(0,r.jsx)("path",{fill:"url(#phone-confirmation-a)",d:"M81.866 93.095h-4.23c-3.085.199-5.673-2.637-5.673-6.319V59.413c0-3.731 2.588-6.467 5.673-6.169h3.882c2.737.249 12.989 4.428 12.989 7.811v24.776c0 3.334-9.954 7.065-12.64 7.264Z"}),(0,r.jsx)("path",{fill:"url(#phone-confirmation-b)",d:"m94.108 92.249-12.043.846c-3.086.199-5.673-2.637-5.673-6.319V59.413c0-3.731 2.587-6.467 5.673-6.169l12.043 1.194c2.737.249 4.877 3.234 4.877 6.567v24.776c0 3.383-2.14 6.269-4.877 6.468Z"}),(0,r.jsx)("path",{fill:"url(#phone-confirmation-c)",d:"M60.07 47.423c0-8.905-3.534-16.965-8.86-20.995l-2.09-2.686h-5.225c-8.808-.15-16.173 9.95-16.173 23.184 0 13.78 7.962 23.632 17.169 23.632.298 0 6.32-.1 6.32-.1V68.12c5.325-3.831 8.858-11.791 8.858-20.697Z"}),(0,r.jsx)("path",{fill:"url(#phone-confirmation-d)",d:"M95.402 27.174c0-7.462-2.986-14.229-7.415-17.562l-1.741-2.239h-4.38c-7.365-.1-13.536 8.309-13.536 19.403 0 11.493 6.619 19.752 14.382 19.752.25 0 5.325-.05 5.325-.05v-1.94c4.38-3.234 7.365-9.901 7.365-17.364Z"}),(0,r.jsx)("path",{fill:"url(#phone-confirmation-e)",d:"M65.642 47.423c0 12.14-6.569 22.488-15.178 23.134-9.207.697-17.17-9.85-17.17-23.631 0-13.782 7.963-24.08 17.17-23.135 8.61.945 15.178 11.443 15.178 23.632Z"}),(0,r.jsx)("path",{fill:"url(#phone-confirmation-f)",d:"M101.225 27.125c0 10.149-5.474 18.806-12.69 19.353-7.714.597-14.333-8.209-14.333-19.702 0-11.492 6.669-20.099 14.332-19.303 7.216.697 12.691 9.503 12.691 19.652Z"}),(0,r.jsx)("path",{stroke:"#000",strokeMiterlimit:"10",strokeWidth:"1",d:"M128.951 98.456c0 1.426-.771 2.641-1.78 2.717-1.082.082-2.016-1.155-2.016-2.77 0-1.613.934-2.825 2.016-2.713 1.009.105 1.78 1.34 1.78 2.766ZM200.352 3.773c0 1.426-.771 2.64-1.781 2.717-1.081.082-2.015-1.155-2.015-2.77 0-1.613.934-2.825 2.015-2.713 1.01.105 1.781 1.34 1.781 2.766ZM14.247 17.012c0 1.426-.77 2.64-1.78 2.717-1.082.082-2.016-1.156-2.016-2.77s.934-2.825 2.016-2.713c1.01.104 1.78 1.34 1.78 2.766ZM51.083 36.765l-.302 21.402M44.167 46.996l13.197.543M93.758 74.888l-10.942-.068 7.627-10.98v21.485M150.099 77.903c5.897.582 45.866 4.547 51.091-27.312 2.683-16.373-37.845-37.523-52.341-36.302-6.539.55-49.442 5.432-55.097 6.7-5.002 1.122-7.54 3.693-7.224 6.754.144 1.384.475 4.264 5.947 5.729.799.215 1.645.407 2.546.575 5.182.986 12.031 1.198 20.261.096.597-.078 1.99-.145 2.641-.195.025 0 .049 0 .07-.002"}),(0,r.jsx)("path",{stroke:"#000",strokeMiterlimit:"10",strokeWidth:"1",d:"M123.256 50.321c-3.307 4.941-1.567 16.859 16.951 17.493 12.249.42 15.19-4.363 15.939-8.803"}),(0,r.jsx)("path",{stroke:"#000",strokeMiterlimit:"10",strokeWidth:"1",d:"M121.345 43.28c-.593 7.517 4.84 11.995 18.307 12.551 3.022.125 10.696.205 14.545-3.32M124.815 62.323c-2.963 1.271-4.214 9.292 4.565 13.774 7.412 3.783 22.95 3.55 25.875-2.522 1.565-3.25.167-6.608-2.962-8.06"}),(0,r.jsx)("path",{stroke:"#000",strokeMiterlimit:"10",strokeWidth:"1",d:"M162.21 31.402c-14.232-5.966-17.263-.587-28.369-1.077-12.518-.553-16.333 1.618-16.359 5.702-.044 6.814 8.821 11.165 20.194 9.347 4.936-.789 10.035 1.793 14.433 3.206 4.959 10.675 12.888 18.007 23.258 16.535"}),(0,r.jsxs)("defs",{children:[(0,r.jsxs)("linearGradient",Object.assign({id:"phone-confirmation-a",x1:"71.946",x2:"94.527",y1:"73.166",y2:"73.166",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{stopColor:"#195441"}),(0,r.jsx)("stop",{offset:".09",stopColor:"#195441"}),(0,r.jsx)("stop",{offset:".1",stopColor:"#195640"}),(0,r.jsx)("stop",{offset:".36",stopColor:"#197A31"}),(0,r.jsx)("stop",{offset:".61",stopColor:"#199427"}),(0,r.jsx)("stop",{offset:".83",stopColor:"#19A420"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#19AA1E"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"phone-confirmation-b",x1:"76.426",x2:"99.007",y1:"73.166",y2:"73.166",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{stopColor:"#19AA1E"}),(0,r.jsx)("stop",{offset:".976",stopColor:"#23CC29"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#23CC29"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"phone-confirmation-c",x1:"27.703",x2:"60.062",y1:"47.161",y2:"47.161",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{stopColor:"#195441"}),(0,r.jsx)("stop",{offset:".09",stopColor:"#195441"}),(0,r.jsx)("stop",{offset:".1",stopColor:"#195640"}),(0,r.jsx)("stop",{offset:".36",stopColor:"#197A31"}),(0,r.jsx)("stop",{offset:".61",stopColor:"#199427"}),(0,r.jsx)("stop",{offset:".83",stopColor:"#19A420"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#19AA1E"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"phone-confirmation-d",x1:"68.311",x2:"95.391",y1:"26.976",y2:"26.976",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{stopColor:"#195441"}),(0,r.jsx)("stop",{offset:".09",stopColor:"#195441"}),(0,r.jsx)("stop",{offset:".1",stopColor:"#195640"}),(0,r.jsx)("stop",{offset:".36",stopColor:"#197A31"}),(0,r.jsx)("stop",{offset:".61",stopColor:"#199427"}),(0,r.jsx)("stop",{offset:".83",stopColor:"#19A420"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#19AA1E"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"phone-confirmation-e",x1:"33.278",x2:"65.638",y1:"47.205",y2:"47.205",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{stopColor:"#19AA1E"}),(0,r.jsx)("stop",{offset:".976",stopColor:"#23CC29"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#23CC29"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"phone-confirmation-f",x1:"74.202",x2:"101.232",y1:"26.942",y2:"26.942",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{stopColor:"#19AA1E"}),(0,r.jsx)("stop",{offset:".976",stopColor:"#23CC29"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#23CC29"})]}))]})]}))}var Ht=s(48688),Dt=s(74234),$t=s(28217);const Vt=(0,i.memo)((({phone:e,resetCode:t})=>{const[s,a]=(0,i.useState)(59),{_t:n}=(0,ce.T)(),{css:o,s:c}=(0,le.y)(qt),d=(0,Ie.I0)(),{useBssHandler:l}=(0,pe.T)(),u=l(Ht.mH),p=()=>{const e=Date.now(),t=setInterval((()=>{const s=Math.floor(60-(Date.now()-e)/1e3);s>0?a(s):(clearInterval(t),a(0))}),1e3);return()=>{t&&clearInterval(t)}};(0,i.useEffect)((()=>p()),[]);const g=(0,Bt.$)((()=>{a(59),p(),u(),d((0,$t.ho)(e.replace(/ /g,""),(0,A.by)())),t()}));if(0===s)return(0,r.jsx)(tt.z,Object.assign({appearance:"ghost",onClick:g,experimentalStyles:c.refreshButton,dataN:"wat-request-code-again"},{children:n("Отправить код ещё раз")}));const m=`0:${s<10?0:""}${s}`;return(0,r.jsx)("p",Object.assign({className:o(c.text)},{children:n("Новый код можно запросить через %1",[m])}))}));Vt.displayName="RefreshCodeTimer";const qt=(0,le.k)({text:Object.assign(Object.assign({},D.oN),{color:f.O.gray_929292,marginTop:32,width:255,marginStart:"auto",marginEnd:"auto",textAlign:"left"}),refreshButton:{marginTop:32,padding:0}});var Gt=s(2604);const Wt=["","","",""],Qt=(0,i.memo)((({phone:e,withDecline:t,source:s,error:a})=>{const{_t:n}=(0,ce.T)(),{css:o,s:c}=(0,le.y)(Kt),d=(0,Ie.I0)(),{bssRef:l,useBssHandler:u}=(0,pe.T)((0,Ht.Df)()),p=u(Ht.Gk),g=(0,Ie.v9)((e=>{var t,s;return"loading"===(null===(s=null===(t=e.data.user.phone)||void 0===t?void 0:t[Gt.F])||void 0===s?void 0:s.status)})),[m,h]=(0,i.useState)(Wt),[f,v]=(0,Ft.z)(!!a),b=(0,fe.qF)(m),y=a!==fe.F9;(0,Zt.x)({type:"common:escapeKeyUp",handler:()=>{p()}});const x=r=>{g||d((0,E.vP)(a?(0,Dt.V)({phone:e,withDecline:t,source:s}):(0,E.ZT)(),(0,$t.hx)({phone:e,confirmationCode:r,source:s,withDecline:t})))},j=(0,Bt.$)((()=>{p(),d((0,$t.fy)(s,!1))})),w=(0,Bt.$)((e=>{const t=parseInt(e.target.dataset.index||""),s=[...m];if(""===e.target.value&&!Number.isNaN(t))return s[t]=e.target.value,h(s),void v(!1);const r=e.target.value;return(0,fe.X1)(r)&&!Number.isNaN(t)?(s[t]=r,h(s),v(!1),(0,fe.lS)(e.target),void(t===m.length-1&&(0,fe.qF)(s)&&x(s.join("")))):void 0})),_=(0,Bt.$)((e=>{const t=e.target;if(37!==e.keyCode&&(8!==e.keyCode||""!==t.value))return 39===e.keyCode?(e.preventDefault(),void(0,fe.lS)(e.target)):13===e.keyCode?(e.preventDefault(),void I()):void 0;if(e.preventDefault(),(0,fe.j1)(e.target),8===e.keyCode){const e=parseInt(t.dataset.index||"");if(e){const t=[...m];t[e-1]="",h(t)}}})),C=(0,Bt.$)((e=>{(0,fe.X1)(e.key)||e.preventDefault()})),I=(0,Bt.$)((()=>{b&&x(m.join(""))})),k=(0,Bt.$)((()=>{h(Wt)}));return(0,r.jsx)(M.F,{dataN:"wat-confirm-phone-popup",withCloseButton:!0,onClose:j,body:(0,r.jsxs)("div",Object.assign({className:o(c.body),ref:l},{children:[(0,r.jsx)(Ut,{}),(0,r.jsx)("h1",Object.assign({className:o(c.header)},{children:n("Подтвердите номер")})),(0,r.jsx)("p",Object.assign({className:o(c.text)},{children:n("Введите код из SMS, отправленного на номер %1",[e.replace(" ","&nbsp;")])})),(0,r.jsx)("div",Object.assign({className:o(c.inputWrapper)},{children:m.map(((e,t)=>(0,r.jsx)("input",Object.assign({autoFocus:0===t,className:o(c.input,f&&c._error),type:"number",placeholder:"-",min:0,max:9,value:e,"data-index":t,onChange:w,onKeyDown:_,onKeyPress:C},ae.dx.n(`wat-phone-code-input-${t}`)),t)))})),f&&(0,r.jsx)("div",Object.assign({className:o(c.error)},{children:(0,fe.KY)(a,n)})),y&&(0,r.jsx)(Vt,{phone:e,resetCode:k}),(0,r.jsx)(tt.z,Object.assign({appearance:b&&y?"secondary":"noncontrast",wide:!0,disabled:!fe.qF||!y||g,onClick:I,experimentalStyles:c.confirmButton,dataN:"wat-confirm-code"},{children:n("Подтвердить")})),t&&(0,r.jsx)(tt.z,Object.assign({appearance:"ghost",onClick:j,dataN:"wat-confirm-phone-cancel"},{children:n("Отказаться и не привязывать")}))]}))})}));Qt.displayName="PhoneConfirmationPopup";const Kt=(0,le.k)((e=>({body:{padding:e.mobile?"56px 16px":"56px 116px",textAlign:"center"},header:Object.assign(Object.assign({},D.hC),{fontWeight:D.Ue.bold,marginTop:28,marginBottom:16}),text:Object.assign({},D.oN),textLine:{display:"block"},inputWrapper:{display:"flex",justifyContent:"space-between",marginTop:32},input:Object.assign(Object.assign({},D.hC),{flexGrow:1,border:"none",borderBottom:`1px solid ${f.O.gray_e6e6e6}`,padding:"12px 0",marginEnd:16,textAlign:"center",minWidth:1,":focus":{borderBottomColor:f.O.blue_0070cc,outline:"none","::placeholder":{color:"transparent"}}}),_error:{borderBottomColor:f.O.red_fe5000},error:Object.assign(Object.assign({},D.yG),{marginTop:6,color:f.O.red_fe5000}),confirmButton:{marginTop:40}}))),Jt=e=>(0,r.jsx)(u.E,{loader:p.H.phonePopup,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:g.Q}),Yt=e=>(0,r.jsx)(u.E,{loader:p.H.successfulSubscriptions,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:g.Q});var Xt=s(7314);const es=e=>(0,r.jsx)(u.E,{loader:p.H.social,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:g.Q}),ts=()=>(0,r.jsx)(u.E,{loader:p.H.recommendations,render:e=>(0,r.jsx)(e,{}),renderPlaceholder:g.Q});var ss=s(9650),rs=s(50137);function is(e){return(0,Ie.v9)((t=>{const s=t.appContext.popup;if(!e||e===(null==s?void 0:s.type))return s}))}var as=s(92484),ns=s(56704);const os=(0,i.memo)((()=>{const{css:e,s:t}=(0,le.y)(cs),s=(0,ce.T)(),{brandName:i}=(0,oe.Z)(),a=is("choosePhone"),n=(0,rs.X)(null==a?void 0:a.entityId),o=(0,ns.b)(n,"phone");return(0,r.jsx)(ss.P,{children:(0,r.jsxs)("div",Object.assign({className:e(t.root)},{children:[(0,r.jsx)("div",Object.assign({className:e(t.caption)},{children:s._t("Выберите номер для звонка")})),(0,r.jsx)("div",Object.assign({className:e(t.message)},{children:s._t("Пожалуйста, скажите, что узнали номер в %1",[i])})),(0,r.jsx)("div",Object.assign({className:e(t.phones)},{children:o.map((({text:s,value:i,comment:a},n)=>(0,r.jsxs)("a",Object.assign({className:e(t.phone),href:`tel:${i}`},{children:[(0,r.jsx)(as.L,{color:f.O.green_30ad00}),(0,r.jsxs)("span",Object.assign({className:e(t.text)},{children:[(0,r.jsx)("span",Object.assign({className:e(t.value)},{children:s||i})),a&&(0,r.jsx)("span",Object.assign({className:e(t.comment)},{children:a}))]}))]}),n)))}))]}))})}));os.displayName="ChoosePhonePopup";const cs=(0,le.k)({root:{padding:28,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},caption:Object.assign(Object.assign({},D.FY),{marginTop:24}),message:{marginTop:12},phones:{marginTop:16,width:"100%"},phone:{paddingTop:16,paddingBottom:16,display:"flex",alignItems:"center"},text:{marginStart:16,display:"flex",flexDirection:"column"},value:{},comment:Object.assign({marginTop:2,color:f.O.gray_929292},D.yG)});var ds=s(37224),ls=s(85916),us=s(13130),ps=s(86465),gs=s(22027),ms=s(36804);var hs=s(68276),fs=s(97825),vs=s(87770);const bs=(0,i.memo)((()=>{var e;const{css:t,s}=(0,le.y)(ys),a=(0,ce.T)(),{frame:n,entity:c}=(0,gs.j)(),d=c&&(0,us.J)(c)?(0,ls.a)(c.rubrics):void 0,{searchCtx:l,searchKeyword:u}=(0,vs.Y)({entityId:n.entityId}),p=(0,hs.gx)({id:n.entityId,albumId:fs.Ok,searchCtx:l,searchKeyword:u},{enabled:"menu"===(null==n?void 0:n.tab)&&"branch"===(null==c?void 0:c.type)}),g=p.data?(null===(e=p.data)||void 0===e?void 0:e.pages[0].items.length)||0:void 0,{bssRef:m}=(0,pe.T)((({size:e})=>(t,s)=>{const r=(0,B.t0)(s.appContext.frames,"entity");if(void 0!==e&&r)return{uiElement:{name:"addPricePhotoSuccess",ownerName:"cardPrices",frameUuid:r.id},payload:{productOffersList:{entity:{id:r.entityId,type:"branch"},size:e},placeItem:(0,ms.s)({state:s,entityFrameId:r.id}),tabPreviewInfo:{isActive:!0,amount:e,uploadPricesPromo:0===e||void 0}}}})({size:g})),h="menu"===d?a._t("Фотография появится в разделе Меню сразу после модерации: обычно на проверку уходит 1-2 дня"):a._t("Фотография появится в разделе с ценами сразу после модерации: обычно на проверку уходит 1-2 дня"),f=(0,Ie.I0)(),v=(0,i.useCallback)((()=>{f((0,o.j4)())}),[f]);return(0,r.jsx)(ps.R,Object.assign({onClose:v},{children:(0,r.jsxs)("div",Object.assign({ref:m,className:t(s.root)},{children:[(0,r.jsx)("div",Object.assign({className:t(s.icon)},{children:(0,r.jsx)(ds.w,{})})),(0,r.jsx)("div",Object.assign({className:t(s.caption)},{children:a._t("Знаете цену и другим подсказываете. Спасибо!")})),(0,r.jsx)("div",Object.assign({className:t(s.message)},{children:h})),(0,r.jsx)("div",Object.assign({className:t(s.button)},{children:(0,r.jsx)(X.Z,Object.assign({onClick:v},{children:a._t("Хорошо")}))}))]}))}))}));bs.displayName="MenuPhotoThankPopup";const ys=(0,le.k)({root:{padding:90,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center"},icon:{width:304,height:180},caption:Object.assign(Object.assign({},D.FY),{marginTop:32}),message:{marginTop:16},button:{marginTop:32}});var xs=s(49793),js=s(98160);const ws=(0,i.memo)((()=>{var e,t;const{css:s,s:a}=(0,le.y)(_s),n=(0,ce.T)(),c=(0,Ie.I0)(),d=is("erir"),l=(0,js.j)(d),u=!(null===(e=null==l?void 0:l.blocks)||void 0===e?void 0:e.length)&&!(null==l?void 0:l.isLoading)&&!(null==l?void 0:l.wasLoading),{onCopy:p,renderIdInput:g}=(0,js.e)(),m=(0,i.useCallback)((()=>{c((0,o.j4)())}),[c]);return(0,i.useEffect)((()=>{u&&c((0,o.j4)())}),[]),u?null:(0,r.jsx)(ps.R,Object.assign({onClose:m},{children:(0,r.jsxs)("div",Object.assign({className:s(a.root)},{children:[(0,r.jsx)("div",Object.assign({className:s(a.caption)},{children:n._t("О рекламодателе")})),(0,r.jsx)("div",Object.assign({className:s(a.info)},{children:(null==l?void 0:l.isLoading)?(0,r.jsx)(Oe.p,{}):(null===(t=null==l?void 0:l.blocks)||void 0===t?void 0:t.length)?(0,r.jsxs)(r.Fragment,{children:[l.blocks.map((({erid:e,legalName:t},i)=>(0,r.jsx)("div",Object.assign({className:s(a.block)},{children:(0,r.jsxs)(xs.v,Object.assign({inline:!0},{children:[t&&t,e&&(0,r.jsx)("span",Object.assign({className:s(a.erid)},{children:`erid: ${e}`})),"description"in l&&(0,r.jsx)("p",Object.assign({className:s(a.description)},{children:l.description}))]}))}),i))),!!l.erid&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(X.Z,Object.assign({styles:a.link,onClick:p},{children:n._t("Скопировать ID")})),g(l.erid)]})]}):n._t("Не удалось загрузить данные.")}))]}))}))}));ws.displayName="ErirPopup";const _s=(0,le.k)({root:{padding:24,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},caption:Object.assign(Object.assign({},D.FY),{marginTop:24}),info:{marginTop:12,textAlign:"center"},block:{marginTop:12,":first-child":{marginTop:0}},erid:{wordBreak:"break-all"},link:{marginTop:20,marginBottom:20},description:{padding:"10px 0"}}),Cs=()=>(0,r.jsx)(u.E,{loader:p.H.newYearPromoPopup,render:e=>(0,r.jsx)(e,{}),renderPlaceholder:g.Q}),Is=e=>(0,r.jsx)(u.E,{loader:p.H.mobileAppPromoBannerPopup,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:g.Q}),ks=e=>(0,r.jsx)(u.E,{loader:p.H.otelloChooseBookingParamsPopup,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:g.Q});var Os=s(61407);var Ss=s(57695),Ns=s(69452),Ms=s(62830);const Ts={32:"4504222397630173",38:"5348647327760881",21:"2956110025720010",9:"1267260165455895",1:"141360258613345",30:"4222747420917890",40:"5630122304471834",19:"2674635049009413",25:"3519059979141128",18:"2533897560653928",33:"4644959885983809",28:"3941272444207172",11:"1548735142166607",31:"4363484909273106",24:"3378322490785844",27:"11260016975675394",17:"2393160072298497",7:"985785188745271",23:"3237585002430511",13:"1830210118877480",36:"5067172351050327",35:"4926434862694425",114:"16044696473293721",43:"6052334769537063",241:"1267655302447163",3:"422835235324469",37:"5207909839405058",4:"563572723679253",2:"282097746968728",44:"6193072257892359",15:"2111685095587875",16:"2252422583943339",113:"15903958954410051",8:"1126522677100564",74:"10415196908552284",77:"10837409373618180",88:"12385521745526786",59:"8304134583222334",41:"5770859792826456",90:"12666996722237442",206:"70030076128121878",80:"11259621838684168",70:"9852246955130881",52:"7318972164734977",50:"7037497188024321",47:"6615284722958337",53:"7459709653090305",5:"704310212034621",115:"16185433961648964",58:"8163397094867289",97:"13652159140724744",39:"5489384816115713",34:"4785697374339092",22:"3096847514075285",55:"7741184629801014"},Ps=((0,E.gQ)("openOtelloPopupIfNeeded",(()=>(0,E.xJ)((e=>{const t=e.appContext.frames[0];return t?"search"===t.type?((e,t)=>{var s,r;if(!e.config.featureOtelloPopupInSearch)return(0,E.ZT)();if(!e.config.isHumanFromSeo)return(0,E.ZT)();const i=(0,se.yH)(e),a=i?Ts[i]:void 0;if(!a)return(0,E.ZT)();const n=(0,Ms.r)(t),c=(0,Ss.rO)({state:e,searchId:n}),d=(0,Ns.q)(null===(r=null===(s=c.data)||void 0===s?void 0:s.searchAttributes)||void 0===r?void 0:r.query_context);return(null==d?void 0:d.includes("269"))?(0,o.Mw)({id:(0,A.by)(),type:"otelloChooseBookingParamsPopup",subtype:"search",targetId:a,ownerFrameId:t.id,isClosableByClickingOutside:!0}):(0,E.ZT)()})(e,t):"entity"===t.type?((e,t)=>{var s,r,i;if(!e.config.featureOtelloPopupInCard)return(0,E.ZT)();if(!e.config.isHumanFromSeo)return(0,E.ZT)();const a=null===(s=(0,ut.wj)({state:e,entityId:t.entityId,searchId:t.searchId}))||void 0===s?void 0:s.data;if(!a)return(0,E.ZT)();const n=null===(r=(0,Os.k)(a))||void 0===r?void 0:r.adsBuyHere;return n&&(null===(i=n.actions)||void 0===i?void 0:i.find((e=>e.value.includes("otello.ru"))))?(0,o.Mw)({id:(0,A.by)(),type:"otelloChooseBookingParamsPopup",subtype:"hotel",targetId:t.entityId,ownerFrameId:t.id,isClosableByClickingOutside:!0}):(0,E.ZT)()})(e,t):(0,E.ZT)():(0,E.ZT)()})))),()=>(0,r.jsx)(u.E,{loader:p.H.installAppToSeeFriendsPopup,render:e=>(0,r.jsx)(e,{}),renderPlaceholder:g.Q}));var Es=s(33727);const Ls=()=>(0,r.jsx)(u.E,{loader:p.H.authFriendsOnMapPopup,render:e=>(0,r.jsx)(e,{}),renderPlaceholder:g.Q}),Rs=()=>(0,r.jsx)(u.E,{loader:p.H.invitingFriendsOnMapPopup,render:e=>(0,r.jsx)(e,{}),renderPlaceholder:g.Q}),zs=()=>(0,r.jsx)(u.E,{loader:p.H.mobileFriendsOnMapPopup,render:e=>(0,r.jsx)(e,{}),renderPlaceholder:g.Q}),As=()=>(0,r.jsx)(u.E,{loader:p.H.competitionNoFriends,render:e=>(0,r.jsx)(e,{}),renderPlaceholder:g.Q}),Fs=()=>(0,r.jsx)(u.E,{loader:p.H.competitionHaveFriends,render:e=>(0,r.jsx)(e,{}),renderPlaceholder:g.Q});s(45348);var Bs=s(75954),Zs=s(8082),Us=s(26239),Hs=s(93374);class Ds extends i.PureComponent{constructor(){super(...arguments),this.handleWrapperClick=()=>{this.props.popup.isClosableByClickingOutside&&!this.props.popup.isModal&&this.props.closePopup()}}render(){const{s:e,isDark:t,popup:s}=this.props,i=this.renderContentModule();return i?(0,r.jsx)(O.j.Provider,Object.assign({value:{frameId:s.id}},{children:(0,r.jsx)("div",Object.assign({className:(0,d.iv)(e.popup)},{children:(0,r.jsx)(b,Object.assign({isDark:t,onClick:this.handleWrapperClick},{children:i}))}))})):null}renderContentModule(){const{popup:e}=this.props;switch(e.type){case"feedback":return(0,r.jsx)(m,{type:e.subtype});case"createReview":case"editReview":return(0,r.jsx)(x,{popup:e});case"photoUploader":return(0,r.jsx)(y,{});case"typedFeedback":return(0,r.jsx)(j,{popup:e});case"editFavorite":return(0,r.jsx)(_,{popup:e});case"videoPlayer":return(0,r.jsx)(C.f,Object.assign({},e));case"entityVideoPlayer":return(0,r.jsx)(I,{popup:e});case"editUserProfile":return(0,r.jsx)(Te,{popup:e});case"deleteUserProfile":return(0,r.jsx)(Ae,{popup:e});case"subscribers":return(0,r.jsx)(He,{});case"subscriptions":return(0,r.jsx)(De,{});case"recommendations":return(0,r.jsx)(ts,{});case"successfulSubscriptions":return(0,r.jsx)(Yt,{popup:e});case"noFriends":return(0,r.jsx)(Xt.j,{});case"social":return(0,r.jsx)(es,{source:e.source});case"sharing":return(0,r.jsx)(k,{popup:e});case"complaint":return(0,r.jsx)(ct,{popup:e});case"emailConfirmation":return(0,r.jsx)(Ue,{popup:e});case"addReviewComment":return(0,r.jsx)(Nt,{popup:e});case"deliveryOrder":return(0,r.jsx)(Tt,{popup:e});case"cart":return(0,r.jsx)(Mt,{popup:e});case"sendOrder":return(0,r.jsx)(Pt,{popup:e});case"thanksForReview":return(0,r.jsx)(Et,{});case"thanksForPhoto":return(0,r.jsx)(Lt,{});case"personalDataAgreement":return(0,r.jsx)(Rt,{withDecline:e.withDecline});case"smmTipPopup":return(0,r.jsx)(zt,{popup:e});case"smmCheckout":return(0,r.jsx)(At,{popup:e});case"phoneConfirmationPopup":return(0,r.jsx)(Qt,{phone:e.phone,withDecline:e.withDecline,source:e.source,error:e.error});case"phonePopup":return(0,r.jsx)(Jt,{type:e.subtype});case"choosePhone":return(0,r.jsx)(os,{});case"menuPhotoThank":return(0,r.jsx)(bs,{});case"erir":return(0,r.jsx)(ws,{});case"newYearPromo":return(0,r.jsx)(Cs,{});case"otelloChooseBookingParamsPopup":return(0,r.jsx)(ks,{popup:e});case"mobileAppPromoBannerPopup":return(0,r.jsx)(Is,{promoType:e.promoType});case"installAppToSeeFriends":return(0,r.jsx)(Ps,{});case"editUserFavoritesPopup":return(0,r.jsx)(Es.Rl,{popup:e});case"mobileFriendsOnMapPopup":return(0,r.jsx)(zs,{});case"invitingFriendsOnMapPopup":return(0,r.jsx)(Rs,{});case"competitionNoFriendsOnMapPopup":return(0,r.jsx)(As,{});case"competitionHaveFriendsOnMapPopup":return(0,r.jsx)(Fs,{});case"authFriendsOnMapPopup":return(0,r.jsx)(Ls,{});case"layersControl":return(0,r.jsx)(Bs.mL,Object.assign({},e));case"friendInOtherDomain":return(0,r.jsx)(Zs.h,Object.assign({},e));case"broadcastEnded":return(0,r.jsx)(Us.C,Object.assign({},e));case"userRelationDifferencePopup":return(0,r.jsx)(Hs.qI,{publicUserId:e.publicUserId});default:return null}}}Ds.displayName=(0,l.I)("src/modules/popup");const $s=(0,a.$j)(n,c)((0,w.C)((({popup:e})=>{if(e)return{popup:e,isDark:"isPopupGlassDark"in e&&e.isPopupGlassDark}}))((0,d.D2)({popup:{position:"absolute",top:0,left:0,width:"100%",height:"100%"}})(Ds)))},77926:(e,t,s)=>{"use strict";s.d(t,{Q:()=>i});const r=(0,s(70021).T3)(),i=(e,t)=>s=>r({state:s,entityId:e,searchId:t}).data},57716:(e,t,s)=>{"use strict";s.d(t,{M:()=>d});var r=s(67753),i=s(29600),a=s(95359),n=s(354),o=s(76329),c=s(52981);const d=(0,r.gQ)("backToEntityCard",(e=>(0,n._N)((e=>e.appContext.graveyard),(t=>!(!t[0]||!t[0].find(o.B))?(0,r.vP)((0,i.BN)(),(0,a.hp)()):(0,r.vP)((0,a.IW)(),(0,c.xo)({id:e.id,type:e.type}))))))},35914:(e,t,s)=>{"use strict";s.d(t,{W:()=>u});var r=s(52322),i=s(2784),a=s(27215),n=s(19981),o=s(2933);const c=e=>(0,r.jsx)(n.E,{loader:o.H.privacyPolicyBanner,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:()=>(0,r.jsx)("div",{})});var d=s(64693),l=s(33511);const u=i.memo((({isAbsolute:e})=>{const t=(0,a.v9)((e=>e.appContext.showPrivacyPolicyBanner)),s=(0,i.useMemo)((()=>({frameId:(0,d.by)()})),[]);return t?(0,r.jsx)(l.j.Provider,Object.assign({value:s},{children:(0,r.jsx)(c,{isAbsolute:e})})):null}));u.displayName="PrivacyPolicyBanner"},44746:(e,t,s)=>{"use strict";s.d(t,{c:()=>g});var r=s(52322),i=s(2784),a=s(27215),n=s(46824),o=s(50894),c=s(98795);const d=()=>{const e=[(0,o.k)({isLabelShown:!0}),(0,c.d)({isLabelShown:!0})];return(0,r.jsx)(n.q,Object.assign({appearance:"transparent"},{children:e.map(((e,t)=>e&&(0,r.jsx)(n.Q,Object.assign({icon:e.icon,grow:"maximize"===e.type,type:"whiteWithShadow",onClick:e.onClick},{children:e.label}),`${e.type}-${t}`)))}))};var l=s(99863),u=s(70239);const p=()=>{const e=(0,u.l)(),t=e&&"tab"in e?e.tab:void 0,s=[(0,o.k)({isLabelShown:"whereToBuy"===t}),(0,l.o)({isLabelShown:!0})];return(0,r.jsx)(n.q,{children:s.map(((e,t)=>e&&(0,r.jsx)(n.Q,Object.assign({icon:e.icon,type:"whiteWithShadow",onClick:e.onClick},{children:e.label}),`${e.type}-${t}`)))})},g=(0,i.memo)((()=>(0,a.v9)((e=>!!e.appContext.isDataViewerMinimized))?(0,r.jsx)(d,{}):(0,r.jsx)(p,{})))},55164:(e,t,s)=>{"use strict";s.d(t,{$:()=>a});var r=s(95359),i=s(64693);function a(e){return(0,r.Jt)({id:(0,i.by)(),type:"publicFavorites",subtype:e})}},66071:(e,t,s)=>{"use strict";s.d(t,{T:()=>g});var r=s(67753),i=s(29600),a=s(95359),n=s(64693),o=s(354),c=s(10484),d=s(8143),l=s(34015),u=s(83575),p=s(92141);const g=(0,r.gQ)("openRealtyFrame",(e=>{const t=(0,n.by)(),s=null==e?void 0:e.entity,g=null==e?void 0:e.source,m=(0,n.by)();return(0,r.Rh)((({featureRealty:h,defaultCountryCode:f})=>h?(0,r.vP)((0,o._N)((e=>(0,c.t0)(e.appContext.frames,"realty")),(r=>{const o="KZ"===f&&l.jY.rentDaily.categoryId||(null==e?void 0:e.categoryId)||(null==r?void 0:r.categoryId)||l.jY.sale.categoryId;return(0,i.BN)((0,a.Jt)({id:(0,n.by)(),scrollId:(0,n.by)(),type:"realty",page:1,entity:s,searchId:t,reviewSearchId:m,suggestId:null==e?void 0:e.suggestId,filterPanelState:(null==r?void 0:r.filterPanelState)||"auto",filterValues:(null==e?void 0:e.filters)||(null==r?void 0:r.filterValues),categoryId:o,source:g,isOpenedFromMap:null==e?void 0:e.isOpenedFromMap}))})),(0,u.C)((0,d.l)()),(0,u.a)((0,o._N)((e=>e.appContext.isDataViewerMinimized),(e=>e&&(0,p.kG)({isMinimized:!1}))))):(0,r.ZT)()))}))},22849:(e,t,s)=>{"use strict";s.d(t,{T:()=>l,a:()=>d});var r=s(64693),i=s(29600),a=s(354),n=s(43854),o=s(96353),c=s(67753);const d=(0,c.gQ)("resetFilters",(()=>(0,n.nv)((e=>e?(0,n.qI)(e.id,(e=>Object.assign(Object.assign({},e),{entity:void 0,filterValues:{}}))):(0,c.ZT)())))),l=(0,c.gQ)("setFilter",(e=>{const{filter:t}=e,s=(0,r.by)();return(0,i.BN)((0,a._N)((e=>e.appContext.frames.find(n.Bg)),(e=>{if(!e||!(0,n.Bg)(e))return(0,c.ZT)();const i=void 0===t.value&&t.name&&e.filterValues?(0,r.CE)(e.filterValues,[t.name]):(0,o.X)(t,e.filterValues);return(0,n.qI)(e.id,(e=>Object.assign(Object.assign({},e),{searchId:(0,r.by)(),page:1,filtersId:s,scrollId:(0,r.by)(),filterValues:i,seoH1:void 0})))})))}))},43854:(e,t,s)=>{"use strict";s.d(t,{Bg:()=>a,nv:()=>n,qI:()=>o});var r=s(38853),i=s(76092);function a(e){return"realty"===e.type}const n=(0,r.r)(a),o=(0,i.F)(a)},25954:(e,t,s)=>{"use strict";s.d(t,{T:()=>o,U:()=>n});var r=s(27215),i=s(60256);function a(e,t){const s=(0,r.v9)(e),a=s&&(null==t?void 0:t.entityId)?Object.assign(Object.assign({},s),{geo_id:t.entityId}):s;return(0,i.kX)(a)}function n(e){return a(i.pJ,e)}function o(e){return a(i.nv,e)}},8143:(e,t,s)=>{"use strict";s.d(t,{l:()=>n});var r=s(67753),i=s(38859),a=s(56104);const n=(0,r.gQ)("killRealtyTooltip",(()=>(0,r.Mf)((0,i.p)(),(0,a.yy)({realtyHoveredId:void 0}))))},14304:(e,t,s)=>{"use strict";s.d(t,{Pk:()=>a,Tg:()=>c,iV:()=>l,uN:()=>d,xj:()=>n});var r=s(73985);const i="realtytooltip",a={[`data-${i}`]:!0},n=(0,r.c)(void 0),o=(0,r.c)(void 0),c=()=>{var e;return"true"===(null===(e=n.get())||void 0===e?void 0:e.dataset[i])},d=()=>{o.get()&&(clearTimeout(o.get()),o.set((()=>{})))},l=(e,t)=>{const s=setTimeout((()=>e()),t);o.set((()=>s))}},20858:(e,t,s)=>{"use strict";s.d(t,{p:()=>A});var r=s(52322),i=s(18337),a=s(67753),n=s(2784),o=s(27215),c=s(54974),d=s(29006),l=s(92141),u=s(6801),p=s(42858),g=s(75954),m=s(98584),h=s(20094),f=s(35253),v=s(49410),b=s(63993),y=s(31719),x=s(47958),j=s(46824),w=s(50278),_=s(72173),C=s(66908),I=s(25467),k=s(17926),O=s(85843);const S=n.memo((({onLogoClick:e,showFilters:t,showList:s})=>{const[i,a]=n.useState(!1),c=(0,o.v9)((e=>e.session.is3dEnabled)),{bssRef:d,useBssHandler:l}=(0,C.T)(),h=l(I.H,{type:i?"closeMapSubLayers":"mapSubLayers"}),f=n.useCallback((()=>{c&&(h(),a((e=>!e)))}),[c,h]),b=(0,o.v9)(w.j),S=!!b,M=g.GW.useRealtySublayers(),T=S?M.find((e=>e.type===b)):void 0,P=(0,p.T)(),{css:E,s:L}=(0,u.y)(N);return(0,r.jsx)("div",Object.assign({ref:d},{children:(0,r.jsxs)(j.q,Object.assign({appearance:"transparent"},{children:[(0,r.jsx)("button",Object.assign({onClick:e,className:E(L.dgisButton)},{children:(0,r.jsx)(k.y,{size:36})})),(0,r.jsx)(j.Q,Object.assign({onClick:t,icon:(0,r.jsx)(y.x,{}),type:"whiteWithShadow",dataN:"wat-realty-footer-filter"},{children:P._gg("Фильтры")})),(0,r.jsx)(j.Q,Object.assign({onClick:s,icon:(0,r.jsx)(_.a,{}),type:"whiteWithShadow",dataN:"wat-realty-footer-list"},{children:P._gg("Списком")})),(null==M?void 0:M.length)>0&&c&&(0,r.jsx)(j.Q,Object.assign({onClick:f,icon:(0,r.jsx)(x.S,{}),type:S?"blueWithShadow":"whiteWithShadow",dataN:"wat-realty-footer-sublyers"},{children:T?T.title:P._gg("Карты недвижимости")})),i&&c&&(0,r.jsx)("div",Object.assign({onClick:f,className:E(L.sublayerRoot)},{children:(0,r.jsxs)("div",Object.assign({className:E(L.sublayerList)},O.dx.n("wat-realty-footer-sublayer-list"),{children:[(0,r.jsxs)("div",Object.assign({className:E(L.sublayersHeader)},{children:[P._gg("Карты недвижимости"),(0,r.jsx)("div",Object.assign({className:E(L.icon)},{children:(0,r.jsx)(v.x,{color:m.O.gray_cccccc})}))]})),(0,r.jsx)(g.wF,{items:M,isListCollapsed:!i})]}))}))]}))}))})),N=(0,u.k)({dgisButton:{marginEnd:10},sublayerRoot:{position:"fixed",zIndex:f.W5.top,top:0,start:0,width:"100%",height:"100%",background:(0,h.j)(m.O.black,.7),display:"flex",flexDirection:"column",justifyContent:"flex-end"},sublayerList:{background:m.O.white,borderRadius:"8px 8px 0 0",paddingTop:20,paddingBottom:20,paddingStart:20,paddingEnd:24},sublayersHeader:Object.assign(Object.assign({},b.FY),{display:"flex",justifyContent:"space-between",paddingBottom:20}),icon:{display:"flex",justifyContent:"center",alignItems:"center",width:28,height:28}});var M=s(2502),T=s(48760),P=s(79597),E=s(34015);const L=n.memo((({onLogoClick:e,showFilters:t,showMap:s,entityId:i,goBack:a,categoryId:n})=>{const o=(0,p.T)(),{css:c,s:d}=(0,u.y)(R),l=(0,P.W)({type:n===E.jY.rent.categoryId?"realtyRent":"realtySales"});return(0,r.jsxs)(j.q,{children:[i?(0,r.jsx)(j.Q,{href:l,onClick:a,icon:(0,r.jsx)(T.x,{})}):(0,r.jsx)("button",Object.assign({onClick:e,className:c(d.dgisButton)},{children:(0,r.jsx)(k.y,{size:36})})),(0,r.jsx)(j.Q,Object.assign({dataN:"wat-realty-footer-filters",onClick:t,icon:(0,r.jsx)(y.x,{})},{children:o._gg("Фильтры")})),(0,r.jsx)(j.Q,Object.assign({dataN:"wat-realty-footer-map",onClick:s,icon:(0,r.jsx)(M.D,{})},{children:o._gg("На карте")}))]})})),R=(0,u.k)({dgisButton:{marginEnd:10}});var z=s(41582);const A=(0,n.memo)((()=>{const e=(0,o.v9)((e=>e.appContext.frames[0]));return e&&"realty"===e.type&&"manuallyOpened"!==e.filterPanelState?(0,r.jsx)(F,{frame:e}):null})),F=(0,n.memo)((({frame:e})=>{var t;const s=(0,o.v9)((e=>e.appContext.isDataViewerMinimized)),n=(0,o.I0)(),u=(0,c.$)((()=>{n((0,i.R)("Уверены, что хотите покинуть раздел недвижимости?",(()=>(0,a.PQ)((()=>{window.location.href=`https://${window.location.host}`})))))})),p=(0,c.$)((()=>n((0,z.h)()))),g=(0,c.$)((()=>n((0,a.vP)((0,l.kG)({isMinimized:!1}),(0,d.v)({frameId:e.id,shouldOpen:!0}))))),m=(0,c.$)((()=>{n((0,l.kG)({isMinimized:!s}))}));return s?(0,r.jsx)(S,{onLogoClick:u,showFilters:g,showList:m}):(0,r.jsx)(L,{onLogoClick:u,showFilters:g,showMap:m,entityId:null===(t=e.entity)||void 0===t?void 0:t.id,goBack:p,categoryId:e.categoryId})}))},60256:(e,t,s)=>{"use strict";s.d(t,{Sk:()=>h,d2:()=>m,kX:()=>g,nv:()=>v,pJ:()=>f});var r=s(22970),i=s(66842),a=s(42866),n=s(49013),o=s(60786),c=s(64693),d=s(42313),l=s(26287),u=s(10484),p=s(34015);const{use:g,prefetch:m,withQueryState:h}=(0,a.r)("realty-search",(e=>[(0,c.CE)(e,["viewpoint"]),({services:t})=>(0,r.mG)(void 0,void 0,void 0,(function*(){const s=(0,c.CE)(e,["region_id"]);return yield t.marketApi.getRealtyItems(s)}))]),{staleTime:1/0,cacheTime:1/0}),f=(0,o.P1)([e=>(0,u.t0)(e.appContext.frames,"realty"),d.Id,l.k2,e=>e.appContext.weak.realtyListRegionId,e=>{var t,s;return"true"===(null===(s=null===(t=(0,u.t0)(e.appContext.frames,"realty"))||void 0===t?void 0:t.filterValues)||void 0===s?void 0:s.on_map)?(0,i.ds)(Object.assign(Object.assign({},(0,d.Z1)(e)),{mapSize:(0,n.o)(e.session.screen,(0,d.v9)(e))})):void 0}],((e,t,s,r,i)=>{var a;if(e&&t)return{region_id:r||s,viewpoint:t,locale:"ru_RU",geometry:i,category_ids:e.categoryId,geo_id:null===(a=e.entity)||void 0===a?void 0:a.id,page:(null==e?void 0:e.page)||1,page_size:50,filters:null==e?void 0:e.filterValues}})),v=(0,o.P1)([d.Id,l.k2],((e,t)=>({region_id:t,viewpoint:e,locale:"ru_RU",geometry:void 0,category_ids:p.jY.sale.categoryId,geo_id:void 0,page:1,page_size:1})))},50278:(e,t,s)=>{"use strict";s.d(t,{j:()=>r});const r=e=>e.appContext.activeSublayer},24743:(e,t,s)=>{"use strict";s.d(t,{c:()=>n});var r=s(64693),i=s(43854),a=s(67753);const n=(0,a.gQ)("changeCategory",(e=>{const{newValue:t}=e;return(0,i.nv)((e=>e?(0,i.qI)(e.id,(e=>Object.assign(Object.assign({},e),{searchId:(0,r.by)(),filterValues:{},page:1,categoryId:t,scrollId:(0,r.by)(),seoH1:void 0}))):(0,a.ZT)()))}))},55247:(e,t,s)=>{"use strict";s.d(t,{Q:()=>v});var r=s(52322),i=s(67753),a=s(2784),n=s(27215),o=s(54974),c=s(42858),d=s(92141),l=s(69088),u=s(41582),p=s(2502),g=s(48760),m=s(72173),h=s(77166),f=s(46824);const v=(0,a.memo)((({href:e})=>{const t=(0,n.v9)((e=>e.appContext.frames[0]));return t&&"realtyCard"===t.type?(0,r.jsx)(b,{frame:t,href:e}):null})),b=(0,a.memo)((({frame:e,href:t})=>{const s=(0,n.v9)((e=>e.appContext.isDataViewerMinimized)),a="tab"in e?e.tab:void 0,v=(0,n.I0)(),b=(0,c.T)(),y=(0,o.$)((()=>{v((0,i.vP)(!!e.buildingId&&(0,l.vr)({entityId:e.buildingId}),(0,d.kG)({isMinimized:!s})))})),x=(0,o.$)((()=>{v((0,i.vP)((0,u.h)(),(0,d.kG)({isMinimized:!1})))})),j=b._gg("К результатам"),w=s?b._gg("Объявлениe"):b._gg("Дом на карте");return"ad"===a||s?(0,r.jsxs)(f.q,Object.assign({appearance:s?"transparent":"solid"},{children:[(0,r.jsx)(f.Q,Object.assign({onClick:x,icon:s?(0,r.jsx)(m.a,{}):(0,r.jsx)(g.x,{}),type:s?"whiteWithShadow":"gray",href:t,dataT:j},{children:j})),(0,r.jsx)(f.Q,Object.assign({onClick:y,icon:s?(0,r.jsx)(h.Ad,{}):(0,r.jsx)(p.D,{}),grow:!0,type:s?"whiteWithShadow":"gray",dataT:w},{children:w}))]})):(0,r.jsxs)(f.q,Object.assign({appearance:"solid"},{children:[(0,r.jsx)(f.Q,{onClick:x,icon:(0,r.jsx)(g.x,{}),href:t,dataT:j}),(0,r.jsx)(f.Q,{onClick:y,icon:(0,r.jsx)(p.D,{}),dataT:w})]}))}))},12551:(e,t,s)=>{"use strict";s.d(t,{i:()=>c});var r=s(95359),i=s(64693),a=s(67753),n=s(29600),o=s(43854);const c=(0,a.gQ)("openRealtyCard",(e=>{const t=(0,o.nv)((t=>(0,r.Jt)({id:(0,i.by)(),reviewSearchId:(null==t?void 0:t.reviewSearchId)||(0,i.by)(),type:"realtyCard",realtyId:e.realtyId,tab:e.tab||"ad"}))),s=(null==e?void 0:e.skipHistoryPush)?t:(0,n.BN)(t);return(0,a.Rh)((({featureRealty:e})=>e?s:(0,a.ZT)()))}))},17803:(e,t,s)=>{"use strict";s.d(t,{P5:()=>n,wy:()=>o,yb:()=>a});var r=s(38853),i=s(76092);function a(e){return"realtyCard"===e.type}const n=(0,r.r)(a),o=(0,i.F)(a)},54833:(e,t,s)=>{"use strict";s.d(t,{$G:()=>n,VX:()=>c,ux:()=>d});var r=s(22970),i=s(42866),a=s(64693);const{use:n,prefetch:o,withQueryState:c}=(0,i.r)("getRealtyItem",(e=>({services:t})=>(0,r.mG)(void 0,void 0,void 0,(function*(){if(e.id)try{return yield t.marketApi.getRealtyItem(Object.assign(Object.assign({},e),{id:e.id}))}catch(e){if((0,a.Kn)(e)&&"code"in e&&404===e.code)return;throw e}}))),{staleTime:1/0,cacheTime:1/0}),d=e=>{if(e&&e.realtyId)return{id:e.realtyId,locale:"ru_RU"}}},70647:(e,t,s)=>{"use strict";function r(e){return"realtyIsochroneDriving"===e||"realtyIsochroneWalking"===e}s.d(t,{j:()=>r})},7268:(e,t,s)=>{"use strict";s.d(t,{f:()=>d});var r=s(95359),i=s(64693),a=s(54400),n=s(67753),o=s(26287),c=s(66204);function d(){return(0,n.vP)((0,n.xJ)((e=>{const t=(0,o.fq)(e);return(0,r.Jt)({regionId:t,id:(0,i.by)(),type:"rubricator"})})),(0,a.dl)(),(0,c.p_)({suggesterKey:"primary",show:!1}))}},67759:(e,t,s)=>{"use strict";s.d(t,{h:()=>r});const r=(e,t)=>{var s,r;const i=e.find((e=>"buttons"===e.widget&&"tag"in e&&e.tag===t));return null===(r=null===(s=null==i?void 0:i.items)||void 0===s?void 0:s[0])||void 0===r?void 0:r[0].values}},8299:(e,t,s)=>{"use strict";s.d(t,{z:()=>O});var r=s(52322),i=s(2784),a=s(27215),n=s(29006),o=s(46824),c=s(98795),d=s(54974),l=s(42858),u=s(67753);const p=e=>"offers"!==(null==e?void 0:e.searchType);var g=s(92141),m=s(31719),h=s(2576);function f({signalToOpen:e,trackBssTap:t}){const s=(0,a.I0)(),i=(0,l.T)(),n=(0,h.N)("search"),o=p(n),c=(0,d.$)((()=>{t(),s((0,u.vP)((0,g.kG)({isMinimized:!1}),e))}));if(o)return{type:"filters",label:i._t("Фильтры"),icon:(0,r.jsx)(m.x,{}),href:void 0,onClick:c}}var v=s(354),b=s(66908),y=s(88409);const x=()=>(e,t)=>{const s=t.appContext.frames.find((e=>"search"===e.type));if(!s||"search"!==s.type)return;const r=(0,y.v)(s);return{uiElement:{name:"showFilters",frameUuid:s.id,ownerName:r},action:"tap"}},j=()=>{const{useBssHandler:e}=(0,b.T)(),t=e(x),s=[f({signalToOpen:(0,v._N)((e=>e.appContext.frames[0]),(e=>(0,n.v)({frameId:e.id,shouldOpen:!0}))),trackBssTap:t}),(0,c.d)({isLabelShown:!0})];return(0,r.jsx)(o.q,Object.assign({appearance:"transparent"},{children:s.map(((e,t)=>e&&(0,r.jsx)(o.Q,Object.assign({icon:e.icon,grow:"maximize"===e.type,type:"whiteWithShadow",onClick:e.onClick},{children:e.label}),`${e.type}-${t}`)))}))};var w=s(29600),_=s(48760),C=s(2502),I=s(57716);const k=()=>{const e=(0,a.I0)(),t=(0,l.T)(),s=(0,h.N)("search"),{useBssHandler:i}=(0,b.T)(),c=i(x),u=p(s),f=(0,d.$)((()=>{e((0,w.BN)((0,g.kG)({isMinimized:!0})))})),y=(0,d.$)((()=>{s&&(c(),e((0,n.v)({frameId:s.id,shouldOpen:!0})))})),j=(0,d.$)((()=>{e((0,v._N)((e=>{var t;return"offers"===(null==s?void 0:s.searchType)&&s.branchId?null===(t=e.data.entity.profile[s.branchId])||void 0===t?void 0:t.data:void 0}),(e=>e&&(0,I.M)(e))))}));return(0,r.jsxs)(o.q,{children:["offers"===(null==s?void 0:s.searchType)&&(0,r.jsx)(o.Q,Object.assign({icon:(0,r.jsx)(_.x,{}),onClick:j},{children:t._t("Назад к карточке")})),u&&(0,r.jsx)(o.Q,Object.assign({dataT:"Фильтры",icon:(0,r.jsx)(m.x,{}),onClick:y},{children:t._t("Фильтры")})),(0,r.jsx)(o.Q,Object.assign({dataT:"На карте",icon:(0,r.jsx)(C.D,{}),grow:!0,onClick:f},{children:t._t("На карте")}))]})},O=(0,i.memo)((()=>(0,a.v9)((e=>!!e.appContext.isDataViewerMinimized))?(0,r.jsx)(j,{}):(0,r.jsx)(k,{})))},20793:(e,t,s)=>{"use strict";s.d(t,{J:()=>f,l:()=>h});var r=s(67753),i=s(64693),a=s(95359),n=s(62377),o=s(354),c=s(65649),d=s(51604),l=s(96353),u=s(874),p=s(29600),g=s(60284),m=s(2421);const h=(0,r.gQ)("openSearchBranchOffers",(({query:e="",filterValues:t={},page:s=1,branchId:p,branchSearchId:g=u.Mt,categoryId:m})=>{const h=(0,i.by)(),f=(0,i.by)(),v=(0,i.by)(),b=m&&t.category_ids!==m?(0,l.X)({valueType:"single",value:m,isChecked:!0,name:"category_ids"},t):t;return(0,r.vP)((0,a.Jt)({id:(0,i.by)(),type:"search",searchType:"offers",searchId:h,filtersId:(0,d.Ue)(v),query:e,filterValues:b,statusId:f,branchId:p,branchSearchId:g,filterPanelState:"auto",page:(0,d.Ue)(s)}),(0,o._N)((e=>(0,c.O)(e)),(t=>(0,n.V1)({branchId:p,offersSearchId:h,filtersId:v,filters:b,query:e,page:s,locale:t,statusId:f}))))})),f=(0,r.gQ)("searchBuyHere",(({adsIds:e,isFMCG:t=!1,page:s=1,filters:n={}})=>{const c=(0,i.by)(),l=(0,i.by)();return(0,r.vP)((0,p.BN)((0,a.Jt)({id:(0,i.by)(),type:"search",searchType:t?"fmcg":"buyHere",query:"",filterPanelState:"auto",adsIds:e,searchId:(0,d.Ue)(c),page:(0,d.Ue)(s),scrollIdHash:(0,i.by)(),filtersId:l,filterValues:n})),(0,o.zh)((t=>(0,r.Mf)((0,o._N)((e=>e.session.geolocation.position),(r=>(0,g.Hq)({query:"",searchId:c,page:s,viewpoint:t,adsIds:e,filtersId:l,filters:n,withFilters:!0,sortPoint:r}))),(0,r.XJ)((0,m.l)())))))}))},29006:(e,t,s)=>{"use strict";s.d(t,{v:()=>n});var r=s(67753),i=s(95359),a=s(10484);function n(e){return(0,r.vP)(e.shouldOpen?(0,r.xJ)((e=>{const t=(0,a.t0)(e.appContext.frames,"offer");if(t)return(0,i.t7)({id:t.id})})):void 0,(0,i.D_)(e.frameId,(t=>Object.assign(Object.assign({},t),{filterPanelState:e.shouldOpen?"manuallyOpened":"manuallyClosed"}))))}},66108:(e,t,s)=>{"use strict";s.d(t,{G:()=>i});const r=["Премия","Премия 2ГИС","Премия 2ГИС 2023","Премия 2GIS","Премия 2023","Award","2GIS Award","2GIS Award for 2023","2023 Award","Award 2023","сыйлығы","2ГИС сыйлығы","2ГИС сыйлығы 2023","сыйлығы 2023"].map((e=>e.toLowerCase())),i=e=>{const{searchType:t,awards2GisTags:s,query:i,checkAwards2GisTags:a=!0,config:n}=e;if("query"!==t)return!1;if(!n.feature2gisAwards)return!1;if(a&&!(null==s?void 0:s.length))return!1;const o=null==i?void 0:i.trim().toLowerCase();return!!o&&r.includes(o)}},96389:(e,t,s)=>{"use strict";s.d(t,{B:()=>o,x:()=>c});var r=s(27516),i=s(33451),a=s(67753),n=s(29600);const o=(0,a.gQ)("openSendOrderPopup",(e=>e.hasDelivery?(0,r.mk)("openSendOrderPopup",e):c(e))),c=(0,a.gQ)("openSendOrderPopupSimple",(e=>(0,n.BN)((0,i.Mw)({type:"sendOrder",id:e.popupId,params:e}))))},53164:(e,t,s)=>{"use strict";s.d(t,{Me:()=>n,Ru:()=>o,nE:()=>d,rK:()=>c,sX:()=>a});var r=s(36804),i=s(58666);const a=({ownerName:e})=>(t,s)=>({uiElement:{name:"share",ownerName:e,frameUuid:t.frameId},action:"tap",payload:{placeItem:(0,r.s)({state:s,entityFrameId:t.frameId})}}),n=()=>(e,t)=>(0,i.xl)({state:t,name:"shareFrame",uuid:e.frameId}),o=()=>e=>({uiElement:{name:"devicesList",frameUuid:e.frameId,ownerName:"shareFrame"}}),c=()=>e=>({uiElement:{name:"device",ownerName:"devicesList",frameUuid:e.frameId},action:"tap"}),d=()=>e=>({uiElement:{name:"copy",ownerName:"shareFrame",frameUuid:e.frameId},action:"tap"})},69367:(e,t,s)=>{"use strict";s.d(t,{q:()=>p});var r=s(67753),i=s(33451),a=s(64693),n=s(12177),o=s(96467),c=s(47818),d=s(52138),l=s(10484);function u(e){const t=["userProfile","collection"],s=(0,l.t0)(e.frames,"collection");return Object.assign(Object.assign({},e),{frames:"private"===(null==s?void 0:s.subtype)?e.frames.filter((e=>!t.includes(e.type))):e.frames})}const p=(0,r.gQ)("openSharingPopup",(e=>(0,r.XJ)((0,r.xJ)((t=>{const s=(0,a.by)(),l=e.path||(0,c.M)((0,d.V)(Object.assign(Object.assign({},t),{appContext:u(t.appContext)}))),p=l?`${location.protocol}//${location.host}${l}`:location.href;return(0,r.vP)((0,i.Mw)({id:s,type:"sharing",isPopupGlassDark:!0,urlToShort:p,frameId:e.frameId}),(0,n.D)({url:p}),(0,o.ZX)())})))))},96467:(e,t,s)=>{"use strict";s.d(t,{ZX:()=>h,du:()=>v,i9:()=>m,jo:()=>f});var r=s(67753),i=s(55476),a=s(53800),n=s(33451),o=s(27516),c=s(64693),d=s(10694),l=s(76171),u=s(36928),p=s(25696),g=s(7763);const m=()=>(0,o.mk)("openSharingPopup"),h=(0,r.gQ)("fetchDevices",(()=>(0,r.XJ)((0,r.xJ)((e=>(0,i.Pc)(e)?(0,a.L)({}):(0,r.ZT)()))))),f=(0,r.gQ)("pushNotification",(e=>(0,r.XJ)((0,r.xJ)((t=>{if(!(0,i.Pc)(t))return(0,r.ZT)();const s=(0,c.by)();return(0,r.vP)((0,a.h)(Object.assign(Object.assign({},e),{statusId:s})),(0,d.$c)(s,(t=>(0,p.d)(t)?(0,r.vP)((0,n.j4)(),(0,g.$0)((({tp:t})=>(0,l.c)((0,u.V)({title:t._t("Готово"),message:t._t("Уведомление отправлено на %1",[e.deviceName])}))))):(0,g.$0)((({tp:e})=>(0,l.c)((0,u.v)({title:e._t("Ошибка!"),message:e._t("Не удалось отправить уведомление, попробуйте позднее")})))))))}))))),v=(0,r.gQ)("copyShareLink",(()=>(0,r.vP)((0,n.j4)(),(0,g.$0)((({tp:e})=>(0,l.c)((0,u.V)({title:e._t("Готово"),message:e._t("Ссылка скопирована")})))))))},10504:(e,t,s)=>{"use strict";s.d(t,{Y:()=>r});const r=(0,s(73985).c)(!1)},70877:(e,t,s)=>{"use strict";s.d(t,{r:()=>c});var r=s(32712),i=s(67753),a=s(64693),n=s(58666),o=s(354);const c=e=>({bssSideMenuClick(){e((0,o.gF)({showFrameEvent:e=>(0,n.xl)({state:e,name:"sidebar",uuid:e.appContext.staticFrames.sidebar.id}),mapUuid:e=>e.appContext.staticFrames.map.id},(({showFrameEvent:e,mapUuid:t})=>(0,i.vP)((0,r.zs)({uiElement:{name:"sidebarIcon",frameUuid:t},action:"tap"}),e&&(0,r.GM)(Object.assign(Object.assign({},e),{showEventKey:(0,a.by)()}))))))},bssOnFeedbackClick(){e((0,o._N)((e=>e.appContext.staticFrames.sidebar.id),(e=>(0,r.zs)({uiElement:{name:"feedbackButton",ownerName:"sidebar",frameUuid:e},action:"tap"}))))}})},38356:(e,t,s)=>{"use strict";s.d(t,{Ep:()=>n,o8:()=>a,oi:()=>o});var r=s(67753),i=s(10961);const a=(0,s(40554).mq)("UI/SET_SHOW_SNOW"),n=(0,r.gQ)("setSnowStatus",((e,t)=>(0,r.vP)(a({status:e,allowSnowStyle:t}),(0,i.m)({name:"noSnow",value:"off"===e}))));function o(){return(0,r.xJ)((e=>(0,r.Rh)((({isMobileDevice:t,featureNewYear:s})=>t?a({status:"off",intensity:0,allowSnowStyle:e.appContext.showSnow.allowSnowStyle}):e.session.is3dEnabled&&s?(0,r.ZT)():a({status:"off",intensity:0,allowSnowStyle:!1})))))}},64516:(e,t,s)=>{"use strict";s.d(t,{Y:()=>n,I:()=>c});var r=s(67753),i=s(56104),a=s(64693);const n=(0,r.gQ)("showAddedToCollectionToast",(e=>{const{collectionId:t,item:s,targetBoundingClientRect:r}=e;return(0,i.yy)({toast:{id:(0,a.by)(),type:"addedToCollection",collectionId:t,item:s,targetBoundingClientRect:r}})}));var o=s(10961);const c=(0,r.gQ)("showPromoToast",(e=>{const{targetBoundingClientRect:t,type:s,to:n,offset:c}=e;return(0,r.xJ)((e=>{const d=`_seen-${s}`;return!e.session.flags[d]&&(0,r.vP)((0,i.yy)({toast:{id:(0,a.by)(),type:"showPromoToast",subtype:s,targetBoundingClientRect:t,to:n,offset:c}}),(0,o.m)({name:d,value:!0}))}))}))},60555:(e,t,s)=>{"use strict";s.d(t,{y:()=>i});var r=s(56104);const i=()=>(0,r.yy)({toast:void 0})},11251:(e,t,s)=>{"use strict";s.d(t,{M:()=>B,u:()=>Z});var r=s(52322),i=s(2784),a=s(39314),n=s(23198),o=s(5076);function c({tooltip:e}){if(!e)return;const t=d(e);return t?{targetClientRect:(0,o.Y)({left:e.point[0],top:e.point[1]}),tooltipData:t}:void 0}function d(e){if("poi"===e.origin){if(!e.poi)return;return{type:"poi",data:e.poi}}if(!e.marker)return;const t=(0,n.X)(e.marker);if(t)switch(t.source){case"catalog":case"favorites":case"infrastructure":return{type:"catalog",data:t,marker:e.marker};case"tUgc":return{type:"tUgc"};case"realty":return{type:"realty",data:t,marker:e.marker};case"exchange":return{type:"exchange",data:t,marker:e.marker};default:return}}var l=s(66908),u=s(98584),p=s(6801),g=s(58154),m=s(78540),h=s(22480),f=s(63993),v=s(57935),b=s(94577),y=s(34118),x=s(98200);var j=s(70923),w=s(27215),_=s(26287);const C=({tUgcEvent:e,offset:t},{tp:s,dateFns:r,config:i})=>{if(e)return{title:(0,m.N)(e,s),description:(0,h.j)(e,s,i),hint:(0,g.d)(e,s,r,i,t),comment:e.comment}},I=(0,i.memo)((e=>{var t,s;const{tooltipId:i}=e,a=(0,b.c)({id:i}),n=(0,w.v9)((e=>(0,_.mI)({state:e,code:(0,_.SJ)(e)||""}))),{data:o,isFetching:c}=(0,j.c)({eventId:i}),d=null===(t=null==o?void 0:o[0])||void 0===t?void 0:t.preview_urls["328x170"];return(0,r.jsx)(k,{photo:d,tUgcEvent:a,isFetching:c,offset:(null===(s=null==n?void 0:n.time_zone)||void 0===s?void 0:s.offset)||0})}));I.displayName="TUgcTooltip";const k=(0,i.memo)((e=>{const{photo:t,tUgcEvent:s,isFetching:i,offset:a}=e,{s:n,css:o}=(0,p.y)(O),{bssRef:c}=(0,l.T)((d={tUgcEvent:s},({frameId:e},t)=>{const{tUgcEvent:s}=d;if(s)return{uiElement:{name:"tUGCTooltip",ownerName:"tUGCPOI",frameUuid:e},payload:{tUGC:{id:s.id,category:(0,y.N)(s),mode:(0,x.P)(t)}}}}));var d;const u=(0,v.Gb)(C,{tUgcEvent:s,offset:a});if(!u||i)return null;const{title:g,description:m,comment:h,hint:f}=u;return(0,r.jsxs)("div",Object.assign({className:o(n.root),ref:c},{children:[(0,r.jsxs)("div",Object.assign({className:o(n.content)},{children:[(0,r.jsx)("div",Object.assign({className:o(n.title)},{children:g})),m&&(0,r.jsx)("div",Object.assign({className:o(n.description)},{children:m})),h&&(0,r.jsx)("div",Object.assign({className:o(n.comment)},{children:h})),f&&(0,r.jsx)("div",Object.assign({className:o(n.hint)},{children:f}))]})),t&&(0,r.jsx)("div",{className:o(n.photo),style:{backgroundImage:`url(${t})`}})]}))}));k.displayName="TUgcTooltipInner";const O=(0,p.k)({root:Object.assign({minHeight:64,display:"flex",justifyContent:"space-between"},f.oN),content:{minWidth:0,padding:16},title:{paddingBottom:2,color:u.O.blue_0072ce},description:Object.assign({},f.yG),comment:Object.assign({paddingTop:2},(0,f.KU)(3,f.yG)),hint:Object.assign({paddingTop:8,color:u.O.gray_929292,whiteSpace:"nowrap",textOverflow:"ellipsis",maxWidth:"100%",overflow:"hidden"},f.yG),photo:{flex:"0 0 64px",width:64,minHeight:64,maxHeight:"100%",backgroundSize:"cover",backgroundPosition:"center"}});var S=s(36291),N=s(19981),M=s(2933),T=s(67848);const P=e=>(0,r.jsx)(N.E,{loader:M.H.realtyTooltip,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:T.Q});var E=s(73985),L=s(70021),R=s(42313);const z=e=>(0,r.jsx)(N.E,{loader:M.H.exchangeTooltip,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:T.Q});var A=s(32260),F=s(65796);const B=(0,E.c)(void 0),Z=i.memo((()=>{const e=B.use(),t=(0,v.Gb)(c,{tooltip:e});if(!e||!t)return null;const{targetClientRect:s,tooltipData:i}=t;return(0,r.jsx)(S.k,Object.assign({to:"bottomEnd",targetBoundingClientRect:s,offset:5,pointerEvents:"none"},{children:(0,r.jsx)(F.S,Object.assign({dataN:"wat-tooltip"},{children:(0,r.jsx)(U,{tooltipId:e.id,tooltipData:i})}))}))}));function U(e){var t;const{tooltipData:s,tooltipId:i}=e,n=(0,w.v9)((e=>(0,L.wj)({state:e,entityId:i,searchId:(0,R.WK)(e)}))).data,o=(0,w.v9)((e=>e.session.time));switch(s.type){case"realty":const e=null===(t=null==s?void 0:s.marker)||void 0===t?void 0:t.buildingId;return e?(0,r.jsx)(P,{entityId:e},e):null;case"catalog":case"poi":return(0,r.jsx)(a.B,{entity:n,tooltipData:s,marker:"marker"in s?s.marker:void 0,time:o});case"tUgc":return(0,r.jsx)(I,{tooltipId:i});case"exchange":return(0,r.jsx)(z,{marker:s.marker});case"friend":return(0,r.jsx)(A.jo,{friendId:s.friendId});default:return null}}Z.displayName="Tooltip"},23215:(e,t,s)=>{"use strict";s.d(t,{r:()=>a});var r=s(33451),i=s(64693);function a(e){return(0,r.Mw)({id:(0,i.by)(),type:"typedFeedback",withBackToFeedbackForm:e.withBackToFeedbackForm,subtype:e.subtype,frameId:e.frameId,entityId:e&&e.entityId,searchId:e&&e.searchId})}},68745:(e,t,s)=>{"use strict";s.d(t,{s:()=>o});var r=s(67817),i=s(67753),a=s(29600),n=s(60555);const o=(0,i.gQ)("openProfile",(e=>{return(0,i.vP)((0,a.BN)(),(0,r.D)("achievements"===(t=e)||"photos"===t||"feedbacks"===t||"reviews"===t||"favorites"===t||"missions"===t||"places"===t?t:void 0),(0,n.y)());var t}))},3060:(e,t,s)=>{"use strict";s.d(t,{s:()=>u,y:()=>d});var r=s(52322),i=s(2784),a=s(6801),n=s(85843),o=s(63993),c=s(98584);const d=(0,i.memo)((e=>{const{image:t,title:s,description:i,styles:o,titleStyle:c,imageStyle:d}=e,{s:u,css:p}=(0,a.y)(l);return(0,r.jsxs)("figure",Object.assign({className:p(u.wrapper,o)},n.dx.n("wat-empty-ugc"),{children:[(0,r.jsx)("div",Object.assign({className:p(u.image,d)},n.dx.n("wat-status-empty-image"),{children:t})),(0,r.jsxs)("figcaption",{children:[(0,r.jsx)("p",Object.assign({className:p(u.title,c)},n.dx.n("wat-status-empty-title"),{children:s})),i&&(0,r.jsx)("p",Object.assign({className:p(u.description)},n.dx.n("wat-status-empty-description"),{children:i}))]})]}))})),l=(0,a.k)({wrapper:{padding:"48px 66px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},image:{marginBottom:32},title:Object.assign(Object.assign({},o.FY),{marginBottom:12}),description:Object.assign({},o.oN)}),u=(0,i.memo)((e=>{const{message:t}=e,{s,css:i}=(0,a.y)(p);return(0,r.jsxs)("div",Object.assign({},n.dx.n("wat-empty-ugc"),{className:i(s.wrapper)},{children:[(0,r.jsx)("div",Object.assign({className:i(s.icon)},{children:(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"140",height:"140",viewBox:"0 0 140 140"},{children:(0,r.jsxs)("g",{children:[(0,r.jsx)("path",{fill:"#E6E6E6",d:"M57.804 47.49a20.454 20.454 0 0 0-2.914-3.287C57.716 38.736 63.422 35 70 35c6.485 0 12.122 3.631 14.988 8.971l-.375 1.093c0 2.527-.408 4.88-1.099 6.936H83c0-7.18-5.82-13-13-13-5.594 0-10.362 3.533-12.196 8.49zm44.516 58.78l2.828-2.829 14.85 14.85-2.829 2.828-14.85-14.85zM18.88 22.83l2.829-2.828 14.849 14.849-2.829 2.828-14.849-14.849zm98.995-4.243l2.829 2.829-14.85 14.849-2.828-2.828 14.85-14.85zm-83.438 83.439l2.828 2.828-14.85 14.85-2.828-2.829 14.85-14.85zM119 73v-4h21v4h-21zM0 73v-4h21v4H0zM68 0h4v21h-4V0zm0 118h4v21h-4v-21zm0-68v-5h4v5h5v4h-5v5h-4v-5h-5v-4h5z"}),(0,r.jsx)("path",{fill:"#B5D4ED",d:"M58 88c0-6.619 5.381-12 12-12s12 5.381 12 12-5.381 12-12 12-12-5.381-12-12zm4 0c0 4.41 3.59 8 8 8s8-3.59 8-8-3.59-8-8-8-8 3.59-8 8zM52 76v24.002A2.996 2.996 0 0 0 55.005 103h29.99A2.999 2.999 0 0 0 88 100.002V76h-4.958l-.155-.025a9.676 9.676 0 0 1-2.803-.931c-1.406-.717-2.484-1.73-3.02-3.193L76.11 69H63.89l-.974 2.904c-.517 1.41-1.594 2.423-3 3.14a9.673 9.673 0 0 1-2.803.931l-.155.025H52zm40-4v28.002A6.999 6.999 0 0 1 84.995 107h-29.99A6.996 6.996 0 0 1 48 100.002V72h8.613c.086-.019.204-.047.345-.086.396-.109.79-.254 1.14-.434.588-.3.946-.635 1.043-.9L61.012 65h17.976l.457 1.365 1.394 4.163c.116.317.474.652 1.062.952.351.18.745.325 1.14.434.142.039.26.067.346.086H92zm-60.718-6.547c4.993 0 8.424 2.963 10.354 7.94 1.375 3.545 1.947 7.93 1.947 12.652 0 .378.016.793.045 1.21.017.25.033.442.044.543l-3.98.404a21.448 21.448 0 0 1-.055-.678c-.034-.5-.054-1-.054-1.479 0-9.982-2.564-16.592-8.301-16.592h-3.598l-.446-1.388C26.492 65.745 26 61.553 26 58.387 26 50.245 33.205 43 41.682 43c8.479 0 15.682 7.244 15.682 15.387 0 3.164-.492 7.357-1.237 9.677l-3.808-1.222c.598-1.866 1.045-5.67 1.045-8.455C53.364 52.448 47.947 47 41.682 47 35.419 47 30 52.45 30 58.387c0 2.206.28 5.051.695 7.066h.587zm52.077.003l-1.338-3.996c3.86-3.214 6.592-9.337 6.592-16.396.515-1.502.515-1.502 1.074-1.778.328-.146.328-.146.494-.187.134-.032.253-.05.386-.063a7.67 7.67 0 0 1 .543-.029c.338-.009.785-.01 1.293-.003 1.415.019 2.048.04 2.393.142 2.987.884 4.754 5.665 3.888 13.655v.902h-4v-1.011l.012-.221c.42-3.786.206-6.492-.431-8.228-.208-.566-.438-.963-.658-1.21-.354-.012-.708-.02-1.055-.026-.505 8.045-4.11 14.971-9.193 18.45zM96 83.776c1.478.137 2.797.214 3.907.223.944.008 1.716-.033 2.281-.12.249-.039.442-.083.571-.128.197-.167.776-1.128 1.39-2.47.722-1.578 1.44-3.527 2.024-5.533 1.24-4.258 1.72-8.167 1.238-10.748H92v-4h16.31c1.236-.002 2.423.982 2.756 2.106 1.889 6.364-2.297 20.744-5.731 23.721-1.413 1.226-4.479 1.42-9.335.975v-4.025z"})]})}))})),(0,r.jsx)("div",Object.assign({className:i(s.text)},{children:t}))]}))})),p=(0,a.k)({wrapper:{padding:20,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},icon:{paddingBottom:20},text:{color:c.O.gray_929292}})},77390:(e,t,s)=>{"use strict";s.d(t,{O:()=>o});var r=s(67753),i=s(354),a=s(10484),n=s(95359);const o=(0,r.gQ)("notifySuccessPlaceUpdate",(e=>{const{entityId:t,type:s}=e;return(0,i._N)((e=>(0,a.t0)(e.appContext.frames,"userProfile")),(e=>e?(0,n.D_)(e.id,(e=>{if("userProfile"===e.type)return Object.assign(Object.assign({},e),{placeNotifications:Object.assign(Object.assign({},e.placeNotifications),{[t]:{type:s}})})})):(0,r.ZT)()))}))},7314:(e,t,s)=>{"use strict";s.d(t,{j:()=>o});var r=s(52322),i=s(19981),a=s(2933),n=s(67848);const o=()=>(0,r.jsx)(i.E,{loader:a.H.noFriends,render:e=>(0,r.jsx)(e,{}),renderPlaceholder:n.Q})},67817:(e,t,s)=>{"use strict";s.d(t,{D:()=>a});var r=s(95359),i=s(64693);function a(e="favorites"){const t=(0,i.by)();return(0,r.Jt)({id:(0,i.by)(),type:"userProfile",profileTab:e,searchId:t})}},36546:(e,t,s)=>{"use strict";s.d(t,{I:()=>c});var r=s(67753),i=s(95359),a=s(76092);const n=e=>"userProfile"===e.type,o=(0,s(38853).r)(n),c=((0,a.F)(n),(0,r.gQ)("closeUserProfileFrame",(()=>o((e=>e?(0,i.hp)():(0,r.ZT)())))))},78728:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var r=s(67753),i=s(33451),a=s(64693);const n=(0,r.gQ)("openEditUserProfilePopup",(()=>(0,i.Mw)({id:(0,a.by)(),type:"editUserProfile"})))},84670:(e,t,s)=>{"use strict";s.d(t,{K3:()=>n,M3:()=>o,f1:()=>a,tF:()=>d});const r=10,i=30,a=10,n=2e3,o=20,c=90/o;function d({textScore:e,hasPhotos:t,hasRating:s}){return l(e.words)+(s?r:0)+(t?i:0)}const l=e=>{switch(!0){case 0===e:return 0;case e>=o:return 90;default:return c*e}}},92405:(e,t,s)=>{"use strict";s.d(t,{$:()=>r});const r=e=>{var t;return{length:e.replace(/\s+/gm,"").length,words:(null===(t=e.match(/\S+/gm))||void 0===t?void 0:t.length)||0}}},65262:(e,t,s)=>{"use strict";s.d(t,{J:()=>p});var r=s(52322),i=s(54974),a=s(66908),n=s(2784),o=s(19697),c=s(42858);function d(){return(0,r.jsxs)("svg",Object.assign({width:"33",height:"32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsxs)("g",Object.assign({clipPath:"url(#clip0_842_55722)"},{children:[(0,r.jsx)("mask",Object.assign({id:"mask0_842_55722",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"33",height:"32"},{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M.333 16c0-10.4 5.6-16 16-16s16 5.6 16 16-5.6 16-16 16-16-5.6-16-16Z",fill:"#000"})})),(0,r.jsxs)("g",Object.assign({mask:"url(#mask0_842_55722)"},{children:[(0,r.jsx)("path",{fill:"#7FE740",d:"M.333 0h32v32h-32z"}),(0,r.jsx)("path",{fillRule:"evenodd",d:"M5.27 15.5c0-3.875 2.5-6.25 6.126-6.25 2.813 0 4.949 1.43 5.764 3.882a.527.527 0 0 0 .494.368h9.617a.5.5 0 0 1 .5.5v2.75a.5.5 0 0 1-.5.5H25.18a.5.5 0 0 0-.5.47l-.194 3.31a.5.5 0 0 1-.5.47h-2.181a.5.5 0 0 1-.5-.47l-.194-3.31a.5.5 0 0 0-.5-.47h-2.88a.527.527 0 0 0-.499.387c-.755 2.592-2.935 4.113-5.836 4.113-3.626 0-6.125-2.375-6.125-6.25Zm2.626-.011c0 .886.286 2.011 1.75 2.011s1.75-1.125 1.75-2.011c0-.864-.286-1.989-1.75-1.989s-1.75 1.125-1.75 1.989Z",fill:"#224249"})]}))]})),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",Object.assign({id:"clip0_842_55722"},{children:(0,r.jsx)("path",{fill:"#fff",d:"M.333 0h32v32h-32z"})}))})]}))}function l(){return(0,r.jsxs)("svg",Object.assign({width:"25",height:"24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsxs)("g",Object.assign({clipPath:"url(#clip0_842_55722)"},{children:[(0,r.jsx)("mask",Object.assign({id:"mask0_842_55722",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"25",height:"24"},{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M.333 12c0-7.8 4.2-12 12-12s12 4.2 12 12-4.2 12-12 12-12-4.2-12-12Z",fill:"#000"})})),(0,r.jsxs)("g",Object.assign({mask:"url(#mask0_842_55722)"},{children:[(0,r.jsx)("path",{fill:"#7FE740",d:"M.333 0h24v24h-24z"}),(0,r.jsx)("path",{fillRule:"evenodd",d:"M4.037 11.625c0-2.906 1.875-4.688 4.593-4.688 2.11 0 3.712 1.073 4.323 2.912.054.161.201.276.37.276h7.213c.208 0 .375.168.375.375v2.063a.375.375 0 0 1-.375.374h-1.568a.375.375 0 0 0-.374.354l-.146 2.481a.375.375 0 0 1-.375.353h-1.636a.375.375 0 0 1-.374-.353l-.146-2.482a.375.375 0 0 0-.375-.352h-2.16a.395.395 0 0 0-.374.29c-.567 1.944-2.202 3.085-4.378 3.085-2.72 0-4.594-1.782-4.594-4.688Zm1.968-.008c0 .664.215 1.508 1.313 1.508 1.098 0 1.312-.844 1.312-1.508 0-.648-.214-1.492-1.312-1.492s-1.313.844-1.313 1.492Z",fill:"#224249"})]}))]})),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",Object.assign({id:"clip0_842_55722"},{children:(0,r.jsx)("path",{fill:"#fff",d:"M.333 0h24v24h-24z"})}))})]}))}const u=()=>({frameId:e,showEventParams:t})=>{if(null==t?void 0:t.payload)return{uiElement:{name:"otelloIcon",ownerName:"dashboardFrame",frameUuid:e},action:"tap",payload:Object.assign({searchRequest:{text:"Бронирование отелей"}},t.payload)}},p=(0,n.memo)((({isMobile:e})=>{const t=(0,c.T)(),{bssRef:s,useBssHandler:p}=(0,a.T)((({frameId:e})=>({uiElement:{name:"otelloIcon",ownerName:"dashboardFrame",frameUuid:e},payload:{icon:{tag:"otello",where:"Dashboard"}}}))),g=p(u),m=(0,i.$)((()=>{g()})),h=(0,n.useCallback)((()=>e?(0,r.jsx)(l,{}):(0,r.jsx)(d,{})),[e]);return(0,r.jsx)(o.M,{bssRef:s,title:t._gg("Бронирование отелей"),href:"https://otello.ru/?utm_source=2gis-dashboard",external:!0,icon:h,dataT:"otello-dashboard-icon",onClick:m})}))},26244:(e,t,s)=>{"use strict";s.d(t,{W:()=>i});var r=s(18382);const i=e=>!!e&&e!==r.o&&e!==r.H},72998:(e,t,s)=>{"use strict";s.d(t,{a:()=>i,s:()=>a});let r="";function i(e){s.p=e,r=e}function a(){return r}},23150:(e,t,s)=>{"use strict";s.d(t,{Kn:()=>i,Oo:()=>a,xg:()=>n});var r=s(21969);const{emitEvent:i,addEventListener:a,removeEventListener:n}=(0,r.U)()},95359:(e,t,s)=>{"use strict";s.d(t,{D_:()=>m,IW:()=>u,Jt:()=>h,P2:()=>d,Wk:()=>g,d3:()=>f,hp:()=>l,t7:()=>c,xO:()=>p});var r=s(40554),i=s(354),a=s(67753),n=s(83575),o=s(92141);function c(e){return{type:"UI/REMOVE_FRAME",payload:e}}const d=(0,r.mq)("UI/REMOVE_RIGHT_FRAMES"),l=(0,r.mq)("UI/RESURRECT_FRAMES"),u=(0,r.mq)("UI/CLEAR_FRAMES"),p=(0,r.mq)("UI/KILL_FRAMES"),g=(0,r.mq)("UI/REPLACE_FRAME"),m=(0,a.gQ)("patchFrame",((e,t)=>(0,i.Mb)(e,(s=>{if(!s)return(0,a.ZT)(`skipped patchFrame: there is no frame with id ${e}`);const r=t(s);return r===s?(0,a.ZT)():r?g(r):(0,a.ZT)("skipped patchFrame: callback returned undefined")})))),h=(0,a.gQ)("addFrame",(e=>(0,a.xJ)((t=>(0,a.Mf)(function(e){return{type:"UI/ADD_FRAME",payload:e}}(e),t.appContext.isDataViewerMinimized&&(0,n.a)((0,o.kG)({isMinimized:!1})))))));function f(e,t){return(0,i.Mb)(e,(e=>e&&"pending"===e.type?g(t(e)):(0,a.ZT)()))}},51919:(e,t,s)=>{"use strict";s.d(t,{Bc:()=>f,D$:()=>g,Ol:()=>h,Yq:()=>u,iD:()=>p,me:()=>l,s7:()=>m});var r=s(95359),i=s(20072),a=s(89251),n=s(87607),o=s(59647),c=s(76329),d=s(66679);function l(e,t){return(0,r.D_)(e,(e=>(0,c.B)(e)?t(e):void 0))}function u(e,t,s){return(0,r.D_)(e,(e=>t(e)?s(e):void 0))}function p(e,t){return(0,r.D_)(e,(e=>(0,i.E)(e)?t(e):void 0))}function g(e,t){return(0,r.D_)(e,(e=>(0,n.o)(e)?t(e):void 0))}function m(e,t){return(0,r.D_)(e,(e=>(0,a.Y)(e)?t(e):void 0))}function h(e,t){return(0,r.D_)(e,(e=>(0,d.n)(e)?t(e):void 0))}function f(e,t){return(0,r.D_)(e,(e=>(0,o.i)(e)?t(e):void 0))}},7763:(e,t,s)=>{"use strict";s.d(t,{$0:()=>a,Gm:()=>i});var r=s(40554);const i=(0,r.mq)("I18N/SET_LOCALE"),a=((0,r.mq)("I18N/SYNC_LANG"),(0,r.mq)("I18N/WITH_INTL"))},3454:(e,t,s)=>{"use strict";s.d(t,{P:()=>c,PD:()=>o,t9:()=>a,u$:()=>n});var r=s(46042),i=s(94146);const a=(0,r.P)("setActiveLayer",(0,i.x)("appContext",((e,t)=>Object.assign(Object.assign({},e),{activeLayer:t,activeSublayer:t!==e.activeLayer?void 0:e.activeSublayer})))),n=(0,r.P)("clearActiveLayer",(0,i.x)("appContext",(e=>Object.assign(Object.assign({},e),{activeLayer:void 0,activeSublayer:void 0})))),o=(0,r.P)("setActiveLayer",(0,i.x)("appContext",((e,t)=>Object.assign(Object.assign({},e),{activeSublayer:t,showTrafficOnMap:!1})))),c=(0,r.P)("clearActiveLayer",(0,i.x)("appContext",(e=>Object.assign(Object.assign({},e),{activeSublayer:void 0}))))},56238:(e,t,s)=>{"use strict";s.d(t,{EL:()=>o,NN:()=>a,og:()=>d,ox:()=>n,xN:()=>c,xn:()=>i});var r=s(40554);const i=(0,r.mq)("MAP/SYNC_VIEW"),a=(0,r.mq)("MAP/SET_FLOORS"),n=(0,r.mq)("MAP/REMOVE_FLOORS"),o=(0,r.mq)("MAP/SELECT_FLOOR"),c=(0,r.mq)("MAP/SET_VIEW"),d=(0,r.mq)("MAP/GENERALIZE_MARKERS")},76171:(e,t,s)=>{"use strict";s.d(t,{c:()=>i,y:()=>a});var r=s(40554);const i=(0,r.mq)("UI/SHOW_NOTIFICATION"),a=(0,r.mq)("UI/HIDE_NOTIFICATION")},33451:(e,t,s)=>{"use strict";s.d(t,{BW:()=>o,Mw:()=>a,j4:()=>n});var r=s(40554),i=s(67753);const a=(0,r.mq)("UI/OPEN_POPUP"),n=(0,r.mq)("UI/CLOSE_POPUP"),o=e=>(0,i.xJ)((t=>{const s=t.appContext.popup;if(!s)return(0,i.ZT)("skipped patchPopup: popup is not opened");const r=e(s);return r===s?(0,i.ZT)():r?a(r):(0,i.ZT)("skipped patchPopup: callback returned undefined")}))},17942:(e,t,s)=>{"use strict";s.d(t,{y:()=>a});var r=s(46042),i=s(94146);const a=(0,r.P)("setReliefIsActive",(0,i.x)("appContext",((e,t)=>Object.assign(Object.assign({},e),{relief:t}))))},66204:(e,t,s)=>{"use strict";s.d(t,{Bt:()=>i,p_:()=>n,r4:()=>o,xU:()=>a});var r=s(40554);const i=(0,r.mq)("SUGGEST/SET_SUGGEST_ID"),a=(0,r.mq)("SUGGEST/SET_QUERY"),n=(0,r.mq)("SUGGEST/TOGGLE"),o=(0,r.mq)("SUGGEST/HIGHLIGHT_SUGGESTION")},92141:(e,t,s)=>{"use strict";s.d(t,{Tz:()=>c,kG:()=>n,s_:()=>o});var r=s(40554),i=s(46042),a=s(94146);const n=(0,i.P)("minimizeDataViewer",(0,a.x)("appContext",((e,{isMinimized:t})=>Object.assign(Object.assign({},e),{isDataViewerMinimized:t})))),o=((0,r.mq)("UI/SET_LANG"),(0,r.mq)("UI/SET_DEFAULT_LOCALE"),(0,r.mq)("UI/SET_RULER")),c=(0,r.mq)("UI/TOGGLE_TRAFFIC")},56104:(e,t,s)=>{"use strict";s.d(t,{KK:()=>n,PP:()=>d,QT:()=>a,Vj:()=>o,jP:()=>i,xU:()=>l,yy:()=>c});var r=s(40554);const i=(0,r.mq)("WEAK/SET_DASHBOARD_RUBRICS_ID"),a=(0,r.mq)("WEAK/MAP_INTERACTION_START"),n=(0,r.mq)("WEAK/SET_RUBRICATOR_ID"),o=(0,r.mq)("WEAK/SET_RUBRIC_ID"),c=(0,r.mq)("WEAK/PATCH"),d=(0,r.mq)("WEAK/SET_CATALOG_MARKERS_ID"),l=((0,r.mq)("WEAK/SET_REVIEW_RATING"),(0,r.mq)("WEAK/REMOVE_REVIEW_RATING"))},33956:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i,l:()=>r});const r={long:0,veryshort:120,short:200,spinner:1e3},i={base:"cubic-bezier(0.25, 0.1, 0.25, 1)"}},35415:(e,t,s)=>{"use strict";s.d(t,{No:()=>c,fp:()=>o});var r=s(60923),i=s(94361),a=s(64693),n=s(77878);const o=e=>e?{"X-Request-Id":e}:void 0;function c(e,t,s){return o=>{const c=(0,i.NF)(o),l=`${c.name}: ${c.message||"Unknown error"}`;if("skipLog"in o&&o.skipLog)throw c;var u;throw o instanceof r.d7?(0,n.H)({message:l,id:"xsk47",level:"undefined"==typeof window?"error":"warn",payload:{type:"network",subtype:e,request_url:o.details.config.url,request_params:JSON.stringify(o.details.config.params),request_data:JSON.stringify(o.details.config.data),is_timeout:"ECONNABORTED"===o.details.code,response_status_code:o.details.response&&o.details.response.status},requestId:s}):o instanceof i.F7?(0,n.H)({message:l,id:"5tnb8",level:"warn",payload:{type:"network",subtype:e},requestId:s}):(0,n.H)({message:l,id:"guf37",level:"error",payload:{type:"exception",subtype:e,stack:o.stack,data:JSON.stringify((u=t,Object.assign(Object.assign({},(0,a.CE)(u,["accessToken","refreshToken","access_token","token"])),{fields:d(u,"fields",50),type:d(u,"type",50)})))},requestId:s}),c}}function d(e,t,s){const r=e[t];if("string"==typeof r)return r.length>s?`...(${r.length})`:void 0}},31758:(e,t,s)=>{"use strict";s.d(t,{AV:()=>v,DF:()=>u,EF:()=>h,GG:()=>g,HJ:()=>x,Op:()=>y,Pm:()=>f,TR:()=>b,T_:()=>o,WM:()=>a,X4:()=>m,YD:()=>n,cL:()=>d,hN:()=>c,q0:()=>p,yY:()=>l,yt:()=>i});var r=s(52923);const i=e=>h(e.pages[0].items[0]),a=e=>(0,r.$O)(e.pages[0].items[0]),n=e=>h(e[0].items[0]),o=e=>(0,r.$O)(e[0].items[0]),c=e=>{if(!e||!e.items)return!1;if(!(Object.keys(null==e?void 0:e.items).length>0))return!1;const t=Object.values(null==e?void 0:e.items).find((e=>e.find((e=>b(e)||y(e)))));return Boolean(t)},d=e=>{if(!e||!e.items)return!1;if(!(Object.keys(null==e?void 0:e.items).length>0))return!1;const t=Object.values(null==e?void 0:e.items).find((e=>e.find((e=>x(e)))));return Boolean(t)},l=e=>e&&"photo"in e&&"photo"===e.media_type&&!("object"in e),u=e=>e&&"video"in e&&"video"===e.media_type&&!("object"in e),p=e=>e&&"photo"in e&&"photo"===e.media_type&&"object"in e,g=e=>e&&"video"in e&&"video"===e.media_type&&"object"in e,m=e=>p(e)||g(e),h=e=>l(e)||u(e),f=e=>Array.isArray(e),v=e=>e&&"photo"in e,b=e=>e&&"photo"in e&&!!e.photo&&"photo"===e.media_type,y=e=>e&&"video"in e&&"video"===e.media_type,x=e=>e&&!("video"in e)&&!("photo"in e)&&"preview_urls"in e},48922:(e,t,s)=>{"use strict";s.d(t,{G:()=>n,s:()=>a});var r=s(35415),i=s(29019);const a=s(55340).v.join(",");function n(e,t){const{requestId:s,photoApiKey:n,photoApiUrl:o,photosPerPage:c,photosPerPageInUserProfile:d,featureDiscoveryKeywords:l}=t;return{getPhotos({objectId:t,objectType:d,page:l,locale:u,pageSize:p,accessToken:g}){const m={key:n,object_id:t,object_type:d,locale:u,status:"active",sort_by:"position",album_code:"branch"===d?"common":"view",preview_size:a,size:p||c,page:l};return e(`${o}2.0/photo/get`,{params:m,headers:Object.assign({},g?{"Auth-Version":"2.0","Auth-Token":g}:void 0)}).then((e=>(0,i.i7)(e,c))).catch((0,r.No)("getPhotos",m,s))},getPhotosByAlbum({objectId:a,albumId:d,preview_size:u,page_size:p,page_token:g,accessToken:m,searchCtx:h,searchKeyword:f}){const v=Object.assign(Object.assign({locale:t.locale,key:n,preview_size:u,page_size:p||c,page_token:g},h?{search_ctx:h}:{}),f&&l?{search_keyword:f}:{});return e(`${o}3.0/objects/${a}/albums/${d}/photos`,{params:v,headers:Object.assign({},m?{"Auth-Version":"2.0","Auth-Token":m}:void 0)}).then(i.Jp).catch((0,r.No)("getPhotosByAlbum",v,s))},getPhotosCount({objectIds:t,objectType:a,locale:c,accessToken:d}){const l={key:n,object_id:t.join(","),object_type:a,locale:c};return e(`${o}2.0/photo/count`,{params:l,headers:Object.assign({},d?{"Auth-Version":"2.0","Auth-Token":d}:void 0)}).then(i.$N).catch((0,r.No)("getPhotosCount",l,s))},getUserPhotos({locale:t,page:c,accessToken:l}){const u={key:n,object_type:"branch,geo",preview_size:a,page:c,size:d,locale:t,access_token:l};return e(`${o}2.0/user/photo/get`,{params:u}).then(i.di).catch((0,r.No)("getUserPhotos",u,s))},getPhotosLight({objectIds:t,photosCount:c,searchCtx:d,searchKeywords:u}){const p=Object.assign(Object.assign({key:n,object_ids:t.join(","),preview_size:a,size:c},d?{search_ctx:d}:{}),u&&l?{search_keywords:u}:{});return e(`${o}2.0/photo/get/light`,{params:p}).then(i.kd).catch((0,r.No)("getPhotosLight",p,s))},getEntityAlbums({objectId:a,accessToken:c}){const d={key:n,locale:t.locale};return e(`${o}3.0/objects/${a}/albums/counts`,{params:d,headers:Object.assign({},c?{"Auth-Version":"2.0","Auth-Token":c}:void 0)}).then(i.S1).catch((0,r.No)("getAlbums",d,s))},getPhotoById({photoId:c,locale:d,preview_size:l,accessToken:u}){const p={key:n,id:c,locale:d||t.locale||"ru_RU",preview_size:null!=l?l:a};return e(`${o}2.0/photo/by-id`,{params:p,headers:Object.assign({},u?{"Auth-Version":"2.0","Auth-Token":u}:void 0)}).then(i.Gq).catch((0,r.No)("getPhotoById",p,s))}}}},29019:(e,t,s)=>{"use strict";s.d(t,{$N:()=>i,Gq:()=>g,Jp:()=>p,Lg:()=>c,S1:()=>u,dD:()=>d,di:()=>a,i7:()=>n,kd:()=>o,tb:()=>l});var r=s(94361);function i({data:e}){return{items:e.result,total:0,code:e.meta.code}}function a({data:e}){if(e.result&&e.result.total){const t=e.result;return{items:t.items,total:t.total,code:200}}return m(e.meta.code)}function n(e,t){var s;const r=null===(s=e.data.result)||void 0===s?void 0:s[0];return r?{items:r.items,total:Math.min(t||0,r.total),code:200}:m(e.data.meta.code)}function o({data:e}){return e.result?{items:e.result.items,code:200}:{items:{},code:(0,r.og)(e.meta.code)}}function c({data:e}){return e.result?Object.assign(Object.assign({},e.result),{code:200}):m(e.meta.code)}function d({data:e}){return e.result?Object.assign(Object.assign({},e.result),{code:200}):m(e.meta.code)}function l({data:e}){const t=e.result&&e.result.items[0];if(!t)throw{name:"Error",message:"Unexpected add photos error",code:(0,r.og)(e.meta.code)};if(t.error)throw{name:t.error.type,message:t.error.message,code:(0,r.og)(e.meta.code)};return{items:[t],total:1,code:200}}function u({data:e,status:t}){return e.albums?{albums:e.albums,code:200}:{albums:[],code:t}}function p({data:e,status:t}){return e.albums&&e.items?e:{albums:[],items:[],code:t}}function g({data:e,status:t}){var s;const r=null===(s=e.result)||void 0===s?void 0:s.items[0];return r?{photo:r,code:200}:{photo:void 0,code:t}}function m(e){return{items:[],total:0,code:(0,r.og)(e)}}},5264:(e,t,s)=>{"use strict";s.d(t,{nT:()=>a,Uu:()=>n});var r=s(22970),i=s(35415);const a=20;function n(e,t){return{getProfile(s){var{accessToken:a,id:n}=s,o=(0,r._T)(s,["accessToken","id"]);const c=Object.assign({method:"get",params:o},a?{headers:{Authorization:`Bearer ${a}`}}:{}),d=`${t.publicProfileUrl}/user/${n}`;return e(d,c).then((({data:e})=>e)).catch((0,i.No)("getPublicProfile",o,t.requestId))},getCounters(s){const r=`${t.publicProfileUrl}/user/${s.id}/content/count`;return e(r,{method:"get"}).then((({data:e})=>e)).catch((0,i.No)("getPublicProfileCounters",s,t.requestId))},getVisitedPlacesCounter(s){var{accessToken:a}=s,n=(0,r._T)(s,["accessToken"]);const o=Object.assign({method:"get",params:n},a?{headers:{Authorization:`Bearer ${a}`}}:{}),c=`${t.publicProfileUrl}/user/${n.id}/content/objects/count`;return e(c,o).then((({data:e})=>e)).catch((0,i.No)("getPublicProfileVisitedPlacesCounters",n,t.requestId))},getContentFeed(s){const{page_size:r=a,id:n,preview_sizes:o,locale:c,page_token:d,accessToken:l}=s,u=`${t.publicProfileUrl}/user/${n}/content/feed`,p=Object.assign({method:"get",params:{page_size:r,page_token:d,locale:c,preview_sizes:o}},l?{headers:{Authorization:`Bearer ${l}`}}:{});return e(u,p).then((({data:e})=>e)).catch((0,i.No)("getPublicProfileContentFeed",s,t.requestId))},updatePrivacy(s){const{publicUserId:r,privacy:a,accessToken:n}=s,o=`${t.publicProfileUrl}/user/${r}`;return e(o,{method:"put",data:{privacy:a},headers:{Authorization:`Bearer ${n}`}}).then((({data:e})=>e)).catch((0,i.No)("updatePublicProfilePrivacy",s,t.requestId))}}}(0,s(81746).dN)("PublicProfileApi",n)},25467:(e,t,s)=>{"use strict";s.d(t,{H:()=>r});const r=e=>({frameId:t})=>({uiElement:{name:e.type,ownerName:"mapSubLayersScreen",frameUuid:t},action:"tap"})},67991:(e,t,s)=>{"use strict";s.d(t,{O:()=>p});var r=s(52322),i=s(98584),a=s(6801),n=s(42858),o=s(49793),c=s(2784),d=s(11436),l=s(63993),u=s(98160);const p=(0,c.memo)((e=>{var t;const{css:s,s:i}=(0,a.y)(g),c=(0,n.T)(),l=(0,u.j)(e),p="description"in e&&void 0!==e.description;return(null==l?void 0:l.isLoading)?(0,r.jsx)(d.p,{}):(null===(t=null==l?void 0:l.blocks)||void 0===t?void 0:t.length)?(0,r.jsxs)("div",Object.assign({className:s(i.root)},{children:[l.blocks.map((({erid:t,legalName:a},n)=>(0,r.jsx)("div",Object.assign({className:s(i.block)},{children:t?(0,r.jsxs)(o.v,Object.assign({inline:!0},{children:[a||null,(0,r.jsxs)("span",{children:["erid:"," ",(0,r.jsx)("span",Object.assign({className:s(i.erid)},{children:t}))]}),p&&(0,r.jsx)("p",Object.assign({className:s(i.description)},{children:e.description}))]})):a}),n))),!!l.erid&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",Object.assign({className:s(i.comment)},{children:c._gg("Нажмите на «Реклама», чтобы скопировать ID")})),e.renderIdInput(l.erid)]})]})):(null==l?void 0:l.wasLoading)?(0,r.jsx)("div",{children:c._gg("Не удалось загрузить данные")}):null})),g=(0,a.k)({root:{position:"relative",maxWidth:240},block:{marginTop:6,":first-child":{marginTop:0}},erid:{wordBreak:"break-all"},comment:Object.assign(Object.assign({marginTop:6},l.yG),{color:i.O.gray_b2b2b2}),description:{padding:"10px 0"}})},85982:(e,t,s)=>{"use strict";s.d(t,{N:()=>a,i:()=>i});var r=s(6340);const i=({children:e})=>{const{isMobileDevice:t}=(0,r.Z)();return e&&t?e:null},a=({children:e})=>{const{isMobileDevice:t}=(0,r.Z)();return e?t?null:e:null}},77716:(e,t,s)=>{"use strict";s.d(t,{e:()=>m});var r=s(52322),i=(s(2784),s(85843)),a=s(6801),n=s(63993),o=s(98584),c=s(58703),d=s(49793),l=s(86139),u=s(71851),p=s(57475),g=s(11566);const m=({text:e,legalName:t,adInfo:s,dataN:n,colorOpacity:o,mt:m,withoutHint:f,withBlackTooltip:v,isUncollapsed:b})=>{const{s:y,css:x}=(0,a.y)(h),{isContentOverflow:j,containerRef:w}=(0,g.W)(),{ref:_,addTooltip:C}=(0,p.s)({title:(0,r.jsx)("div",Object.assign({className:x(y.blackTooltip)},{children:e})),to:"bottomBottomStart"}),I=({isExpanded:a})=>(0,r.jsx)("div",Object.assign({ref:w,className:x(y.root,"4"===m&&y.mt4,"8"===m&&y.mt8,o?y.colorOpacity:y.grey,!a&&y.collapsed)},{children:(0,r.jsxs)(d.v,Object.assign({inline:!0,styles:y.inline},{children:[!!s&&(0,r.jsx)(l.d,Object.assign({},s)),null!=t?t:null,!!e&&(0,r.jsx)("span",Object.assign({ref:_},{children:(0,r.jsx)(c.p,Object.assign({html:e},i.dx.n(n||"wat-ads-text-warning"),{title:f||v?void 0:e}))})),v&&e&&C]}))}));return j||b?(0,r.jsx)(u._,Object.assign({withoutShevron:!0},{children:e=>I({isExpanded:e})})):I({isExpanded:!1})},h=(0,a.k)({root:Object.assign({},n.Vz),grey:{color:o.O.gray_9b9b9b},colorOpacity:{opacity:.7},mt4:{marginTop:4},mt8:{marginTop:8},collapsed:Object.assign({},(0,n.KU)(1,n.Vz)),inline:{display:"inline"},blackTooltip:{maxWidth:300}})},13621:(e,t,s)=>{"use strict";s.d(t,{V:()=>h});var r=s(52322),i=s(2784),a=s(6801),n=s(77032),o=s(63993),c=s(98584),d=s(82698),l=s(77351),u=s(93835),p=s(85843),g=s(67003),m=s(86139);const h=(0,i.memo)((({title:e,link:t,source:s,platform:i,lang:o,onClick:h,erid:v,legalName:b})=>{const{s:y,css:x}=(0,a.y)(f),j=(0,u.V)(i);return(0,r.jsx)("div",Object.assign({className:x("card"===s&&y.wrapper)},{children:(0,r.jsxs)("div",Object.assign({className:x(y.content)},{children:[(0,r.jsx)("a",Object.assign({},p.dx.n("wat-app-banner"),{className:x(y.link),href:t,target:"_blank",onClick:h},{children:(0,r.jsxs)("div",Object.assign({className:x(y.root,"dashboard"===s&&y.dashboardRoot)},{children:[(0,r.jsx)("div",Object.assign({className:x(y.logo)},{children:(0,r.jsx)(n.y,{})})),(0,r.jsxs)("div",Object.assign({className:x(y.info)},{children:[(0,r.jsx)("div",Object.assign({className:x(y.title)},{children:e})),(0,r.jsxs)("span",Object.assign({className:x(y.stat)},{children:[(0,r.jsx)(l.i,{color:c.O.yellow_ffb81c,size:"small",rating:j.rating}),(0,r.jsx)("span",Object.assign({className:x(y.additionalInfo)},{children:j.reviews}))]}))]})),(0,r.jsx)("div",Object.assign({className:x(y.storeLink)},{children:"ios"===i?(0,r.jsx)(d.Q,{lang:o}):(0,r.jsx)(g.z,{lang:o})}))]}))})),(0,r.jsx)("div",{children:(0,r.jsx)(m.d,{small:!0,gray:!0,source:"banner",erid:[v],legalName:b,rating:0})})]}))}))}));h.displayName="AppBannerInner";const f=(0,a.k)({wrapper:{marginTop:4,marginBottom:4},content:{display:"flex",flexDirection:"column",alignItems:"flex-start",paddingTop:16,paddingRight:24,paddingBottom:16,paddingLeft:24,background:c.O.gray_f2f2f2,gap:8},root:{display:"flex",alignItems:"center",width:"100%"},dashboardRoot:{"@media (max-width: 320px)":{padding:16}},logo:{display:"flex","& svg":{borderRadius:8}},link:{width:"100%",display:"flex",textDecoration:"none"},info:{display:"flex",flexDirection:"column",justifyContent:"center",width:"100%",paddingStart:8,color:c.O.black},title:Object.assign(Object.assign({},o.oN),{"@media (max-width: 320px)":Object.assign({},o.Vz)}),stat:{display:"flex",alignItems:"center"},additionalInfo:Object.assign(Object.assign({},o.Vz),{paddingStart:4,color:c.O.gray_929292}),storeLink:{display:"flex",paddingStart:4}})},55594:(e,t,s)=>{"use strict";s.d(t,{y:()=>g});var r=s(52322),i=s(2784),a=s(27215),n=s(42858),o=s(44149),c=s(6340),d=s(13621),l=s(66908);function u(e){switch(e){case"branch":return"cardContacts";case"dashboard":return"dashboardFrame";case"geo":case"route":return"cardInformation"}}const p=e=>({frameId:t})=>({uiElement:{name:e.store,ownerName:"mobileDownloadPromo",frameUuid:t},action:"tap"}),g=(0,i.memo)((({cardType:e})=>{const t=(0,n.T)(),{brandName:s}=(0,c.Z)(),i=(0,a.v9)((e=>e.session.platform)),g=(0,a.v9)((e=>e.appContext.lang)),m=e?"card":"dashboard",h=function(e,t){if("card"===e)switch(t){case"geo":return"geoCardPromo";case"route":return"transportCardPromo";default:return"firmCardPromo"}return"mainScreen"}(m,e),f=function(e){switch(e){case"geoCardPromo":return"2RanynPukDW";case"transportCardPromo":return"2RanynRPjVr";case"firmCardPromo":case"mainScreen":return"2RanynAZrgQ";default:return}}(h),{bssRef:v,useBssHandler:b}=(0,l.T)((y={cardType:e},({frameId:e})=>{const{cardType:t}=y;return{uiElement:{name:"mobileDownloadPromo",ownerName:u(t),frameUuid:e}}}));var y;const x=b(p,{store:"ios"===i?"appStoreButton":"googlePlayButton"}),j=(0,o.Og)({platform:i,type:h});if(!j||!f)return null;const{title:w}=function(e,t,s){switch(e){case"card":return function(e,t,s){if("navigator"===s)return{title:t._t("Получите доступ к навигации и&nbsp;другим&nbsp;функциям")};return{title:t._t("%1 лучше в&nbsp;приложении",[e])}}(s,t);case"dashboard":return{title:t._t("%1 умеет работать без интернета",[s])}}}(m,t,s);return(0,r.jsx)("div",Object.assign({ref:v},{children:(0,r.jsx)(d.V,{title:w,link:j,source:m,platform:i,lang:g,onClick:x,erid:f,legalName:'ООО "ДубльГИС"'})}))}));g.displayName="AppBanner"},55206:(e,t,s)=>{"use strict";s.d(t,{q:()=>c});var r=s(52322),i=(s(2784),s(63993)),a=s(43228),n=s(85843),o=s(6801);const c=e=>{const{src:t,initials:s,isLoadingForced:i,initialStyles:c}=e,{css:l,s:u}=(0,o.y)(d),p=()=>(0,r.jsx)("div",Object.assign({className:l(u.initials,c)},n.dx.n("wat-initials"),{children:s()}));return(0,r.jsx)(r.Fragment,{children:t?(0,r.jsx)(a.C,{src:t,isLoadingForced:!!i,renderPlaceholder:e=>{if("error"===e)return p()}}):p()})},d=(0,o.k)({initials:Object.assign(Object.assign({width:"100%",height:"100%"},i.Rw),{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden"})})},49224:(e,t,s)=>{"use strict";s.d(t,{o:()=>g});var r=s(52322),i=s(6801),a=s(2784),n=s(29973),o=s(33956),c=s(98584),d=s(20094),l=s(90769),u=s(39790),p=s(85843);const g=(0,a.memo)((({scrollboxRef:e,offset:t,size:s})=>{const{s:a,css:o}=(0,i.y)(m),{isStartArrowShown:c,isEndArrowShown:d,clickArrowStart:g,clickArrowEnd:h}=(0,l.e)({scrollboxRef:e});return c||d?(0,r.jsxs)("div",Object.assign({className:o(a.root),style:{padding:`0 ${t}px`}},{children:[(0,r.jsx)("div",Object.assign({onClick:g},p.dx.n("wat-arrow-to-left"),{style:s?{width:`${s}px`,height:`${s}px`}:void 0,className:o(a.arrow,!c&&a._arrowHidden)},{children:(0,r.jsx)(n.E,{direction:"start",icon:u.S,size:18})})),(0,r.jsx)("div",Object.assign({onClick:h},p.dx.n("wat-arrow-to-right"),{className:o(a.arrow,!d&&a._arrowHidden)},{children:(0,r.jsx)(n.E,{direction:"end",icon:u.S,size:18})}))]})):null}));g.displayName="EntityImageArrows";const m=(0,i.k)({root:{position:"absolute",start:0,top:0,end:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"space-between",opacity:0,pointerEvents:"none",transition:`${o.l.short}ms ${o.Z.base}`,"*:hover>&":{opacity:1}},arrow:{display:"flex",justifyContent:"center",alignItems:"center",width:32,height:32,borderRadius:4,overflow:"hidden",background:(0,d.j)(c.O.black,.8),color:c.O.white,pointerEvents:"auto",userSelect:"none",transition:`${o.l.short}ms ${o.Z.base}`,cursor:"pointer",opacity:.6,":hover":{opacity:1}},_arrowHidden:{opacity:0,pointerEvents:"none",":hover":{opacity:1,pointerEvents:"auto"}}})},7534:(e,t,s)=>{"use strict";s.d(t,{l:()=>h});var r=s(52322),i=s(2784),a=s(68879),n=s(1950),o=s(4125),c=s(98584),d=s(63993),l=s(91520),u=s(85843),p=s(76540);class g extends i.PureComponent{render(){const{s:e,showFeedbackButton:t=!1,entityId:s,i18n:i}=this.props;return(0,r.jsxs)("div",Object.assign({className:(0,a.iv)(e.root)},u.n("wat-error"),u.v("404"),{children:[(0,r.jsx)("div",Object.assign({className:(0,a.iv)(e.icon)},u.n("wat-error-icon"),{children:(0,r.jsx)(l.k,{})})),(0,r.jsx)("h1",Object.assign({className:(0,a.iv)(e.title)},u.n("wat-error-text"),{children:i.tp._t("Ничего не нашлось, попробуйте уточнить запрос")})),t&&(0,r.jsxs)("span",Object.assign({className:(0,a.iv)(e.message)},u.n("wat-error-message"),{children:[i.tp._t("Если уверены, что организация действительно существует, просто добавьте её:"),(0,r.jsx)("div",Object.assign({className:(0,a.iv)(e.entry)},{children:(0,r.jsx)(p.L,{type:"addOrg",entityId:s})}))]}))]}))}}g.displayName=(0,o.I)("src/shared/components/error/components");const m={root:{display:"flex",paddingTop:24,paddingBottom:0,paddingStart:48,paddingEnd:48,alignItems:"center",flexDirection:"column",color:c.O.gray_262626},title:Object.assign(Object.assign({},d.FY),{textAlign:"center",padding:"16px 0",maxWidth:"100%"}),icon:{height:"128px",width:"128px"},message:Object.assign(Object.assign({},d.oN),{textAlign:"center",maxWidth:"100%"}),entry:{paddingTop:12}},h=(0,a.D2)(m)((0,n.$)()(g))},40884:(e,t,s)=>{"use strict";s.d(t,{V:()=>h});var r=s(52322),i=s(2784),a=s(68879),n=s(1950),o=s(4125),c=s(98584),d=s(63993),l=s(48236),u=s(38007),p=s(85843);class g extends i.PureComponent{render(){const{s:e,i18n:t,userAgent:s}=this.props,i=s&&s.toLowerCase().indexOf("safari")>=0&&s.toLowerCase().indexOf("chrome")<0;return(0,r.jsxs)("div",Object.assign({className:(0,a.iv)(e.root)},p.n("wat-error"),p.v("500"),{children:[(0,r.jsx)("div",Object.assign({className:(0,a.iv)(e.icon)},p.n("wat-error-icon"),{children:(0,r.jsx)(u.Y,{})})),(0,r.jsx)("h1",Object.assign({className:(0,a.iv)(e.title)},p.n("wat-error-text"),{children:t.tp._t("Что-то пошло не так")})),(0,r.jsx)("span",Object.assign({className:(0,a.iv)(e.message)},{children:t.tp._t("Обязательно найдем проблему и исправим её. Можете повторить действие через пару минут или попробовать")})),(0,r.jsx)(l.z,Object.assign({appearance:"secondary",onClick:this.reloadPage,dataN:"wat-reload-btn"},{children:t.tp._t("Перезагрузить страницу")})),i&&(0,r.jsx)("span",Object.assign({className:(0,a.iv)(e.message,e._aboutBrowser)},{children:t.tp._t("Если вы используете браузер Safari, попробуйте воспользоваться Chrome или Firefox.")}))]}))}reloadPage(){"undefined"!=typeof window&&window.location.reload(!0)}}g.displayName=(0,o.I)("src/shared/components/error/components");const m={root:{display:"flex",paddingTop:24,paddingBottom:0,paddingStart:24,paddingEnd:24,alignItems:"center",flexDirection:"column",color:c.O.gray_262626},title:Object.assign(Object.assign({},d.FY),{textAlign:"center",padding:"16px 0",maxWidth:"100%"}),icon:{height:"128px",width:"128px"},message:Object.assign(Object.assign({},d.oN),{textAlign:"center",paddingBottom:12,maxWidth:"100%"}),_aboutBrowser:{paddingBottom:0,paddingTop:12}},h=(0,a.D2)(m)((0,n.$)()(g))},10962:(e,t,s)=>{"use strict";s.d(t,{s:()=>h});var r=s(52322),i=s(2784),a=s(10355),n=s(14393),o=s(6801),c=s(63993),d=s(98584),l=s(85843),u=s(91520),p=s(38007);function g(){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"50",height:"96",viewBox:"0 0 50 96"},{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M43 0c3.86 0 7 3.14 7 7v82c0 3.86-3.14 7-7 7H7c-3.86 0-7-3.14-7-7V7c0-3.86 3.14-7 7-7zM12.046 2H7a5 5 0 00-5 5v82a5 5 0 005 5h36a5 5 0 005-5V7a5 5 0 00-5-5h-5.046a2 2 0 00-1.857 1.257l-.594 1.486A2 2 0 0133.646 6H16.354a2 2 0 01-1.857-1.257l-.594-1.486A2 2 0 0012.046 2zM39 65v6a4 4 0 01-7.995.2L31 71v-4H11v-2h28zm-2 2h-4v4a2 2 0 003.995.15L37 71v-4zM18.293 42.293l1.414 1.414L16.414 47l3.293 3.293-1.414 1.414L15 48.414l-3.293 3.293-1.414-1.414L13.586 47l-3.293-3.293 1.414-1.414L15 45.586l3.293-3.293zm20 0l1.414 1.414L36.414 47l3.293 3.293-1.414 1.414L35 48.414l-3.293 3.293-1.414-1.414L33.586 47l-3.293-3.293 1.414-1.414L35 45.586l3.293-3.293z"})}))}var m=s(85982);const h=(0,i.memo)((({title:e,message:t,code:s,additionalContent:i})=>{(0,n.e)((0,a.E)(s));const{css:c,s:d}=(0,o.y)(f),h=Array.isArray(t)?t:[t];return(0,r.jsxs)("div",Object.assign({className:c(d.root)},l.dx.n("wat-error"),l.dx.v(s),{children:[(0,r.jsx)("div",Object.assign({className:c(d.icon)},{children:s&&s<500?(0,r.jsx)(u.k,{}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.i,{children:(0,r.jsx)(g,{})}),(0,r.jsx)(m.N,{children:(0,r.jsx)(p.Y,{})})]})})),(0,r.jsx)("h1",Object.assign({className:c(d.title)},{children:e})),t?(0,r.jsx)("div",Object.assign({className:c(d.message)},{children:h.map((e=>(0,r.jsx)("p",Object.assign({className:c(d.paragraph)},{children:e}),e)))})):null,!!i&&(0,r.jsx)("div",{children:i})]}))}));h.displayName="CustomError";const f=(0,o.k)({root:{display:"flex",paddingTop:24,paddingBottom:0,paddingStart:48,paddingEnd:48,alignItems:"center",flexDirection:"column",color:d.O.gray_262626},title:Object.assign(Object.assign({},c.FY),{textAlign:"center",padding:"16px 0",maxWidth:"100%"}),icon:{height:"128px",width:"128px",textAlign:"center"},message:Object.assign(Object.assign({},c.oN),{textAlign:"center",maxWidth:"100%"}),paragraph:{marginBottom:16}})},44661:(e,t,s)=>{"use strict";s.d(t,{j:()=>k});var r=s(52322),i=s(2784),a=s(7534),n=s(42858),o=s(10962);const c=()=>{const e=(0,n.T)();return(0,r.jsx)(o.s,{title:e._t("Не удалось проложить маршрут"),message:[e._t("Мы постоянно работаем над тем, чтобы такое повторялось как можно реже."),e._t("А пока попробуйте другие типы маршрутов.")],code:404})};var d=s(68879),l=s(1950),u=s(4125),p=s(98584),g=s(63993),m=s(91520),h=s(85843);class f extends i.PureComponent{render(){const{s:e,i18n:t}=this.props;return(0,r.jsxs)("div",Object.assign({className:(0,d.iv)(e.root)},h.n("wat-rubricator-error"),{children:[(0,r.jsx)("div",Object.assign({className:(0,d.iv)(e.icon)},{children:(0,r.jsx)(m.k,{})})),(0,r.jsx)("h1",Object.assign({className:(0,d.iv)(e.title)},{children:t.tp._t("Ничего не нашлось, попробуйте открыть рубрикатор в другом городе")}))]}))}}f.displayName=(0,u.I)("src/shared/components/error/components");const v={root:{display:"flex",paddingTop:24,paddingBottom:0,paddingStart:48,paddingEnd:48,alignItems:"center",flexDirection:"column",color:p.O.gray_262626},title:Object.assign(Object.assign({},g.FY),{textAlign:"center",padding:"16px 0",maxWidth:"100%"}),icon:{height:"128px",width:"128px"},message:Object.assign(Object.assign({},g.oN),{textAlign:"center",maxWidth:"100%"}),entry:{paddingTop:12}},b=(0,d.D2)(v)((0,l.$)()(f));var y=s(40884),x=s(82584),j=s(90198),w=s(26287),_=s(14393),C=s(10355);const I={regionId:w.fq,userAgent:e=>e.session.userAgent},k=(0,j.G)({selectors:I})((0,x.C)((({regionId:e,type:t,code:s,userAgent:r})=>{const i=(0,C.E)(s),a=function(e){const{codeForRaise:t,type:s,regionId:r}=e;if(404===t||410===t)return"search"===s||"entity"===s?"0"===r?"nothingFound":"nothingFoundWithAddOrgButton":"rubricator"===s?"nothingFoundInRubricator":"directions"===s?"canNotFindDirections":"nothingFound";return"somethingGoneWrong"}({codeForRaise:i,type:t,regionId:e});return{codeForRaise:i,viewType:a,userAgent:r}}))(i.memo((({codeForRaise:e,viewType:t,entityId:s,userAgent:i})=>{switch((0,_.e)(e),t){case"nothingFound":return(0,r.jsx)(a.l,{});case"nothingFoundWithAddOrgButton":return(0,r.jsx)(a.l,{showFeedbackButton:!0,entityId:s});case"canNotFindDirections":return(0,r.jsx)(c,{});case"nothingFoundInRubricator":return(0,r.jsx)(b,{});default:return(0,r.jsx)(y.V,{userAgent:i})}}))))},10355:(e,t,s)=>{"use strict";function r(e){return 404===e||410===e?e:500}s.d(t,{E:()=>r})},5477:(e,t,s)=>{"use strict";s.d(t,{O:()=>p});var r=s(52322),i=s(2784),a=s(6801),n=s(98584),o=s(34001),c=s(62111),d=s(20334),l=s(66369),u=s(63993);const p=i.memo((e=>{const{userName:t,backgroundSeed:s,experimentalStyles:i}=e,{css:n,s:l}=(0,a.y)(g),u=(0,o.J)(t),p=(0,c.N)((0,d.K)(s));return(0,r.jsx)("div",Object.assign({className:n(l.initials,i),style:{background:p}},{children:u}))})),g=(0,a.k)({initials:Object.assign(Object.assign({},u.Rw),{borderRadius:l.E.oval,display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",color:n.O.white,overflow:"hidden"})})},67848:(e,t,s)=>{"use strict";s.d(t,{Q:()=>n,w:()=>a});var r=s(52322),i=s(44661);const a=e=>{const{asyncStatus:t}=e;return"error"===t?(0,r.jsx)("div",Object.assign({style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}},{children:(0,r.jsx)(i.j,{code:500})})):(0,r.jsx)("div",{})},n=e=>(0,r.jsx)(a,{asyncStatus:e})},7477:(e,t,s)=>{"use strict";s.d(t,{T:()=>b,w:()=>v});var r=s(52322),i=s(2784),a=s(19561),n=s(68879),o=s(82584),c=s(98584),d=s(35253),l=s(19094);var u=s(76709),p=s(43228),g=s(85843),m=s(32002);class h extends i.PureComponent{constructor(){super(...arguments),this.renderPlaceholder=e=>{const{size:t=d.dp.cardLogo,s}=this.props;return"error"===e?(0,r.jsx)("div",Object.assign({className:(0,a.iv)(s.crownLogo),style:{width:t,height:t}},{children:(0,r.jsx)(u._,{color:c.O.yellow_ffb81c,size:32})})):(0,r.jsx)("div",{className:(0,a.iv)(this.props.s.placeholder)})}}render(){const{image:e,size:t=d.dp.cardLogo,isLoadingForced:s=!1,s:i}=this.props;return e?(0,r.jsx)("div",Object.assign({className:(0,a.iv)(i.logo),style:{width:t,height:t}},{children:(0,r.jsx)(p.C,{src:e,renderPlaceholder:this.renderPlaceholder,isLoadingForced:s})})):(0,r.jsx)("div",Object.assign({className:(0,a.iv)(i.crownLogo),style:{width:t,height:t}},g.dx.n("wat-crown"),{children:(0,r.jsx)(u._,{color:c.O.yellow_ffb81c,size:32})}))}}const f={logo:{display:"inline-block",backgroundColor:c.O.white,borderRadius:"50%",overflow:"hidden",boxShadow:m.q.logo},placeholder:{width:"100%",height:"100%",backgroundColor:c.O.gray_f2f2f2},crownLogo:{borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:m.q.logo,background:c.O.white}},v=(0,n.D2)(f)(h),b=(0,o.C)((function({entity:e,size:t=d.dp.cardLogo}){const s=(0,l.q)(e,`${2*t}x${2*t}`);if(s)return s}))(v)},65796:(e,t,s)=>{"use strict";s.d(t,{S:()=>l});var r=s(52322),i=(s(2784),s(6801)),a=s(63993),n=s(32002),o=s(35253),c=s(98584),d=s(85843);const l=({children:e,dataN:t})=>{const{css:s,s:a}=(0,i.y)(u);return(0,r.jsx)("div",Object.assign({className:s(a.root)},t?d.dx.n(t):void 0,{children:e}))},u=(0,i.k)((()=>({root:Object.assign(Object.assign({pointerEvents:"none",overflow:"hidden"},a.oN),{maxWidth:296,boxShadow:n.q.popup,borderRadius:o.E0.default,background:c.O.white})})))},70715:(e,t,s)=>{"use strict";s.d(t,{P:()=>C});var r=s(52322),i=s(2784),a=s(53196),n=s(6801),o=s(14669),c=s(67753),d=s(6340),l=s(16221),u=s(98584),p=s(86343),g=s(85843),m=s(66369);const h=i.createContext({bssActionItemFunction:()=>()=>{}});var f=s(66908);const v=(0,i.memo)((e=>{const{images:t,isSearchBot:s=!1,dataN:i="wat-review-photo-slide",onClick:a}=e,{s:o}=(0,n.y)(w);return t.length?(0,r.jsx)(b,{children:t.map(((e,n)=>(0,r.jsx)(y,{position:n+1,dataN:i,image:e,isSearchBot:s,onClick:a,styles:x(n,t,o)},n)))}):null}));v.displayName="Slide";const b=(0,i.memo)((({children:e})=>{const{s:t,css:s}=(0,n.y)(w),[i,a,o,c]=e;return a?(0,r.jsxs)("div",Object.assign({className:s(t.container)},{children:[(0,r.jsx)("div",Object.assign({className:s(t.leftSide)},{children:i})),(0,r.jsxs)("div",Object.assign({className:s(t.rightSide,!!o&&t._halfHeight)},{children:[a,o&&(0,r.jsx)("div",Object.assign({className:s(t.container,t._withPaddingTop)},{children:c?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",Object.assign({className:s(t.leftSide)},{children:o})),(0,r.jsx)("div",Object.assign({className:s(t.rightSide)},{children:c}))]}):o}))]}))]})):(0,r.jsx)(r.Fragment,{children:i})}));b.displayName="SlideWrapper";const y=(0,i.memo)((e=>{const{image:t,dataN:s,isSearchBot:a,onClick:o,position:c}=e,{s:l,css:u}=(0,n.y)(w),{lang:m}=(0,d.Z)(),{bssShowItemFunction:v,bssActionItemFunction:b=(()=>()=>{})}=i.useContext(h),{bssRef:y,useBssHandler:x}=(0,f.T)(null==v?void 0:v({image:t,position:c})),j=x(b,{image:t,position:c});return(0,r.jsx)("div",Object.assign({ref:y},g.dx.n(s),{className:u(l.imageWrapper),onClick:(e=>()=>{j(),o&&o(e)})(t)},{children:(0,r.jsx)(p.f,{src:t.url,forceLoad:a,styles:[l.imageStyle,e.styles&&e.styles],threshold:.05,alt:"ru"===m?"Слайд":void 0})}))}));function x(e,t,s){switch(t.length){case 1:return s._roundAll;case 2:return 0===e?s._roundLeft:s._roundRight;case 3:return 0===e?s._roundLeft:1===e?s._roundRightTop:s._roundRightBottom;default:return 0===e?s._roundLeft:1===e?s._roundRightTop:3===e?s._roundRightBottom:void 0}}y.displayName="ImageWithClick";const j=u.O.gray_e6e6e6,w=(0,n.k)({imageStyle:{background:j},container:{display:"flex",height:"100%"},leftSide:{width:"50%",boxSizing:"border-box",borderEnd:`2px solid ${u.O.white}`},rightSide:{width:"50%"},_halfHeight:{height:"50%"},_withPaddingTop:{boxSizing:"border-box",borderTop:`2px solid ${u.O.white}`},imageWrapper:{height:"100%",width:"100%",cursor:"pointer"},_roundAll:{borderRadius:m.E.default},_roundLeft:{borderRadius:`logical 0 ${m.E.default} ${m.E.default} 0`},_roundRight:{borderRadius:`logical ${m.E.default} 0 0 ${m.E.default}`},_roundRightTop:{borderRadius:`logical ${m.E.default} 0 0 0`},_roundRightBottom:{borderRadius:`logical 0 0 0 ${m.E.default}`}}),_=e=>{const{photoPreviews:t,onClick:s}=e,a=t.reduce(((e,t)=>(4===e.images[e.currentIdx].length&&(e.currentIdx++,e.images[e.currentIdx]=[]),e.images[e.currentIdx].push(t),e)),{images:[[]],currentIdx:0}).images;const{isMobileDevice:n,isSearchBot:o}=(0,d.Z)(),c=(0,i.useCallback)((e=>null==s?void 0:s(e.id)),[s]);return a.length?(0,r.jsx)(l.p,Object.assign({dataN:"wat-review-photo-carousel",slideWidth:304,slideHeight:152,hasStaticWidth:!n||1!==a.length,controlsSize:24,gap:2,withoutHeaderAndArrowsOverCarousel:!0},{children:null==a?void 0:a.map(((e,t)=>(0,r.jsx)(v,{isSearchBot:o,images:e,onClick:c},t)))})):null},C=({previews:e,galleryMedia:t,onComplain:s,trackBSSSource:d,bssShowItemFunction:l,bssActionItemFunction:u,object:p})=>{const[g,m,f]=(0,a.C)(t),{css:v,s:b}=(0,n.y)(I),y=i.useCallback((e=>{m(e)}),[m]),x=i.useCallback((e=>{s(e)}),[s]);return(0,r.jsx)(h.Provider,Object.assign({value:{bssShowItemFunction:l,bssActionItemFunction:u}},{children:(0,r.jsxs)("div",Object.assign({className:v(b.root)},{children:[(0,r.jsx)(_,{photoPreviews:e,onClick:y}),g&&(0,r.jsx)(o.h,{photos:t,activePhotoId:g,isLoadingForced:!0,onChange:m,total:t.length,onRemovePhoto:c.ZT,onComplainPhoto:x,onClose:f,isFullScreen:!0,trackBSSSource:d,object:p})]}))}))},I=(0,n.k)({root:{boxSizing:"border-box",overflow:"hidden",backgroundRepeat:"no-repeat",position:"relative"}})},83681:(e,t,s)=>{"use strict";s.d(t,{g:()=>a,y:()=>n});var r=s(52322),i=s(2784);const a=(0,i.createContext)(void 0),n=({children:e})=>{const[t,s]=(0,i.useState)(.5),[n,o]=(0,i.useState)(!0),[c,d]=(0,i.useState)(!1),l={volume:t,isMuted:n,setVolume:s,setIsMuted:o,isPressedProgressBar:c,setIsPressedProgressBar:d};return(0,r.jsx)(a.Provider,Object.assign({value:l},{children:e}))}},18629:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var r=s(22970),i=s(2784);var a=s(27215),n=s(83681);const o=({ref:e,urls:t,type:s="hls",playing:o=!0,volume:c=.5,muted:d=!0,controls:l=!1,loop:u=!1,playbackRate:p=1,width:g="100%",height:m="100%",selected:h,onReady:f,onError:v,isPreview:b})=>{var y,x;const j=(0,i.useContext)(n.g),[w,_]=(0,i.useState)(o),[C,I]=(0,i.useState)((null==j?void 0:j.volume)||c),[k,O]=(0,i.useState)(0),[S,N]=(0,i.useState)(!h||(null!==(y=null==j?void 0:j.isMuted)&&void 0!==y?y:d)),[M,T]=(0,i.useState)(u),[P,E]=(0,i.useState)(p),[L,R]=(0,i.useState)(void 0),z=(0,a.v9)((e=>e.session.platform)),A=null===(x=(({urls:e,type:t,hdrSupported:s})=>{let r=t;return"hls"===r&&s?r="hls_hdr":"dash"===r&&s&&(r="dash_hdr"),e.find((e=>(null==e?void 0:e.type)===r))||e[0]})({urls:t,type:s,hdrSupported:L,platform:z}))||void 0===x?void 0:x.url,F=(0,i.useCallback)((()=>_(!0)),[]),B=(0,i.useCallback)((()=>_(!1)),[]),Z=(0,i.useCallback)((()=>_((e=>!e))),[]),U=(0,i.useCallback)((e=>{I(e),(null==j?void 0:j.setVolume)&&(null==j||j.setVolume(e),null==j||j.setIsMuted(!(e>0)))}),[j]),H=(0,i.useCallback)((()=>{N((e=>((null==j?void 0:j.setIsMuted)&&(null==j||j.setIsMuted(!e)),!e)))}),[j]),D=(0,i.useCallback)((e=>E(e)),[]),$=(0,i.useCallback)((()=>T((e=>!e))),[]),V=(0,i.useCallback)((e=>{w&&O(e.played)}),[w]);(0,i.useEffect)((()=>{o!==w&&_(o)}),[o]),(0,i.useEffect)((()=>{(0,r.mG)(void 0,void 0,void 0,(function*(){const e=yield(e=>(0,r.mG)(void 0,void 0,void 0,(function*(){if(!("mediaCapabilities"in navigator))return!1;const t={type:"file",video:{contentType:"hls"===e?"application/vnd.apple.mpegurl":"application/dash+xml",width:3840,height:2160,bitrate:1e7,framerate:30,transferFunction:"pq"}};try{const e=yield window.navigator.mediaCapabilities.decodingInfo(t);return e.supported&&e.smooth&&e.powerEfficient}catch(e){return!1}})))(s.split("_")[0]);R(e)}))}),[s]);const q=!b&&!h||S&&(null==j?void 0:j.isMuted);return{isPlaying:w,played:k,currentVolume:C,isMuted:q,isLooping:M,rate:P,play:F,pause:B,togglePlayPause:Z,setVolume:U,onProgress:V,toggleMute:H,setPlaybackRate:D,toggleLoop:$,setPlayed:O,setIsMuted:N,onSeek:t=>{var s;null===(s=e.current)||void 0===s||s.seekTo(t),O(t)},playerProps:{url:A,playing:(b||!!h)&&w,volume:C,played:k,muted:q,controls:l,loop:M,playbackRate:P,width:g,height:m,onError:v,onReady:f,onProgress:V,playsinline:!0}}}},43534:(e,t,s)=>{"use strict";s.d(t,{T:()=>v});var r=s(52322),i=s(2784),a=s(68879),n=s(4125),o=s(82584),c=s(44878),d=s(97264);var l=s(16286),u=s(20546),p=s(85843),g=s(78837),m=s(82588);class h extends i.PureComponent{constructor(){super(...arguments),this.renderMcd=e=>{const{background:t}=this.props,s=(0,m.P)(e);return s?(0,r.jsx)(s,{background:t}):null}}render(){const{lineNumber:e,color:t,background:s,borderColor:i,s:n,regionCode:o,routeLogo:c}=this.props;if(!e)return(0,r.jsx)("span",Object.assign({className:(0,a.iv)(n.container,n.logo),style:{background:s,color:t,borderColor:i}},p.dx.n("wat-metro-line-icon"),{children:(0,r.jsx)(u.m,{size:16,regionCode:o})}));if((0,g.I)(c))return(0,r.jsx)("span",Object.assign({className:(0,a.iv)(n.container,n._mcd)},p.dx.n("wat-metro-line-icon"),p.dx.s("mcd"),{children:this.renderMcd(c)}));const d=e.length>1;return(0,r.jsx)("span",Object.assign({className:(0,a.iv)(n.container,n.logo,d&&n._longText),style:{background:s,color:t,borderColor:i}},p.dx.n("wat-metro-line-number"),p.dx.s(d?"long":"short"),{children:e}))}}h.displayName=(0,n.I)("src/shared/components/metroLineLogo");const f={container:{display:"flex",justifyContent:"center",alignItems:"center",width:16,height:16},_mcd:{width:18},logo:Object.assign(Object.assign({},l.zb),{lineHeight:l.zb.fontSize,boxSizing:"border-box",borderRadius:"50%",border:"1px solid currentColor"}),_longText:Object.assign(Object.assign({},l.Ay),{lineHeight:l.Ay.fontSize})},v=(0,o.C)((({routeLogo:e,background:t,showLineNumber:s})=>{const r=function(e,t){if((0,d.Z)(t))return(0,c.BZ)(e);return(0,c.uN)(e)}(t,e);return Object.assign({lineNumber:s?(0,c.zP)(e):void 0},r)}))((0,a.D2)(f)(h))},9650:(e,t,s)=>{"use strict";s.d(t,{P:()=>m});var r=s(52322),i=s(2784),a=s(98584),n=s(85843),o=s(35253),c=s(32002),d=s(6801),l=s(96729),u=s(27215),p=s(54974),g=s(33451);const m=(0,i.memo)((e=>{const{children:t,withCloseButton:s=!0,onClose:i,buttonTop:a=24,buttonEnd:o=24,dataN:c,innerRef:m}=e,{css:f,s:v}=(0,d.y)(h),b=(0,u.I0)(),y=(0,p.$)((()=>{i&&i(),b((0,g.j4)())}));return(0,r.jsxs)("div",Object.assign({ref:m,className:f(v.layout)},c?n.dx.n(c):"",{children:[t,s&&(0,r.jsx)("div",Object.assign({},n.dx.n("wat-popup-close"),{className:f(v.close,v[`_top${a}`],v[`_end${o}`]),onClick:y},{children:(0,r.jsx)(l.x,{})}))]}))}));m.displayName="MobilePopupLayout";const h=(0,d.k)({layout:{position:"fixed",bottom:0,start:0,display:"flex",flexDirection:"column",maxHeight:"90%",background:a.O.white,width:"100%",borderTopStartRadius:o.E0.isolate,borderTopEndRadius:o.E0.isolate,boxShadow:c.q.popup,overflow:"hidden"},close:{position:"absolute",width:24,height:24,top:24,end:24,cursor:"pointer",color:a.O.gray_cccccc},_top12:{top:12},_top24:{top:24},_end20:{end:20},_end24:{end:24}})},46824:(e,t,s)=>{"use strict";s.d(t,{Q:()=>m,q:()=>p});var r=s(52322),i=s(98584),a=s(6801),n=s(20094),o=s(2784),c=s(85843),d=s(86687),l=s(35914),u=s(27215);const p=(0,o.memo)((({appearance:e="solid",children:t})=>{const{s,css:i}=(0,a.y)(g),n=(0,u.v9)((e=>!!e.appContext.isDataViewerMinimized));return(0,r.jsxs)("div",Object.assign({className:i(s.root)},{children:[!n&&(0,r.jsx)("div",Object.assign({className:i(s.cookieBanner)},{children:(0,r.jsx)(l.W,{})})),(0,r.jsx)("div",Object.assign({className:i(s.footer,"transparent"===e&&s._transparent)},c.dx.n("wat-nav-footer"),{children:t}))]}))}));p.displayName="NavFooter";const g=(0,a.k)({root:{position:"relative"},footer:{padding:12,display:"flex",overflowX:"auto",background:i.O.white,boxShadow:`0px -5px 10px ${(0,n.j)(i.O.black,.07)}`,position:"relative"},_transparent:{background:"none",boxShadow:"none"},cookieBanner:{position:"absolute",left:"50%",bottom:79,transform:"translateX(-50%)"}}),m=(0,o.memo)((({icon:e,children:t,onClick:s,type:i,disabled:n,external:o,grow:l,dataN:u="wat-nav-button",href:p,dataT:g,dataV:m,dataPs:f,containerRef:v})=>{const{s:b,css:y}=(0,a.y)(h),x=[b.button,"blue"===i&&b._blue,"blueWithShadow"===i&&b._blueWithShadow,"white"===i&&b._white,"whiteWithShadow"===i&&b._whiteWithShadow,"whiteWithBorder"===i&&b._whiteWithBorder,n&&b._disabled,l&&b._grow];return p?(0,r.jsx)(d.Z,Object.assign({href:p},c.dx.n(u),{styles:b.linkWrapper,color:"inherit",external:o,containerRef:v,onClick:s},{children:(0,r.jsxs)("span",Object.assign({className:y(...x)},{children:[e&&(0,r.jsx)("div",Object.assign({className:y(b.icon)},{children:e})),t&&(0,r.jsx)("div",Object.assign({className:y(b.content)},{children:t}))]}))})):(0,r.jsxs)("button",Object.assign({},c.dx.n(u),c.dx.t(g),c.dx.v(m),{"data-ps":f,className:y(...x),ref:v,onClick:s},{children:[e&&(0,r.jsx)("div",Object.assign({className:y(b.icon)},{children:e})),t&&(0,r.jsx)("div",Object.assign({className:y(b.content)},{children:t}))]}))}));m.displayName="NavFooterButton";const h=(0,a.k)({button:{padding:"0 6px",background:i.O.gray_f2f2f2,borderRadius:8,marginEnd:8,display:"flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",height:40,boxSizing:"border-box","&:last-child":{marginEnd:0}},linkWrapper:{marginEnd:8,"&:last-child":{marginEnd:0}},content:{padding:"0 6px","&:empty":{display:"none"}},_grow:{flexGrow:1,flexShrink:0},_white:{background:i.O.white},_whiteWithShadow:{background:i.O.white,boxShadow:`0px 3px 10px ${(0,n.j)(i.O.gray_262626,.15)}`},_whiteWithBorder:{background:i.O.white,border:`1px solid ${i.O.gray_e6e6e6}`},_blue:{background:i.O.blue_028eff,color:i.O.white},_blueWithShadow:{background:i.O.blue_028eff,color:i.O.white,boxShadow:`0px 3px 10px ${(0,n.j)(i.O.gray_262626,.15)}`},_disabled:{opacity:.8},icon:{width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center","&:empty":{display:"none"}}})},14669:(e,t,s)=>{"use strict";s.d(t,{h:()=>o});var r=s(52322),i=s(19981),a=s(2933),n=s(67848);const o=e=>(0,r.jsx)(i.E,{loader:a.H.photoViewer,render:t=>(0,r.jsx)(t,Object.assign({},e)),renderPlaceholder:n.Q})},86465:(e,t,s)=>{"use strict";s.d(t,{R:()=>o});var r=s(52322),i=s(6340),a=(s(2784),s(9650)),n=s(76912);const o=({children:e,desktopWidth:t,onClose:s,dataN:o,withCloseButton:c})=>{const{isMobileDevice:d}=(0,i.Z)();return d?(0,r.jsx)(a.P,Object.assign({dataN:o,onClose:s,withCloseButton:c},{children:e})):(0,r.jsx)(n.F,{dataN:o,body:e,withCloseButton:c,onClose:s,desktopWidth:t})};o.displayName="PopupAdaptiveLayout"},76912:(e,t,s)=>{"use strict";s.d(t,{F:()=>g});var r=s(52322),i=s(2784),a=s(98584),n=s(85843),o=s(35253),c=s(32002),d=s(6801),l=s(96729),u=s(85982),p=s(6340);const g=(0,i.memo)((e=>{const{header:t,body:s,footer:i,withCloseButton:a,onClose:o,dataN:c="",dataT:g="",desktopWidth:h,backgroundColor:f,darkMode:v=!1,darkCloseBackground:b=v,bodyFooter:y,innerRef:x,styles:j,competitionFriendsMode:w}=e,{css:_,s:C}=(0,d.y)(m),{isMobileDevice:I}=(0,p.Z)(),k=Object.assign(Object.assign({},I||void 0===h?{}:{width:h}),f?{background:f}:{});return(0,r.jsxs)("div",Object.assign({ref:x,className:_(C.layout,v&&C.darkMode,j)},n.dx.n(c),n.dx.t(g),{style:k},{children:[t&&(0,r.jsx)("div",Object.assign({className:_(C.item)},{children:t})),(0,r.jsx)("div",Object.assign({className:_(C.body)},n.dx.n("wat-layout-body"),{children:s})),y&&y,i&&(0,r.jsx)("div",Object.assign({className:_(C.item)},{children:i})),o&&(0,r.jsx)(u.N,{children:(0,r.jsx)("div",Object.assign({},n.dx.n("wat-popup-close"),{className:_(C.close,v&&b&&C.darkMode,w&&C.competitionFriendsMode),onClick:o},{children:(0,r.jsx)(l.x,{})}))}),o&&a&&(0,r.jsx)(u.i,{children:(0,r.jsx)("div",Object.assign({},n.dx.n("wat-popup-close"),{className:_(C.close,v&&C.darkMode),onClick:o},{children:(0,r.jsx)(l.x,{})}))})]}))}));g.displayName="PopupLayout";const m=(0,d.k)((e=>({layout:{position:e.mobile?"fixed":"relative",top:0,start:0,display:"flex",flexDirection:"column",maxHeight:e.mobile?"100%":"90vh",height:e.mobile?"100%":"initial",background:a.O.white,width:e.mobile?"100%":o.dp.popupFrameWidth,borderRadius:e.mobile?"initial":o.E0.isolate,boxShadow:c.q.popup,overflow:"hidden"},item:{flexShrink:0},body:Object.assign({position:"relative",display:"flex",flexDirection:"column",flex:"1 1 auto",overflowY:"auto",overflowX:"hidden"},o.AR),close:{position:"absolute",width:24,height:24,top:8,end:8,cursor:"pointer"},competitionFriendsMode:{top:24,end:24},darkMode:{backgroundColor:a.O.gray_141414,color:a.O.white}})))},16210:(e,t,s)=>{"use strict";s.d(t,{p:()=>v});var r=s(52322),i=s(2784),a=s(63993),n=s(86687),o=s(85843),c=s(98584),d=s(6340),l=s(6801),u=s(42858),p=s(27215),g=s(26287);const m={3:'ООО "МикроСис"',4:'ООО "Городские Информационные Системы"',5:'ООО "ДубльГИС-Кемерово"',6:'ООО "ДубльГИС-Новокузнецк"',8:'ООО "2ГИС.ЮГ"',10:'ООО "2ГИС-Рязань"',11:'ООО "ДубльГИС-Иркутск"',12:'ООО "ДубльГИС-Иркутск"',13:'ООО "ДубльГИС-Тюмень"',20:'ООО "Городские Информационные Системы"',23:'ООО "2ГИС.ЮГ"',24:'ООО "2ГИС.Р"',25:'ООО "ДубльГИС-Владивосток"',26:'ООО "ДубльГИС-Магнитогорск"',27:'ООО "Городские Информационные Системы"',28:'ООО "2ГИС.ЦФО"',29:'ООО "2ГИС-Закамье"',30:'ООО "2ГИС.ЮГ"',31:'ООО "ДубльГИС Воронеж"',33:'ООО "2ГИС-Саратов"',34:'ООО "ДубльГИС-Кострома"',35:'ООО "2ГИС-ХАБАРОВСК"',36:'ООО "2ГИС-Калининград"',37:'ООО "2ГИС-Улан-Удэ"',39:'ООО "ДубльГИС-Сургут"',40:'ООО "2ГИС-Калининград"',41:'ООО "ДубльГИС Поволжье"',42:'ООО "2ГИС.Пенза"',43:'ООО "2ГИС-Саратов"',44:'ООО "2ГИС-Рязань"',45:'ООО "2ГИС-Нижний Тагил"',46:'ООО "2ГИС.С"',47:'ООО "2ГИС.ЦФО.Т"',48:'ООО "ДубльГИС-Оренбург"',49:'ООО "ДубльГИС-Архангельск"',50:'ООО "2ГИС РЕГИОН"',51:'ООО "2ГИС-Байкал"',52:'ООО "ДубльГИС-Благовещенск"',53:'ООО "2ГИС-Улан-Удэ"',54:'ООО "2ГИС.С"',55:'ООО "ДубльГИС-Ульяновск"',56:'ООО "2ГИС.ЛИПЕЦК"',57:'ООО "ДубльГИС-Ставрополь"',58:'ООО "ДубльГИС Поволжье"',59:'ООО "2ГИС.ЦФО.Т"',61:'ООО "ДубльГИС-Калуга"',62:'ООО "2ГИС.ЦФО"',63:'ООО "2ГИС СИСТЕМА"',64:'ООО "2ГИС-Байкал"',65:'ООО "2ГИС-Калининград"',67:'ТОО "2ГИС-Справочник Двух Столиц"',68:'ТОО "2GIS-Astana (2ГИС-Астана)"',69:'ООО "ДубльГИС-Абакан"',71:'ООО "2ГИС-ОРЕЛ"',72:'ООО "ДубльГИС-Ульяновск"',73:'ООО "ДубльГИС-Миасс"',74:'ООО "2ГИС-Новороссийск"',76:'ООО "2ГИС СЕВЕР"',77:'ООО "ДубльГИС-Новгород"',78:'ООО "2ГИС Вологда"',80:'ООО "ДубльГИС-Петрозаводск"',81:'ООО "2ГИС-Тамбов"',82:'ООО "ДубльГИС-Владивосток"',83:'ООО "ДубльГИС-Владивосток"',84:'ТОО "2ГИС-Справочник Караганды"',85:'ООО "2ГИС-САРАНСК"',86:'ООО "ДубльГИС-Кемерово"',87:'ООО "ДубльГИС-Миасс"',88:'ООО "2ГИС РЕГИОН"',89:'ООО "ДубльГИС-КМВ"',90:'ООО "ДубльГИС-Псков"',91:'ТОО "2ГИС-ОСКЕМЕН"',94:'ООО "ДубльГИС Комсомольск-на-Амуре"',95:'ООО "2ГИС-Камчатка"',96:'ООО "2ГИС СЕВЕР"',97:'ООО "ДубльГИС-Тюмень"',103:'ООО "2ГИС-Ноябрьск"',106:'ООО "2ГИС.ЮГ"',108:'ООО "2ГИС-Закамье"',109:'ООО "ДУБЛЬГИС-КАМЕНСК-УРАЛЬСКИЙ"',111:'ТОО "2ГИС-ПАВЛОДАР"',112:'ООО "ДваГИС-Бишкек"',113:'ООО "2ГИС-Дагестан"',115:'ООО "2ГИС.Грозный"',116:'ООО "2ГИС.ЮГ"',124:'ООО "ДубльГИС-Ульяновск"',131:'ООО "2ГИС.ЮГ"',139:'ООО "2ГИС-Ноябрьск"',150:'ООО "ДубльГИС-Ульяновск"',161:'ТОО "2ГИС-Шымкент"',162:'ТОО "2GIS Запад"',167:'ТОО "2GIS Aktobe"',168:'ТОО "2GIS-Atyrau"',170:'ТОО "2GIS-SEVER.KZ"',171:'ООО "ДваГИС-Бишкек"',196:'ТОО "2GIS-Mangystau"',201:'ТОО "2GIS-SEVER.KZ"',203:'ТОО "2GIS-Qostanai (2ГИС Костанай)"',204:'ООО "ДубльГИС-Ульяновск"',206:'ООО "ДубльГИС-Новокузнецк"',207:'ООО "2ГИС-Ноябрьск"',208:'СП OOO "2 GIS"',209:'ООО "ДваГИС-Бишкек"'};var h=s(888),f=s(48244);const v=i.memo((({buttonName:e,type:t})=>{const{lang:s,privacyUrl:a,licenseAgr:c,defaultCountryCode:v,brandCode:j}=(0,d.Z)(),{s:w,css:_}=(0,l.y)(b),C=(0,p.v9)(g.yH),I=(0,u.T)(),k=e||I._t("Отправить"),O=i.useMemo((()=>"default_partner"===t&&C?(e=>e in m?"2ГИС":void 0)(C):void 0),[C,t]),S=O&&y[v]||a,N=O&&x[v]||c,M=(()=>{if("ru"!==s&&"az"!==s)return;const e={agree:e=>(0,r.jsx)(n.Z,Object.assign({href:N,external:!0},{children:e})),privacy:e=>(0,r.jsx)(n.Z,Object.assign({href:S,external:!0},{children:e})),privacyAdditionalRu:e=>(0,r.jsx)(n.Z,Object.assign({href:"https://law.2gis.ru/personal-data-dublgis",external:!0},{children:e}))};if("ru"===s&&"RU"===v)return"default_partner"===t&&O?(0,r.jsx)(f.J,{template:I._gg("Нажимая кнопку «%1», вы принимаете условия $agree[Соглашения]. Условия и цели обработки персональных данных определены в $privacy[Политике конфиденциальности].",[k]),render:e}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.J,{template:I._gg("Нажимая кнопку «%1», вы принимаете условия $agree[Лицензионного соглашения]. Условия и цели обработки персональных данных определены в $privacy[Политике конфиденциальности].",[k]),render:e}),(0,r.jsx)("br",{}),(0,r.jsx)(f.J,{template:I._gg("$privacyAdditionalRu[Политика обработки персональных данных]."),render:e})]});if("default"===t||"default_partner"===t&&!O){const t="az"===s?I._gg('Siz "%1" düyməsini sıxmaqla, $agree[Lisenziya müqaviləsinin] şərtlərini qəbul edirsiniz və $privacy[Məxfilik Siyasəti] ilə müəyyən edilmiş şərtlər və məqsədlər üçün fərdi məlumatların işlənməsinə %2 razılıq verirsiniz.',[k,(0,h.r)("AZ","az",j)]):I._gg("Нажимая кнопку «%1», вы принимаете условия $agree[Лицензионного соглашения] и даёте %2 согласие на обработку персональных данных на условиях и в целях, определенных $privacy[Политикой конфиденциальности].",[k,(0,h.r)("RU","ru",j)]);return(0,r.jsx)(f.J,{template:t,render:e})}if("default_partner"===t&&O){const t="az"===s?I._gg('Siz "%1" düyməsini sıxmaqla, $agree[Sazişin] şərtlərini qəbul edirsiniz və $privacy[Məxfilik Siyasəti] ilə müəyyən edilmiş şərtlər və məqsədlər üçün fərdi məlumatların işlənməsinə %2 razılıq verirsiniz.',[k,O]):I._gg("Нажимая кнопку «%1», вы принимаете условия $agree[Соглашения] и даёте %2 согласие на обработку персональных данных на условиях и в целях, определенных $privacy[Политикой конфиденциальности]",[k,O]);return(0,r.jsx)(f.J,{template:t,render:e})}})();if(M)return(0,r.jsx)("div",Object.assign({className:_(w.legal)},o.dx.n("wat-privacy-policy"),{children:M}));const T="order"===t?I._t("Я даю 2ГИС согласие на обработку и передачу третьим лицам своих персональных данных и согласен с «[Политикой конфиденциальности]»"):I._t("Нажимая кнопку «Отправить», я даю %1 согласие на обработку персональных данных на условиях и в целях, определённых «[Политикой конфиденциальности]»",[(0,h.r)(v,s,j)]);return(0,r.jsx)("div",Object.assign({className:_(w.legal)},o.dx.n("wat-privacy-policy"),{children:(0,r.jsx)(n.Z,Object.assign({templated:!0,href:a,external:!0},{children:T}))}))}));v.displayName="PrivacyPolicy";const b=(0,l.k)({legal:Object.assign(Object.assign({},a.yG),{color:c.O.gray_929292})}),y={RU:"https://law.2gis.ru/privacy-partner",KZ:"https://law.2gis.kz/privacy-partner",AZ:"https://law.2gis.az/privacy-partner",KG:"https://law.2gis.kg/privacy-partner",UZ:"https://law.2gis.uz/privacy-partner",BY:"https://law.2gis.by/privacy-partner",AM:"https://law.2gis.am/privacy-partner",GE:"https://law.2gis.ge/privacy-partner"},x={RU:"https://law.2gis.ru/partner-agreement",KZ:"https://law.2gis.kz/partner-agreement",AZ:"https://law.2gis.az/partner-agreement",KG:"https://law.2gis.kg/partner-agreement",UZ:"https://law.2gis.uz/partner-agreement",BY:"https://law.2gis.by/partner-agreement",GE:"https://law.2gis.ge/partner-agreement"}},57214:(e,t,s)=>{"use strict"},47697:(e,t,s)=>{"use strict";s.d(t,{k:()=>i});var r=s(52322);s(2784),s(33511),s(57214);const i=e=>(0,r.jsx)(r.Fragment,{children:e.children})},30587:(e,t,s)=>{"use strict";s.d(t,{r:()=>De});var r=s(52322),i=s(2784),a=s(98584),n=s(63993),o=s(32002),c=s(85843),d=s(6801),l=s(42858),u=s(57935),p=s(54974),g=s(76050),m=s(86023);const h=(e,{dateFns:t,tp:s})=>{var r,i;const{comment:a,upperCutTextLength:n,showFullOfficialAnswer:o,commentsCount:c,reviewUserId:d,userId:l,ownerComponent:u}=e,p="card"!==u,h=(0,m.Y2)(a.text),f=n/3,v=o?h:(0,m.Sf)(h,3,f),b=a.is_official_answer,y=l===d,x=!!a.user,j=!(!y&&1===c)&&(p&&c>0),w=b&&d===l&&"card"!==u&&"myReviews"!==u;return{name:(null===(r=a.org)||void 0===r?void 0:r.name)||(null===(i=a.user)||void 0===i?void 0:i.name),date:a.date_created?(0,g.l)({isoDate:a.date_created,currentDate:new Date},{tp:s,dateFns:t})||"":void 0,text:v,isOfficialAnswer:b,isAllCommentsLinkDisplayed:j,showRemove:y&&!b&&x,highlightAnswer:w}};var f=s(35253),v=s(86687),b=s(32121),y=s(13562),x=s(76709),j=s(55206),w=s(5477),_=s(6340);const C=i.memo((e=>{var t,s,i,n;const{isAdvertiser:o,isSearchBot:c,comment:l,orgAvatar:u}=e,{lang:p}=(0,_.Z)(),{s:g,css:m}=(0,d.y)(I),h=(null===(t=l.user)||void 0===t?void 0:t.photo_preview_urls)&&(null===(s=l.user)||void 0===s?void 0:s.photo_preview_urls["64x64"]),f=(null===(i=l.org)||void 0===i?void 0:i.logo_preview_urls)&&(null===(n=l.org)||void 0===n?void 0:n.logo_preview_urls["64x64"])||u;if(l.org){if(f)return(0,r.jsx)("div",Object.assign({className:m(g.avatar)},{children:(0,r.jsx)(y.j,{src:f,isLoadingForced:c,alt:"ru"===p?"Аватар":void 0})}));if(o)return(0,r.jsx)("div",Object.assign({className:m(g.avatar,g._crownAnswer)},{children:(0,r.jsx)(x._,{color:a.O.yellow_ffb81c})}));const e=l.org.name||l.org_name;if(e)return(0,r.jsx)("div",Object.assign({className:m(g.avatar)},{children:(0,r.jsx)(w.O,{backgroundSeed:e,userName:e})}))}return l.user?(0,r.jsx)("div",Object.assign({className:m(g.avatar)},{children:(0,r.jsx)(j.q,{src:h,initials:()=>(0,r.jsx)(w.O,{backgroundSeed:l.user.id,userName:l.user.name}),isLoadingForced:c})})):(0,r.jsx)("div",{className:m(g.avatar)})})),I=(0,d.k)({avatar:{width:24,height:24,borderRadius:"50%",background:"center no-repeat",backgroundSize:"cover",display:"inline-block",verticalAlign:"top",marginEnd:8,overflow:"hidden"},_crownAnswer:{display:"inline-flex",justifyContent:"center",alignItems:"center",background:a.O.white}}),k=i.memo((e=>{const{withDivider:t=!1,comment:s,upperCutTextLength:n,showFullOfficialAnswer:o,commentsCount:g,reviewUserId:m,isAdvertiser:f,isSearchBot:y,userId:x,ownerComponent:j,needToScrollToLastComment:w,orgAvatar:_}=e,I=(0,l.T)(),{css:k,s:S}=(0,d.y)(O),N=i.useRef(null),{text:M,name:T,date:P,isOfficialAnswer:E,highlightAnswer:L,isAllCommentsLinkDisplayed:R,showRemove:z}=(0,u.Gb)(h,{comment:s,upperCutTextLength:n,showFullOfficialAnswer:o,commentsCount:g,reviewUserId:m,userId:x,ownerComponent:j});i.useEffect((()=>{N&&w&&setTimeout((()=>{var e;if(null===(e=N.current)||void 0===e?void 0:e.scrollIntoView)try{N.current.scrollIntoView({block:"center"})}catch(e){N.current.scrollIntoView()}}),300)}),[]);const A=(0,p.$)((t=>{const{onShowAllCommentsClick:s}=e;t.stopPropagation(),s&&s()})),F=(0,p.$)((()=>{const{onRemoveCommentClick:t,comment:s}=e;t&&t(s.id)})),B=i.useMemo((()=>{if(z)return(0,r.jsx)("div",Object.assign({className:k(S.actions,!E&&S._withBorder)},{children:(0,r.jsx)("div",Object.assign({onClick:F,className:k(S.delete)},c.dx.n("wat-review-trash"),{children:(0,r.jsx)(b.r,{color:a.O.gray_929292})}))}))}),[F,E,z,k,S.actions,S._withBorder,S.delete]);return(0,r.jsxs)("div",Object.assign({className:k(S.root,E&&S._official,L&&S._officialHighlighted)},c.dx.n("wat-review-comment-block"),{ref:N},{children:[(0,r.jsx)(C,{comment:s,orgAvatar:_,isSearchBot:y,isAdvertiser:f,highlightAnswer:L}),(0,r.jsxs)("div",Object.assign({className:k(S.title)},{children:[(0,r.jsx)("span",Object.assign({className:k(S.name),title:T},c.dx.n("wat-review-company-name"),{children:T})),P&&(0,r.jsx)("div",Object.assign({className:k(S.date)},c.dx.n("wat-official-answer-date"),{children:E?I._t("%1, официальный ответ",[P]):P}))]})),(0,r.jsx)("div",Object.assign({className:k(S.text,!z&&!E&&t&&S._withBorderAndOffset)},c.dx.n("wat-review-comment-text"),{children:M})),B,R&&(0,r.jsx)("div",Object.assign({className:k(S.link)},c.dx.n("wat-review-all-comments"),{children:(0,r.jsx)(v.r,Object.assign({onClick:A},{children:I._t("Все комментарии")}))}))]}))})),O=(0,d.k)({root:{padding:"8px 16px"},actions:{textAlign:"end",marginStart:32},link:{marginStart:32,marginTop:8},name:{maxWidth:272,textOverflow:"ellipsis",overflow:"hidden",display:"inline-block",verticalAlign:"middle",whiteSpace:"nowrap"},title:Object.assign({display:"inline-block"},n.q0),date:Object.assign(Object.assign({},n.yG),{color:a.O.gray_929292,marginBottom:12}),text:Object.assign(Object.assign({},n.oN),{marginStart:32,overflow:"hidden",whiteSpace:"pre-line",wordBreak:"break-word",wordWrap:"break-word"}),delete:{display:"inline-block",cursor:"pointer",marginEnd:-4},_official:{borderRadius:f.E0.default,backgroundColor:a.O.gray_f2f2f2,padding:"12px 16px"},_officialHighlighted:{backgroundColor:a.O.white},_withBorder:{boxShadow:o.q.innerBorderBottomBase},_withBorderAndOffset:{paddingBottom:8,boxShadow:o.q.innerBorderBottomBase}});var S=s(49793);const N=(e,t)=>{if(e.date_edited){const s=(0,g.l)({isoDate:e.date_edited,currentDate:new Date},t);if(s)return t.tp._t("%1, отредактирован",[s])}return(0,g.l)({isoDate:e.date_created,currentDate:new Date},t)},M=(e,t)=>{const{review:s,showObjectInsteadUser:r}=e,i=((e,t)=>{if(t){if(!e.object.logo_urls)return;return e.object.logo_urls["64x64"]}return e.user.photo_preview_urls["64x64"]})(s,r);return{title:r?s.object.name:s.user.name,userName:s.user.name,userId:s.user.id,userReviewCount:s.user.reviews_count,userPublicProfileId:s.user.public_id,avatar:i,date:N(s,t)||"",showRating:s.is_rated,rating:s.rating}};var T=s(77351),P=s(85982);const E=i.forwardRef(((e,t)=>{const{onObjectClick:s,isSearchBot:i,showObjectInsteadUser:n,showReviewsTotal:o,isPinned:p,review:g,isContactTab:m}=e,{avatar:h,userReviewCount:f,userName:v,userId:b,showRating:y,date:x,title:_,rating:C}=(0,u.Gb)(M,e),I=(0,l.T)(),{css:k,s:O}=(0,d.y)(L),N=()=>p?O._narrowTitle:C&&m?O._mediumTitleTabContacts:C?O._mediumTitle:void 0;return(0,r.jsxs)("div",Object.assign({ref:t,className:k(O.root)},{children:[(0,r.jsxs)("div",Object.assign({className:k(O.user,s&&n&&O._clickable),onClick:()=>{s&&s()}},{children:[(0,r.jsx)("div",Object.assign({className:k(O.avatar)},c.dx.n("wat-review-avatar"),{children:(0,r.jsx)(j.q,{src:h,initials:()=>(0,r.jsx)(w.O,{backgroundSeed:n?g.object.id:b,userName:n&&g.object.name?g.object.name.toUpperCase():v}),isLoadingForced:i})})),(0,r.jsxs)("div",Object.assign({className:k(O.title,N())},{children:[(0,r.jsx)(P.N,{children:(0,r.jsxs)(S.v,{children:[(0,r.jsx)("span",Object.assign({className:k(O.name,N()),title:_},c.dx.n("wat-user-name"),{children:_})),o&&(0,r.jsx)("span",Object.assign({className:k(O.reviewCount)},c.dx.n("wat-review-count"),{children:I._nt(["%% отзыв","%% отзыва","%% отзывов"],f)}))]})}),(0,r.jsx)(P.i,{children:(0,r.jsxs)("div",{children:[(0,r.jsx)("span",Object.assign({className:k(O.name,N()),title:_},c.dx.n("wat-user-name"),{children:_})),o&&(0,r.jsx)("span",Object.assign({className:k(O.reviewCount)},c.dx.n("wat-review-count"),{children:I._nt(["%% отзыв","%% отзыва","%% отзывов"],f)}))]})}),!!x&&(0,r.jsx)("div",Object.assign({className:k(O.dateAndPlace)},c.dx.n("wat-review-date"),{children:x}))]}))]})),(0,r.jsxs)("div",Object.assign({className:k(O.description)},{children:[y&&C&&(0,r.jsx)(T.i,{rating:C,color:a.O.yellow_ffb81c,size:"small",inactiveColor:a.O.gray_929292}),p&&(0,r.jsx)("div",Object.assign({className:k(O.pinned)},c.dx.n("wat-pinned-review"),{children:I._t("Выбран компанией")}))]}))]}))})),L=(0,d.k)((({mobile:e})=>({root:{marginBottom:"12px",padding:e?0:"0 16px",display:"flex",alignItems:"flex-start",justifyContent:"space-between",flexWrap:"nowrap"},avatar:{width:"24px",height:"24px",borderRadius:"50%",marginEnd:"8px",overflow:"hidden",display:"inline-block",verticalAlign:"top"},pin:{borderRadius:f.E0.oval,background:a.O.gray_e6e6e6,color:a.O.white,display:"flex"},name:{textOverflow:"ellipsis",overflow:"hidden",display:"inline-block",verticalAlign:"middle",whiteSpace:"nowrap",maxWidth:264},title:Object.assign({display:"inline-block",whiteSpace:"normal",cursor:"pointer",maxWidth:264},n.q0),description:{display:"flex",flexDirection:"column",alignItems:"flex-end"},pinned:Object.assign(Object.assign({},n.yG),{whiteSpace:"nowrap",color:a.O.green_299400}),reviewCount:Object.assign(Object.assign({},n.oN),{display:e?"block":"inline",color:a.O.gray_929292}),dateAndPlace:Object.assign(Object.assign({},n.yG),{color:a.O.gray_929292}),user:{whiteSpace:"nowrap"},_narrowTitle:{maxWidth:164},_mediumTitle:{maxWidth:216},_mediumTitleTabContacts:{maxWidth:170},_clickable:{cursor:"pointer"}})));var R=s(82584),z=s(19561),A=s(68879),F=s(1950),B=s(92702),Z=s(64693);var U=s(64779),H=s(86308),D=s(60878);const $=(0,i.memo)((({onClick:e,reviewId:t})=>{const{css:s,s:i}=(0,d.y)(V),{_t:n}=(0,l.T)(),o=(0,p.$)((()=>e(t)));return(0,r.jsxs)("div",Object.assign({onClick:o,className:s(i.edit)},c.dx.n("wat-review-edit"),{children:[(0,r.jsx)(D.I,{color:a.O.gray_929292}),(0,r.jsx)("div",Object.assign({className:s(i.label)},{children:n("Изменить")}))]}))})),V=(0,d.k)({edit:{marginTop:0,marginBottom:0,marginStart:16,marginEnd:4,display:"flex",height:24,alignItems:"center",cursor:"pointer"},label:Object.assign(Object.assign({},n.yG),{color:a.O.gray_929292})});var q=s(20548);const G=i.memo((e=>{const{isLiked:t,isDisabled:s,counterText:i,onClick:a}=e,{css:n,s:o}=(0,d.y)(W);return(0,r.jsxs)("button",Object.assign({className:n(o.likes,t&&o._likeActive),disabled:s,onClick:a},{children:[(0,r.jsx)(q.m,{}),(0,r.jsx)("span",Object.assign({className:n(o.likesCount)},{children:i}))]}))}));G.displayName="PointUp";const W=(0,d.k)({likes:{display:"inline-flex",alignItems:"center",color:a.O.gray_929292,"&:hover:not([disabled])":{color:a.O.gray_262626}},_likeActive:{":not([disabled])":{color:a.O.green_30ad00},":hover:not([disabled])":{color:a.O.green_227a00}},likesCount:Object.assign({},n.yG)});var Q=s(66369);const K=i.memo((e=>{const{isLiked:t,isDisabled:s,counterText:i,onClick:a}=e,{css:n,s:o}=(0,d.y)(J),{_t:u}=(0,l.T)();return(0,r.jsxs)("button",Object.assign({className:n(o.likes,t&&o._likeActive)},c.dx.n("wat-helpful-review"),c.dx.s(t?"wat-liked":"wat-unliked"),{disabled:s,onClick:a},{children:[(0,r.jsx)("div",Object.assign({className:n(o.likeWrapper)},{children:(0,r.jsx)(q.m,{})})),(0,r.jsx)("div",Object.assign({className:n(o.helpfullText)},{children:u("Полезно")})),(0,r.jsx)("div",Object.assign({className:n(o.likesCount)},{children:i}))]}))}));K.displayName="Helpfull";const J=(0,d.k)({likes:{display:"inline-flex",alignItems:"center",color:a.O.gray_929292,height:24,borderRadius:Q.E.default,border:`1px solid ${a.O.gray_e6e6e6}`,paddingTop:0,paddingBottom:0,paddingStart:4,paddingEnd:8,boxSizing:"border-box","&:hover:not([disabled])":{color:a.O.gray_262626,border:`1px solid ${a.O.gray_929292}`}},_likeActive:{":not([disabled])":{color:a.O.green_30ad00},":hover:not([disabled])":{color:a.O.green_227a00,border:`1px solid ${a.O.gray_929292}`}},likesCount:Object.assign(Object.assign({},n.yG),{color:a.O.gray_929292,display:"inline-flex",alignItems:"center",height:24,"::before":{color:a.O.gray_e6e6e6,content:'"•"',display:"inline-flex",alignItems:"center",height:24,margin:"0 4px"}}),likeWrapper:{height:24},helpfullText:Object.assign(Object.assign({},n.yG),{color:a.O.gray_262626,height:24,marginStart:4,display:"inline-flex",alignItems:"center"})}),Y=e=>{const{review:t,userId:s}=e;return{isOwner:s===t.user.id,isLiked:!!t.additional_data.is_liked,counterText:(0,B.f)(t.likes_count)}},X=i.memo((e=>{const{onLikeClick:t,review:s,isDisabled:i}=e,{isOwner:a,counterText:n,isLiked:o}=(0,u.Gb)(Y,e),c=(0,p.$)((e=>{e.stopPropagation(),t(s.id)}));return a?(0,r.jsx)(G,{isLiked:o,onClick:c,counterText:n,isDisabled:!0}):(0,r.jsx)(K,{isLiked:o,onClick:c,counterText:n,isDisabled:i})}));X.displayName="ReviewLike";var ee=s(16289);class te extends i.PureComponent{constructor(){super(...arguments),this.renderReadMore=()=>{const{showReadWholeButton:e,i18n:{tp:t},s}=this.props;return e?(0,r.jsx)("span",Object.assign({className:(0,z.iv)(s.expand),onClick:this.onReadMoreClick},{children:t._t("Читать целиком")})):null},this.onComplainClick=()=>{const{onComplainClick:e,reviewId:t}=this.props;e(t)},this.onRemoveClick=()=>{const{onRemoveClick:e,reviewId:t}=this.props;e&&e(t)},this.onEditClick=e=>{const{onEditClick:t}=this.props;t&&t(e)},this.onReadMoreClick=()=>{const{onReadMoreClick:e,reviewId:t}=this.props;e(t)}}render(){const{s:e,showEdit:t,reviewId:s,review:i,isLikeDisabled:a,onLikeClick:n,userId:o}=this.props;return(0,r.jsxs)("div",Object.assign({className:(0,z.iv)(e.root)},{children:[this.renderReadMore(),(0,r.jsxs)("div",Object.assign({className:(0,z.iv)(e.actions)},{children:[(0,r.jsxs)("div",Object.assign({className:(0,z.iv)(e.actionsPart)},{children:[(0,r.jsx)(X,{isDisabled:a,onLikeClick:n,userId:o,review:i}),this.renderViews()]})),(0,r.jsxs)("div",Object.assign({className:(0,z.iv)(e.actionsPart)},{children:[this.renderSource(),t&&(0,r.jsx)($,{reviewId:s,onClick:this.onEditClick}),this.renderDelete(),this.renderComplain()]}))]}))]}))}renderViews(){const{viewsCount:e,s:t}=this.props;return(0,Z.$K)(e)?(0,r.jsxs)("div",Object.assign({className:(0,z.iv)(t.views)},{children:[(0,r.jsx)(H.G,{}),(0,r.jsx)("span",Object.assign({className:(0,z.iv)(t.viewsCount)},{children:e}))]})):null}renderDelete(){const{showRemove:e,s:t,i18n:s}=this.props;if(e)return(0,r.jsxs)("div",Object.assign({onClick:this.onRemoveClick,className:(0,z.iv)(t.delete)},c.dx.n("wat-review-trash"),{children:[(0,r.jsx)(b.r,{color:a.O.gray_929292}),(0,r.jsx)("div",Object.assign({className:(0,z.iv)(t.actionLabel)},{children:s.tp._t("Удалить")}))]}))}renderComplain(){const{s:e}=this.props;return(0,r.jsx)("div",Object.assign({onClick:this.onComplainClick,className:(0,z.iv)(e.complain)},c.dx.n("wat-review-complain"),{children:(0,r.jsx)(U.v,{color:a.O.gray_929292})}))}renderSource(){const{showProvider:e,providerUrl:t,s}=this.props;if(e)return(0,r.jsx)("div",Object.assign({className:(0,z.iv)(s.source)},{children:(0,r.jsx)(v.r,Object.assign({external:!0,href:t},{children:this.renderSourceIcon()}))}))}renderSourceIcon(){const{provider:e,providerImg:t}=this.props;if(t)return(0,r.jsx)(ee.E,{src:t,width:20,height:20,isLoadingForced:!1,alt:e})}}const se={root:{paddingTop:8,paddingBottom:4,paddingStart:16,paddingEnd:16,boxSizing:"border-box"},expand:{color:a.O.blue_0072ce,cursor:"pointer",display:"block",paddingBottom:8},views:{margin:"0 4px",display:"inline-flex",alignItems:"center",color:a.O.gray_929292},viewsCount:Object.assign({},n.yG),source:{margin:"0 4px",display:"inline-flex",alignItems:"center"},delete:{marginTop:0,marginBottom:0,marginStart:16,marginEnd:4,display:"flex",height:24,alignItems:"center",cursor:"pointer"},complain:{display:"inline-flex",marginEnd:-8,marginStart:4,cursor:"pointer",width:18,position:"relative",top:1},actions:{display:"flex",width:"100%",justifyContent:"space-between"},actionLabel:Object.assign(Object.assign({},n.yG),{color:a.O.gray_929292}),actionsPart:{display:"inline-flex"}},re=(0,A.D2)(se)((0,F.$)()(te)),ie=(0,R.C)((e=>{var t;const{review:s,userId:r,onEditClick:i,onRemoveClick:a}=e,n=s.provider,o=(c=null===(t=s.provider_data)||void 0===t?void 0:t.icon_url)?c.replace(/{width}|{height}/g,"40"):void 0;var c;const d=s.url,l="2gis"!==n,u=r===s.user.id,p=(0,Z.$K)(s.views_count)?(0,B.f)(s.views_count):void 0,g=s.likes_count;return{showEdit:u&&!!i,showRemove:u&&!!a,showProvider:l,provider:n,providerImg:o,providerUrl:d,isLiked:!!s.additional_data.is_liked,likesCount:g,viewsCount:p,reviewId:s.id}}))(re);var ae=s(88119);function ne(){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 13 13"},{children:(0,r.jsxs)("g",Object.assign({fill:"none",fillRule:"evenodd"},{children:[(0,r.jsx)("path",{fill:"#FFB81C",d:"M6.5 0a6.5 6.5 0 1 1 0 13 6.5 6.5 0 0 1 0-13z"}),(0,r.jsx)("path",{fillRule:"nonzero",fill:"#FFF",d:"M8.5 3h-4a.5.5 0 0 0-.5.5v1.018l.007.081c.013.08.045.156.094.22l1.273 1.682L4.1 8.2a.5.5 0 0 0-.1.3v1a.5.5 0 0 0 .5.5h4a.5.5 0 0 0 .5-.5v-1l-.006-.08A.497.497 0 0 0 8.9 8.2L7.625 6.501 8.899 4.82A.505.505 0 0 0 9 4.518V3.5a.5.5 0 0 0-.5-.5zM8 4v.349l-1.399 1.85-.05.08A.5.5 0 0 0 6.6 6.8L8 8.667V9H5v-.333L6.4 6.8l.05-.08a.506.506 0 0 0-.051-.522L5 4.351V4h3z"})]}))}))}var oe=s(71851);function ce(){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 13 13"},{children:(0,r.jsxs)("g",Object.assign({fill:"none",fillRule:"evenodd"},{children:[(0,r.jsx)("path",{fill:"#97C9DB",d:"M6.5 0a6.5 6.5 0 1 1 0 13 6.5 6.5 0 0 1 0-13z"}),(0,r.jsx)("path",{fill:"#FFF",d:"M7 8v2H6V8h1zm0-5v4H6V3h1z"})]}))}))}var de=s(66908),le=s(27215),ue=s(24777),pe=s(80895),ge=s(3767),me=s(2234),he=s(354);const fe=e=>{const{reviewId:t}=e;return(0,he._N)((e=>(0,ue.F_)(e,t)),(e=>(0,me.G)(e)&&(0,ge.fT)({id:t})))};function ve(e,t){switch(e){case"blocked":return t._t("Заблокирован модератором");case"unrated":return t._t("На проверке");case"unrated_manual":return t._t("Не влияет на рейтинг");case"object_deleted":return t._t("Филиал закрылся");default:return}}var be=s(17774),ye=s(77878),xe=s(10484),je=s(70021),we=s(36804);const _e={card:"currentReviewFrame",entity:"cardReviewsList",unconfirmed:"unconfirmedReviewsList",myReviews:"profileReviewsList"},Ce=e=>({frameId:t},s)=>{const{review:r,position:i,ownerComponent:a,isOwner:n,expanded:o,showReadWholeButton:c}=e,d=(0,xe.iF)(s.appContext.frames,t);if("realty"===a)return;const l=function(e,t,s){const r=(0,xe.iF)(s.appContext.frames,e);if(!r)return;const i="entity"===r.type||"unconfirmedReviews"===r.type?r.entityId:t.object.id,a=(0,je.nM)({state:s,entityId:i}).data,n="branch"===(null==a?void 0:a.type)?a.org.id:void 0,o=(0,be.H)({orgId:n,review:t});if(!o)return void(0,ye.H)({message:"Не удалось сформировать payload.reviewItem для события показа отзыва (mzdqt).\n      Скорее всего не удалось сформировать offset",level:"error",id:"tkg70",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify(t)}});return o}(t,r,s);if(!l||"profileFeed"===a)return;const u=_e[a];if(n&&"cardReviewsList"===u&&l.rateOnly){return{uiElement:{name:"myReview",ownerName:u,frameUuid:t},payload:{reviewItem:l}}}if(!("cardReviewsList"!==u&&"unconfirmedReviewsList"!==u||o&&c)){const e=d?(0,we.s)({state:s,entityFrameId:d.id}):void 0;if(!e)return void(0,ye.H)({message:'Не удалось затрекать событие "Увидел мини-карточку отзыва (нераскрытый отзыв в Online) в списке отзывов на вкладке Отзывы / в Неподтверждённых отзывах" в отзывах из-за отсутствия placeItem v-1amnn',level:"error",id:"dbgho8",payload:{type:"debug",subtype:"BssTrackerV3"}});return{uiElement:{name:"reviewItem",ownerName:u,frameUuid:t,position:i},payload:{reviewItem:l,placeItem:e}}}if("profileReviewsList"===u){return{uiElement:{name:"reviewItem",ownerName:u,frameUuid:t,position:i},payload:{reviewItem:l}}}return{uiElement:{name:"reviewCardFull",ownerName:u,frameUuid:t,position:i},payload:{reviewItem:l}}},Ie=()=>({showEventParams:e})=>{if(!e)return;const{uiElement:t,payload:s}=e;return{action:"tap",uiElement:{name:"myReviewEdit",ownerName:"currentReviewFrame"===t.ownerName?"reviewCardFull":"myReview",frameUuid:t.frameUuid},payload:s}},ke=()=>({showEventParams:e})=>{if(!e)return;const{uiElement:t,payload:s}=e;return{action:"tap",uiElement:{name:"addReviewButton",ownerName:"profileReviewsList"===t.ownerName?"reviewItem":"myReview",frameUuid:t.frameUuid},payload:s}},Oe=()=>({showEventParams:e})=>{if(!e)return;const{uiElement:t,payload:s}=e;return{action:"tap",uiElement:{name:"deleteReviewButton",ownerName:"profileReviewsList"===t.ownerName?"reviewItem":"myReview",frameUuid:t.frameUuid},payload:s}},Se=()=>({frameId:e,showEventParams:t},s)=>{if(!t)return;let r;if("profileReviewsList"===t.uiElement.ownerName)r={action:"tap",uiElement:{name:"allComments",ownerName:"profileReviewsList",frameUuid:e},payload:t.payload};else{const t=(0,xe.t0)(s.appContext.frames,"entity");if(t){const i=(0,we.s)({state:s,entityFrameId:t.id});if(!i)return void(0,ye.H)({message:'Не удалось затрекать событие нажатия кнопки "Все комментарии" в отзывах из-за отсутствия placeItem a-a4zft',level:"error",id:"dbgho8",payload:{type:"debug",subtype:"BssTrackerV3"}});r={action:"tap",uiElement:{name:"allComments",ownerName:"cardReviews",frameUuid:e},payload:{placeItem:i}}}}return r};const Ne=({review:e,position:t,photo:s,state:r,frameId:i})=>{var a;const n=(0,xe.iF)(r.appContext.frames,i);if(!n)return;const o="entity"===n.type||"unconfirmedReviews"===n.type?n.entityId:e.object.id,c=(0,je.wj)({entityId:o,state:r}),d=(0,be.H)({orgId:"branch"===(null===(a=c.data)||void 0===a?void 0:a.type)?c.data.org.id:void 0,review:e});if(d)return{uiElement:{name:"reviewPhotoCardMini",ownerName:"reviewCardFull",position:t,frameUuid:i},payload:{reviewItem:d,photo:{photoId:s.id}}};(0,ye.H)({message:"Не удалось сформировать payload.reviewItem для события показа фото в отзыве (rjmco).",level:"error",id:"tkg72",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify(e)}})};var Me=s(52981);function Te({width:e=16,height:t=16}){return(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:"0 0 14 14"},{children:[(0,r.jsxs)("defs",{children:[(0,r.jsxs)("linearGradient",Object.assign({id:"sber-icon-a",x1:"58.645%",x2:"38.578%",y1:"96.192%",y2:".05%"},{children:[(0,r.jsx)("stop",{offset:"14%",stopColor:"#F1E813"}),(0,r.jsx)("stop",{offset:"30%",stopColor:"#E6E418"}),(0,r.jsx)("stop",{offset:"58%",stopColor:"#C9DA26"}),(0,r.jsx)("stop",{offset:"89%",stopColor:"#A2CC39"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"sber-icon-b",x1:"8.713%",x2:"94.874%",y1:"58.624%",y2:"38.826%"},{children:[(0,r.jsx)("stop",{offset:"6%",stopColor:"#0FA7DF"}),(0,r.jsx)("stop",{offset:"54%",stopColor:"#0098F8"}),(0,r.jsx)("stop",{offset:"92%",stopColor:"#0290EA"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"sber-icon-c",x1:"-2.013%",x2:"95.257%",y1:"57.274%",y2:"44.019%"},{children:[(0,r.jsx)("stop",{offset:"12%",stopColor:"#A2CC39"}),(0,r.jsx)("stop",{offset:"28%",stopColor:"#86C239"}),(0,r.jsx)("stop",{offset:"87%",stopColor:"#219F38"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"sber-icon-d",x1:"-7.649%",x2:"92.63%",y1:"40%",y2:"57.988%"},{children:[(0,r.jsx)("stop",{offset:"6%",stopColor:"#0290EA"}),(0,r.jsx)("stop",{offset:"79%",stopColor:"#0C89CA"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"sber-icon-e",x1:"7.815%",x2:"100.374%",y1:"39.59%",y2:"62.181%"},{children:[(0,r.jsx)("stop",{offset:"13%",stopColor:"#F1E813"}),(0,r.jsx)("stop",{offset:"30%",stopColor:"#EAE616"}),(0,r.jsx)("stop",{offset:"53%",stopColor:"#D8DF1F"}),(0,r.jsx)("stop",{offset:"80%",stopColor:"#BAD52D"}),(0,r.jsx)("stop",{offset:"98%",stopColor:"#A2CC39"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"sber-icon-f",x1:"36.611%",x2:"60.717%",y1:"103.77%",y2:"7.769%"},{children:[(0,r.jsx)("stop",{offset:"7%",stopColor:"#A2CC39"}),(0,r.jsx)("stop",{offset:"26%",stopColor:"#81C45E"}),(0,r.jsx)("stop",{offset:"92%",stopColor:"#0FA7DF"})]}))]}),(0,r.jsxs)("g",Object.assign({fillRule:"nonzero",fill:"none"},{children:[(0,r.jsx)("path",{fill:"#21A038",d:"M12.264 2.696c.325.426.6.89.82 1.38L6.849 8.735 4.242 7.079V5.087l2.606 1.656 5.416-4.047z"}),(0,r.jsx)("path",{fill:"url(#sber-icon-a)",d:"M1.582 6.938c0-.09.002-.178.006-.266l-1.58-.079C.004 6.708 0 6.823 0 6.94c0 .91.176 1.813.52 2.654a6.95 6.95 0 001.485 2.25l1.12-1.135a5.335 5.335 0 01-1.143-1.73 5.377 5.377 0 01-.4-2.04z"}),(0,r.jsx)("path",{fill:"url(#sber-icon-b)",d:"M6.847 1.603c.088 0 .175.003.262.007L7.19.01a6.744 6.744 0 00-2.964.516c-.83.349-1.585.86-2.22 1.505l1.12 1.136a5.187 5.187 0 013.721-1.565z"}),(0,r.jsx)("path",{fill:"url(#sber-icon-c)",d:"M6.847 12.274c-.089 0-.176 0-.264-.007l-.079 1.6a6.772 6.772 0 005.182-2.023l-1.119-1.135a5.205 5.205 0 01-3.72 1.565z"}),(0,r.jsx)("path",{fill:"url(#sber-icon-d)",d:"M9.814 2.534l1.332-.995A6.762 6.762 0 006.845 0v1.602c1.06 0 2.095.324 2.97.932z"}),(0,r.jsx)("path",{fill:"#21A038",d:"M13.693 6.938a7.09 7.09 0 00-.108-1.243l-1.473 1.1v.143c0 .746-.154 1.483-.453 2.164a5.291 5.291 0 01-1.282 1.79l1.063 1.191a6.916 6.916 0 001.666-2.33 7 7 0 00.587-2.815z"}),(0,r.jsx)("path",{fill:"url(#sber-icon-e)",d:"M6.847 12.274a5.196 5.196 0 01-2.136-.459 5.259 5.259 0 01-1.767-1.299L1.77 11.593a6.836 6.836 0 002.299 1.689c.874.393 1.82.596 2.778.595v-1.603z"}),(0,r.jsx)("path",{fill:"url(#sber-icon-f)",d:"M3.316 2.984l-1.062-1.19A6.915 6.915 0 00.587 4.122 7.043 7.043 0 000 6.938h1.582a5.339 5.339 0 011.734-3.954z"})]}))]}))}var Pe=s(83575),Ee=s(48236),Le=s(10982),Re=s(44344),ze=s(47949),Ae=s(70715),Fe=s(86859),Be=s(67753),Ze=s(69088);const Ue=(e,{tp:t})=>{const{review:s,showAddress:r,ownerComponent:i,userId:a}=e,n=s.text?(0,m.Y2)(s.text):"",o=s.official_answer?(0,m.Y2)(s.official_answer.text):"",c="card"!==i&&(n.length>150||o.length>150),d=!!s.object.is_deleted;return{text:n,notificationText:ve(s.hiding_type,t),showReadWholeButton:c,address:r?s.object.address:void 0,upperCutTextLength:100,isOverlaid:d,isOwner:void 0!==a&&a===s.user.id}},He=e=>{const{review:t,ownerComponent:s,comments:r=[]}=e,i=(e=>{var t;const{review:s,comments:r}=e,i=[];return s.official_answer&&i.push(Object.assign(Object.assign({},s.official_answer),{is_hidden:!1,is_official_answer:!0,org:Object.assign(Object.assign({},s.object),{name:s.object.name||(null===(t=s.official_answer)||void 0===t?void 0:t.org_name)})})),null==r||r.forEach((e=>!e.is_official_answer&&e.text?i.push(e):void 0)),i})({review:t,comments:r});return{formattedComments:"card"===s?i:i.slice(0,1)}},De=(0,i.memo)((e=>{var t;const{review:s,isSearchBot:n,userId:o,answerOrgAvatar:g,position:m,showReviewsTotal:h,showAddress:f=!1,isPinned:v=!1,isAdvertiser:b=!1,isLikeDisabled:y=!1,ownerComponent:x,bssShowFunction:j,onRemoveCommentClick:w,onComplainClick:C,onEditClick:I,onRemoveClick:O,onLikeClick:S,onAllCommentsClick:N,showObjectInsteadUser:M,boxShadowDirection:T="bottom",bssTapPhotoItemFunction:P,bssShowPhotoItemFunction:L,onHeaderClick:R,isContactTab:z}=e,{css:A,s:F}=(0,d.y)($e),{featurePublicProfile:B}=(0,_.Z)(),Z=(0,l.T)(),U=(e=>{const t=e.id,s=(0,le.v9)((e=>(0,ue.F_)(e,t))),r=(0,pe.A)(fe,{reviewId:t});return(0,i.useEffect)((()=>{0!==e.comments_count&&(0,me.G)(s)&&r()}),[t]),s||Le.Y})(s).data,{formattedComments:H}=(0,u.Gb)(He,{review:s,comments:U,ownerComponent:x}),{address:D,isOverlaid:$,notificationText:V,showReadWholeButton:q,text:G,upperCutTextLength:W,isOwner:Q}=(0,u.Gb)(Ue,{review:s,ownerComponent:x,showAddress:f,userId:o}),[K,J]=(0,i.useState)("card"===x||!q),{bssRef:Y,useBssHandler:X}=(0,de.T)(s.user.public_id&&!M?ze.userModel.bss.showUserProfileHeader({review:s,ownerName:"card"===x?"reviewCardFull":"reviewItem",inSubscriptions:s.additional_data.from_friend,authUser:s.user.id}):void 0),ee=X(ze.userModel.bss.tapUserProfileHeader,{review:s,ownerName:"card"===x?"reviewCardFull":"reviewItem",inSubscriptions:s.additional_data.from_friend,authUser:s.user.id}),{bssRef:te,useBssHandler:se,sendShowEvent:re}=(0,de.T)(j?j({showReviewCardMini:!K||!q}):x?Ce({review:s,position:m,ownerComponent:x,isOwner:Q,expanded:K,showReadWholeButton:q}):void 0,{forceSendShowIfParamsChanged:[K],threshold:.5}),ge=se(Ie),he=se(ke),ve=se(Oe),be=se(Se),ye=(0,p.$)((()=>{K||(J(!0),re.current())})),xe=(0,le.I0)(),je=(0,p.$)((()=>{B&&s.user.public_id&&!M&&(ee(),xe(Re.i.openPublicProfile({userId:s.user.public_id}))),!B||s.user.public_id||M||xe(Re.i.showOpenPublicProfileError()),M&&xe((0,Pe.C)((0,Be.vP)((0,Me.xo)({id:s.object.id,type:s.object.type}),(0,Ze.vr)({entityId:s.object.id,onlyIfOutOfViewpoint:!0})))),R&&R()})),we=(0,p.$)((()=>{be(),N(s.id)})),_e=(0,i.useCallback)((()=>{switch(s.hiding_type){case"unrated":return(0,r.jsx)(ne,{});case"unrated_manual":return(0,r.jsx)(ce,{});case"blocked":case"object_deleted":return(0,r.jsx)(ae.U,{color:a.O.red_fe5000});default:return null}}),[s]),De=(0,i.useCallback)((e=>{const t="blocked"===s.hiding_type||"object_deleted"===s.hiding_type?a.O.red_fe5000:void 0;return(0,r.jsxs)("div",Object.assign({className:A(F.notify),style:{color:t}},{children:[(0,r.jsx)("div",Object.assign({className:A(F.icon)},{children:_e()})),(0,r.jsx)("div",Object.assign({className:A(F.notificationContentWrapper)},{children:e}))]}))}),[A,_e,s.hiding_type,F.icon,F.notificationContentWrapper,F.notify]),Ve=(0,i.useCallback)((e=>(0,r.jsxs)(r.Fragment,{children:[V,e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("br",{}),s.hiding_reason]}):null]})),[V,s.hiding_reason]),qe=(0,i.useCallback)((()=>{he(),I&&I(s.id)}),[he,I,s.id]),Ge=(0,i.useCallback)((e=>{ve(),O&&O(e)}),[O,ve]),We=(0,i.useCallback)((e=>{ge(),I&&I(e)}),[ge,I]),Qe=(null===(t=s.photos)||void 0===t?void 0:t.length)?(0,Fe.U)(s.photos,s.user,s.provider):void 0;return(0,r.jsxs)("div",Object.assign({className:A(F.container,B&&F.__clickable,"bottom"===T?F.boxShadowBottom:F.boxShadowTop)},c.dx.n("wat-review-container"),c.dx.t(`wat-review-status-${s.hiding_type}`),{ref:te},{children:[(0,r.jsx)("div",Object.assign({className:A(F._padding,$&&F._overlaid)},{children:(0,r.jsx)(E,{ref:Y,isContactTab:z,review:s,isSearchBot:n,isPinned:v,showObjectInsteadUser:M,showReviewsTotal:h,onObjectClick:je})})),!!D&&(0,r.jsx)("div",Object.assign({className:A(F.address,$&&F._overlaid)},c.dx.n("wat-review-address"),{children:D})),(0,r.jsx)("div",Object.assign({className:A($&&F._overlaid)},{children:Qe&&(0,r.jsx)(Ae.P,{trackBSSSource:"profileFeed"===x?"profileFeed":"reviews",onComplain:C,object:s.object,galleryMedia:Qe.photosForGallery,previews:Qe.photos,bssShowItemFunction:e=>L?L(e):((e,t,s)=>({frameId:r},i)=>Ne({review:e,photo:t,state:i,frameId:r,position:s}))(s,e.image,e.position),bssActionItemFunction:e=>P?P(e):((e,t,s)=>({frameId:r},i)=>{const a=Ne({review:e,photo:t,position:s,state:i,frameId:r});if(a)return Object.assign(Object.assign({},a),{action:"tap"})})(s,e.image,e.position)})})),(0,r.jsxs)("div",Object.assign({className:A(F._padding,!K&&F._pointer),onClick:ye},{children:[G.length>0&&(0,r.jsx)("div",Object.assign({className:A(F.textWrapper,$&&F._overlaid)},c.dx.n("wat-review-text"),{children:(0,r.jsx)("a",Object.assign({className:A(F.text,!K&&F._short)},{children:G}))})),Q&&0===G.length&&(0,r.jsx)("div",Object.assign({className:A(F.fulfillReviewButton)},{children:(0,r.jsx)(Ee.z,Object.assign({wide:!0,onClick:qe,dataN:"wat-review-fulfill-button"},{children:Z._t("Дополнить отзывом")}))})),(s.is_verified||"sbol"===s.source)&&(0,r.jsxs)("div",Object.assign({className:A(F.reviewSafety,F._green)},c.dx.n("wat-review-safety-status"),{children:[(0,r.jsx)("div",Object.assign({className:A(F.icon)},{children:(0,r.jsx)(Te,{})})),(0,r.jsx)("span",Object.assign({className:A(F.notificationContentWrapper)},{children:Z._gg("Подтверждён оплатой через Сбер")}))]})),(0,r.jsx)(ie,{review:s,userId:o,isLikeDisabled:y,onComplainClick:C,onEditClick:I?We:void 0,onRemoveClick:O?Ge:void 0,onReadMoreClick:ye,showReadWholeButton:!K,onLikeClick:S}),(0,r.jsx)(r.Fragment,{children:null==H?void 0:H.map(((e,t)=>(0,r.jsx)("div",Object.assign({className:A(F.commentWrapper,$&&F._overlaid)},{children:(0,r.jsx)(k,{comment:e,isSearchBot:n,upperCutTextLength:W,isAdvertiser:b,orgAvatar:g,showFullOfficialAnswer:K,ownerComponent:x,commentsCount:s.comments_count,onShowAllCommentsClick:we,onRemoveCommentClick:w,reviewUserId:s.user.id,userId:o,withDivider:H.length>1,needToScrollToLastComment:H.length===t+1&&"card"===x})}),e.id)))})]})),(()=>{const{hiding_reason:e}=s;return V?De(e?(0,r.jsx)(oe._,{children:Ve}):V):null})()]}))}));De.displayName="ReviewItem";const $e=(0,d.k)({container:{padding:"12px 0",boxShadow:o.q.innerBorderBottomBase,":last-child":{boxShadow:"none"}},__clickable:{cursor:"pointer"},address:Object.assign(Object.assign({},n.yG),{color:a.O.gray_929292,paddingTop:0,paddingBottom:12,paddingStart:24,paddingEnd:0}),_pointer:{cursor:"pointer"},textWrapper:{padding:"0 16px"},text:Object.assign(Object.assign({},n.oN),{whiteSpace:"pre-line",wordBreak:"break-word",wordWrap:"break-word",diaplay:"inline-block"}),notify:Object.assign(Object.assign({marginTop:4},n.yG),{display:"flex",padding:"0 16px",color:a.O.gray_929292}),reviewSafety:Object.assign(Object.assign({marginTop:4},n.yG),{display:"flex",padding:"0 16px",color:a.O.gray_929292}),_green:Object.assign(Object.assign({},n.oN),{color:a.O.green_30ad00}),notificationContentWrapper:{marginTop:2},icon:{display:"flex",alignItems:"center",marginEnd:8},commentWrapper:{paddingTop:4},_padding:{padding:"0px 8px"},_overlaid:{opacity:.5},_short:Object.assign(Object.assign({},(0,n.KU)(3,n.oN)),{cursor:"pointer"}),fulfillReviewButton:{paddingBottom:8,paddingStart:16,paddingEnd:16},boxShadowTop:{boxShadow:o.q.innerBorderTopBase},boxShadowBottom:{boxShadow:o.q.innerBorderBottomBase,"&:last-child":{boxShadow:"none",paddingBottom:12}}})},19697:(e,t,s)=>{"use strict";s.d(t,{M:()=>g});var r=s(52322),i=s(2784),a=s(85843),n=s(98584),o=s(33956),c=s(63993),d=s(35253),l=s(55805),u=s(64693),p=s(6801);const g=i.memo((({title:e,seoTitle:t,onClick:s,onClickWithData:i,href:n,dataT:o,icon:c,bssRef:d,count:g,isColoredCount:h,activeRubric:f,rubricsKey:v,external:b,setActiveRubric:y})=>{const{css:x,s:j}=(0,p.y)(m),w=t||e,_=h&&0===g,C=!_&&f&&f===v;return(0,r.jsxs)("div",Object.assign({className:x(j.root)},{children:[(0,r.jsxs)("a",Object.assign({ref:d,className:x(j.item),title:w,href:n,onClick:_?u.ZT:e=>{y&&v&&i?v===f?(y(void 0),i("allInfrastructure")):(y(v),i(v)):s(e)},target:b?"_blank":void 0,"data-h":!0},a.dx.n("wat-rubric"),a.dx.t(o),(0,l.P)({label:w}),{children:[(0,r.jsx)("div",Object.assign({className:x(j.icon,C&&j._empty,_&&j._disabled)},{children:c()})),(0,r.jsx)("span",Object.assign({className:x(j.title,_&&j._disableText)},{children:e}))]})),(!!g||h)&&(0,r.jsx)("div",Object.assign({className:x(j.count,h&&j.coloredCount,h&&_&&j.disableCount)},{children:g}))]}))})),m=(0,p.k)((({mobile:e})=>({root:{display:"inline-block",width:"25%",position:"relative",verticalAlign:"top"},item:{cursor:"pointer",marginBottom:e?8:4,display:"block",padding:"0 2px",textDecoration:"none"},count:Object.assign(Object.assign({},c.Yq),{color:n.O.white,borderRadius:d.E0.isolate,background:n.O.gray_929292,position:"absolute",padding:"2px 5px",top:0,end:0,cursor:"pointer"}),disableCount:{background:n.O.gray_e6e6e6},icon:{display:"flex",justifyContent:"center",alignItems:"center",position:"relative",boxSizing:"border-box",background:"#fff",width:e?48:64,height:e?48:64,padding:e?12:16,borderRadius:"50%",marginTop:0,marginBottom:4,marginStart:"auto",marginEnd:"auto",boxShadow:`0 0 0 1px ${n.O.gray_e6e6e6}`,color:n.O.gray_929292,transition:`box-shadow ${o.l.short}ms ease-in-out`,"[data-h]:hover &":{boxShadow:`0 0 0 2px ${n.O.gray_e6e6e6}`},"& > *":{display:"block",objectFit:"contain",width:"100%",height:"100%",transition:`transform ${o.l.short}ms ease-in-out`,"[data-h]:hover &":{transform:"scale(0.9)"}}},title:Object.assign(Object.assign({},c.yG),{display:"block",overflow:"hidden",textOverflow:"ellipsis",height:"26px",color:n.O.gray_929292,textAlign:"center",transition:`color ${o.l.short}ms ease-in-out`,userSelect:"none","[data-h]:hover &":{color:n.O.gray_262626}}),coloredCount:{display:"flex",alignItems:"center",justifyContent:"center",right:5,minWidth:9,minHeight:14,background:n.O.green_30ad00,color:n.O.white,borderRadius:d.E0.oval,userSelect:"none"},_empty:{backgroundColor:"#da0000"},_disabled:{":after":{content:'""',display:"block",width:"100%",height:"100%",position:"absolute",top:0,start:0,backgroundColor:n.O.white,borderRadius:"50%",opacity:.8},"[data-h]:hover &":{boxShadow:`0 0 0 1px ${n.O.gray_e6e6e6}`},"& > *":{"[data-h]:hover &":{transform:"scale(1)"}}},_disableText:{"[data-h]:hover &":{color:n.O.gray_929292}}})))},9073:(e,t,s)=>{"use strict";s.d(t,{v:()=>o});var r=s(52322),i=s(6340),a=s(2784),n=s(92582);const o=(0,a.memo)((({frame:e,frameContext:t})=>{const s=(0,i.Z)(),a=(0,n.K)(e,t,s);return a?(0,r.jsx)("div",{style:{height:a}}):null}))},53483:(e,t,s)=>{"use strict";s.d(t,{M:()=>C});var r=s(52322),i=s(2784),a=s(4125),n=s(68879),o=s(1950),c=s(70540),d=s(48256),l=s(98584),u=s(63993),p=s(85843),g=s(66471),m=s(20094),h=s(85982),f=s(86740),v=s(6801),b=s(10504),y=s(70877);const x=(0,f.z)(void 0,y.r)((({bssSideMenuClick:e})=>{const{css:t,s}=(0,v.y)(j),i=b.Y.use();return i?null:(0,r.jsxs)("button",Object.assign({className:t(s.hamburger),onClick:t=>{t.stopPropagation(),b.Y.set((()=>!0)),i||e()}},{children:[(0,r.jsx)("span",{className:t(s.hamburgerLine,s._line1)}),(0,r.jsx)("span",{className:t(s.hamburgerLine,s._line2)}),(0,r.jsx)("span",{className:t(s.hamburgerLine,s._line3)})]}))})),j=(0,v.k)({hamburger:{width:"16px",height:"14px",position:"relative",display:"inline-block",verticalAlign:"middle",margin:"5px 4px"},_withDot:{"&:after":{position:"absolute",height:"8px",width:"8px",end:"-4px",top:"-4px",background:l.O.red_fe5000,borderRadius:"50%",content:'""'}},hamburgerLine:{position:"absolute",height:"2px",width:"16px",background:l.O.gray_262626,start:0},_line1:{top:0},_line2:{top:"6px"},_line3:{top:"12px"}});class w extends i.PureComponent{constructor(){super(...arguments),this.state={externalValue:this.props.value,value:this.props.value,isFocused:!1},this.onChange=e=>{const t=e.target.value;this.setState({value:t}),this.props.onChange(t)},this.onKeyDown=e=>{this.props.onKeyDown&&this.props.onKeyDown(e)},this.onFocus=()=>{this.setState({isFocused:!0}),g.Y.startTracker(),this.props.onFocus&&this.props.onFocus()},this.onBlur=()=>{this.setState({isFocused:!1}),this.props.onBlur&&this.props.onBlur()},this.onClear=()=>{const{inputRef:e}=this.props;e&&e.current&&e.current.focus(),this.props.onChange(""),this.props.onClear&&this.props.onClear()}}static getDerivedStateFromProps(e,t){return e.value!==t.externalValue?{externalValue:e.value,value:e.value}:null}render(){const{placeholder:e,withSearchIcon:t,showHamburger:s,autoFocus:i,lightText:a,onClick:o,onKeyUp:l,inputRef:u,s:g,i18n:{tp:m},displayH1Header:f}=this.props,{value:v,isFocused:b}=this.state,y=f&&!b&&!!v,j=!!v;return(0,r.jsxs)("div",Object.assign({className:(0,n.iv)(g.wrapper,b&&g._focused)},p.dx.n("wat-search-bar"),{children:[(0,r.jsx)("input",Object.assign({type:"text",className:(0,n.iv)(g.input,a&&g._lightText,y&&g._hiddenText),placeholder:e,value:v,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,onClick:o,onKeyDown:this.onKeyDown,onKeyUp:l,ref:u,autoFocus:i,spellCheck:!1,enterKeyHint:"search"},p.dx.n("wat-search-bar-input"))),y&&(0,r.jsx)("h1",Object.assign({className:(0,n.iv)(g.header,a&&g._lightText)},p.dx.n("wat-search-bar-h1"),{children:v})),t&&!v&&(0,r.jsx)(c.o,{}),j&&(0,r.jsx)("div",Object.assign({className:(0,n.iv)(g.clearButtonWrapper)},p.dx.n("wat-search-bar-clear-icon"),{children:(0,r.jsx)(d.Y,{onClear:this.onClear,ariaLabel:m._t("Очистить локальное поле поиска"),isWhite:a})})),s&&(0,r.jsx)(h.i,{children:(0,r.jsx)("div",Object.assign({className:(0,n.iv)(g.sidebarEntryWrapper)},{children:(0,r.jsx)(x,{})}))})]}))}}w.displayName=(0,a.I)("src/shared/components/searchInput");const _={wrapper:{display:"flex",alignItems:"center",color:l.O.gray_929292,position:"relative"},_focused:{color:l.O.gray_262626},header:Object.assign(Object.assign({},u.qH),{position:"absolute",top:0,left:0,color:l.O.gray_262626,paddingTop:12,paddingBottom:12,paddingStart:16,paddingEnd:0,pointerEvents:"none",whiteSpace:"nowrap",overflow:"hidden",boxSizing:"border-box",width:"100%",borderEnd:"32px solid transparent"}),input:Object.assign(Object.assign({},u.qH),{border:"none",color:l.O.gray_262626,boxSizing:"border-box",paddingTop:12,paddingBottom:12,paddingStart:16,paddingEnd:6,margin:0,width:"100%",outline:"none",background:"transparent","::placeholder":{color:l.O.gray_929292},"::-ms-clear":{display:"none"}}),_lightText:{color:l.O.white,"::placeholder":{color:(0,m.j)(l.O.white,.5)}},_hiddenText:{color:"transparent"},clearButtonWrapper:{height:16,marginTop:"auto",marginBottom:"auto",marginStart:0,marginEnd:8},sidebarEntryWrapper:{height:24,marginTop:"auto",marginBottom:"auto",marginStart:8,marginEnd:8}},C=(0,n.D2)(_)((0,o.$)()(w))},3560:(e,t,s)=>{"use strict";s.d(t,{k:()=>_});var r=s(52322),i=s(2784),a=s(27215);const n=()=>(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:(0,r.jsx)("path",{fill:"#FFBA00",fillRule:"evenodd",d:"M19.059 5v10.805c0 2.826-.93 4.114-3.256 4.114-1.932 0-2.862-1.252-2.862-4.114V5H6v12.093c0 5.653 3.864 9.302 9.803 9.302 6.333 0 10.197-3.649 10.197-9.302V5h-6.941z"})}));var o=s(63993),c=s(35253),d=s(85843),l=s(53533),u=s(54974),p=s(6801),g=s(6340),m=s(27926),h=s(98584);const f=()=>(0,r.jsxs)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{d:"M14.41 21.985v7.487c0 .292.254.528.569.528h2.04c.314 0 .57-.236.57-.528v-7.487h-3.18z",fill:"#80391B"}),(0,r.jsx)("path",{d:"M22.14 18.624c.492-.294.966-.627 1.415-.999a.607.607 0 00.083-.87l-3.047-3.624a8.479 8.479 0 001.153-.77.608.608 0 00.092-.877L16 4.541l-5.83 6.936a.61.61 0 00.098.882c.363.29.745.546 1.141.771l-3.047 3.626a.607.607 0 00.083.87c.45.371.923.704 1.415.998l-3.714 4.42a.607.607 0 00.077.864c5.525 4.695 14.03 4.695 19.554 0a.607.607 0 00.077-.865l-3.714-4.419z",fill:"#299400"}),(0,r.jsx)("path",{d:"M13.5 15a1.5 1.5 0 100 3 1.5 1.5 0 000-3zM18.5 14a1.5 1.5 0 100-3 1.5 1.5 0 000 3zM20.5 20a1.5 1.5 0 100 3 1.5 1.5 0 000-3zM11.5 22a1.5 1.5 0 100 3 1.5 1.5 0 000-3zM16 1l1.237 3.763L21 6l-3.763 1.237L16 11l-1.237-3.763L11 6l3.763-1.237L16 1z",fill:"red"})]})),v=()=>(0,r.jsxs)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.37 8.068c-.761-.177-1.554-.27-2.37-.27-5.684 0-10.292 4.522-10.292 10.1C5.708 23.479 10.316 28 16 28s10.292-4.522 10.292-10.101c0-4.778-3.38-8.78-7.922-9.832z",fill:"red"}),(0,r.jsx)("mask",Object.assign({id:"aqwe",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"5",y:"7",width:"22",height:"22"},{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.37 8.07c-.761-.176-1.554-.27-2.37-.27-5.684 0-10.292 4.522-10.292 10.101 0 5.579 4.608 10.101 10.292 10.101s10.292-4.522 10.292-10.1c0-4.779-3.38-8.781-7.922-9.832z",fill:"red"})})),(0,r.jsxs)("g",Object.assign({mask:"url(#aqwe)"},{children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 15l2 2 2-2 2 2 2-2 2 2 2-2 2 2 2-2 2 2 2-2 2 2 2-2v4l-2 2-2-2-2 2-2-2-2 2-2-2-2 2-2-2-2 2-2-2-2 2-2-2v-4z",fill:"#FFDA52"}),(0,r.jsx)("path",{fill:"#E6E6E6",d:"M4 11h24v2H4zM4 23h24v2H4z"})]})),(0,r.jsx)("path",{d:"M18.362 5.479h-4.726l3.15 2.922a7.595 7.595 0 001.576-.335V5.479z",fill:"red"}),(0,r.jsx)("path",{d:"M13.636 5.479v2.587a7.605 7.605 0 003.15.335V5.479h-3.15z",fill:"red"}),(0,r.jsx)("path",{d:"M18.363 5.095h-1.575V6.64h1.575a.78.78 0 00.788-.773.78.78 0 00-.788-.773z",fill:"#FEB700"}),(0,r.jsx)("path",{d:"M17.576 5.868a.78.78 0 00-.787-.773h-3.15a.78.78 0 00-.788.773.78.78 0 00.787.773h3.15a.78.78 0 00.788-.773z",fill:"#FEB700"}),(0,r.jsx)("path",{d:"M16 6.333a2.17 2.17 0 01-2.167-2.166A2.17 2.17 0 0116 2a2.17 2.17 0 012.166 2.167A2.17 2.17 0 0116 6.333zm0-3.25a1.085 1.085 0 101.083 1.083c0-.597-.486-1.083-1.083-1.083z",fill:"#FEB700"})]})),b=()=>(0,r.jsxs)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{d:"M16 27.55c8.394 0 11.487-3.03 11.487-6.822-.219-3.876-3.65-8.168-6.807-11.316h-9.36c-3.158 3.148-6.588 7.44-6.807 11.316 0 3.791 3.093 6.823 11.487 6.823z",fill:"red"}),(0,r.jsx)("path",{d:"M16.446 10.283l.965.422.66-.422.304-.87-.718-.423-.907.422-.304.871z",fill:"#FFDA52"}),(0,r.jsx)("path",{d:"M16.447 10.283l-.834 2.388c-.135.385.084.802.488.93.403.129.84-.08.974-.465l.997-2.853h-1.625z",fill:"#FFDA52"}),(0,r.jsx)("path",{d:"M10.865 7.07l.539.87 4.615.423 4.579-.422.538-.871-5.135-.422-5.136.422z",fill:"red"}),(0,r.jsx)("path",{d:"M10.865 7.07h10.27l1.222-1.975c.3-.484-.066-1.095-.655-1.095H10.3c-.589 0-.954.61-.655 1.095l1.22 1.975z",fill:"red"}),(0,r.jsx)("path",{d:"M19.995 9.412l-.663-.422-.958.422.296.871.795.422.826-.422-.296-.87z",fill:"#FFDA52"}),(0,r.jsx)("path",{d:"M21.666 14.327l-1.375-4.044h-1.62l1.529 4.498c.131.386.566.598.971.473.405-.126.627-.54.495-.927z",fill:"#FFDA52"}),(0,r.jsx)("path",{d:"M27.487 20.728c-.209 3.582-3.093 6.401-11.487 6.401S4.722 24.31 4.513 20.728l-.006.1C4.34 24.768 7.012 28 16 28s11.66-3.232 11.493-7.172l-.006-.1z",fill:"red"}),(0,r.jsx)("path",{d:"M10.936 8.963h10.13c.254 0 .62-.31.62-.722a.781.781 0 00-.62-.3h-10.13a.781.781 0 00-.62.3c0 .464.365.722.62.722z",fill:"#FFDA52"}),(0,r.jsx)("path",{d:"M21.066 8.541h-10.13a.781.781 0 01-.62-.3.71.71 0 00-.151.436c0 .406.345.735.77.735h10.13c.427 0 .772-.33.772-.735a.71.71 0 00-.15-.436.781.781 0 01-.621.3z",fill:"#FFDA52"})]})),y=()=>(0,r.jsxs)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{d:"M18.069 6h-2.483C9.644 6 4.827 11.291 4.827 17.818v3.636h17.38V16.91l4.137 1.187V15.09c0-2.411-.872-4.723-2.424-6.428S20.263 6 18.068 6z",fill:"red"}),(0,r.jsx)("path",{d:"M21.38 20.546H5.654c-.914 0-1.655.814-1.655 1.818v1.818C4 25.186 4.741 26 5.655 26H21.38c.914 0 1.655-.814 1.655-1.818v-1.818c0-1.004-.74-1.819-1.655-1.819zM26 20a2 2 0 100-4 2 2 0 000 4z",fill:"#E6E6E6"}),(0,r.jsx)("path",{d:"M22.206 16.91c-.473-2.757-.949-4.065-2.482-4.546l2.482 4.545z",fill:"red"})]})),x=()=>(0,r.jsxs)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{d:"M9.276 14.017c3.466 0 6.276 2.762 6.276 6.17 0 3.407-2.81 6.169-6.276 6.169C5.81 26.356 3 23.594 3 20.186c0-3.407 2.81-6.169 6.276-6.169zM22.724 14.017c3.466 0 6.276 2.762 6.276 6.17 0 3.407-2.81 6.169-6.276 6.169-3.466 0-6.276-2.762-6.276-6.17 0-3.407 2.81-6.169 6.276-6.169z",fill:"#F19601"}),(0,r.jsx)("path",{d:"M16 6.085c3.465 0 6.275 2.762 6.275 6.17 0 3.407-2.81 6.169-6.275 6.169-3.467 0-6.276-2.762-6.276-6.17 0-3.407 2.81-6.17 6.275-6.17z",fill:"#FEB700"}),(0,r.jsx)("path",{d:"M16 16.661c3.465 0 6.275 2.762 6.275 6.17C22.275 26.238 19.465 29 16 29c-3.467 0-6.276-2.762-6.276-6.17 0-3.407 2.81-6.169 6.275-6.169z",fill:"#FFDA52"}),(0,r.jsx)("path",{d:"M10.62 3.44h2.69c1.485 0 2.69 1.185 2.69 2.645h-2.69c-1.486 0-2.69-1.184-2.69-2.644z",fill:"#299400"}),(0,r.jsx)("path",{d:"M16.448 6.525h-.896v-.88c.001-1.46 1.204-2.643 2.69-2.645v.881c-.99 0-1.794.79-1.794 1.763v.881z",fill:"#B08149"}),(0,r.jsx)("path",{d:"M19.138 14.898h-1.345c-.99 0-1.793.79-1.793 1.763h1.345c.99 0 1.793-.79 1.793-1.763z",fill:"#299400"}),(0,r.jsx)("path",{d:"M16.448 17.102h-.896v-.882c0-.973-.803-1.762-1.793-1.762v-.882c1.485.002 2.688 1.185 2.69 2.644v.882z",fill:"#B08149"}),(0,r.jsx)("path",{d:"M5.242 11.373h1.793c1.486 0 2.69 1.184 2.69 2.644H7.932c-1.486 0-2.69-1.184-2.69-2.644zM22.274 14.017c0-1.46 1.205-2.644 2.69-2.644h1.345c0 1.46-1.204 2.644-2.69 2.644h-1.345z",fill:"#299400"})]})),j=()=>(0,r.jsxs)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{d:"M24.5 18.585V6.836H12.515v8.719l-4.57 4.424c-1.587 1.537-2.309 3.767-1.764 5.876 1.272 4.922 7.318 5.175 10.33 2.26l6.86-6.833a3.806 3.806 0 001.13-2.697z",fill:"red"}),(0,r.jsx)("path",{d:"M15.01 29.081v.107c-3.185 1.667-7.745.866-8.83-3.333-.4-1.546-.118-3.156.685-4.511h.154c2.12 0 4.153.815 5.651 2.266a7.615 7.615 0 012.34 5.471zM24.002 2H13.014c-1.104 0-1.998.866-1.998 1.934V5.87c0 1.068.894 1.934 1.998 1.934h10.988C25.105 7.803 26 6.937 26 5.87V3.934C26 2.866 25.105 2 24.002 2z",fill:"#299400"}),(0,r.jsx)("path",{d:"M14.5 11l-2-2v4l2 2 2-2 2 2 2-2 2 2 2-2V9l-2 2-2-2-2 2-2-2-2 2z",fill:"#E6E6E6"})]})),w=()=>(0,r.jsx)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,r.jsx)("path",{d:"M19.28 18.66a70 70 0 0 1-6.03 3.12c1.44 1.37 1.86 3.3 2.01 4.81l.18 1.83h2.23l.18-1.83c.25-2.62 1.33-6.54 7.22-6.54 1.01-2.16 1.44-3.88 1.44-5.86 0-.1-.01-.2-.02-.3-2.11 1.61-4.57 3.24-7.21 4.77M31.32 4.15c-.84-1.45-3.07-1.61-6.83-.5-1.36.4-2.85.96-4.42 1.63-1.07-.38-2.25-.59-3.51-.59-5.5 0-9.36 3.93-9.89 8.43a39 39 0 0 0-3 2.54C.83 18.37-.14 20.39.69 21.83c.49.85 1.49 1.2 2.8 1.2 4.05 0 11.05-3.34 15.05-5.65 5.3-3.06 14.79-9.76 12.78-13.23M2.48 20.81c-.19-.49 1.04-2.42 4.23-5.08.18 1.38.6 2.72 1.33 4.29-3.32 1.1-5.26 1.16-5.56.79m23.05-10.73a9.6 9.6 0 0 0-3.06-3.57c2.94-1.13 5.04-1.54 6.16-1.54.49 0 .8.08.91.21.18.49-.99 2.34-4.01 4.9",fill:"#19AA1E"})})),_=(0,i.memo)((e=>{const{showBorder:t,showBackButton:s,showLogo:i,children:o,handleBackClick:c,handleLogoClick:_}=e,{css:I,s:k,dir:O}=(0,p.y)(C),{brandCode:S,featureNewYear:N,featureAstronauticsDay:M}=(0,g.Z)(),T="urbi"===S,P=(0,u.$)((e=>{e.preventDefault(),e.stopPropagation(),null==_||_()})),E=(0,u.$)((e=>{e.preventDefault(),e.stopPropagation(),null==c||c()})),L=(0,a.v9)((e=>{var t;return null===(t=e.appContext.weak.newYearPlaceholder)||void 0===t?void 0:t.iconType}));return(0,r.jsxs)("div",Object.assign({className:I(k.wrapper,!t&&k._noBorder)},{children:[(s||i)&&(0,r.jsx)("div",Object.assign({className:I(k.buttonWrapper,t&&s&&k._separator),style:{color:h.O.green_299400}},{children:s?(0,r.jsx)("button",Object.assign({className:I(k.backIconWrapper),onMouseDown:E},d.dx.n("wat-back-btn"),{children:(0,r.jsx)("div",Object.assign({className:I(k.backIcon,"rtl"===O&&k._rotate180),style:{color:h.O.green_299400}},{children:(0,r.jsx)(l.X,{})}))})):(0,r.jsx)("a",Object.assign({href:"/",className:I(k.logoIcon),onClick:P},d.dx.n("wat-search-bar-logo"),{children:(()=>{if(T)return(0,r.jsx)(n,{});if(N)switch(!0){case"tree"===L:return(0,r.jsx)(f,{});case"bag"===L:return(0,r.jsx)(b,{});case"hat"===L:return(0,r.jsx)(y,{});case"sock"===L:return(0,r.jsx)(j,{});case"toy"===L:return(0,r.jsx)(v,{});case"mandarins"===L:return(0,r.jsx)(x,{});default:return(0,r.jsx)(f,{})}return M?(0,r.jsx)(w,{}):(0,r.jsx)(m.g,{})})()}))})),(0,r.jsx)("div",Object.assign({className:I(k.input)},{children:o}))]}))}));_.displayName="SearchInputWrapper";const C=(0,p.k)({wrapper:{boxShadow:"logical 0 1px 3px 0 rgba(0, 0, 0, 0.5)",background:h.O.white,borderRadius:c.E0.default,display:"flex",alignItems:"center",position:"relative",overflow:"hidden",transform:"translateZ(0)",transition:"opacity .3s"},_noBorder:{boxShadow:"none",background:"none"},buttonWrapper:{flex:"1 0 40px"},logoIcon:{width:"32px",height:"32px",margin:"auto",display:"flex",justifyContent:"center",alignItems:"center"},_transparent:{background:"transparent",boxShadow:"none"},input:Object.assign(Object.assign({},o.oN),{width:"100%"}),_separator:{boxShadow:`logical inset -1px 0 0 ${h.O.gray_e6e6e6}`},backIconWrapper:{display:"flex",width:"40px",height:"40px",cursor:"pointer"},backIcon:{width:"32px",height:"32px",margin:"auto"},_rotate180:{transform:"rotate(180deg)"}})},19977:(e,t,s)=>{"use strict";s.d(t,{c:()=>b});var r=s(22970),i=s(52322),a=s(2784),n=s(99079),o=s(20546),c=s(13493);var d=s(32629),l=s(10881),u=s(53427),p=s(24965),g=s(70540);var m=s(52372);var h=s(91440),f=s(14630);const v={pin:function({color:e="currentColor"}){return(0,i.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,i.jsx)("path",{d:"M17 27h-2c0-8.07-3.85-9-6.75-9h-.77l-.2-.75A19.1 19.1 0 0 1 7 14a8.61 8.61 0 0 1 9-9 8.61 8.61 0 0 1 9 9 19.1 19.1 0 0 1-.28 3.25l-.2.75h-.77c-2.9 0-6.75.93-6.75 9zM9.11 16A7.39 7.39 0 0 1 16 20.85 7.39 7.39 0 0 1 22.89 16c.07-.66.11-1.52.11-2a6.62 6.62 0 0 0-7-7 6.62 6.62 0 0 0-7 7c0 .51 0 1.37.11 2z"})}))},city:function({color:e="currentColor"}){return(0,i.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,i.jsx)("path",{d:"M26 18v-2h-2V7.28L17 5l-7 2.28V13H6v13h20v-2h-8v-2h8v-2h-8v-2zm-10 6h-3v-4h-2v4H8v-9h8zm-4-11V8.72l5-1.67 5 1.67V16h-4v-3z"})}))},street:n.Q,metro:o.m,route:c.Z,station:function({color:e="currentColor"}){return(0,i.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,i.jsx)("path",{d:"M5 20h15v2H5zM23 13h2v13h-2z"}),(0,i.jsx)("path",{d:"M5 25h22v2H5zM7 22h2v3H7zM16 22h2v3h-2zM5 16h15v2H5zM26 15h-4c-1.1 0-2-.9-2-2V7c0-1.1.9-2 2-2h4c1.1 0 2 .9 2 2v6c0 1.1-.9 2-2 2zm-4-8v6h4V7h-4z"})]}))},rubric:function({color:e="currentColor"}){return(0,i.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,i.jsx)("path",{d:"M13 7c5.9 0 6.8 4.2 6.8 6.8 0 1.1-.1 2-.2 2.9-3.1.2-5.4 1.2-6.6 4.1-1.2-2.9-3.4-3.9-6.5-4.1-.2-1-.2-2-.2-2.9C6.2 11.2 7.1 7 13 7m0-2c-6 0-8.8 3.9-8.8 8.8 0 1.7.2 3.4.6 4.9H5c4.2 0 7 .4 7 8.4h2c0-7.9 2.7-8.4 7-8.4h.2c.4-1.5.6-3.2.6-4.9C21.8 8.9 19 5 13 5z"}),(0,i.jsx)("path",{d:"M21 27h-2c0-7 2.5-7.9 6-8 .2-.9.3-2 .3-3.1 0-2.4-.9-4-2.8-5l1-1.7c2.5 1.4 3.8 3.7 3.8 6.8 0 1.6-.2 3.1-.5 4.3l-.2.7h-1c-3.1 0-4.6 0-4.6 6z"})]}))},history:function({color:e="currentColor"}){return(0,i.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,i.jsx)("path",{d:"M16 5a11 11 0 1 0 11 11A11 11 0 0 0 16 5zm0 20a9 9 0 1 1 9-9 9 9 0 0 1-9 9z"}),(0,i.jsx)("path",{d:"M16.19 15.74l.8-5.6-1.98-.28-1.2 8.4 6.39-1.28-.4-1.96-3.61.72z"})]}))},home:d.S,work:l.e,location:u.Y,market:p.Z,camera:h.P,traffic:function({color:e="currentColor"}){return(0,i.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:(0,i.jsx)("path",{fill:e,fillRule:"evenodd",d:"M18 5v.018c4.526.334 8 5.172 8 10.982 0 5.92-3.607 10.831-8.259 10.996L17.5 27c-4.539 0-8.14-4.511-8.475-10.142-1.958-.59-3.272-2.946-3.573-5.752C5.096 7.778 6.32 5 9 5h9zm-.5 2h-3.858l.423.31.46.348.483.376.775.619.838.685 2.55 2.124 1.14.925.479.375.575.432.401.287.392.266.262.172-1.083 1.681-.423-.278-.42-.29-.43-.312-.458-.345-.327-.254-.726-.58-.85-.697-2.059-1.718-.839-.689-.771-.619-.48-.374-.56-.427-.521-.382-.577-.401L11.54 8l-.336-.207c-.054-.033-.108-.064-.16-.094l-.308-.17C10.038 7.165 9.484 7 9 7c-1.11 0-1.807 1.581-1.559 3.894.184 1.717.83 3.11 1.624 3.74.134-1.414.477-2.77 1.009-4.003l.167-.371 1.81.853C11.368 12.558 11 14.24 11 16c0 4.926 2.87 8.846 6.298 8.995L17.5 25l.202-.005C21.131 24.846 24 20.926 24 16s-2.87-8.847-6.298-8.996L17.5 7zm-3.856 6.327l1.966.367a9.016 9.016 0 00-.15 1.647c0 2.123.722 3.962 1.688 4.692l.127.089-1.078 1.684c-1.685-1.079-2.736-3.63-2.736-6.465 0-.552.04-1.095.117-1.622l.066-.392z"})}))},realty:m.b,parking:f.d,other:g.o},b=a.memo((e=>{var{type:t}=e,s=(0,r._T)(e,["type"]);const a="metro"===t?Object.assign(Object.assign({},s),{size:32}):s,n=v[t];return(0,i.jsx)(n,Object.assign({},a))}));b.displayName="SuggestIcon"},99636:(e,t,s)=>{"use strict";s.d(t,{r:()=>p});var r=s(52322),i=s(2784),a=s(19561),n=s(68879),o=s(33956),c=s(85843),d=s(35253);class l extends i.PureComponent{constructor(){super(...arguments),this.state={stage:"start"}}render(){const{stretchContent:e,s:t}=this.props;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:(0,a.iv)(t.background),onClick:this.props.onBackgroundClick}),(0,r.jsx)("div",Object.assign({className:(0,a.iv)(t.content,e&&t.stretchContent,"end"===this.state.stage&&t._contentEnd)},c.dx.n("wat-suggest-wrap"),{onClick:e?this.props.onBackgroundClick:void 0},{children:this.props.children}))]})}componentDidMount(){this.endAnimationTimeout=window.setTimeout((()=>this.setState({stage:"end"})),0)}componentWillUnmount(){window.clearTimeout(this.fadeInAnimationTimeout),window.clearTimeout(this.endAnimationTimeout)}}const u={background:{background:"#fff",position:"absolute",top:0,left:0,right:0,zIndex:d.W5.bottom,height:"100vh"},content:{zIndex:d.W5.base,position:"absolute",left:0,right:0,transition:`opacity ${o.l.short}ms`,opacity:0},stretchContent:{top:56,bottom:0},_contentEnd:{opacity:1}},p=(0,n.D2)(u)(l)},66612:(e,t,s)=>{"use strict";s.d(t,{I:()=>d});var r=s(52322),i=s(66369),a=s(6801),n=s(2784),o=s(98584),c=s(63993);const d=(0,n.memo)((({segments:e,labels:t,labelsMarginTop:s,labelsJustifyContent:i,labelFontSize:n})=>{const{s:o,css:c}=(0,a.y)(l);return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",Object.assign({className:c(o.line)},{children:e.map(((t,s)=>(0,r.jsx)("div",{style:{background:t,width:100/e.length+"%"}},s)))})),(0,r.jsx)("div",Object.assign({className:c(o.labels),style:{marginTop:s,justifyContent:i,fontSize:n}},{children:t.map(((e,s)=>(0,r.jsx)("div",Object.assign({className:c(o.label),style:{width:"space-around"===i?100/t.length+"%":void 0}},{children:e}),s)))}))]})})),l=(0,a.k)({line:{height:8,display:"flex",borderRadius:i.E.default,overflow:"hidden"},labels:Object.assign(Object.assign({},c.Vz),{color:o.O.gray_929292,display:"flex",justifyContent:"space-between",marginTop:2}),label:{textAlign:"center"}})},73039:(e,t,s)=>{"use strict";s.d(t,{Bm:()=>i,Lm:()=>o,eW:()=>a,t1:()=>n});var r=s(45544);const i="showMorePhotos",a="maximumPhotos",n="onlyRD",o="noPhotos";(0,r.w)({name:i,percentRange:[0,0],excludeHumanFromSeo:!0,groups:[a,n,o,"controlGroup"]})},47320:(e,t,s)=>{"use strict";s.d(t,{l:()=>r});const r={long:0,short:200,spinner:1e3}},66369:(e,t,s)=>{"use strict";s.d(t,{E:()=>r});const r={default:"4px",minicard:"2px",oval:"50%",rounded:"9999px",defaultOnlyEnd:"logical 0 4px 4px 0",defaultOnlyStart:"logical 4px 0 0 4px"}},98584:(e,t,s)=>{"use strict";s.d(t,{O:()=>r});const r={white:"#ffffff",black:"#000000",black_transparent_06:(0,s(20094).j)("#000000",.06),black_transparent_50:"#808080",gray_1a1a1a:"#1a1a1a",gray_141414:"#141414",gray_262626:"#262626",gray_929292:"#929292",gray_f9f9f9:"#f9f9f9",gray_f6f6f6:"#f6f6f6",gray_f2f2f2:"#f2f2f2",gray_e6e6e6:"#e6e6e6",gray_bbbbbb:"#bbbbbb",gray_b2b2b2:"#b2b2b2",gray_dddddd:"#dddddd",gray_333333:"#333333",gray_5c5c5c:"#5c5c5c",gray_9b9b9b:"#9b9b9b",gray_bfbfbf:"#bfbfbf",gray_dfdfdf:"#dfdfdf",gray_f5f5f5:"#f5f5f5",gray_f0f0f0:"#f0f0f0",gray_4d4d4d:"#4d4d4d",gray_cccccc:"#cccccc",gray_989bab:"#989bab",gray_dedad9:"#dedad9",gray_898989:"#898989",gray_8989894d:"#8989894d",gray_e5e7ee:"#E5E7EE",gray_cbcdd5:"#cbcdd5",gray_4c4d4f:"#4c4d4f",gray_3a4149:"#3A4149",gray_f8f4f0:"#F8F4F0",gray_5A5A5A:"#5A5A5A",red_fe5000:"#fe5000",red_e10d0d:"#e10d0d",red_e32608:"#e32608",orange_ff8800:"#ff8800",orange_ffba00:"#ffba00",orange_fffaeb:"#fffaeb",orange_fff0c8:"#fff0c8",orange_ff8d00:"#ff8d00",yellow_ffb81c:"#ffb81c",yellow_ffc84b:"#ffc84b",yellow_ffbb36:"#ffbb36",green_299400:"#299400",green_227a00:"#227a00",green_1ba136:"#1ba136",green_30ad00:"#30ad00",green_5bae00:"#5bae00",green_60bf00:"#60bf00",green_002400:"#002400",green_007000:"#007000",blue_006fab:"#006fab",blue_0072ce:"#0072ce",blue_0168f9:"#0168f9",blue_0070cc:"#0070cc",blue_028eff:"#028eff",blue_c5ebff:"#c5ebff",blue_82bceb:"#82bceb",blue_59b4ff:"#59b4ff",blue_0672ad:"#0672ad",blue_70aee0:"#70aee0",blue_c5eeff:"#c5eeff",blue_8eb6da:"#8eb6da",blue_0082c8:"#0082c8",blue_f1f6fa:"#f1f6fa",blue_97c9db:"#97c9db",purple_8345fe:"#8345fe",purple_4a15e8:"#4a15e8"}},97825:(e,t,s)=>{"use strict";s.d(t,{AS:()=>u,BU:()=>l,BZ:()=>c,CH:()=>m,Cz:()=>r,I_:()=>O,Kr:()=>h,Kt:()=>a,LF:()=>i,LX:()=>P,MT:()=>f,N6:()=>n,Ok:()=>N,QZ:()=>v,So:()=>I,Tj:()=>g,YG:()=>E,fN:()=>_,g$:()=>C,iH:()=>b,lO:()=>M,m8:()=>o,n4:()=>S,p4:()=>d,q8:()=>T,rP:()=>y,sZ:()=>p,tC:()=>w,yJ:()=>j,yQ:()=>x});const r=12,i=12,a=50,n=20,o=19,c=5,d=5,l=1280,u=700,p=18,g=.2,m=16,h=2,f=10,v="car",b=2,y=840,x={tUgc:0,default:1,favorites:2,billboard:3,friendsSmall:4,friends:5,friendsCzar:6,czars:7,openedBillboard:8},j=["novosibirsk","omsk","moscow","spb","kemerovo","krasnoyarsk","ekaterinburg","tyumen","chelyabinsk","krasnodar"],w=["#025d29","#00883d","#05ac4b","#5fcc56","#b0e46e","#e5f497","#ffed98","#ffc76c","#ff914a","#ff5631","#eb2320","#b6001d"],_=["#0c7805","#7fcd33","#ffd46c","#ff5631"],C=24,I=10,k="dg5_auth",O=`${k}_access_token`,S="all",N="price_list_image",M=10,T="23",P="1",E="23.10.24–01.11.24"},6113:(e,t,s)=>{"use strict";s.d(t,{Bs:()=>i,Qd:()=>r});const r=["ru","kz","kg","uz","az","by","cl","ae","sa","eg","cy","it","cz","om","bh","qa","kw","iq","ma","am","ge"],i=r.map((function(e){return e.toUpperCase()}))},4116:(e,t,s)=>{"use strict";s.d(t,{Fx:()=>a,HI:()=>o,Hs:()=>n,O_:()=>i,P9:()=>d,q7:()=>r,ro:()=>c});const r=13,i=27,a=32,n=37,o=38,c=39,d=40},72645:(e,t,s)=>{"use strict";s.d(t,{W:()=>r});const r={bottom:-1,base:0,top:1}},98347:(e,t,s)=>{"use strict";s.d(t,{O:()=>r,t:()=>i});const r={ios:{rating:4.8,reviews:"178 K"},android:{rating:4.3,reviews:"985 K"}},i={mobileDownloadPromo:{inUGC:{reviews:"https://2gis.onelink.me/nw2S/d2de46ec",photos:"https://2gis.onelink.me/nw2S/972d4707"}}}},5:(e,t,s)=>{"use strict";s.d(t,{M:()=>r});const r={width:64,height:80}},99112:(e,t,s)=>{"use strict";s.d(t,{S:()=>r,b:()=>i});const r=["275","295","55693","21039","603","139","571","19487"],i=["295","603"]},18382:(e,t,s)=>{"use strict";s.d(t,{H:()=>i,o:()=>r});const r="174",i="248"},26499:(e,t,s)=>{"use strict";s.d(t,{T:()=>i,r:()=>r});const r=["161","164","159","1203","9786","21501","58871","110317","110408","165","162","110411","51459","110376","52248","166","15791","111593","363","469","879","10803","111594","112656","112658","21387","558","16677"],i=["305","652","5603","382","651","110355","58858","20165","13102","13726","56759","14942","69989","13597","51009","53986","70190","67142","50870","110479","110353","110351","110352","69491","110975","110998","405","7689"]},32002:(e,t,s)=>{"use strict";s.d(t,{q:()=>o});var r=s(98584),i=s(20094);const a=`inset 0 -1px ${r.O.gray_e6e6e6}`,n=`inset 0 1px ${r.O.gray_e6e6e6}`,o={one:"0 0 1px rgba(0, 0, 0, .25)",logo:"0 0 1px 1px rgba(0, 0, 0, .25)",outerRight:"1px 0 3px 0 rgba(38, 38, 38, 0.25)",outerLeft:"-1px 0 0 0 rgba(38, 38, 38, 0.115)",outerTop:"0 -1px 3px 0 rgba(38, 38, 38, 0.25)",minicardHighLighted:`inset 3px 0 0 0 ${r.O.green_299400}`,minicardHighLightedSingle:`inset 3px 0 0 0 ${r.O.green_299400}, ${a}`,popupBorderBottom:"0 1px 3px 0 rgba(64, 64, 64, 0.5)",darkBorderBottom:"inset 0 -1px 0 0 rgba(255, 255, 255, 0.3)",popup:`0 1px 3px 0 ${(0,i.j)(r.O.gray_262626,.5)}`,innerBorderBase:`inset 0 0 0 1px ${r.O.gray_e6e6e6}`,innerBorderTransparent:`inset 0 0 0 1px ${(0,i.j)(r.O.black,.1)}`,innerBorderActive:`inset 0 0 0 1px ${r.O.green_299400}`,innerBorderFocus:`inset 0 0 0 1px ${r.O.blue_0072ce}`,innerBorderDisabled:`inset 0 0 0 1px ${r.O.gray_f2f2f2}`,innerBorderBottomBase:a,innerBorderTopBase:n,innerBorderEndBase:`logical inset -1px 0 ${r.O.gray_e6e6e6}`,innerBorderStartBase:`logical inset 1px 0 0 0 ${r.O.gray_e6e6e6}`,innerBorderTopBaseWithCurrentColor:"inset 0 -1px currentColor",innerBorderTopBottom:`${a}, ${n}`,photoItemBorderBottom:`inset -1px 0 0 0 ${r.O.white}`,openedRouteEditorBillboardBanner:`0px 3px 10px 0px ${(0,i.j)(r.O.gray_262626,.15)}`}},94958:(e,t,s)=>{"use strict";s.d(t,{E8:()=>r,WB:()=>a,yM:()=>i});const r=" ",i="–",a="–"},77295:(e,t,s)=>{"use strict";s.d(t,{f:()=>K});var r=s(52322),i=s(98584),a=s(6801),n=s(85843),o=s(2784),c=s(77716),d=s(11393),l=s(70918),u=s(93549);const p=e=>({frameId:t},s)=>{const{entity:r,position:i,ownerName:a}=e;return{uiElement:{name:"buyHerePartnersLink",ownerName:a,frameUuid:t},action:"tap",payload:{placeItem:(0,d.Pj)({entity:r,position:i}),searchResultsList:(0,l.PD)({state:s,searchFrameId:t}),promoItem:(0,u.z)({state:s,frameId:t})}}};var g=s(66908),m=s(48236),h=s(27215),f=s(54974),v=s(20793),b=s(42395),y=s(87641);const x=(0,o.memo)((e=>{const{entity:t,position:s,ownerName:i}=e,a=(0,b.t)(t.ads),n=(0,y.G)(t.ads),{bssRef:o,useBssHandler:c}=(0,g.T)((x={entity:t,position:s,ownerName:i},({frameId:e},t)=>{const{entity:s,position:r,ownerName:i}=x;return{uiElement:{name:"buyHerePartnersLink",ownerName:i,frameUuid:e},payload:{placeItem:(0,d.Pj)({entity:s,position:r}),searchResultsList:(0,l.PD)({state:t,searchFrameId:e}),promoItem:(0,u.z)({state:t,frameId:e})}}}));var x;const j=c(p,{entity:t,position:s,ownerName:i}),w=(0,h.I0)(),_=(0,f.$)((()=>{a&&(j(),w((0,v.J)({adsIds:a.ownedRubricId,isFMCG:n})))}));return a?(0,r.jsx)(m.z,Object.assign({containerRef:o,medium:!0,appearance:"noncontrast",onClick:_,dataN:"wat-buy-here-owner-minicard"},{children:a.controlTitle})):null}));x.displayName="BuyHereOwnerLink";var j=s(38355),w=s(54733),_=s(35253),C=s(16289),I=s(92484);const k=o.forwardRef(((e,t)=>{const{compact:s,medium:i,backgroundColor:n,logo:o,isExternal:c,href:d,onClick:l,appearance:u,styles:p,value:g,isPhone:h}=e,{css:f,s:v}=(0,a.y)(O);return(0,r.jsx)(m.z,Object.assign({containerRef:t,compact:s,medium:i,appearance:u,background:n,href:d,onClick:l,external:c,experimentalStyles:p,dataN:"wat-ads-cta-button"},{children:(0,r.jsxs)("div",Object.assign({className:f(v.content)},{children:[o&&(0,r.jsx)("div",Object.assign({className:f(v.logo)},{children:(0,r.jsx)(C.E,{src:o,height:16,width:16,isLoadingForced:!0})})),g,h&&(0,r.jsx)("div",Object.assign({className:f(v.phoneIcon,i&&v._mediumPhoneIcon)},{children:(0,r.jsx)(I.L,{size:i?18:void 0})}))]}))}))})),O=(0,a.k)({logo:{width:16,height:16,borderRadius:_.E0.default,overflow:"hidden",marginEnd:8},content:{width:"100%",height:"100%",display:"flex",alignItems:"center"},phoneIcon:{height:24,width:24,paddingStart:4},_mediumPhoneIcon:{marginTop:-2,height:16,width:16}});var S=s(63546),N=s(20094),M=s(33511),T=s(36804),P=s(10484);const E=e=>t=>{const{parent:s,action:r,ownerFrameId:i,orgId:a,adsPosition:n,entity:o,placeItemPosition:c,position:l}=e,u=L(s),p=(0,P.iF)(t.appContext.frames,i),g="placeCardMini"!==u?(0,T.s)({state:t,entityFrameId:i}):(0,d.Pj)({entity:o,position:c}),m="directorySearchResultsFrame"===u&&"branch"===o.type?{org:o.org.id}:void 0;return{uiElement:{name:"callToActionButton",ownerName:u,frameUuid:i,position:l},action:"tap",payload:{callToAction:{actionType:r.type,value:r.value,contentOwner:a&&n?{org:a,adsPosition:"video"===s||p&&"search"===p.type&&"fmcg"===p.searchType?"fmcg":n,adsId:null==g?void 0:g.adsId}:void 0},placeItem:g,filialsList:m}}},L=e=>{switch(e){case"orgInfo":return"directorySearchResultsFrame";case"video":return"videoFrame";case"placeCardMini":return"placeCardMini";default:return"placeCardFull"}};var R=s(354),z=s(32712);const A=e=>{const[t,s]=(0,o.useState)(!1),{action:i,logo:a,backgroundColor:c,orgId:l,adsPosition:u,parent:p,entity:m,appearance:v,medium:b,compact:y,styles:x,position:_,placeItemPosition:C,onObserve:I}=e,O=(0,o.useRef)(null),A="placeCardMini"===p,{frameId:F}=(0,o.useContext)(M.j),B=(0,h.I0)(),{showEventOrdinal:Z,bssRef:U}=(0,g.T)((H={entity:m,ownerFrameId:F,adsPosition:u,placeItemPosition:C,position:_,action:i,parent:p,orgId:l},({frameId:e},t)=>{const{entity:s,adsPosition:r,position:i,placeItemPosition:a,action:n,parent:o,orgId:c}=H,l=L(o),u=(0,P.iF)(t.appContext.frames,e),p="placeCardMini"!==l?(0,T.s)({state:t,entityFrameId:e}):(0,d.Pj)({entity:s,position:a}),g={actionType:n.type,value:n.value},m="directorySearchResultsFrame"===l&&"branch"===s.type?{org:s.org.id}:void 0;return c&&r?{uiElement:{name:"callToActionButton",ownerName:l,frameUuid:e,position:i},payload:{callToAction:Object.assign(Object.assign({},g),{contentOwner:{org:c,adsPosition:"video"===o||u&&"search"===u.type&&"fmcg"===u.searchType?"fmcg":r,adsId:null==p?void 0:p.adsId}}),placeItem:p,filialsList:m}}:{uiElement:{name:"callToActionButton",ownerName:l,frameUuid:e,position:i},payload:{callToAction:g,placeItem:p,filialsList:m}}}),{threshold:.8});var H;(0,o.useEffect)((()=>(O.current||(O.current=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(null==I||I())}))}),{threshold:.9})),O.current.observe(U.current),()=>{var e;null===(e=O.current)||void 0===e||e.disconnect()})),[U,I]);const D="phone"===i.type,$=i.isExternal&&"phone"!==i.type||"phone"===i.type&&t,V=(0,f.$)((()=>{"link"!==i.type&&(D&&s(!0),i.isExternal||B((0,S.c)({actionType:i.type,entityId:m.id,value:i.value})),B((0,R._N)(E({action:i,parent:p,ownerFrameId:F,orgId:l,entity:m,position:_,placeItemPosition:C,adsPosition:u}),(e=>(0,z.zs)(e)))))})),q=e=>(0,r.jsx)(k,{ref:U,isExternal:$,appearance:v,medium:b,compact:y,isPhone:"phone"===i.type,href:e,onClick:V,value:t?i.value:i.name,logo:a,styles:x,backgroundColor:A?c&&`linear-gradient(62.12deg, ${(0,N.j)(c,.17)} 0%, ${(0,N.j)(c,.06)} 100%)`:c});return(0,r.jsx)("div",Object.assign({},n.dx.n("wat-ads-cta"),{children:"link"===i.type?(0,r.jsx)(w.M.Consumer,{children:e=>(0,r.jsx)(j.X,Object.assign({highPriorityEventOrdinal:"placeCardMini"===p,showEventOrdinal:e||Z,actionEventParamsSelector:E({action:i,parent:p,ownerFrameId:F,placeItemPosition:C,orgId:l,entity:m,position:_,adsPosition:u}),originalHref:i.value||""},{children:e=>q(e)}))}):q(i.href)}))};var F=s(90769),B=s(24664),Z=s(38399);const U=e=>{const{onObserveItem:t,list:s,entity:c,isMiniCard:d,isMiniBranchSelected:l,placeItemPosition:u}=e,p=(0,o.useRef)(null),{isStartArrowShown:g,isEndArrowShown:m,clickArrowStart:h,clickArrowEnd:f}=(0,F.e)({scrollboxRef:p}),{s:v,css:b}=(0,a.y)(H),y=(e,s)=>(0,r.jsx)(A,{action:e.action,backgroundColor:"entityAction"===e.type?e.backgroundColor:void 0,placeItemPosition:u,entity:c,orgId:"buyHere"===e.type?e.orgId:void 0,logo:"buyHere"===e.type?e.logo:void 0,adsPosition:"buyHere"===e.type?e.adsPosition:void 0,parent:d?"placeCardMini":"branch",position:s.inList?s.index+1:void 0,appearance:"noncontrast",styles:s.inList?v.listItem:void 0,medium:!0,onObserve:()=>null==t?void 0:t(s.index)},`${d?"placeCardMini":"branch"}_callToAction_${c.id}${"buyHere"===e.type?`_${e.orgId}`:""}`);return 1===s.length?y(s[0],{index:0,inList:!1}):(0,r.jsxs)("div",Object.assign({className:b(v.slider)},{children:[(0,r.jsx)(B.S,Object.assign({gap:8,offset:0,containerRef:p},{children:s.map(((e,t)=>y(e,{index:t,inList:!0})))})),g&&(0,r.jsx)("button",Object.assign({className:b(v.arrow,v.arrowLeft,l&&v.arrowSelectedLeft)},n.dx.n("wat-cta-carousel-arrow-start"),{onClick:h,type:"button"},{children:(0,r.jsx)(Z.E,{direction:"left",color:i.O.black})})),m&&(0,r.jsx)("button",Object.assign({className:b(v.arrow,v.arrowRight,l&&v.arrowSelectedRight)},n.dx.n("wat-cta-carousel-arrow-end"),{onClick:f,type:"button"},{children:(0,r.jsx)(Z.E,{direction:"right",color:i.O.black})}))]}))},H=(0,a.k)((e=>({listItem:{width:"100%",minWidth:e.mobile?190:168,whiteSpace:"nowrap","& > div":{justifyContent:"center"}},slider:{overflowX:"auto",position:"relative"},arrow:{position:"absolute",top:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center",width:32,height:32,"::before":{content:'""',pointerEvents:"none",width:32,height:32,position:"absolute",top:0,bottom:0}},arrowLeft:{left:0,"::before":{left:0,background:"linear-gradient(to right, #FFFFFF 50%, rgba(255, 255, 255, 0.85) 76.12%, rgba(255, 255, 255, 0.1) 100%)"}},arrowRight:{left:"auto",right:0,"::before":{right:0,background:"linear-gradient(to left, #FFFFFF 50%, rgba(255, 255, 255, 0.85) 76.12%, rgba(255, 255, 255, 0.1) 100%)"}},arrowSelectedLeft:{"::before":{background:"linear-gradient(to right, rgb(249, 249, 249) 50%, rgba(249, 249, 249, 0.85) 76.12%, rgba(249, 249, 249, 0.1) 100%)"}},arrowSelectedRight:{"::before":{background:"linear-gradient(to left, rgb(249, 249, 249) 50%, rgba(249, 249, 249, 0.85) 76.12%, rgba(249, 249, 249, 0.1) 100%)"}}})));var D=s(97171),$=s(40464);var V=s(7477);var q=s(36607),G=s(85161),W=s(90612);var Q=s(42858);const K=(0,o.memo)((e=>{var t,s,i,d,l,u,p,g,m;const{entity:h,position:f,isMiniCard:v,withoutLogo:y,isMiniBranchSelected:j}=e,{css:w,s:_}=(0,a.y)(J),C=(0,Q.T)(),[I,k]=(0,o.useState)(0),O=((e,t,s)=>{var r,i,a,n,o,c,d,l,u;if(null===(a=null===(i=null===(r=e.ads)||void 0===r?void 0:r.options)||void 0===i?void 0:i.actions)||void 0===a?void 0:a.find((e=>{var t;return!e.platforms||(null===(t=e.platforms)||void 0===t?void 0:t.includes("online"))}))){const t=(0,b.I)(e.ads.options.actions,"online",s._t("Узнать больше"));return t?[{action:t,backgroundColor:null===(o=null===(n=e.ads)||void 0===n?void 0:n.options)||void 0===o?void 0:o.color,type:"entityAction"}]:[]}if(null===(d=null===(c=e.ads)||void 0===c?void 0:c.options)||void 0===d?void 0:d.buy_here){const r="placeCardMini"===t;return(0,D.d)(e,{checkByCtaList:r}).reduce(((e,t)=>{if(t.actions){const r=(0,b.I)(t.actions,"online",s._t("Узнать больше"),t.branch_id);if(!r)return e;const i={type:"buyHere",action:r,orgId:t.org_id,branchId:t.branch_id,logo:(0,$.P)(t.logo,"48x48"),adsPosition:"buyHere",adsTexts:t.ads_texts,isFmcg:!(!t.images&&!t.videos)};return e.concat(i)}return e}),[])}return"placeCardMini"===t&&(null===(u=null===(l=e.ads)||void 0===l?void 0:l.options)||void 0===u?void 0:u.fmcg)?e.ads.options.fmcg.reduce(((e,t)=>{var r;if(t.cta_list&&t.actions){const i=(0,b.I)(t.actions,"online",s._t("Узнать больше"),t.branch_id);if(!i)return e;const a={type:"buyHere",action:i,orgId:t.org_id,branchId:t.branch_id,adsPosition:"fmcg",logo:(0,$.P)(null===(r=t.logo)||void 0===r?void 0:r[0],"32x32"),adsTexts:{text_warning:t.text_warning}};return e.concat(a)}return e}),[]):[]})(h,v?"placeCardMini":"branch",C),S=O.some((e=>"buyHere"===e.type))?O[I]:void 0;const N=v&&!!(null===(i=null===(s=null===(t=h.ads)||void 0===t?void 0:t.options)||void 0===s?void 0:s.buy_here_owner)||void 0===i?void 0:i[0])||!!(null===(u=null===(l=null===(d=h.ads)||void 0===d?void 0:d.options)||void 0===l?void 0:l.fmcg_owner)||void 0===u?void 0:u[0]),M=!v&&!!(null===(g=null===(p=h.ads)||void 0===p?void 0:p.options)||void 0===g?void 0:g.poi),T=(0,G.K)(h),P=y?void 0:function(e){if("branch"!==e.type)return;const t=e.ads&&e.ads.options;return t&&t.logo}(h),E=S?S.adsTexts.text:null===(m=h.ads)||void 0===m?void 0:m.text,L=!!(O.length||N||v),R=(0,W.qA)(h,{enabled:!L}),z=(e=>{var t,s;const{entity:r,buyHere:i,buildingBanner:a}=e;return i?{adsWarning:null===(t=i.adsTexts)||void 0===t?void 0:t.text_warning,adInfoParams:{source:"buyHere",entityId:i.branchId,frameEntityId:r.id}}:a?{legalName:a.legalName,adInfoParams:{source:"banner",legalName:a.legalName,erid:a.erid}}:{adInfoParams:{entityId:r.id,source:"card"},adsWarning:null===(s=r.ads)||void 0===s?void 0:s.text_warning,legalName:r.name_ex?r.name_ex.legal_name:void 0}})({entity:h,buyHere:S,buildingBanner:R.data}),A=!!(E||z.adsWarning||O.length||N||M||R.data);if(!(E||z.adsWarning||O.length||N||M||T||R.data))return null;const F=O.filter((e=>"entityAction"===e.type||!e.isFmcg));return(0,r.jsxs)("div",Object.assign({className:w(_.root)},{children:[(0,r.jsxs)("div",Object.assign({className:w(_.side)},{children:[!!E&&(0,r.jsx)("div",Object.assign({className:w(_.text)},n.dx.n("wat-ads-text"),{children:E})),A&&(0,r.jsx)("div",Object.assign({className:w(_.warning)},{children:(0,r.jsx)(c.e,{text:z.adsWarning,legalName:z.legalName,adInfo:z.adInfoParams})})),(0,r.jsx)("div",Object.assign({className:w(_.cta)},{children:F.length?(0,r.jsx)(U,{placeItemPosition:f,isMiniCard:v,isMiniBranchSelected:j,onObserveItem:e=>k(e),list:F,entity:h}):N?(0,r.jsx)(x,{entity:h,position:f,ownerName:v?"placeCardMini":"cardInformation"}):!v&&!R.isLoading&&(0,r.jsx)(q.O,{frameName:"entity",entity:h,isBuildingBannerDisabled:L})}))]})),!!P&&(0,r.jsx)("div",Object.assign({className:w(_.logo)},{children:(0,r.jsx)(V.T,{size:40,entity:h,isLoadingForced:!v})}))]}))})),J=(0,a.k)({root:{marginTop:10,paddingTop:10,display:"flex",borderTop:`solid 1px ${i.O.gray_e6e6e6}`,":empty":{display:"none"}},side:{flexGrow:1,overflowX:"auto",overflowY:"hidden",scrollSnapType:"x mandatory",":empty":{display:"none"}},text:{marginBottom:4,":empty":{display:"none"}},warning:{marginBottom:10,":empty":{display:"none"}},logo:{marginStart:12,":empty":{display:"none"}},cta:{display:"flex",":empty":{display:"none"}}})},38355:(e,t,s)=>{"use strict";s.d(t,{X:()=>m});var r=s(52322),i=s(2784),a=s(32712),n=s(90198),o=s(82584);var c=s(10661);const d={bssTrackAction:a.zs};class l extends i.Component{constructor(){super(...arguments),this.onClick=()=>{this.props.event&&this.props.bssTrackAction(this.props.event)}}render(){const{linkUrl:e}=this.props;return(0,r.jsx)("span",Object.assign({onClickCapture:this.onClick},{children:this.props.children(e)}))}}const u=(0,o.C)(((e,{config:t})=>({webApiKey:t.webApiKey,commitIsoDate:t.commitIsoDate,bssV3Url:t.bssV3LinkEndpoint,bssV3Link:t.bssV3Link,abTest:t.experiments,clientId:Number(t.clientId),isMobileDevice:t.isMobileDevice,sendPrivacyData:!t.featureReadOnly})))((0,n.G)({selectors:()=>{const e=(0,c.Nv)();return({showEventOrdinal:t,actionEventParamsSelector:s,originalHref:r,commitIsoDate:i,webApiKey:a,bssV3Url:n,bssV3Link:o,abTest:c,clientId:d,isMobileDevice:l,sendPrivacyData:u})=>({event:e=>s?s(e):void 0,linkUrl:e({actionEventParamsSelector:s,originalHref:r,showEventOrdinal:t,webApiKey:a,commitIsoDate:i,bssV3Url:n,bssV3Link:o,abTest:c,clientId:d,isMobileDevice:l,sendPrivacyData:u})})},handlers:d})(l));var p=s(46461),g=s(6340);const m=e=>{const{featureReadOnly:t}=(0,g.Z)(),s=i.useContext(p.M);if(t)return(0,r.jsx)(r.Fragment,{children:e.children(e.originalHref)});const a=e.highPriorityEventOrdinal||void 0===s.showEventOrdinal?e:Object.assign(Object.assign({},e),{showEventOrdinal:s.showEventOrdinal});return(0,r.jsx)(u,Object.assign({},a))}},10661:(e,t,s)=>{"use strict";s.d(t,{Gl:()=>l,Nv:()=>d});var r=s(77878),i=s(86023),a=s(64693),n=s(78163),o=s(43889);function c(e){try{return new URL(e).toString()}catch(e){}return e}const d=()=>{let e,t,s;return d=>l=>{const{showEventOrdinal:u,actionEventParamsSelector:p,originalHref:g,commitIsoDate:m,webApiKey:h,bssV3Url:f,bssV3Link:v,abTest:b,clientId:y,isMobileDevice:x,sendPrivacyData:j}=d,w=p?p(l):void 0;if(void 0===u||!w)return g;if(e&&t===u&&g===s)return e;const _={type:211,eventType:"action",eventId:(0,a.by)(),actionType:"externalLink",eventOrdinal:0,uiElement:w.uiElement,payload:Object.assign(Object.assign({},w.payload),{externalLink:{forkEventOrdinal:u,parentTabId:l.config.tabId}})},C=(0,n.D)({tabId:(0,a.by)(),apikey:h,commitIsoDate:m,deviceLocale:l.session.browserLocale,state:l,eventParams:_,enhancedAttrs:{},abTest:b,clientId:y,isMobileDevice:x,sendPrivacyData:j});return s=g,t=u,e=function({eventParams:e,href:t,bssV3Url:s,bssV3Link:a}){if("undefined"==typeof window||!e)return t;if(t.startsWith("tel:"))return t;let n="";const d=-1===s.indexOf("http")?`http:${s}`:s,l=t.replace(/^https?:\/\/link\.(2gis\.ru|2gis\.com|urbi\.ae)[^?]+\?/,"")||void 0;if(!l)return t;try{n=[c(l),d,e].join("\n");const t=(0,i.oF)(n);return`${a}4.2/${(0,i.TI)(`6bR0Lasa39YtYL9sMu/${t}/`)}/${encodeURIComponent(t)}`}catch(e){(0,r.H)({level:"warn",message:"Не удалось запаковать в base64 урл",id:"aj48e",payload:{type:"exception",subtype:"MakeBase64Link",stack:(0,o.d)(e),data:JSON.stringify({resolvedUrl:l,linkParamsString:n})}})}return t}({eventParams:JSON.stringify([(0,a.uv)(C)]),href:g,bssV3Url:f,bssV3Link:v}),e}},l=e=>{const{showEventOrdinal:t,actionEventParamsSelector:s,originalHref:r,config:i}=e,a=d(),n=i.webApiKey,o=i.commitIsoDate,c=i.bssV3LinkEndpoint,l=i.bssV3Link,u=i.experiments,p=Number(i.clientId),g=i.isMobileDevice;return a({originalHref:r,showEventOrdinal:t,actionEventParamsSelector:s,webApiKey:n,bssV3Url:c,bssV3Link:l,sendPrivacyData:!i.featureReadOnly,commitIsoDate:o,abTest:u,clientId:p,isMobileDevice:g})}},31481:(e,t,s)=>{"use strict";s.d(t,{fb:()=>w,s:()=>j,K:()=>C});var r=s(60786),i=s(57695),a=s(18586),n=s(72603),o=s(31830),c=s(62830),d=s(4379),l=s(64693),u=s(77854),p=s(43001),g=s(26287),m=s(55476),h=s(52261);var f=s(10484);const v=(0,r.P1)([e=>(0,f.t0)(e.appContext.frames,"search")],(e=>"search"===(null==e?void 0:e.type)&&"query"===e.searchType?e.seoFakeEntityId:void 0)),b=({page:e,searchId:t,gtaId:s,pagination:r,seoFakeEntityId:i})=>{const a=null==r?void 0:r[e],n=a&&i&&1===e?[i,...a.data.filter((e=>e!=i))||[]]:void 0;return{result:n?Object.assign(Object.assign({},a),{data:n}):a,context:{searchId:t,page:e,gtaId:s}}},y=(0,r.P1)([({props:e})=>(0,n.X)(e.frame),({props:e})=>(0,c.r)(e.frame,"actual"),({props:e})=>(0,p.n)(e.frame,"actual"),({state:e,props:t})=>(0,i.Dx)({state:e,searchId:(0,c.r)(t.frame,"actual")||""}),({state:e})=>v(e)],((e,t,s,r,i)=>b({page:e,searchId:t,gtaId:s,pagination:r,seoFakeEntityId:i}))),x=(0,r.P1)([({props:e})=>(0,o.Z)(e.frame),({props:e})=>(0,c.r)(e.frame),({props:e})=>(0,p.n)(e.frame),({state:e,props:t})=>(0,i.Dx)({state:e,searchId:(0,c.r)(t.frame)||""}),({state:e})=>v(e)],((e,t,s,r,i)=>b({page:e,searchId:t,gtaId:s,pagination:r,seoFakeEntityId:i}))),j=(0,r.P1)([({state:e,props:t})=>y({state:e,props:t}),({state:e,props:t})=>x({state:e,props:t})],((e,t)=>(0,u.m)(e,t))),w=(0,r.P1)([j,({state:e})=>e.data.entity.profile],((e,t)=>{var s,r;return null===(r=null===(s=null==e?void 0:e.result)||void 0===s?void 0:s.data)||void 0===r?void 0:r.map((e=>t[e]&&t[e].data)).filter(l.Gg)}),{compareByFirstArgOnly:!0}),_=(0,r.P1)([j,w,e=>{var t,s,r;const i=null===(s=null===(t=j(e))||void 0===t?void 0:t.context)||void 0===s?void 0:s.gtaId;return i?null===(r=e.state.data.gta[i])||void 0===r?void 0:r.banners:void 0},e=>{var t,s,r;const i=null===(s=null===(t=j(e))||void 0===t?void 0:t.context)||void 0===s?void 0:s.gtaId;return i?null===(r=e.state.data.gta[i])||void 0===r?void 0:r.stories:void 0},({props:e})=>(0,d.F)(e.frame),({state:e})=>(0,g.yH)(e),({state:e})=>(0,m.Pc)(e),({props:e})=>function(e){const t=(0,h.Q)(e);return t&&"true"===t.friends_were_here}(e.frame),({state:e,props:t})=>(0,i.rO)({state:e,searchId:(0,c.r)(t.frame,"actual")})],((e,t,s,r,i,a,n,o,c)=>({selected:e,stories:r,pageEntities:t,gtaBanners:s,shortScheduleFormat:!i,projectId:a,isUserExists:n,isFriendsWereHereFilterContain:o,searchProfile:c}))),C=(0,a.X1)(((e,t)=>_({state:e,props:t})))},67511:(e,t,s)=>{"use strict";s.d(t,{g:()=>g});var r=s(52322),i=s(6801),a=s(52281),n=s(64929),o=s(56652),c=s(2784),d=s(43534),l=s(50519),u=s(10976),p=s(85843);const g=(0,c.memo)((e=>{const{css:t,s}=(0,i.y)(m),{entity:c}=e;switch(c.type){case"branch":return(0,o.n)(c)?(0,r.jsx)("span",Object.assign({className:t(s.wrapper)},p.dx.n("wat-mini-crown"),{children:(0,r.jsx)(a._,{})})):null;case"route":return(0,u.Y)(c.subtype,c.route_logo)?(0,r.jsx)("span",Object.assign({className:t(s.wrapper)},{children:(0,r.jsx)(d.T,{background:(0,l.M)(c),regionCode:(0,n.i)(c),routeLogo:c.route_logo,showLineNumber:!0})})):null;case"station_entrance":case"station_platform":case"station":return(0,u.Y)(c.subtype,c.route_logo)&&c.routes?(0,r.jsx)("div",Object.assign({className:t(s.wrapper)},{children:c.routes.map((e=>(0,u.Y)(e.subtype,e.route_logo)?(0,r.jsx)(d.T,{background:(0,l.M)(e),regionCode:(0,n.i)(c),routeLogo:e.route_logo,showLineNumber:!0},e.id):null))})):null;default:return null}})),m=(0,i.k)({wrapper:{display:"inline-flex",verticalAlign:"middle",marginTop:-2,gap:2}})},45944:(e,t,s)=>{"use strict";s.d(t,{MZ:()=>o,aT:()=>d,fB:()=>c,gC:()=>u});var r=s(4135),i=s(26287),a=s(65649),n=s(44769);const o=e=>({frameId:t},s)=>{const{banner:r,ownerName:i,rubrics:a}=e,n=l({banner:r,ownerName:i,rubrics:a,frameId:t,state:s});return{uiElement:{name:"adsBanner",ownerName:i,frameUuid:t},payload:Object.assign({},n)}},c=e=>({frameId:t},s)=>{const{banner:r,ownerName:i,rubrics:a}=e,n=l({banner:r,ownerName:i,rubrics:a,frameId:t,state:s});return{action:"tap",uiElement:{name:"adsBanner",ownerName:i,frameUuid:t},payload:Object.assign({},n)}},d=e=>t=>{const{banner:s,ownerName:r,rubrics:i,frameId:a}=e,n=l({banner:s,ownerName:r,rubrics:i,frameId:a,state:t});return{action:"tap",uiElement:{name:"adsBanner",ownerName:r,frameUuid:a},payload:Object.assign({},n)}},l=e=>{const{banner:t,ownerName:s,rubrics:r,frameId:i,state:a}=e,o=u({banner:t,rubrics:r,state:a}),c=(0,n.B)({frameUuid:i,ownerName:s,state:a});return Object.assign({adsBanner:o},c)},u=e=>{const{banner:t,state:s,rubrics:n}=e,o=(0,i.yH)(s),c=(0,a.O)(s);return{entity:{id:t.ad_attributes.branch_id?t.ad_attributes.branch_id:t.org.id,type:t.ad_attributes.branch_id?"branch":"org",segmentInfo:(0,r.U)({locale:c,region_id:o})},org:t.org.id,mainRubric:t.main_rubric_id?`${t.main_rubric_id}`:void 0,adsId:t.ad_attributes.ads_id,auctionId:t.ad_attributes.auction_id,contextRubric:(null==n?void 0:n[0][0])?`${null==n?void 0:n[0][0]}`:void 0,adsMaterialVersionId:t.ad_attributes.banner_id,adsAlgorithm:t.ad_attributes.algorithm_id}}},88007:(e,t,s)=>{"use strict";s.d(t,{X:()=>n});var r=s(22970),i=s(42866),a=s(64693);const{use:n}=(0,i.r)("ads advise gta online",(e=>[(0,a.CE)(e,["viewport"]),({services:t})=>(0,r.mG)(void 0,void 0,void 0,(function*(){var s;const r=yield t.webApi.getAdsAdviseGtaOnline(e),i=(null===(s=r.banners[0])||void 0===s?void 0:s.ad_attributes.content.html)?r.banners[0].ad_attributes.content.html:void 0;if(!i)return r;const a=yield fetch(i).then((e=>e.text()));return Object.assign(Object.assign({},r),{banners:[Object.assign(Object.assign({},r.banners[0]),{ad_attributes:Object.assign(Object.assign({},r.banners[0].ad_attributes),{content:Object.assign(Object.assign({},r.banners[0].ad_attributes.content),{html:a})})})]})}))]),{cacheTime:0,staleTime:0})},67414:(e,t,s)=>{"use strict";s.d(t,{E:()=>ie});var r=s(52322),i=s(2784),a=s(90198),n=s(1950),o=s(85843),c=s(82584),d=s(4125),l=s(42395),u=s(40464),p=s(13562),g=s(19561),m=s(35253),h=s(68879),f=s(32002),v=s(78574),b=s(31350),y=s(33956),x=s(48236),j=s(86740),w=s(36804),_=s(70918),C=s(95811),I=s(32712),k=s(354),O=s(93549);const S=e=>t=>{const{action:s,miniCardPosition:r,bannerPosition:i,ownerFrameId:a,banner:n}=e;return{uiElement:{name:"callToActionButton",ownerName:"adsBanner",position:r,frameUuid:a},action:"tap",payload:{callToAction:{actionType:s.type,value:s.value,contentOwner:void 0},searchResultsList:(0,_.PD)({state:t,searchFrameId:a}),promoItem:(0,O.z)({state:t,frameId:a}),placeItem:(0,w.s)({state:t,entityFrameId:a}),adsBanner:(0,C.K)({state:t,banner:n,position:i})}}};var N=s(38355),M=s(98584),T=s(20094);class P extends i.PureComponent{constructor(){super(...arguments),this.state={showPhone:!1},this.renderButton=e=>{const{action:t,bssRef:s,s:i}=this.props,a=t.isExternal&&"phone"!==t.type||"phone"===t.type&&this.state.showPhone;return(0,r.jsx)("div",Object.assign({ref:s},{children:(0,r.jsx)(x.z,Object.assign({compact:!0,href:e,external:a,onClick:this.onClick,dataN:"wat-gta-banner-action",dataT:t.type,experimentalStyles:i.button},{children:this.state.showPhone?t.value:t.name}))}))},this.onClick=()=>{const{action:e,onMiniCardClick:t,miniCardPosition:s,bannerPosition:r,ownerFrameId:i,banner:a,bssOnCTATap:n,searchBuyHere:o}=this.props;"link"!==e.type&&("phone"===e.type&&this.setState({showPhone:!0}),e.isExternal||("search_buy_here"===e.type?o({adsIds:e.value}):t()),n({action:e,miniCardPosition:s,bannerPosition:r,ownerFrameId:i,banner:a}))}}render(){const{action:e,bannerPosition:t,miniCardPosition:s,ownerFrameId:i,banner:a,showEventOrdinal:n}=this.props;return"link"===e.type?(0,r.jsx)(N.X,Object.assign({highPriorityEventOrdinal:!0,showEventOrdinal:n,actionEventParamsSelector:S({action:e,miniCardPosition:s,bannerPosition:t,ownerFrameId:i,banner:a}),originalHref:e.href||""},{children:this.renderButton})):this.renderButton()}}P.displayName=(0,d.I)("src/shared/containers/gtaMiniCardAds/components/gtaMiniCardCta");const E={button:{backgroundColor:(0,T.j)(M.O.yellow_ffb81c,.3),color:M.O.gray_262626}},L=(0,j.z)(((e,t)=>{const{action:s,ownerFrameId:r}=e;return{uiElement:{name:"callToActionButton",ownerName:"adsBanner",frameUuid:r},payload:{callToAction:{actionType:s.type,value:s.value},placeItem:(0,w.s)({state:t,entityFrameId:r})}}}),(e=>({bssOnCTATap(t){e((0,k._N)(S(t),(e=>(0,I.zs)(e))))}})))((0,h.D2)(E)(P));var R=s(44769);var z=s(77716),A=s(66369),F=s(66250),B=s(86139),Z=s(43270);class U extends i.PureComponent{constructor(){super(...arguments),this.onClick=()=>{const{branchId:e,banner:t,bssOnBannerClick:s,onBannerClick:r}=this.props;r({entityId:e,hash:t.hash}),s()},this.onCtaButtonClick=()=>{const{branchId:e,banner:t,onBannerClick:s}=this.props;s({entityId:e,hash:t.hash})}}render(){const{name:e,text:t,extension:s,logoUrl:i,isSearchBot:a,action:n,miniCardPosition:c,bannerPosition:d,s:l,isHovered:u,isActive:m,hoverableHandlers:h,bssRef:f,banner:v,textWarning:y,searchBuyHere:x,erid:j,legalName:w,config:_}=this.props,{lang:C}=_;return(0,r.jsx)(F.N,{children:(0,r.jsxs)("div",Object.assign({ref:f,className:(0,g.iv)(l.root,m&&l._active),onClick:this.onClick},o.dx.n("wat-gta-mini-card"),h,{children:[i&&(0,r.jsx)("div",Object.assign({className:(0,g.iv)(l.logo)},o.dx.n("wat-gta-banner-logo"),{children:(0,r.jsx)(p.j,{src:i,isLoadingForced:a,alt:"ru"===C?"Логотип":void 0})})),(0,r.jsx)("div",Object.assign({className:(0,g.iv)(l.name,u&&l._nameHovered)},{children:(0,r.jsx)(b.x,Object.assign({lead:!0,dataN:"wat-gta-banner-object-name"},{children:e}))})),s&&(0,r.jsx)(b.x,Object.assign({note:!0},{children:s})),(0,r.jsxs)("div",Object.assign({className:(0,g.iv)(l.adsText)},o.dx.n("wat-gta-banner-ads-text"),{children:[(0,r.jsx)(b.x,Object.assign({dataN:"wat-gta-banner-ads-text"},{children:t})),(0,r.jsx)(B.d,{suffix:!0,source:"banner",erid:j,legalName:w,dataN:"wat-gta-adv-mark"})]})),n&&(0,r.jsx)("div",Object.assign({className:(0,g.iv)(l.cta)},{children:(0,r.jsx)(L,{banner:v,action:n,onMiniCardClick:this.onCtaButtonClick,miniCardPosition:c,bannerPosition:d,searchBuyHere:x})})),!!y&&(0,r.jsx)(z.e,{text:y,mt:"4",dataN:"wat-gta-banner-text-warning"})]}))})}}U.displayName=(0,d.I)("src/shared/containers/gtaMiniCardAds/components/gtaMiniCard");const H={root:{marginBottom:8,background:M.O.white,paddingTop:16,paddingBottom:12,paddingStart:24,paddingEnd:24,border:`1px solid ${M.O.gray_e6e6e6}`,borderRadius:A.E.default,boxShadow:`0 1px 3px 0 ${M.O.gray_e6e6e6}`,overflow:"hidden",cursor:"pointer",transform:"translateZ(0)",transition:`box-shadow ${y.l.short}ms`,":hover":{background:M.O.orange_fff0c8},"@media print":{display:"none"}},_active:{boxShadow:f.q.minicardHighLighted,background:M.O.orange_fff0c8},logo:{float:"end",width:m.dp.cardLogo,height:m.dp.cardLogo,borderRadius:"50%",overflow:"hidden",backgroundColor:M.O.white,boxShadow:f.q.logo},name:{color:M.O.blue_0072ce},_nameHovered:{color:M.O.gray_262626},adsText:{marginTop:8},extension:{color:M.O.gray_929292},cta:{marginTop:8}},D=(0,c.C)((({banner:e,openedEntityId:t},{tp:s})=>{const{name_ex:r,ad_attributes:{branch_id:i,content:{text:a,text_warning:n,options:o},erid:c,legal_name:d},org:p}=e;return{branchId:i,orgId:p.id,name:r.primary,extension:r.extension,text:a,textWarning:n,logoUrl:o&&(0,u.P)(o.logo,"112x112"),showFilials:p.branch_count>1,filialsNumber:p.branch_count,action:(0,l.I)(null==o?void 0:o.actions,"online",s._t("Подробнее")),isActive:!(!t||t!==i),erid:c,legalName:d}}))((0,j.z)(((e,t)=>{const{ownerName:s,miniCardPosition:r,bannerPosition:i,banner:a,ownerFrameId:n}=e;return{uiElement:{name:"adsBanner",ownerName:s,position:r,frameUuid:n},payload:Object.assign({adsBanner:(0,C.K)({banner:a,position:i,state:t})},(0,R.B)({frameUuid:n,ownerName:s,state:t}))}}),((e,{ownerName:t,bannerPosition:s,miniCardPosition:r,ownerFrameId:i,banner:a,branchId:n,orgId:o})=>({bssOnBannerClick(){e((0,k.gF)({adsBanner:e=>(0,C.K)({banner:a,position:s,state:e}),additionalPayload:e=>(0,R.B)({frameUuid:i,ownerName:t,state:e})},(({adsBanner:e,additionalPayload:s})=>{const a={uiElement:{name:"adsBanner",ownerName:t,position:r,frameUuid:i},action:"tap",payload:Object.assign({adsBanner:e},s)};return(0,I.zs)(a)})))},bssOnFilialsLinkClick(){const t={uiElement:{name:"filialsLink",ownerName:"placeCardMini",frameUuid:i},action:"tap",payload:{placeItem:{entity:{id:n,type:"branch"},org:o}}};return e((0,I.zs)(t))}})),{threshold:.5,forceSendShowIfPropsChanged:["banner"]})((0,n.$)()((0,h.D2)(H)((0,v.$)((0,Z.R)()(U))))));var $=s(86687),V=s(6801),q=s(42858),G=s(6340),W=s(36209);const Q=i.memo((({title:e,regionId:t,lang:s})=>{const{s:a,css:n}=(0,V.y)(K),o=(0,q.T)(),{brandName:c,adsLink:d}=(0,G.Z)(),l=(0,i.useCallback)((e=>{e.stopPropagation()}),[]);return(0,r.jsxs)("header",Object.assign({className:n(a.header)},{children:[(0,r.jsx)(b.x,Object.assign({note:!0,small:!0},{children:e})),(0,r.jsx)("i",{style:{display:"none"}}),(0,r.jsx)(W.w,{children:(0,r.jsx)($.Z,Object.assign({href:`${d}/?language=${s}&page=online_owner&id=${t}&utm_source=online&utm_medium=product&utm_campaign=gta`,onClick:l,external:!0},{children:(0,r.jsx)(b.x,Object.assign({small:!0},{children:o._t("Реклама в %1 ↗",[c])}))}))})]}))}));Q.displayName="BlockHeader";const K=(0,V.k)({header:{padding:"8px 16px",display:"flex",justifyContent:"space-between",alignItems:"center"}});var J=s(89594),Y=s(26287),X=s(10484),ee=s(20793);const te={onFilialsLinkClick:J.QR,searchBuyHere:ee.J};class se extends i.PureComponent{constructor(){super(...arguments),this.renderAdsMiniCard=(e,t)=>{const{ownerName:s,openedEntityId:i,isSearchBot:a,onBannerClick:n,searchBuyHere:c,miniCardPosition:d}=this.props;return(0,r.jsx)("div",Object.assign({},o.dx.n("wat-gta-ads-banner"),o.dx.t("minicards"),{children:(0,r.jsx)(D,{banner:e,ownerName:s,isSearchBot:a,miniCardPosition:d,bannerPosition:t+1,onBannerClick:n,onFilialsLinkClick:this.onFilialsLinkClick,searchBuyHere:c,openedEntityId:i})}),t)},this.onFilialsLinkClick=e=>{this.props.onFilialsLinkClick({orgId:e})}}render(){const{s:e,title:t,banners:s,lang:i,regionId:a,dataN:n=""}=this.props;return(0,r.jsxs)("div",Object.assign({},o.dx.n(n),{className:(0,g.iv)(e.root)},{children:[(0,r.jsx)(Q,{title:t,lang:i,regionId:a}),s.map(this.renderAdsMiniCard)]}))}}se.displayName=(0,d.I)("src/shared/containers/gtaMiniCardAds");const re={root:{paddingTop:0,paddingBottom:0,paddingStart:8,paddingEnd:8,backgroundColor:M.O.orange_fffaeb,borderBottom:`1px solid ${M.O.gray_e6e6e6}`}},ie=(0,a.G)({selectors:()=>({entityFrame:e=>(0,X.Fq)(e.appContext.frames),isSearchBot:e=>e.session.isSearchBot,lang:e=>e.appContext.lang,regionId:Y.yH}),handlers:te})((0,c.C)((e=>{const{gtaBanners:t,regionId:s,entityFrame:r}=e;if(null==t?void 0:t.length)return{banners:t,regionId:s||"0",openedEntityId:r&&r.entityId}}))((0,h.D2)(re)((0,n.$)()(se))))},36607:(e,t,s)=>{"use strict";s.d(t,{O:()=>C});var r=s(52322),i=s(2784),a=s(48236),n=s(24947),o=s(67753),c=s(10484),d=s(52981);const l=e=>{const{entityId:t,type:s}=e;return(0,o.xJ)((e=>{var r;const i=null===(r=(0,c.Fq)(e.appContext.frames))||void 0===r?void 0:r.id;return i?(0,n.Sb)({frameId:i,entityId:t,tab:"realty"}):(0,d.xo)({id:t,type:s,tab:"realty"})}))};var u=s(66908),p=s(80895),g=s(4135),m=s(26287),h=s(65649),f=s(36804);const v=e=>({frameId:t},s)=>{if(!e)return{uiElement:{name:"realtyWidget",ownerName:"placeCardFull",frameUuid:t},action:"tap"};const r=(0,m.fq)(s),i=(0,h.O)(s);return{action:"tap",uiElement:{name:"realtyLayerPromo",ownerName:"placeCardFull",frameUuid:t},payload:{mapLayer:{name:"realtyLayer",entity:{type:"mapLayer",segmentInfo:(0,g.U)({locale:i,region_id:r})},enableMapLayer:!0},placeItem:(0,f.s)({state:s,entityFrameId:t})}}};var b=s(66071),y=s(6340),x=s(42858),j=s(85161);const w=(0,i.memo)((({entity:e})=>{const{featureRealty:t}=(0,y.Z)(),{useBssHandler:s,bssRef:n}=(0,u.T)((e=>({frameId:t},s)=>{if(!e)return{uiElement:{name:"realtyWidget",ownerName:"placeCardFull",frameUuid:t}};const r=(0,m.fq)(s),i=(0,h.O)(s);return{uiElement:{name:"realtyLayerPromo",ownerName:"placeCardFull",frameUuid:t},payload:{mapLayer:{name:"realtyLayer",entity:{type:"mapLayer",segmentInfo:(0,g.U)({locale:i,region_id:r})}},placeItem:(0,f.s)({state:s,entityFrameId:t})}}})(t)),o=(0,x.T)(),c=s(v,t),d=(0,p.A)(b.T,{entity:"building"===e.type?{type:"building",id:e.id}:void 0}),w=(0,p.A)(l,{entityId:e.id,type:e.type}),_=(0,i.useCallback)((()=>{c(),t?d():w()}),[]);return(0,j.K)(e)?(0,r.jsx)(a.z,Object.assign({containerRef:n,onClick:_,appearance:"primary",dataN:"wat-realty-button",medium:!0},{children:o._t("Недвижимость в этом доме")})):null}));w.displayName="RealtyButton";var _=s(90612);const C=(0,i.memo)((e=>{const{entity:t,isBuildingBannerDisabled:s=!1,frameName:a}=e,n=(0,_.qA)(t,{enabled:!s}),o=(0,i.useMemo)((()=>n.data?(0,_.CN)(n.data):void 0),[n.data]);return n.isLoading?null:o?(0,r.jsx)(_.N,{frameName:a,banner:o}):(0,r.jsx)(w,{entity:t})}))},15894:(e,t,s)=>{"use strict";s.d(t,{P:()=>o,h:()=>n});var r=s(5603),i=s(10976),a=s(40464);function n(e){return(0,r.t)(e)&&(0,i.Y)(e.subtype,e.route_logo)}const o=(e,t,s)=>{if(!s)return;if(t)return t;if(!e)return;const r=s.offsetWidth,i=s.offsetHeight;return(0,a.W)(e,`${r}x${i}`)}},9155:(e,t,s)=>{"use strict";s.d(t,{k:()=>L});var r=s(52322),i=s(6801),a=s(2784),n=s(35253),o=s(67185),c=s(99261),d=s(24664),l=s(85982),u=s(49224),p=s(97825),g=s(98584),m=s(54974),h=s(66908),f=s(51604),v=s(72799),b=s(27215),y=s(29600),x=s(91982),j=s(70918),w=s(93549);const _=({entity:e,entityPosition:t,photoPosition:s})=>({frameId:r},i)=>{if(e)return{uiElement:{name:"photoCardMini",ownerName:"placeCardMini",frameUuid:r,position:s},payload:{placeItem:(0,x.Pj)({entity:e,position:t}),searchResultsList:(0,j.PD)({state:i,searchFrameId:r}),promoItem:(0,w.z)({state:i,frameId:r})},action:"tap"}};var C=s(10484),I=s(354),k=s(7477),O=s(13562),S=s(6340);const N=(0,a.memo)((({data:e,size:t,previewSize:s,isMediaRubric:a,entity:o,entityPosition:c,photoPosition:d})=>{const{s:l,css:u}=(0,i.y)(M),{lang:p}=(0,S.Z)(),N=(0,b.I0)(),{bssRef:T,useBssHandler:P}=(0,h.T)((({entity:e,photo:t,entityPosition:s,photoPosition:r})=>({frameId:i},a)=>{if(e&&t)return{uiElement:{name:"photoCardMini",ownerName:"placeCardMini",frameUuid:i,position:r},payload:{placeItem:(0,x.Pj)({entity:e,position:s}),searchResultsList:(0,j.PD)({state:a,searchFrameId:i}),promoItem:(0,w.z)({state:a,frameId:i}),photo:{photoId:t.id}}}})({entity:o,entityPosition:c,photoPosition:d,photo:e}),{threshold:.5}),E=P(_,{entity:o,entityPosition:c,photoPosition:d}),L=(0,m.$)((t=>{o&&(t.stopPropagation(),N((0,I._N)((e=>{const t=(0,C.t0)(e.appContext.frames,"search");return"query"===(null==t?void 0:t.searchType)?(0,f.Gp)(t.tabCatalog.searchId):void 0}),(t=>!!t&&(0,y.BN)((0,v.l)({entityId:o.id,searchId:t,entityType:o.type,photoId:e.id}))))),E())}));return(0,r.jsxs)("div",Object.assign({className:u(l.root),ref:T,onClick:L,style:{flexBasis:t,height:t}},{children:[(0,r.jsx)(O.j,{src:e.preview_urls[s[0]],src2x:e.preview_urls[s[1]],lazyLoadVisibilityOffset:0,borderRadius:n.E0.isolate,backgroundColor:g.O.black_transparent_06,alt:"ru"===p?"Фото":void 0}),a&&1===d&&!!o&&(0,r.jsx)("div",Object.assign({className:u(l.logo)},{children:(0,r.jsx)(k.T,{size:64,entity:o})}))]}))}));N.displayName="MiniEntityPhotoItem";const M=(0,i.k)({root:{position:"relative",flexShrink:0,flexGrow:1},logo:{position:"absolute",start:10,bottom:10,width:64,height:64}});var T=s(31758),P=s(74584),E=s(41568);const L=(0,a.memo)((({photos:e,isMediaRubric:t=!1,entity:s,entityPosition:g})=>{const{s:m,css:h}=(0,i.y)(R),{size:f,gap:v}=(e=>e?{size:116,gap:8}:{size:88,gap:4})(t),[b,y]=(0,c.S)({}),x=y&&e?e:void 0,{addVideoToSelectActive:j,activeVideoId:w}=(0,P.F)(),_=(null==x?void 0:x.length)||p.lO,C=(0,a.useMemo)((()=>t?_<3?["328x170","656x340"]:["116x116","232x232"]:_<4?["328x170","656x340"]:["88x88","176x176"]),[_,t]),I=(0,a.useRef)(null);return(0,r.jsx)("div",Object.assign({className:h(m.root),ref:b},{children:x?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.S,Object.assign({gap:v,offset:16,containerRef:I},{children:x.map(((e,i)=>(0,T.HJ)(e)?(0,r.jsx)(N,{data:e,size:f,previewSize:C,isMediaRubric:t,entity:s,entityPosition:g,photoPosition:i+1},`${e.id}-${i}`):(0,r.jsx)(E.O,{data:e,size:f,previewSize:C,isMediaRubric:t,entity:s,entityPosition:g,mediaPosition:i+1,activeVideoId:w,addVideoToSelectActive:j,bssType:"miniEntityPhoto"},`${e.id}-${i}`)))})),(0,r.jsx)(l.N,{children:(0,r.jsx)(u.o,{offset:20,scrollboxRef:I})})]}):(0,r.jsx)(o.b,{count:_,flexBasis:f,flexShrink:0,flexGrow:1,height:f,gap:v,marginStart:16,marginEnd:16,borderRadius:n.E0.isolate})}))}));L.displayName="MiniEntityPhotos";const R=(0,i.k)({root:{marginStart:-20,marginEnd:-20,position:"relative"}})},91282:(e,t,s)=>{"use strict";s.d(t,{X:()=>d,c:()=>l});var r=s(52322),i=s(6801),a=s(2784),n=s(16353),o=s(67185),c=s(9155);const d=165,l=(0,a.memo)((({isMedia:e,withoutPhotos:t})=>{const{css:s,s:a}=(0,i.y)(u);return(0,r.jsxs)(n.S,Object.assign({dataN:"wat-skeleton-minicard"},{children:[!t&&(0,r.jsx)("div",Object.assign({className:s(a.photos)},{children:(0,r.jsx)(c.k,{isMediaRubric:e})})),(0,r.jsx)(o.b,{width:240,height:20,borderRadius:6}),(0,r.jsx)(o.b,{width:120,height:16,marginTop:4,borderRadius:6}),(0,r.jsx)(o.b,{width:160,height:16,marginTop:8,borderRadius:6}),(0,r.jsx)(o.b,{height:16,marginTop:8,borderRadius:6})]}))}));l.displayName="MiniSkeleton";const u=(0,i.k)({photos:{marginTop:-4,marginBottom:16}})},16353:(e,t,s)=>{"use strict";s.d(t,{S:()=>p});var r=s(52322),i=s(98584),a=s(32002),n=s(55462),o=s(6801),c=s(85843),d=s(2784),l=s(27215),u=s(56104);const p=(0,d.memo)((e=>{const{children:t,entityId:s,isActive:i,onClick:a,dataN:p="wat-mini-wrap",dataT:m,dataS:h,onHoverChange:f}=e,{css:v,s:b}=(0,o.y)(g),{refCallback:y,isHovered:x}=(0,n.X)(),j=(0,l.v9)((e=>e.appContext.weak.hoveredId)),w=(0,l.I0)();return(0,d.useEffect)((()=>{x?(w((0,u.yy)({hoveredId:s})),f&&f(!0)):j===s&&(w((0,u.yy)({hoveredId:void 0})),f&&f(!1))}),[x]),(0,r.jsx)("div",Object.assign({ref:y,className:v(b.root,x&&b._hovered,i&&b._active),onClick:a},c.dx.n(p),c.dx.t(m),c.dx.s(h),{children:t}))})),g=(0,o.k)((e=>({root:{position:"relative",paddingTop:16,paddingBottom:16,paddingStart:20,paddingEnd:20,boxShadow:a.q.innerBorderBottomBase,overflow:"hidden",cursor:"pointer",transform:"translateZ(0)",":hover":{background:i.O.gray_f9f9f9}},_active:{background:i.O.gray_f9f9f9,":after":{position:"absolute",start:0,top:0,content:'""',width:3,height:"100%",boxShadow:`inset 3px 0 0 0 ${e.colors.green_299400_brand}`}},_hovered:{background:i.O.gray_f9f9f9}})))},86281:(e,t,s)=>{"use strict";s.d(t,{y:()=>m});var r=s(52322),i=s(2784),a=s(6801),n=s(48236),o=s(98584),c=s(11436),d=s(42858),l=s(43347),u=s(85982),p=s(85843),g=s(35253);const m=i.memo((e=>{const t=(0,d.T)(),{submitText:s,onSubmit:i,onCancel:g,withoutUserAvatar:m,disabledButton:f=!1,disabledCancelButton:v=!1,withAuth:b=!1,cancelText:y,experimentalStyles:x,isLoading:j=!1}=e,{css:w,s:_}=(0,a.y)(h);return(0,r.jsxs)("div",Object.assign({className:w(_.root,x)},p.dx.n("wat-popup-footer"),{children:[(0,r.jsx)(u.N,{children:m?null:(0,r.jsx)(l.a,{withAuth:b})}),(0,r.jsxs)("div",Object.assign({className:w(_.confirmBlock)},{children:[(0,r.jsx)("div",Object.assign({className:w(_.buttonWrapper)},{children:g&&(0,r.jsx)(n.z,Object.assign({appearance:"ghost",disabled:v,onClick:v?void 0:g,dataN:"wat-popup-footer-cancel",dataS:f?"disabled":"active",wide:!0},{children:y||t._t("Отменить")}))})),(0,r.jsx)("div",Object.assign({className:w(_.buttonWrapper)},{children:i&&(0,r.jsx)(n.z,Object.assign({appearance:"secondary",disabled:f,onClick:e=>{e.preventDefault(),e.stopPropagation(),i&&i()},dataN:"wat-popup-footer-submit",dataS:f?"disabled":"active",wide:!0},{children:j?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",Object.assign({className:w(_.preloader)},{children:(0,r.jsx)(c.p,{caterpillarColor:o.O.blue_028eff})})),(0,r.jsx)("span",Object.assign({className:w(j&&_.submitButtonText)},{children:t._t("Опубликовать")}))]}):s||t._t("Опубликовать")}))}))]}))]}))})),h=(0,a.k)((e=>({root:{display:"flex",background:o.O.gray_f2f2f2,padding:e.mobile?20:24,borderBottomLeftRadius:g.E0.isolate,borderBottomRightRadius:g.E0.isolate,justifyContent:"flex-end"},confirmBlock:{display:"flex",alignItems:"center",marginInlineStart:e.mobile?0:"auto",flexGrow:e.mobile?1:0,flexShrink:0,gap:16},buttonWrapper:{display:"flex",justifyContent:"center",flexGrow:1,"&:empty":{display:"none"}},submitButtonText:{visibility:"hidden"},preloader:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:1}})))},88210:(e,t,s)=>{"use strict";s.d(t,{k:()=>m});var r=s(52322),i=s(2784),a=s(27215),n=s(19561),o=s(68879),c=s(98584),d=s(60786),l=s(34423);var u=s(85843);class p extends i.PureComponent{constructor(){super(...arguments),this.state={isMounted:"undefined"==typeof window||window.isServerRendered}}render(){const{s:e}=this.props,t=this.state.isMounted?this.getPercentage():0;return(0,r.jsx)("div",Object.assign({className:(0,n.iv)(e.wrapper)},u.dx.n("wat-progress-bar"),u.dx.v(t),{children:(0,r.jsx)("div",{className:(0,n.iv)(e.bar,100===t&&e._fulfilled),style:{width:`${t}%`}})}))}componentDidMount(){this.state.isMounted||(this.timeoutId=window.setTimeout((()=>this.setState({isMounted:!0})),0))}componentWillUnmount(){this.timeoutId&&clearTimeout(this.timeoutId)}getPercentage(){const{metas:e}=this.props;return 100*e.reduce(((e,t)=>t?"loading"===t.status?e+.67:e+1:e+.33),0)}}const g={wrapper:{position:"absolute",zIndex:1,top:0,left:0,right:0,height:"3px"},bar:{height:"100%",width:"0%",transition:"width .5s ease-out, opacity .5s ease-in .5s",background:c.O.yellow_ffb81c},_fulfilled:{opacity:0}},m=(0,a.$j)((()=>{const e=(0,d.P1)([({state:e,props:t})=>(0,l.m)({state:e,statusId:t.statusIds||""})],(e=>({metas:e?[e.meta]:[]})));return(t,s)=>e({state:t,props:s})}))((0,o.D2)(g)(p))},27796:(e,t,s)=>{"use strict";s.d(t,{H:()=>x});var r=s(52322),i=s(2784),a=s(1950),n=s(4125),o=s(82584),c=s(45219);var d=s(86740),l=s(32712),u=s(26287),p=s(65649),g=s(4135),m=s(354),h=s(36804);var f=s(19697),v=s(49819),b=s(43270);class y extends i.PureComponent{constructor(){super(...arguments),this.renderIcon=()=>{const{lang:e}=this.props.config;return(0,r.jsx)("img",{src:this.props.icon_url,alt:"ru"===e?"Иконка рубрики":void 0})},this.onClick=e=>{const{item:t,onClick:s}=this.props;"pseudorubric"===t.type&&(0,v.t)(t.action.type)||e.preventDefault(),this.props.bssOnRubricClick(),s(t,e)}}render(){const{bssRef:e,title:t,type:s,seoTitle:i,href:a}=this.props;return(0,r.jsx)(f.M,{bssRef:e,title:t,href:a,dataT:s,seoTitle:i,onClick:this.onClick,icon:this.renderIcon})}}y.displayName=(0,n.I)("src/shared/containers/rubrics/components/rubricItem");const x=(0,d.z)(((e,t)=>{const{item:s,position:r,where:i}=e,a=(0,u.yH)(t),n=(0,p.O)(t);switch(s.type){case"metarubric":return{uiElement:{name:"metarubricIcon",ownerName:"iconList",position:r,frameUuid:e.ownerFrameId},payload:{icon:{entity:a?{id:s.id,type:"metarubric"}:void 0,where:i,tag:s.tag},placeItem:"Card"===i?(0,h.s)({state:t,entityFrameId:e.ownerFrameId}):void 0}};case"pseudorubric":return{uiElement:{name:"commercialIcon",ownerName:"iconList",position:r,frameUuid:e.ownerFrameId},payload:{icon:{entity:{id:s.id,type:"pseudorubric",segmentInfo:(0,g.U)({region_id:s.region_id||a,locale:n})},adsHighlight:!0,tag:s.tag||"",org:s.owner_id,where:i,adsPosition:`${r}`},callToAction:{actionType:s.action.type,value:s.action.value}}};case"rubric":return{uiElement:{name:"rubricIcon",ownerName:"iconList",position:r,frameUuid:e.ownerFrameId},payload:{icon:{entity:{id:s.id,type:"rubric"},tag:s.tag,org:void 0,adsHighlight:void 0,where:i},placeItem:"Card"===i?(0,h.s)({state:t,entityFrameId:e.ownerFrameId}):void 0}};default:return}}),((e,t)=>({bssOnRubricClick(){const{item:s,position:r,where:i}=t;switch(s.type){case"metarubric":return e((0,m.gF)({projectId:u.yH,placeItem:e=>(0,h.s)({state:e,entityFrameId:t.ownerFrameId})},(({projectId:e,placeItem:a})=>{const n={uiElement:{name:"metarubricIcon",ownerName:"iconList",position:r,frameUuid:t.ownerFrameId},payload:{searchRequest:{text:s.search_query},icon:{entity:e?{id:s.id,type:"metarubric"}:void 0,where:i,tag:s.tag,org:void 0,adsHighlight:void 0},placeItem:"Card"===i?a:void 0},action:"tap"};return(0,l.zs)(n)})));case"pseudorubric":return e((0,m.gF)({locale:p.O,projectId:u.yH,placeItem:e=>(0,h.s)({state:e,entityFrameId:t.ownerFrameId})},(({locale:e,projectId:a,placeItem:n})=>{const o={uiElement:{name:"commercialIcon",ownerName:"iconList",position:r,frameUuid:t.ownerFrameId},payload:{callToAction:{actionType:s.action.type,value:s.action.value},icon:{entity:{id:s.id,type:"pseudorubric",segmentInfo:(0,g.U)({region_id:s.region_id||a,locale:e})},adsHighlight:!0,tag:s.tag||"",org:s.owner_id,where:i,adsPosition:`${r}`},placeItem:"Card"===i?n:void 0},action:"tap"};return(0,l.zs)(o)})));case"rubric":return e((0,m.gF)({placeItem:e=>(0,h.s)({state:e,entityFrameId:t.ownerFrameId})},(({placeItem:e})=>{const a={uiElement:{name:"rubricIcon",ownerName:"iconList",position:r,frameUuid:t.ownerFrameId},payload:{searchRequest:{entities:[{id:s.id,type:s.type}]},icon:{entity:{id:s.id,type:"rubric"},tag:s.tag,org:void 0,adsHighlight:void 0,where:i},placeItem:"Card"===i?e:void 0},action:"tap"};return(0,l.zs)(a)})));default:return}}})),{forceSendShowIfPropsChanged:["dashboardId"]})((0,o.C)((({item:e})=>({title:e.name||e.caption,icon_url:e.icon_url?(0,c.J)(e.icon_url):void 0,type:e.type,seoTitle:e.seoTitle})))((0,a.$)()((0,b.R)()(y))))},63704:(e,t,s)=>{"use strict";s.d(t,{J:()=>l,R:()=>u});var r=s(67753),i=s(89594),a=s(64693),n=s(52981),o=s(354),c=s(66204),d=s(20793);function l(e){return(0,o.zh)((t=>(0,r.vP)((0,c.xU)({suggesterKey:"primary",query:e}),(0,i.gB)({query:e,viewpoint:t}))))}function u(e){switch(e.action.type){case"open_card":return(0,r.vP)((0,c.xU)({suggesterKey:"primary",query:void 0}),(0,n.xo)({id:e.action.value,searchId:(0,a.by)(),hash:void 0,type:"branch"}));case"search_by_org":return(0,r.vP)((0,c.xU)({suggesterKey:"primary",query:void 0}),(0,i.QR)({orgId:e.action.value}));case"search_buy_here":return(0,d.J)({adsIds:e.action.value});default:return(0,o.zh)((t=>(0,r.vP)((0,c.xU)({suggesterKey:"primary",query:e.action.value}),(0,i.gB)({query:e.action.value,viewpoint:t}))))}}},57190:(e,t,s)=>{"use strict";s.d(t,{S:()=>I});var r=s(52322),i=s(2784),a=s(18586),n=s(60786),o=s(62784),c=s(51604);function d(e){return(0,c.Gp)(e.appContext.weak.dashboard.transitions.rubricsId)}const l=(0,n.P1)([({state:e})=>d(e),({state:e})=>e.config.isMobileDevice,({state:e})=>function(e){const t=d(e);return(0,o.l)({dashboardId:t,state:e})}(e)],((e,t,s)=>({dashboardId:e,isMobileDevice:t,dashboard:s}))),u=(0,a.X1)(((e,t)=>l({state:e,props:t})));var p=s(66204),g=s(63704),m=s(7262);const h=(0,a.Z3)((e=>({hideSuggester:()=>e((0,p.p_)({suggesterKey:"primary",show:!1})),onMetarubricClick:t=>e((0,g.J)(t)),onPseudorubricClick:t=>e((0,g.R)(t)),fillDashboardRubricatorState(){e((0,m.HT)())},resetRubricatorId(){e((0,m.HT)(!0))}})));var f=s(4125),v=s(9023),b=s(82584),y=s(17325);var x=s(27796),j=s(85843),w=s(86740);var _=s(24745);class C extends i.PureComponent{constructor(){super(...arguments),this.handleRubricClick=e=>{const{hideSuggester:t,onMetarubricClick:s,onPseudorubricClick:r}=this.props;switch(t(),e.type){case"metarubric":s(e.search_query);break;case"pseudorubric":r(e)}}}componentDidMount(){this.props.fillDashboardRubricatorState()}componentWillUnmount(){this.props.resetRubricatorId()}render(){const{items:e,bssRef:t,dashboardId:s,where:i,status:a}=this.props;return"loading"===a?(0,r.jsx)(v.C,{}):"error"===a?null:(0,r.jsxs)("div",Object.assign({ref:t},j.dx.n("wat-rubrics"),{children:[e&&e.map(((e,t)=>(0,r.jsx)(_.P,Object.assign({rubric:e,isDashboardMode:!0},{children:a=>(0,r.jsx)(x.H,{where:i,href:a,position:t+1,item:e,onClick:this.handleRubricClick,dashboardId:s})}),t))),this.props.moreButtons]}))}}C.displayName=(0,f.I)("src/shared/containers/rubrics");const I=(0,a.$j)(u,h)((0,b.C)((({dashboard:e,moreButtons:t,isMobileDevice:s})=>{const r=(0,y.$)(e);if(r)return{status:r};const i=(0,y.gk)({dashboard:e,moreButtons:t,isMobileDevice:s});return i?{items:i}:void 0}))((0,w.z)((e=>{const{items:t,ownerFrameId:s,ownerName:r}=e;if(t)return{uiElement:{name:"iconList",ownerName:r,frameUuid:s},payload:{iconList:{size:t.length}}}}),void 0,{forceSendShowIfPropsChanged:["dashboardId"]})(C)))},17325:(e,t,s)=>{"use strict";s.d(t,{$:()=>o,K4:()=>d,gk:()=>c});var r=s(45219),i=s(74589),a=s(27373),n=s(34680);function o(e){return(0,i.V)(e)?"error":(0,a.hg)(e)||(0,n.X)(e)?"loading":void 0}function c(e){const{dashboard:t,moreButtons:s,isMobileDevice:r}=e,i=null==t?void 0:t.data,a=s?s.length:0,n=i&&function(e,t,s){var r,i,a,n;const o=4,c="pseudorubric"===(null===(r=e[o-1])||void 0===r?void 0:r.type)&&"pseudorubric"===(null===(i=e[2*o-1])||void 0===i?void 0:i.type),d="pseudorubric"!==(null===(a=e[o-1])||void 0===a?void 0:a.type)&&"pseudorubric"===(null===(n=e[2*o-1])||void 0===n?void 0:n.type),g=e.length+t,m=l({totalLen:g,ITEMS_IN_A_ROW:o,hasBothPseudorubric:c,hasOnlySecondPseudorubric:d,isMobileDevice:s}),h=u({totalLen:g,maxItemCount:m*o,hasOnlySecondPseudorubric:d,isMobileDevice:s,ITEMS_IN_A_ROW:o});return p(e,g,h,o)}(i,a,r);return n?n.map((e=>d(e))):void 0}function d(e){return Object.assign(Object.assign({},e),{icon_url:e.icon_url?(0,r.J)(e.icon_url):void 0,seoTitle:e.name||e.caption})}const l=({totalLen:e,ITEMS_IN_A_ROW:t,hasBothPseudorubric:s,hasOnlySecondPseudorubric:r,isMobileDevice:i})=>e<2*t?1:i||!s&&!r?2:3,u=({totalLen:e,maxItemCount:t,hasOnlySecondPseudorubric:s,isMobileDevice:r,ITEMS_IN_A_ROW:i})=>e>t?e-t:s&&!r?0:e%i,p=(e,t,s,r)=>t<=r||!s?e:e.slice(0,e.length-s)},36566:(e,t,s)=>{"use strict";s.d(t,{E:()=>c});var r=s(52322),i=s(90198),a=s(81187),n=s(11447),o=s(64929);const c=(0,i.B)()({__dirname:"src/shared/containers/seoLink/containers",selectors:({entity:e})=>({cityAlias:t=>{var s,r;return(0,o.i)(e)||(null===(r=null===(s=(0,n.D4)({state:t,id:e.region_id}))||void 0===s?void 0:s.data)||void 0===r?void 0:r.uri_code)}})})((({entity:e,tab:t,cityAlias:s,children:i})=>(0,r.jsx)(a.E,Object.assign({type:e.type,id:e.id,tab:t,cityAlias:s},{children:i}))))},24745:(e,t,s)=>{"use strict";s.d(t,{P:()=>o});var r=s(52322),i=s(90198),a=s(81187),n=s(79550);const o=(0,i.B)()({__dirname:"src/shared/containers/seoLink/containers",formatter:({rubric:e,isDashboardMode:t})=>({urlParams:c(e,{isDashboardMode:t})})})((({urlParams:e,children:t})=>(0,r.jsx)(a.E,Object.assign({},e,{children:t}))));function c(e,t={}){switch(e.type){case"pseudorubric":switch(e.action.type){case"open_card":return{type:"branch",id:e.action.value};case"search_by_query":return{type:"catalogSearch",query:e.name||e.caption};case"search_by_org":return{type:"organizationBranches",id:e.action.value};default:return{type:"custom",url:(0,n.Y)(e.action)||""}}case"metarubric":return t.isDashboardMode?{type:"catalogSearch",query:e.search_query||e.name||e.caption}:{type:"subrubrics",id:e.id};case"rubric":return{type:"catalogSearch",rubricId:e.id,query:e.seo_name||e.name||e.caption}}}},81187:(e,t,s)=>{"use strict";s.d(t,{E:()=>n});var r=s(90198),i=s(4311),a=s(11447);const n=(0,r.B)()({__dirname:"src/shared/containers/seoLink",selectors:{selectedCityAlias:a.Rg,lang:e=>e.appContext.weak.isLangRepresentedInOriginalRequest?e.appContext.lang:void 0},formatter:e=>({href:(0,i.B)(Object.assign({cityAlias:"cityAlias"in e?e.cityAlias:e.selectedCityAlias},e))})})((({children:e,href:t})=>e(t)))},88765:(e,t,s)=>{"use strict";s.d(t,{w:()=>u});var r=s(52322),i=s(2784),a=s(4125),n=s(33511),o=s(10484),c=s(85843),d=s(27215);const l=e=>{const{children:t,className:s,frameId:i,dataN:a=""}=e,n=(0,d.v9)((e=>e.appContext.frames)),l=(0,o.yP)(n,i)?"h1":"div";return(0,r.jsx)(l,Object.assign({className:s},a?c.dx.n(a):{},{children:t}))};class u extends i.PureComponent{render(){return(0,r.jsx)(n.j.Consumer,{children:({frameId:e})=>(0,r.jsx)(l,Object.assign({frameId:e},this.props))})}}u.displayName=(0,a.I)("src/shared/containers/seoTitle")},76540:(e,t,s)=>{"use strict";s.d(t,{L:()=>h});var r=s(52322),i=s(2784),a=s(90198),n=s(4125),o=s(82584),c=s(48236),d=s(23215),l=s(70021),u=s(26287),p=s(36209);const g={onClick:d.r};class m extends i.PureComponent{constructor(){super(...arguments),this.onClick=()=>{const{onClick:e,type:t,entityId:s,frameId:r,searchId:i}=this.props;return e({subtype:t,entityId:s,frameId:r,searchId:i})}}render(){const{value:e,dataN:t}=this.props;return(0,r.jsx)(p.w,{children:(0,r.jsx)("div",{children:(0,r.jsx)(c.z,Object.assign({wide:!0,dataN:t,onClick:this.onClick},{children:e}))})})}}m.displayName=(0,n.I)("src/shared/containers/typedFeedbackEntry");const h=(0,a.G)({handlers:g,selectors:()=>{const e=(0,l.T3)();return({entityId:t})=>({entity:s=>t?e({state:s,entityId:t}).data:void 0,regionId:u.fq})}})((0,o.C)((({type:e,entity:t},{tp:s,config:r})=>{if(!t||"0"!==t.region_id||"RU"===r.defaultCountryCode)return{value:"addOrg"===e?s._t("Добавить организацию"):s._t("Нашли ошибку в данных?"),dataN:"addOrg"===e?"wat-add-org-button":"wat-upd-obj-button"}}))(m))},43347:(e,t,s)=>{"use strict";s.d(t,{a:()=>w});var r=s(52322),i=s(2784),a=s(19561),n=s(68879),o=s(82584),c=s(32002),d=s(18586),l=s(55206),u=s(55476),p=s(24606),g=s(85843),m=s(94137),h=s(27516),f=s(1950),v=s(98584);class b extends i.PureComponent{constructor(){super(...arguments),this.renderInitials=()=>this.props.initials}render(){const{s:e,name:t,user:s,avatar:i,i18n:n,withAuth:o=!1}=this.props;return(0,r.jsxs)(r.Fragment,{children:[o&&(0,r.jsxs)("div",Object.assign({className:(0,a.iv)(e.row),onClick:this.props.onLogin},g.dx.n("wat-auth-popup-control"),{children:[(0,r.jsx)("div",Object.assign({className:(0,a.iv)(e.avatar,e._auth)},{children:(0,r.jsx)(m.u,{})})),(0,r.jsx)("div",Object.assign({className:(0,a.iv)(e.entry)},{children:n.tp._t("Войти")}))]})),!o&&s&&(0,r.jsxs)("div",Object.assign({className:(0,a.iv)(e.row)},g.dx.n("wat-user-info"),{children:[(0,r.jsx)("div",Object.assign({className:(0,a.iv)(e.avatar)},{children:(0,r.jsx)(l.q,{initials:this.renderInitials,src:i})})),(0,r.jsx)("div",Object.assign({className:(0,a.iv)(e.name)},{children:t}))]}))]})}}const y="40px",x={row:{display:"flex",alignItems:"center"},avatar:{background:v.O.white,width:y,height:y,borderRadius:"50%",verticalAlign:"top",marginEnd:8,overflow:"hidden",flexShrink:0,boxShadow:c.q.logo},_auth:{display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},entry:{color:v.O.blue_0072ce,cursor:"pointer"},name:{maxHeight:32,maxWidth:200,overflow:"hidden",textOverflow:"ellipsis"}},j=(0,d.Z3)((e=>({onLogin(){e((0,h.mk)())}}))),w=(0,d.$j)((e=>{const t=(0,u.bG)(e);return{user:t&&t.data}}),j)((0,o.C)(((e,{tp:t})=>{const{withAuth:s,user:r}=e;if(!r)return{withAuth:s};const i=r.avatar_preview_tpl?r.avatar_preview_tpl.replace("{width}","80").replace("{height}","80"):r.avatar;return{withAuth:!1,name:r.display_name||r.name,avatar:i,initials:(0,p.C)(r,t)}}))((0,n.D2)(x)((0,f.$)()(b))))},33354:(e,t,s)=>{"use strict";s.d(t,{N:()=>p});var r=s(2784),i=s(18586);const a=(0,s(60786).P1)([({state:e})=>e.appContext.pitch,({state:e})=>e.appContext.rotation],((e,t)=>({pitch:e,rotation:t}))),n=(0,i.X1)(((e,t)=>a({state:e,props:t})));var o=s(23150);const c=(0,i.Z3)((e=>({subscribeOnMapMove(t,s){e((0,o.Oo)({id:t,type:"map:move",handler:s}))},removeListeners(t){e((0,o.xg)({id:t}))}})));var d=s(4125),l=s(64693);class u extends r.Component{constructor(){super(...arguments),this.state={rotation:this.props.rotation,pitch:this.props.pitch,isInteracting:!1},this.listenersId=(0,l.by)()}componentDidMount(){this.props.subscribeOnMapMove(this.listenersId,(({rotation:e,pitch:t})=>{e===this.state.rotation&&t===this.state.pitch||this.setState({rotation:e,pitch:t})}))}componentWillUnmount(){this.props.removeListeners(this.listenersId)}render(){return this.props.children({rotation:this.state.rotation,pitch:this.state.pitch,isInteracting:this.state.isInteracting})}}u.displayName=(0,d.I)("src/shared/containers/whereami");const p=(0,i.$j)(n,c)(u)},46461:(e,t,s)=>{"use strict";s.d(t,{M:()=>r});const r=s(2784).createContext({showEventOrdinal:void 0})},54733:(e,t,s)=>{"use strict";s.d(t,{M:()=>r});const r=s(2784).createContext(void 0)},19111:(e,t,s)=>{"use strict";s.d(t,{z:()=>a});var r=s(96094),i=s(72559);function a({distance:e,isShortcut:t,tp:s,rtl:a}){const n=Math.max(10,function(e){if(e<100)return(0,i.s)(e,10);if(e<500)return(0,i.s)(e,50);if(e<1e3)return(0,i.s)(e,100);if(e<3e3)return(0,i.s)(e,500);return(0,i.s)(e,1e3)}(e));return n>=1e3?function(e,t,s,i){const a=e/1e3,n=i?a:(0,r.D)(a);if(t)return s._t("%1&nbsp;км",[n]);return s._nt(["%1&nbsp;километр","%1&nbsp;километра","%1&nbsp;километров"],a,[n])}(n,!!t,s,a):function(e,t,s){if(t)return s._t("%1&nbsp;м",[e]);return s._nt(["%%&nbsp;метр","%%&nbsp;метра","%%&nbsp;метров"],e)}(n,!!t,s)}},90793:(e,t,s)=>{"use strict";s.d(t,{Tg:()=>l,O5:()=>g,Ky:()=>u,hd:()=>p,Wx:()=>v});var r=s(64693),i=s(35022),a=s(57526);const n=e=>"branch"===e.type&&(0,a.O)(e);var o=s(94958),c=s(6581);const d=[2,6,80];function l(e,t){return p(e,{order:(0,c.Q)(t.config),separator:t.config.addressSeparator,alwaysIncludeDivisionInDrilldown:t.config.alwaysIncludeDivisionInDrilldown,alwaysAddNameExtension:t.alwaysAddNameExtension,useSingleComponentForBranch:t.useSingleComponentForBranch,isLandmarkMovedToName:t.isLandmarkMovedToName}).map(((e,t)=>0===t?(0,r.Ez)(e.value):e.value))}function u(e,t,s){var a;const n=(0,i.so)(e,t,s.alwaysAddNameExtension);if("building"===e.type){const t=(null===(a=e.address)||void 0===a?void 0:a.landmark_name)?(0,r.Ez)(e.address.landmark_name):void 0,i=b({name:n,landmark:t,purposeCode:e.purpose_code});if(i&&t){return{name:[t],address:l(e,Object.assign(Object.assign({},s),{isLandmarkMovedToName:i}))}}}const o=l(e,s);return{name:n?[n]:o,address:n?o:void 0}}function p(e,t){return g(e.type,f(e)||{},Object.assign(Object.assign({},t),{useBuildingNameForBranch:!n(e)}),h(e))}function g(e,t,s,i){const{order:a,separator:n,useBuildingNameForBranch:c,useSingleComponentForBranch:d,isLandmarkMovedToName:l}=s,u=t.landmark_name?m("landmark",(0,r.Ez)(t.landmark_name)):void 0,p=(t.components||[]).map(((e,t)=>function(e,t,s,i){const a=function(e,t,s,i){if(!e)return"";if("street_number"===e.type){const a=i?(0,r.Ez)(e.street):e.street,n="straight"===s?[a,e.number]:[e.number,a];return a&&e.number?n.join(t):n.join("")}if("number"===e.type&&e.number)return e.number;if("location"===e.type&&e.comment)return e.comment;return""}(e,t,s,i);return a&&e?{value:a,type:e.type}:void 0}(e,n+o.E8,a,0===t&&s.capitalizeFirst)));switch(e){case"branch":return d?(0,r.oA)([c&&m("building_name",t.building_name),u,p[0]]):(0,r.oA)([c&&m("building_name",t.building_name),u,...p,m("comment",i)]);case"building":return(0,r.oA)(l?p:[u,...p]);default:return(0,r.oA)([u,...p])}}function m(e,t){return t?{type:e,value:t}:void 0}const h=e=>"branch"===e.type&&"address_comment"in e?e.address_comment:void 0,f=e=>"address"in e?e.address:void 0,v=e=>{const t=f(e);return t&&t.components&&t.components.find((e=>"street_number"===e.type))},b=({name:e,landmark:t,purposeCode:s})=>!e&&!!t&&!!s&&d.includes(s)},42395:(e,t,s)=>{"use strict";s.d(t,{t:()=>c,I:()=>d});var r=s(79550),i=s(49819);var a=s(43605),n=s(86023),o=s(4311);function c(e){var t,s,r,i;const a=(null===(s=null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.buy_here_owner)||void 0===s?void 0:s[0])||(null===(i=null===(r=null==e?void 0:e.options)||void 0===r?void 0:r.fmcg_owner)||void 0===i?void 0:i[0]);if(a)return{ownedRubricId:"owned_rubric_id"in a?a.owned_rubric_id:a.ads_id,controlTitle:a.control_title}}function d(e,t,s,c){const d=e?(0,a.k)(e,t):void 0;if(d)return{type:d.type,value:d.value,name:(0,n.M3)(d.caption||d.name||s),href:(0,r.Y)(d),isExternal:(0,i.t)(d.type)};if(!c)return;const l={name:s,type:"open_card",value:c};return{type:l.type,value:l.value,name:s,href:(0,o.B)({id:c,type:"branch",cityAlias:void 0}),isExternal:!1}}},53664:(e,t,s)=>{"use strict";s.d(t,{DH:()=>u,dF:()=>d,W4:()=>l,_P:()=>p,vv:()=>g});var r=s(92632),i=s(98584),a=s(89779),n=s(5603),o=s(42693);function c(e){const t=e&&e.options&&e.options.color;if(t)return t;const s=e&&e.options&&e.options.logo&&e.options.logo.bg_color;return s||void 0}function d(e,t){return(0,o.t)(e)?i.O.gray_b2b2b2:"route"===e.type?function(e){if(e.color)return e.color;return(0,r.s)(e.subtype)}(e):(0,n.t)(e)?function(e,t){return e.color||e.routes&&e.routes[0].color||t.colors.green_299400_brand}(e,t):"branch"===e.type&&c(e.ads)||t.colors.green_299400_brand}function l(e){if("branch"!==e.type)return;const t=e.ads&&e.ads.options&&e.ads.options.images;return t&&t.length?t[0].url:void 0}function u(e){return!("branch"!==e.type||!c(e.ads))}function p(e){return"#262626"===(0,a.x)(e)?"dark":"light"}function g(e,t){return t?i.O.white:(0,a.x)(e)}},16391:(e,t,s)=>{"use strict";function r(e,t){if(!("adm_div"in e)||!e.adm_div)return"";const{config:s,shortenForBranches:r,includeRegion:i}=t,o=a(e,{shortenForBranches:r,separator:s.addressSeparator,alwaysIncludeDivision:s.alwaysIncludeDivisionInDrilldown,includeRegion:i});return n(e.adm_div,o)}function i(e,t){if(!("adm_div"in e)||!e.adm_div)return[];const s=a(e,{separator:t.separator,alwaysIncludeDivision:t.alwaysIncludeDivision,shortenForBranches:t.shortenForBranches});return o(e.adm_div,s).map((e=>e.name))}function a(e,t){const{alwaysIncludeDivision:s=!1,shortenForBranches:r=!1,includeRegion:i=!0,separator:a}=t;return{includeDivision:"adm_div"===e.type||s,includeRegion:i,excludeLivingAreaAndDistrict:"branch"===e.type&&r,separator:a+" ",entityFlags:"flags"in e?e.flags:void 0}}function n(e,t){return function(e,t){return e.map((e=>e.name)).filter(((e,t,s)=>s.indexOf(e)===t)).join(t)}(o(e,t),t.separator)}function o(e,t){const s=function(e,t){const s=e.find((e=>"city"===e.type));return e.filter((e=>{var r,i;return("region"!==e.type||!((null===(r=null==s?void 0:s.flags)||void 0===r?void 0:r.is_region_center)||(null==t?void 0:t.is_region_center)||(null==t?void 0:t.is_default)))&&("district_area"!==e.type||!((null===(i=null==s?void 0:s.flags)||void 0===i?void 0:i.is_district_area_center)||(null==t?void 0:t.is_district_area_center)||(null==t?void 0:t.is_default)))}))}(d(e,c),t.entityFlags),r=t.includeDivision?s:l(s,["division"]),i=t.excludeLivingAreaAndDistrict?l(r,["living_area","district"]):r,a=t.includeRegion?i:function(e){if(e.length>1)return e.filter((e=>"region"!==e.type));return e}(i);return a}s.d(t,{MS:()=>n,W8:()=>r,hi:()=>i,vO:()=>d});const c=["region","district_area","city","settlement","division","district","living_area"];function d(e,t=c){return t.reduce(((t,s)=>{const r=e.find((e=>e.type===s));return r&&t.push(r),t}),[])}function l(e,t){return e.filter((e=>-1===t.indexOf(e.type)))}c.reverse()},37123:(e,t,s)=>{"use strict";s.d(t,{t:()=>i});var r=s(64693);function i(e){if("address"in e&&e.address)return(0,r.oA)([e.address.postcode,e.address.building_code]).join("/")}},44878:(e,t,s)=>{"use strict";s.d(t,{zP:()=>d,_Y:()=>m,w:()=>p,U8:()=>g,BZ:()=>l,uN:()=>u});var r=s(97264),i=s(78837);const a=e=>e.split("_").pop();var n=s(98584),o=s(53664);const c="14";function d(e){if(!e)return;if((0,r.Z)(e))return c;if((0,i.I)(e))return a(e);const t=e.match(/\d.*$/),s=t&&t[0];return s||void 0}function l(e){return{background:n.O.white,color:e,borderColor:e}}function u(e){return{color:(0,o.vv)(e,!1),background:e,borderColor:e}}function p(e){return"links"in e&&e.links&&e.links.entrances?e.links.entrances:void 0}function g(e){return"links"in e&&e.links&&e.links.parking?e.links.parking:void 0}function m(e){return"links"in e&&e.links?e.links.landmarks:void 0}},35022:(e,t,s)=>{"use strict";s.d(t,{KY:()=>a,Y9:()=>o,so:()=>n});var r=s(90793),i=s(96843);function a(e,t,s){const i=n(e,t);return i?[i]:"building"===e.type?(0,r.Tg)(e,{config:s,useSingleComponentForBranch:!1}):[t._t("Место")]}function n(e,t,s){switch(e.type){case"branch":return(0,i.Mg)(e,s);case"route":return(0,i.F5)(e,t);case"station":case"station_platform":case"station_entrance":return e.name;default:return(0,i.t1)(e,t)}}function o(e){return e.name_ex.primary}},39013:(e,t,s)=>{"use strict";s.d(t,{O1:()=>o,Vi:()=>a,g1:()=>c,li:()=>n});var r=s(58314),i=s(47098);function a(e,t,s,a,n){const o=(0,r.lR)(e,(0,r.Nk)(s));return(0,i.cA)(o,t,a,n)}function n(e,t,s,r){return(0,i.pf)(e,t,s,r)}function o(e,t,s,a){const n=(0,r.Nk)(t),o=(0,r.lR)(e,n),c=(0,r.Ci)(e,n);return(0,i.v4)(o,c,s,a)}function c(e,t,s,a,n){const o=(0,r.r_)(e,(0,r.Nk)(t));return(0,i.Cp)(o,s,n,a)}},47098:(e,t,s)=>{"use strict";s.d(t,{Cp:()=>g,HL:()=>m,cA:()=>l,pf:()=>p,v4:()=>u});var r=s(58314),i=s(42707),a=s(23649),n=s(86023),o=s(10722);const c=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function l(e,t,s,r){if(!e)return"";const c=r?i.A0:i.CO;switch(e.type){case a.i8.aroundTheClock:return t?void 0:s._t("Круглосуточно");case a.i8.opened:return t?void 0:s._t("Открыто");case a.i8.willCloseInTime:return s._t("Закроется через %1",[f(e.minutesTo,s)]);case a.i8.willCloseInMinute:return s._t("Закроется через %1",[f(1,s)]);case a.i8.willCloseInTimeForBreak:return s._t("Через %1 закрывается на %2",[f(e.minutesTo,s),h(e.breakType,s)]);case a.i8.willCloseInMinuteForBreak:return s._t("Через %1 закрывается на %2",[f(1,s),h(e.breakType,s)]);case a.i8.willOpenInMinuteFromBreak:return(0,n.Ez)(s._t("%1. Откроется через %2",[h(e.breakType,s),f(1,s)]));case a.i8.willOpenInTimeFromBreak:return(0,n.Ez)(s._t("%1. Откроется через %2",[h(e.breakType,s),f(e.minutesTo,s)]));case a.i8.willOpenAtTimeFromBreak:return(0,n.Ez)(s._t("%1. Откроется в %2",[h(e.breakType,s),(0,o.sx)(e.time,c)]));case a.i8.willOpenAtTime:return s._t("Закрыто до %1",[(0,o.sx)(e.time,c)]);case a.i8.willOpenAtDayAtTime:case a.i8.willOpenTomorrowAtTime:case a.i8.willOpenOvermorrowAtTime:return s._t("Закрыто");case a.i8.willOpenInTime:return s._t("Откроется через %1",[f(e.minutesTo,s)]);case a.i8.willOpenInMinute:return s._t("Откроется через 1 минуту");default:return""}}function u(e,t,s,r){if(!e)return"";const c=r?i.A0:i.CO;switch(e.type){case a.i8.aroundTheClock:return"";case a.i8.opened:return s._t("Открыто");case a.i8.willCloseInTimeForBreak:return s._t("Через %1 закрывается на %2",[f(e.minutesTo,s),h(e.breakType,s)]);case a.i8.willCloseInMinuteForBreak:return s._t("Через минуту закрывается на %1",[h(e.breakType,s)]);case a.i8.willOpenAtTimeFromBreak:return(0,n.Ez)(s._t("%1, откроется в %2",[h(e.breakType,s),(0,o.sx)(e.time,c)]));case a.i8.willOpenInTimeFromBreak:return(0,n.Ez)(s._t("%1, откроется через %2",[h(e.breakType,s),f(e.minutesTo,s)]));case a.i8.willOpenInMinuteFromBreak:return(0,n.Ez)(s._t("%1, откроется через минуту",[h(e.breakType,s)]));case a.i8.willCloseInTime:return s._t("Закроется через %1",[f(e.minutesTo,s)]);case a.i8.willCloseInMinute:return s._t("Закроется через минуту");case a.i8.willOpenInTime:return s._t("Закрыто. Откроется через %1",[f(e.minutesTo,s)]);case a.i8.willOpenInMinute:return s._t("Откроется через минуту");case a.i8.willOpenAtTime:return s._t("Закрыто. Откроется в %1",[(0,o.sx)(e.time,c)]);case a.i8.willOpenTomorrowAtTime:return t?s._t("Откроется завтра в %1",[(0,o.sx)(e.time,c)]):s._t("Закрыто. Откроется завтра в %1",[(0,o.sx)(e.time,c)]);case a.i8.willOpenAtDayAtTime:case a.i8.willOpenOvermorrowAtTime:return t?s._t("Откроется %1 в %2",[v(e.day,s),(0,o.sx)(e.time,c)]):s._t("Закрыто. Откроется %1 в %2",[v(e.day,s),(0,o.sx)(e.time,c)]);default:return""}}function p(e,t,s,n=!1){if((0,r.yx)(e))return s._t("Круглосуточно");if((0,r.Ci)(e,(0,r.Nk)(t)))return s._t("Выходной");const c=(0,r.ku)(e),d=(0,r.Nk)(t),l=e[d.day],{from:u,to:p}=(0,r.DL)(l&&l.working_hours||[])[0],g=(0,r.$d)(e,d)[0],m=g?(0,r.rZ)(g):void 0,f=h(m,s),v=(0,o.sx)(u,n?i.A0:i.CO),b=(0,o.sx)(p,n?i.A0:i.CO),y=g&&(0,o.sx)(g.from,n?i.A0:i.CO),x=g&&(0,o.sx)(g.to,n?i.A0:i.CO);if(c)switch(m){case a.CT.lunch:case a.CT.rest:return s._t("Ежедневно&nbsp;с&nbsp;%1&nbsp;до&nbsp;%2, %3&nbsp;c&nbsp;%4&nbsp;до&nbsp;%5",[v,b,f,y,x]);default:return s._t("Ежедневно с %1 до %2",[v,b])}switch(m){case a.CT.lunch:case a.CT.rest:return s._t("Сегодня&nbsp;с&nbsp;%1&nbsp;до&nbsp;%2, %3&nbsp;c&nbsp;%4&nbsp;до&nbsp;%5",[v,b,f,y,x]);default:return s._t("Сегодня c %1 до %2",[v,b])}}function g(e,t,s,r){return(s?c:d).map((s=>function(e,t,s){return Object.assign(Object.assign({},e),{timeIntervals:e.timeIntervals.map((({to:e,from:t})=>(0,o.Eq)(t,e,s))),breaks:e.breaks&&e.breaks.map((({to:e,from:t})=>(0,o.Eq)(t,e,s))),dayName:m(e.dayName,t),breakTypes:e.breakTypes&&e.breakTypes.map((e=>h(e,t)))})}(e.find((e=>e.dayName===s))||e[0],t,r)))}function m(e,t){switch(e){case"Mon":return t._t("Пн");case"Tue":return t._t("Вт");case"Wed":return t._t("Ср");case"Thu":return t._t("Чт");case"Fri":return t._t("Пт");case"Sat":return t._t("Сб");case"Sun":return t._t("Вс");default:return""}}function h(e,t){switch(e){case a.CT.lunch:return t._t("обед");case a.CT.rest:default:return t._t("перерыв")}}function f(e=0,t){const s=Math.floor(e/60),r=e%60,i=t._nt(["%% минуту","%% минуты","%% минут"],r);if(!s)return i;const a=t._nt(["%% час","%% часа","%% часов"],s);return t._pt("%1 время в часах %2 время в минутах","%1 %2",[a,i])}function v(e,t){switch(e){case"Mon":return t._t("в понедельник");case"Tue":return t._t("во вторник");case"Wed":return t._t("в среду");case"Thu":return t._t("в четверг");case"Fri":return t._t("в пятницу");case"Sat":return t._t("в субботу");case"Sun":return t._t("в воскресенье");default:return""}}},613:(e,t,s)=>{"use strict";s.d(t,{T:()=>i});var r=s(86023);const i=(e,t)=>e||(t?(0,r.Ez)(t):"")},95710:(e,t,s)=>{"use strict";function r(e,t){if(e)return Number.isNaN(+e)?t._t("Места: %1",[e.toLowerCase()]):t._nt(["%% место","%% места","%% мест"],+e)}s.d(t,{R:()=>r})},96843:(e,t,s)=>{"use strict";function r(e){switch(e.subtype){case"bus":case"trolleybus":case"tram":case"shuttle_bus":return!0;default:return!1}}s.d(t,{hw:()=>r,Jm:()=>a,aR:()=>o,Mg:()=>c,o_:()=>C,PZ:()=>w,s8:()=>S,he:()=>m,Oc:()=>g,t1:()=>p,lu:()=>v,vs:()=>y,F5:()=>x,DO:()=>I});var i=s(86023);function a(e,t){if(!e||!("subtype"in e))return[];if("subtype_specification"in e&&e.subtype_specification)return[e.subtype_specification];const s=e.subtype?"detailed_subtype"in e&&e.detailed_subtype?function(e,t){switch(e){case"microdistrict":return t._t("микрорайон");case"residential_district":return t._t("жилмассив");case"residential_quarter":return t._t("квартал");case"poselok":return t._t("посёлок");case"residential_complex":return t._t("жилой комплекс");case"selo":return t._t("село");case"derevnja":return t._t("деревня");case"cottage_estate":return t._t("коттеджный посёлок");case"urban_settlement":return t._t("посёлок городского типа");case"workers_settlement":return t._t("рабочий посёлок");case"dacha_settlement":return t._t("дачный посёлок");case"resort_settlement":return t._t("курортный посёлок");case"stanitsa":return t._t("станица");case"sloboda":return t._t("слобода");case"khutor":return t._t("хутор");case"aul":return t._t("аул");case"aal":return t._t("аал");case"town":return t._t("военный городок");case"farmstead":return t._t("заимка");case"vyselok":return t._t("выселок");case"municipality":return t._t("муниципальное образование");case"station":return t._t("станция");case"townhouse_settlement":return t._t("посёлок таунхаусов");case"territory":return t._t("территория");case"cooperative":return t._t("кооператив");case"partnership":return t._t("товарищество");case"gorod":return t._t("город");case"mun_okrug":return t._t("муниципальный округ");case"vaht_poselok":return t._t("вахтовый поселок");case"nas_punkt":return t._t("населённый пункт");case"poselenie":return t._t("поселение");default:return}}(e.detailed_subtype,t):function(e,t){switch(e){case"settlement":return t._t("населённый пункт");case"living_area":return t._t("микрорайон");case"city":return t._t("город");case"division":return t._t("округ");case"district":return t._t("район");default:return}}(e.subtype,t):void 0;return s?[(0,i.Ez)(s)]:[]}var n=s(874);function o(e){return e.name_ex.extension?[e.name_ex.extension]:e.rubrics&&e.rubrics.length?[e.rubrics[0].name]:n.LZ}function c(e,t){const{name_ex:s}=e;return t&&s.extension?`${s.primary}, ${s.extension}`:s.primary}var d=s(70428),l=s(64693),u=s(613);function p(e,t){switch(e.type){case"attraction":return(0,u.T)(e.name,e.subtype_name);case"gate":if(!e.barrier)return e.name||"";switch(e.barrier){case"gate":return t._t("Ворота");case"turnstile":return t._t("Турникет");case"wicket":return t._t("Калитка");case"gate_barrier":return t._t("Проход/проезд");default:return""}case"street":case"adm_div":case"crossroad":case"road":return e.name?(0,l.Ez)(e.name):"";case"parking":if(e.name)return e.name;if("taxi_only"===e.access)return t._t("Место стоянки такси");switch(e.purpose){case"bike":return t._t("Велопарковка");case"motorbike":return t._t("Мотопарковка");case"baby_carriage":return t._t("Парковка для детских колясок");default:return t._t("Парковка")}case"kilometer_road_sign":return(0,d.e)(e,t);case"building":return w(e);default:return t._t("Какое-то местечко")}}function g(e,t){switch(e.type){case"adm_div":return a(e,t);case"parking":return v(e,t);case"gate":return m(e,t);case"street":return[t._t("Улица")];case"road":return[t._t("Дорога")];case"crossroad":return[t._t("Перекресток")];default:return[]}}function m(e,t){const s=[h(e.purpose,t)];return e.access&&s.push(function(e,t){switch(e){case"paid":return t._t("платный");case"restricted":return t._t("по пропускам");default:return t._t("общедоступный")}}(e.access,t)),s}function h(e,t){switch(e){case"additional":return t._t("дополнительный");case"service":return t._t("служебный");default:return t._t("центральный")}}var f=s(95710);function v(e,t){const s=[];switch(e.access){case"public":s.push(t._t("Общедоступная"));break;case"handicapped_only":s.push(t._t("Только для инвалидов"));break;case"customers_only":s.push(t._t("Только для клиентов"));break;case"residents_only":s.push(t._t("Только для резидентов"))}if(e.is_paid?s.push(t._t("Платная")):s.push(t._t("Бесплатная")),e.capacity){const r=(0,f.R)(e.capacity.total,t);r&&s.push(r)}return s}var b=s(16065);function y(e,t){switch(e.subtype){case"suburban_train":case"aeroexpress":return[(0,b.F)(e.subtype,t)];default:return function(e){return!r(e)&&"metro"!==e.subtype}(e)?[(0,b.F)(e.subtype,t)]:[]}}function x(e,t){return r(e)?`${(0,b.F)(e.subtype,t)} ${e.name}`:e.name}var j=s(90793);function w(e){var t;if(e.building_name)return e.building_name;if(null===(t=e.group)||void 0===t?void 0:t.some((({type:e})=>"parking"===e)))return e.purpose_name||e.name||"";return!(0,j.Wx)(e)&&e.purpose_name?e.purpose_name:""}var _=s(22109);function C(e,t,{withFloors:s}={}){if(e.purpose_name){const r=e.name!==e.purpose_name;return(0,l.oA)([r&&e.purpose_name,!!s&&(0,_.X)(e,t)])}return[t._pt("Здание","Дом")]}function I(e,t){return"station_entrance"===e.type?"metro"===e.subtype?[t._t("Вход на станцию метро")]:[t._t("Вход на станцию")]:[k(e,t)]}function k(e,t){switch(e.subtype){case"metro":return t._t("Станция метро");case"premetro":case"railway":return t._t("Станция");case"light_metro":return t._t("Станция легкого метро");case"funicular_railway":return t._t("Станция фуникулера");case"monorail":return t._t("Станция монорельсовой дороги");case"cable_car":return t._t("Станция канатной дороги");case"river_transport":return t._t("Причал");default:return t._t("Остановка наземного транспорта")}}var O=s(17494);function S(e){return[(0,O.d)(e.geocoded_by||e.point)]}s(73198)},92702:(e,t,s)=>{"use strict";function r(e){switch(!0){case e<1e4:return e.toString();case e<1e6:return e%1e3?`${Math.floor(e/1e3)}.${Math.floor(e%1e3/100)}K`:e/1e3+"K";default:return e%1e6?`${Math.floor(e/1e6)}.${Math.floor(e%1e6/1e5)}M`:e/1e6+"M"}}s.d(t,{f:()=>r})},17494:(e,t,s)=>{"use strict";s.d(t,{d:()=>i});var r=s(64693);const i=e=>e?`${(0,r.DB)(e.lat)}° ${(0,r.DB)(e.lon)}°`:""},21617:(e,t,s)=>{"use strict";s.d(t,{d:()=>i});var r=s(37179);function i(e){const{entity:t,tp:s}=e;switch(!0){case(0,r.iB)(t):return{tabLabel:s._pt("Меню в кафе/ресторане","Меню"),title:s._pt("Меню в кафе/ресторане","Меню"),linkToAllOffersTitle:s._t("Посмотреть меню")};case(0,r.XB)(t):return{tabLabel:s._pt("Список услуг в банке","Услуги"),title:s._pt("Список услуг в банке","Услуги"),linkToAllOffersTitle:s._pt("Услуги банка","Посмотреть все услуги")};default:return{tabLabel:s._t("Цены"),title:s._t("Товары и услуги"),linkToAllOffersTitle:s._t("Посмотреть все товары и услуги")}}}},75110:(e,t,s)=>{"use strict";function r(e){const{entity:t}=e;if(!t)return"history"===e.type?"history":"other";switch(t.type){case"parking":return"parking";case"building":case"branch":case"attraction":case"org":return"pin";case"adm_div":return"city"===t.subtype||"settlement"===t.subtype?"city":"pin";case"street":case"road":case"kilometer_road_sign":return"street";case"route":return"route";case"station":return"metro"===t.subtype?"metro":"station";case"rubric":case"metarubric":return"rubric";case"special":switch(t.id){case"1":return"home";case"2":return"work";case"3":return"location";case"4":return"camera";case"5":return"traffic";case"6":return"realty"}}return"other"}s.d(t,{C:()=>r})},80949:(e,t,s)=>{"use strict";function r(e,t){return(s=t,r)=>{let i=s;for(let t=0;t<e.length;t+=1)i=e[t](i,r);return i}}s.d(t,{g:()=>r})},92318:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var r=s(64693),i=s(89679),a=s(874);function n(e){if("coordinates"===e.type){const{lon:t,lat:s}=e;return{type:"point",point:{lon:t,lat:s},id:a.k8,hash:(0,r._G)(a.k8),region_id:"0",segment_id:"0"}}const t=(0,r._J)(e.id),s=(0,r._G)(e.id);if("kilometer_road_sign"===e.type)return Object.assign(Object.assign({},e),{id:t,hash:s,segment_id:"0"});if("branch"===e.type){const r=function(e){const t=e.stop_factors;if(!t)return e.context;return Object.assign(Object.assign({},e.context),{stop_factors:t})}(e);return Object.assign(Object.assign({},e),{context:r,id:t,hash:s})}if("point"===e.type||"route"===e.type)return Object.assign(Object.assign({},e),{id:t,hash:s});if("station"===e.type&&e.platforms){const a=[];e.platforms.forEach((e=>{const t=e.geometry.centroid&&(0,i.rx)(e.geometry.centroid);t&&a.push(t)}));const n=function(e){if(!e.length)return;const{lon:t,lat:s}=e.reduce(((e,t)=>(e.lon+=t.lon,e.lat+=t.lat,e)),{lon:0,lat:0});return{lon:(0,r.DB)(t/e.length),lat:(0,r.DB)(s/e.length)}}(a);if(n)return Object.assign(Object.assign({},e),{id:t,hash:s,point:n})}const n=e.geometry&&e.geometry.centroid;return Object.assign(Object.assign({},e),{id:t,hash:s,point:n?(0,i.rx)(n):void 0})}},72899:(e,t,s)=>{"use strict";s.d(t,{sk:()=>r});let r="undefined"==typeof window},94361:(e,t,s)=>{"use strict";s.d(t,{A1:()=>o,F7:()=>n,NF:()=>l,Y_:()=>d,fe:()=>c,og:()=>u});var r=s(60923),i=s(35415),a=s(5975);class n{constructor(e,t){this.name="NetworkError",this.message=e,this.code=t}}function o(e,t,s){var a,n,o,d,l;const u=(0,r.Rr)(s);if(422===Number(u))throw c((null===(o=null===(n=null===(a=s.details.response)||void 0===a?void 0:a.data.error_fields)||void 0===n?void 0:n[0])||void 0===o?void 0:o.error)||(null===(d=s.details.response)||void 0===d?void 0:d.data.error)||s.details.message,(null===(l=s.details.response)||void 0===l?void 0:l.data.error_description)||"");(0,i.No)(e,{},t)(s)}function c(e,t){return{name:"ValidationError",message:e,code:422,data:t}}const d=e=>!("object"!=typeof e||!e)&&("obscene"in e||"insults"in e||"unproven_allegations"in e);function l(e){if(e instanceof r.d7){const t=e.details.message,s=(0,r.Rr)(e);return new n(t,function(e){const t=Number(e);if(t!=t)return 500;return u(t)}(s))}return function(e){if(e&&"object"==typeof e&&"name"in e&&"string"==typeof e.name&&"message"in e&&"string"==typeof e.message)return!("code"in e)||"number"==typeof e.code;return!1}(e)?{name:e.name,message:e.message,code:e.code||500}:{name:"Unknown error type",message:(0,a.e)(e),code:500}}function u(e){switch(e){case 400:return 400;case 401:return 401;case 402:case 404:return 404;case 403:return 403;case 307:return 307;default:return 500}}},99428:(e,t,s)=>{"use strict";s.d(t,{EM:()=>a,L3:()=>u,Mq:()=>l,UL:()=>o,YR:()=>r,fD:()=>n,qV:()=>i});const r={status:"success",code:200},i={status:"loading"},a=e=>({status:"loading",__effect_uuid:e}),n={code:404,name:"NotFound",message:"Empty result"},o=e=>({status:"error",code:c(e),error:d(e)});function c(e){return e.code||500}function d(e){return{name:e.name,message:e.message,code:e.code,data:e.data}}function l(e=404){return o({code:e,name:"NotFound",message:"Empty result"})}function u(e){return 404===e?l():{status:"error",code:500,error:new Error(`Api have responded with ${e}`)}}},35571:(e,t,s)=>{"use strict";s.d(t,{Av:()=>i,Cj:()=>n,VJ:()=>c});var r=s(99428);function i(e,t,s){return function(e,t,s,r){return Object.assign(Object.assign({},e),{[t]:r(e[t],s)})}(e,t,s,a)}function a(e,t){return{data:e&&e.data,meta:(0,r.EM)(t)}}function n(e,t,s,r){return function(e,t,s,r,i){const a=e[t];if((null==a?void 0:a.meta.__effect_uuid)!==r)return e;return Object.assign(Object.assign({},e),{[t]:i(a,s)})}(e,t,s,r,o)}function o(e,t){return{data:t,meta:r.YR}}function c(e,t,s,r){return function(e,t,s,r,i){const a=e[t];if((null==a?void 0:a.meta.__effect_uuid)!==r)return e;return Object.assign(Object.assign({},e),{[t]:i(a,s)})}(e,t,s,r,d)}function d(e,t){return{data:e&&e.data,meta:(0,r.UL)(t)}}},18586:(e,t,s)=>{"use strict";s.d(t,{$j:()=>r.$,X1:()=>i,Z3:()=>a});var r=s(77608);function i(e){return e}function a(e){return e}},78574:(e,t,s)=>{"use strict";s.d(t,{$:()=>a});var r=s(52322),i=s(2784);const a=function(e){var t;return(t=class extends i.Component{constructor(){super(...arguments),this.state={isHovered:!1},this.handleMouseEnter=e=>{this.setState({isHovered:!0}),"function"==typeof this.props.onMouseEnter&&this.props.onMouseEnter(e)},this.handleMouseLeave=e=>{this.setState({isHovered:!1}),"function"==typeof this.props.onMouseLeave&&this.props.onMouseLeave(e)}}render(){const t={onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave};return(0,r.jsx)(e,Object.assign({},this.props,{hoverableHandlers:t,isHovered:this.props.isHovered||this.state.isHovered}))}}).displayName=`Hoverable(${e.displayName||e.name||"Unnamed"})`,t}},90198:(e,t,s)=>{"use strict";s.d(t,{G:()=>v,B:()=>f});var r=s(69394),i=s(27215),a=s(97698),n=s(1184),o=s(44154);function c(e){let t,s;return r=>(t&&(0,o.w)(t,r)||(t=r,s=e(r)),s)}var d=s(68879),l=s(57935),u=s(2784),p=s(35779),g=s(81465),m=s(86740),h=s(4125);function f(){return e=>{const{__dirname:t,selectors:s,handlers:n,formatter:o,bss:c,styles:f}=e,v=s?(0,i.$j)("function"==typeof s?b(s):(0,a.zB)(s)):void 0,y=c?(0,m.z)(c.showEventFormatter):void 0,x=o?(0,l.C8)(o):void 0,j=e=>t=>{const s=Object.assign({},t);if(n){const e=u.useContext(g.x);Object.assign(s,(0,r.DE)(n,e.dispatch))}return(e=>{const t=u.useContext(p.f);Object.assign(e,{i18n:t})})(s),u.createElement(e,s)};return e=>{let s=j(u.memo(e));return f&&(s=(0,d.D2)(f)(s)),x&&(s=x(s)),y&&(s=y(s)),v&&(s=v(s)),s.displayName=`reconnect2(${(0,h.I)(t)})`,s}}}function v(e){const{selectors:t,handlers:s={}}=e,r="function"==typeof t?b(t):(0,a.zB)(t);return(0,i.$j)(r,s)}function b(e){const t=c(e);return(e,s)=>{const r=t(s);if("function"==typeof r){const e=c(r);return(t,s)=>y(e(s),t)}return y(r,e)}}function y(e,t){return(0,n.uc)(e).reduce(((s,r)=>(s[r]=e[r](t),s)),{})}},43270:(e,t,s)=>{"use strict";s.d(t,{R:()=>n});var r=s(52322),i=s(2784),a=s(89747);const n=function(){return function(e){var t;return(t=class extends i.Component{render(){return(0,r.jsx)(a.E.Consumer,{children:t=>(0,r.jsx)(e,Object.assign({},this.props,{config:t}))})}}).displayName=`WithConfig(${e.displayName||e.name||"Unnamed"})`,t}}},82584:(e,t,s)=>{"use strict";s.d(t,{C:()=>o});var r=s(22970),i=s(52322),a=s(2784);var n=s(57935);function o(e,t){return function(s){class o extends a.PureComponent{render(){return(0,i.jsx)(n.Il,{children:a=>{const n=e(this.props,a);if(!n)return null;if("asyncStatus"in(o=n)&&("loading"===o.asyncStatus||"error"===o.asyncStatus))return t?t(n.asyncStatus):null;var o;if(this.props.render){const e=this.props,{render:t}=e,a=(0,r._T)(e,["render"]);return t((0,i.jsx)(s,Object.assign({},a,n)))}return(0,i.jsx)(s,Object.assign({},this.props,n))}})}}return o.displayName=`WithFormatter(${s.displayName||s.name||"Unnamed"})`,o}}},1950:(e,t,s)=>{"use strict";s.d(t,{$:()=>n});var r=s(52322),i=s(2784),a=s(35779);const n=function(){return function(e){var t;return(t=class extends i.Component{render(){return(0,r.jsx)(e,Object.assign({},this.props,{i18n:this.context}))}}).displayName=`WithI18n(${e.displayName||e.name||"Unnamed"})`,t.contextType=a.f,t}}},68879:(e,t,s)=>{"use strict";s.d(t,{D2:()=>n,iv:()=>i.iv});var r=s(52322),i=s(19561),a=s(6801);function n(e){const t=(0,a.k)(e);return function(e){const s=s=>{const{s:i,dir:n,theme:o}=(0,a.y)(t);return(0,r.jsx)(e,Object.assign({dir:n,s:i,theme:o},s))};return s.displayName=`WithStyles(${e.displayName||e.name||"Anonymous"})`,s}}},99265:(e,t,s)=>{"use strict";s.d(t,{n:()=>v});var r=s(6340),i=s(54974),a=s(42858),n=s(85916),o=s(13130),c=s(66908),d=s(27215),l=s(25449),u=s(10484),p=s(36804),g=s(22027),m=s(97825),h=s(68276),f=s(87770);function v({isForceShown:e}={}){var t;const s=(0,a.T)(),n=(0,d.I0)(),{frame:o,entity:u}=(0,g.j)(),{isMobileDevice:p}=(0,r.Z)(),{searchCtx:v,searchKeyword:j}=(0,f.Y)({entityId:o.entityId}),w=(0,h.gx)({id:o.entityId,albumId:m.Ok,searchCtx:v,searchKeyword:j},{enabled:"menu"===(null==o?void 0:o.tab)&&"branch"===(null==u?void 0:u.type)}),_=w.data?(null===(t=w.data)||void 0===t?void 0:t.pages[0].items.length)||0:void 0,{bssRef:C,useBssHandler:I}=(0,c.T)(y({size:_})),k=I(x,{size:_}),O=(0,i.$)((()=>{o&&u&&(k(),n((0,l.L)({entityId:u.id,searchId:o.searchId,isMenuPhoto:!0})))}));if("menu"===(null==o?void 0:o.tab)&&(e||p||0!==_))return{type:"addMenuPhoto",label:b(u,s),icon:void 0,href:void 0,onClick:O,bssRef:C}}function b(e,t){switch(e&&(0,o.J)(e)?(0,n.a)(e.rubrics):void 0){case"menu":return t._t("Добавить фото меню");case"prices":return t._t("Добавить фото прайс-листа");default:return}}const y=({size:e})=>({frameId:t},s)=>{const r=(0,u.iF)(s.appContext.frames,t);if(void 0!==e&&"entity"===(null==r?void 0:r.type))return{uiElement:{name:"addPricePhoto",ownerName:"cardPrices",frameUuid:t},payload:{placeItem:(0,p.s)({state:s,entityFrameId:t}),tabPreviewInfo:{isActive:!0,amount:e,uploadPricesPromo:0===e||void 0},productOffersList:{entity:{type:"branch",id:r.entityId},size:e}}}},x=({size:e})=>({frameId:t},s)=>{const r=(0,u.iF)(s.appContext.frames,t);if(void 0!==e&&"entity"===(null==r?void 0:r.type))return{uiElement:{name:"addPricePhoto",ownerName:"cardPrices",frameUuid:t},payload:{placeItem:(0,p.s)({state:s,entityFrameId:t}),tabPreviewInfo:{isActive:!0,amount:e,uploadPricesPromo:0===e||void 0},productOffersList:{entity:{type:"branch",id:r.entityId},size:e}},action:"tap"}}},67361:(e,t,s)=>{"use strict";s.d(t,{h:()=>h});var r=s(6340),i=s(54974),a=s(42858),n=s(66908),o=s(27215),c=s(25449),d=s(36804),l=s(22027),u=s(6872),p=s(97825),g=s(60567),m=s(2784);function h({isForceShown:e}={}){const t=(0,a.T)(),s=(0,o.I0)(),{frame:d,entity:h}=(0,l.j)(),{isMobileDevice:v}=(0,r.Z)(),{data:b}=(0,u.Hv)({objectId:(null==h?void 0:h.id)||(null==d?void 0:d.entityId)||""},{enabled:!(!(null==h?void 0:h.id)&&!(null==d?void 0:d.entityId))}),y=(0,m.useMemo)((()=>null==b?void 0:b.albums.find((e=>e.id===p.n4))),[b]),x=null==y?void 0:y.count,{useBssHandler:j}=(0,n.T)(),w=j(f,{size:x}),_=(0,i.$)((()=>{if(!d||!h)return;w();const e="menu"===d.tab;y&&!e&&s((0,g.K)({frameId:d.id,selectedAlbum:y})),s((0,c.L)({entityId:h.id,searchId:d.searchId}))}));if("photos"===(null==d?void 0:d.tab)&&(e||v||0!==x))return{type:"addPhoto",label:t._t("Добавить фото"),icon:void 0,href:void 0,onClick:_}}const f=({size:e})=>({frameId:t},s)=>({uiElement:{name:"addPhotoButton",ownerName:"cardGallery",frameUuid:t},payload:{placeItem:(0,d.s)({state:s,entityFrameId:t}),gallery:{size:e||0}},action:"tap"})},50894:(e,t,s)=>{"use strict";s.d(t,{k:()=>d});var r=s(52322),i=s(54974),a=s(42858),n=s(27215),o=s(48760),c=s(12593);function d({isLabelShown:e,onClick:t}={}){var s;const d=(0,a.T)(),l=(0,n.I0)(),u=null===(s=(0,n.v9)((e=>e.appContext.frames[1])))||void 0===s?void 0:s.type,p=(0,i.$)((()=>{t?t():l((0,c.yt)())}));return{type:"back",label:e?"search"===u?d._t("К результатам"):d._t("Назад"):void 0,icon:(0,r.jsx)(o.x,{}),href:void 0,onClick:p}}},93281:(e,t,s)=>{"use strict";s.d(t,{d:()=>b});var r=s(52322),i=s(54974),a=s(42858),n=s(66908),o=s(66030),c=s(27215),d=s(67753),l=s(27516);const u=(0,d.gQ)("handleBookmarkClick",(e=>(0,l.mk)("handleBookmarkClick",e)));var p=s(59128);function g({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M25 26.62l-9-4.5-9 4.5V9a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v17.723z"})}))}function m({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,r.jsx)("path",{d:"M12 15L18 17.7501V6C18 5.5214 17.4907 5 17 5H7C6.50933 5 6 5.5214 6 6V17.7501L12 15ZM20 21L12 17.0296L4 21V5.6058C4 4.16914 5.19644 3 6.66667 3H17.3333C18.8036 3 20 4.16914 20 5.6058V21Z",fill:e})}))}function h({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,r.jsx)("path",{d:"M20 21L12 17.0296L4 21V5.6058C4 4.16914 5.19644 3 6.66667 3H17.3333C18.8036 3 20 4.16914 20 5.6058V21Z",fill:e})}))}var f=s(36804),v=s(22027);function b({color:e,isLabelShown:t,isSmallIcon:s}){const d=(0,a.T)(),l=(0,c.I0)(),{entity:f}=(0,v.j)(),b=f?{object_id:f.id,object_type:f.type,point:"point"in f?f.point:void 0}:void 0,x=(0,c.v9)((e=>!!b&&((0,o.y7)(b)(e)||(0,o.Tb)(b)(e)))),j=(0,n.T)().useBssHandler(y,{isFilled:x});return{type:"bookmark",label:t?x?d._t("Сохранено"):d._t("Сохранить"):void 0,icon:s?x?(0,r.jsx)(h,{color:e}):(0,r.jsx)(m,{color:e}):x?(0,r.jsx)(g,{color:e}):(0,r.jsx)(p.r,{color:e}),href:void 0,isBookmarked:x,onClick:(0,i.$)((e=>{b&&(j(),l(u({item:b,isAdded:x,targetBoundingClientRect:e.currentTarget.getBoundingClientRect()})))}))}}const y=e=>({frameId:t},s)=>({uiElement:{name:"bookmark",ownerName:"placeCardFull",frameUuid:t},action:"tap",payload:{favoritesItem:{isFilled:e.isFilled},placeItem:(0,f.s)({state:s,entityFrameId:t})}})},99863:(e,t,s)=>{"use strict";s.d(t,{o:()=>f});var r=s(52322),i=s(98584),a=s(54974),n=s(42858),o=s(67753),c=s(92141),d=s(29600),l=s(69088);const u=(0,o.gQ)("onMapEntityButtonClick",(e=>(0,o.vP)((0,d.BN)((0,c.kG)({isMinimized:!0})),(0,l.Nr)({lon:null==e?void 0:e.lon,lat:null==e?void 0:e.lat,zoom:null==e?void 0:e.zoom}))));var p=s(27215),g=s(2502),m=s(87324),h=s(22027);function f({isLabelShown:e}){const t=(0,n.T)(),s=(0,p.I0)(),{entity:o}=(0,h.j)(),c=(0,p.v9)((e=>o?(0,m.B)({entity:o,state:e}):void 0));return{type:"map",label:e?t._t("На карте"):void 0,icon:(0,r.jsx)(g.D,{color:i.O.black}),href:void 0,onClick:(0,a.$)((()=>{s(u(c))}))}}},98795:(e,t,s)=>{"use strict";s.d(t,{d:()=>p});var r=s(52322),i=s(54974),a=s(42858),n=s(27215),o=s(92141),c=s(77166),d=s(48760),l=s(72173),u=s(70239);function p({isLabelShown:e}={}){const t=(0,a.T)(),s=(0,n.I0)(),p=(0,u.l)(),{label:g,icon:m}=function(e,t){switch(e){case"entity":case"product":return{icon:(0,r.jsx)(c.Ad,{}),label:t._t("Карточка")};case"search":return{icon:(0,r.jsx)(l.a,{}),label:t._t("Списком")};case"userPublicProfile":return{icon:(0,r.jsx)(d.x,{}),label:t._t("В профиль")};default:return{icon:(0,r.jsx)(d.x,{}),label:t._t("Назад")}}}(null==p?void 0:p.type,t);return{type:"maximize",label:e?g:void 0,icon:m,href:void 0,onClick:(0,i.$)((()=>{s((0,o.kG)({isMinimized:!1}))}))}}},84789:(e,t,s)=>{"use strict";s.d(t,{t:()=>w});var r=s(52322),i=s(54974),a=s(42858),n=s(13493),o=s(19196),c=s(66908),d=s(27215),l=s(36804),u=s(79597),p=s(22027),g=s(6340),m=s(67753),h=s(29600),f=s(11149),v=s(70021),b=s(354);const y=(0,m.gQ)("handleDirectionsClick",(({lonLat:e,entityId:t})=>e?(0,m.vP)((0,h.BN)(),(0,f.b)({points:[void 0,{type:"point",lonLat:e,entityId:t}]})):t?(0,b._N)((e=>(0,v.nM)({state:e,entityId:t})),(e=>{const s=e.data&&"point"in e.data?e.data.point:void 0;if(s)return(0,m.vP)((0,h.BN)(),(0,f.b)({points:[void 0,{type:"point",lonLat:s,entityId:t}]}))})):(0,m.ZT)()));var x=s(44149),j=s(45346);function w({color:e,isLabelShown:t,isSmallIcon:s}){const l=(0,a.T)(),m=(0,d.I0)(),{isMobileDevice:h,lang:f}=(0,g.Z)(),{frame:v,entity:b}=(0,p.j)(),w=(null==v?void 0:v.point)||b&&"point"in b&&b.point||void 0,C=(0,c.T)().useBssHandler(_),I=(0,d.v9)((e=>e.session.platform)),k=(0,x.Og)({platform:I,type:"modalGeoPromoDirect"}),O=(0,u.W)({type:"directions",points:w?[void 0,{type:"point",lonLat:w,entityId:null==b?void 0:b.id}]:void 0}),S=(0,i.$)((()=>{C(),h?"ru"===f?m((0,j.x)("routeSearchFullscreenPopup")):window.open(k):m(y({lonLat:w,entityId:null==b?void 0:b.id}))}));if(w&&"route"!==(null==b?void 0:b.type)&&(!h||k))return{type:"route",label:t?l._t("Проехать"):void 0,icon:s?(0,r.jsx)(o.Z,{color:e}):(0,r.jsx)(n.Z,{color:e}),href:O,onClick:S}}const _=()=>({frameId:e},t)=>({uiElement:{name:"buildRoute",ownerName:"placeCardFull",frameUuid:e},action:"tap",payload:{placeItem:(0,l.s)({state:t,entityFrameId:e})}})},14897:(e,t,s)=>{"use strict";s.d(t,{T:()=>g});var r=s(52322),i=s(54974),a=s(69367),n=s(27215),o=s(32318);function c({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 5.5C21 7.433 19.433 9 17.5 9C16.5814 9 15.7455 8.64612 15.1211 8.06725L9.8971 11.1541C9.96432 11.425 10 11.7083 10 12C10 12.2917 9.96432 12.575 9.8971 12.8459L15.1211 15.9328C15.7455 15.3539 16.5814 15 17.5 15C19.433 15 21 16.567 21 18.5C21 20.433 19.433 22 17.5 22C15.567 22 14 20.433 14 18.5C14 18.2084 14.0357 17.925 14.1029 17.6542L8.87889 14.5673C8.2545 15.1461 7.41858 15.5 6.5 15.5C4.567 15.5 3 13.933 3 12C3 10.067 4.567 8.5 6.5 8.5C7.41858 8.5 8.25451 8.85387 8.8789 9.43272L14.1029 6.34581C14.0357 6.07496 14 5.79164 14 5.5C14 3.567 15.567 2 17.5 2C19.433 2 21 3.567 21 5.5ZM17.5 7C18.3284 7 19 6.32843 19 5.5C19 4.67157 18.3284 4 17.5 4C16.6716 4 16 4.67157 16 5.5C16 6.32843 16.6716 7 17.5 7ZM8 12C8 12.8284 7.32843 13.5 6.5 13.5C5.67157 13.5 5 12.8284 5 12C5 11.1716 5.67157 10.5 6.5 10.5C7.32843 10.5 8 11.1716 8 12ZM19 18.5C19 19.3284 18.3284 20 17.5 20C16.6716 20 16 19.3284 16 18.5C16 17.6716 16.6716 17 17.5 17C18.3284 17 19 17.6716 19 18.5Z",fill:e})}))}var d=s(2576),l=s(42858),u=s(66908),p=s(53164);function g(e){const{color:t,isLabelShown:s,isSmallIcon:g,frameType:m="entity",ownerName:h}=e,f=(0,l.T)(),v=(0,n.I0)(),b=(0,d.N)(m),y=(0,u.T)().useBssHandler(p.sX,{ownerName:h});return{type:"share",label:s?f._t("Отправить"):void 0,icon:g?(0,r.jsx)(c,{color:t}):(0,r.jsx)(o.m,{color:t}),href:void 0,onClick:(0,i.$)((()=>{b&&(y(),v((0,a.q)({frameId:b.id})))}))}}},74584:(e,t,s)=>{"use strict";s.d(t,{F:()=>i});var r=s(2784);const i=()=>{const e=(0,r.useRef)(new Map),[t,s]=(0,r.useState)(void 0),i=(0,r.useRef)(null);return{addVideoToSelectActive:(0,r.useCallback)((t=>{var r;const{id:a,isVisible:n,isHovered:o,position:c}=t;if(e.current.set(a,t),n&&o)return i.current=t,void s(t.id);if(!(i.current&&a!==i.current.id&&i.current.position<=c)){if(!i.current&&n||i.current&&a!==i.current.id&&i.current.position>c)return i.current=t,void s(t.id);if(!a||n||(null===(r=i.current)||void 0===r?void 0:r.id)!==a);else{const t=Array.from(e.current.entries()).find((([e,t])=>t.isVisible&&t.id!==a));t?(i.current=t[1],s(t[1].id)):(i.current=null,s(void 0))}}}),[]),activeVideoId:t}}},6340:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(2784),i=s(89747);function a(){return(0,r.useContext)(i.E)}},44314:(e,t,s)=>{"use strict";s.d(t,{P:()=>u});var r=s(2784),i=s(27215),a=s(6340),n=s(47544),o=s(66945),c=s(42866),d=s(8267);const{use:l}=(0,c.r)("Place Dynamic Congestion",(e=>({services:t})=>{const{id:s}=e;return s?t.congestionApi.getCongestion({id:s}):void 0})),u=e=>{var t,s;const{entity:c,refetchOnMount:u=!1}=e,{featurePlaceCongestion:p}=(0,a.Z)(),g=(0,i.v9)((e=>e.session.time)),m=c?(0,o.d)(c):void 0,{localHour:h,localDay:f}=m?(0,d.E)(g,m):{localHour:void 0,localDay:void 0},v=p&&c&&"congestion"in c?c.congestion:void 0,b=(0,r.useMemo)((()=>v?function(e){return Object.keys(e).reduce(((t,s)=>{const r=e[s];for(const[e,i]of Object.entries(r))for(const r of i){const i=e.toLowerCase();t[i]=Object.assign(Object.assign({},t[i]),{[r]:{value:+s}})}return t}),{})}(v):void 0),[v]),y=f&&h?null===(s=null===(t=null==b?void 0:b[f])||void 0===t?void 0:t[h])||void 0===s?void 0:s.value:void 0,x=p&&!!y&&!!c&&"has_dynamic_congestion"in c&&!!c.has_dynamic_congestion,{data:j,isLoading:w}=l({id:x?null==c?void 0:c.id:void 0},{refetchOnMount:u});return{dynamicValue:null==j?void 0:j.value,currentCongestion:b?(0,n.b)(y):void 0,staticData:b,isLoading:w}}},11566:(e,t,s)=>{"use strict";s.d(t,{W:()=>i});var r=s(2784);const i=()=>{const[e,t]=(0,r.useState)(!1);return{isContentOverflow:e,containerRef:(0,r.useCallback)((e=>{e&&t(e.scrollHeight>e.clientHeight)}),[])}}},76430:(e,t,s)=>{"use strict";s.d(t,{z:()=>i});var r=s(2784);const i=e=>{const[t,s]=(0,r.useState)(e),i=(0,r.useRef)(e);return e!==i.current&&(s(e),i.current=e),[t,s]}},22027:(e,t,s)=>{"use strict";s.d(t,{j:()=>a});var r=s(2576),i=s(50137);function a(e){const t=(0,r.N)("entity");return{frame:t,entity:(0,i.X)(null==t?void 0:t.entityId,(null==e?void 0:e.withSearchContext)?null==t?void 0:t.searchId:void 0)}}},2576:(e,t,s)=>{"use strict";s.d(t,{N:()=>a});var r=s(27215),i=s(10484);function a(e){return(0,r.v9)((t=>(0,i.t0)(t.appContext.frames,e)))}},34866:(e,t,s)=>{"use strict";s.d(t,{k:()=>a});var r=s(2784),i=s(35779);function a(){const{dateFns:e}=(0,r.useContext)(i.f);return e}},26352:(e,t,s)=>{"use strict";s.d(t,{y:()=>a});var r=s(2784),i=s(94089);function a(e,t){const s=(0,r.useRef)();(0,r.useEffect)((()=>()=>{s.current&&clearTimeout(s.current)}),[]);const a=(0,r.useRef)(e);(0,i.L)((()=>{a.current=e}));return(0,r.useCallback)(((...e)=>{s.current&&clearTimeout(s.current),s.current=setTimeout((()=>{a.current(...e)}),t)}),[t])}},50137:(e,t,s)=>{"use strict";s.d(t,{X:()=>a});var r=s(70021),i=s(27215);function a(e,t){return(0,i.v9)((s=>{if(e)return t?(0,r.wj)({state:s,entityId:e,searchId:t}).data:(0,r.nM)({state:s,entityId:e}).data}))}},54974:(e,t,s)=>{"use strict";s.d(t,{$:()=>a});var r=s(2784),i=s(94089);function a(e){const t=(0,r.useRef)((()=>{throw new Error("Cannot call an event callback while rendering")})),s=(0,r.useCallback)(((...e)=>t.current(...e)),[]);return(0,i.L)((()=>{t.current=e})),s}},1209:(e,t,s)=>{"use strict";s.d(t,{x:()=>o});var r=s(2784),i=s(64693),a=s(27215),n=s(23150);function o(e){const t=(0,a.I0)(),{type:s,handler:o,stopIfHandled:c,priority:d}=e;(0,r.useEffect)((()=>{const e=(0,i.by)();return t((0,n.Oo)({id:e,type:s,handler:o,stopIfHandled:c,priority:d})),()=>{t((0,n.xg)({id:e}))}}),[s,o,c,d,t])}},80895:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(2784),i=s(27215),a=s(94089);function n(e,...t){const s=(0,i.I0)(),n=(0,r.useRef)(t),o=(0,r.useCallback)(((...t)=>{const r=n.current.length?n.current:t;s(e(...r))}),[]);return(0,a.L)((()=>{n.current=t})),o}},55462:(e,t,s)=>{"use strict";s.d(t,{X:()=>a});var r=s(2784),i=s(96125);function a(e){const[t,s]=(0,r.useState)(!1),{ref:a,refCallback:n}=(0,i.C)(null==e?void 0:e.ref);return(0,r.useEffect)((()=>{const t=a.current;if(!t)return;const r=()=>s(!0),i=()=>s(!1);return t.addEventListener("mouseenter",r),t.addEventListener("mouseleave",i),(null==e?void 0:e.loseHoverOnClick)&&t.addEventListener("click",i),()=>{t.removeEventListener("mouseenter",r),t.removeEventListener("mouseleave",i),(null==e?void 0:e.loseHoverOnClick)&&t.removeEventListener("click",i)}}),[null==e?void 0:e.loseHoverOnClick,a.current]),{ref:a,refCallback:n,isHovered:t}}},94089:(e,t,s)=>{"use strict";s.d(t,{L:()=>i});var r=s(2784);const i="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?r.useLayoutEffect:r.useEffect},78882:(e,t,s)=>{"use strict";s.d(t,{K:()=>a});var r=s(29299),i=s(2784);function a(e,t){(0,i.useEffect)((()=>{const t=(0,r.mA)().then((t=>{if(t)return e(t.map,t.api,t.mapgl)}));return()=>{t.then((e=>{e&&e()}))}}),t)}},99261:(e,t,s)=>{"use strict";s.d(t,{S:()=>a});var r=s(2784),i=s(32599);function a(e){const{root:t,rootMargin:s,threshold:a,isIntersectInitial:n=!1,showVisibility:o}=e,c=(0,r.useRef)(null),[d,l]=(0,r.useState)(n),[u,p]=(0,r.useState)(n);return(0,r.useEffect)((()=>{if(d&&!o||!c.current)return;const e=(0,i.A)(c.current,{root:t,rootMargin:s,threshold:a},(e=>{l(e.some((e=>!1!==e.isIntersecting))),p(e.some((e=>e.isIntersecting)))}));return()=>{e.disconnect()}}),[d,t,s,a,o]),[c,o?u:d]}},16279:(e,t,s)=>{"use strict";s.d(t,{M:()=>l});var r=s(2784),i=s(27215),a=s(55158),n=s(89475),o=s(80895),c=s(2234),d=s(62377);function l(e){const{entityId:t,dataLocaleSelector:s,isEnabled:a=!0}=e,l=(0,i.v9)(s),p=(0,i.v9)(u(t)),g=(0,o.A)(d.V1,{branchId:t,offersSearchId:t,filtersId:t,page:1,locale:l});return(0,r.useEffect)((()=>{(0,c.G)(p)&&a&&g()}),[t]),p||{data:void 0,meta:n.qV}}const u=e=>t=>(0,a.Mv)({state:t,searchId:e})},53196:(e,t,s)=>{"use strict";s.d(t,{C:()=>c});var r=s(2784),i=s(19631),a=s(67753),n=s(1209),o=s(64693);function c(e){const[t,s]=(0,r.useState)(),c=(0,r.useCallback)((()=>s(void 0)),[s]),d=(0,r.useCallback)((()=>{if(t)return c(),(0,a.ZT)()}),[(0,o.$K)(t)]);(0,n.x)({type:"common:escapeKeyUp",handler:d,stopIfHandled:!0,priority:i.U.FrameElement});const l=(0,r.useCallback)((()=>{if(!e||e.length<=1)return(0,a.ZT)();const r=e.findIndex((e=>e.id===t))-1;return e[r]&&s(e[r].id),(0,a.ZT)()}),[e,t]);(0,n.x)({type:"common:arrowLeftKeyDown",handler:l,stopIfHandled:!0,priority:i.U.FrameElement}),(0,n.x)({type:"common:arrowUpKeyDown",handler:l,stopIfHandled:!0,priority:i.U.FrameElement});const u=(0,r.useCallback)((()=>{if(!e||e.length<=1)return(0,a.ZT)();const r=e.findIndex((e=>e.id===t))+1;return r>0&&e[r]&&s(e[r].id),(0,a.ZT)()}),[e,t]);return(0,n.x)({type:"common:arrowRightKeyDown",handler:u,stopIfHandled:!0,priority:i.U.FrameElement}),(0,n.x)({type:"common:arrowDownKeyDown",handler:u,stopIfHandled:!0,priority:i.U.FrameElement}),(0,n.x)({type:"common:spaceKeyDown",handler:u,stopIfHandled:!0,priority:i.U.FrameElement}),[t,s,c]}},51435:(e,t,s)=>{"use strict";s.d(t,{Hy:()=>m,Mu:()=>u,ul:()=>g});var r=s(2784),i=s(55476),a=s(27215),n=s(29759),o=s(73985);const c="dg5_quickNotes";let d={};const l=n.tO.local.getItem(c);if(l)try{d=JSON.parse(l)}catch(e){}const u=(0,o.c)(d);function p(e,t){u.set((s=>Object.assign(Object.assign({},s),{[e]:t}))),n.tO.local.setItem(c,JSON.stringify(u.get()))}const g=e=>{const{entityId:t,userId:s}=e;return s?`${s}-${t}`:t},m=e=>{const{entityId:t}=e,s=(0,a.v9)(i.b1),n=g({userId:s,entityId:t}),o=(0,r.useMemo)((()=>e=>e[n]),[n]);return[u.use(o),{updateItem:(0,r.useCallback)((e=>p(n,e)),[n]),removeItem:(0,r.useCallback)((()=>p(n,void 0)),[n])}]}},14393:(e,t,s)=>{"use strict";s.d(t,{e:()=>a});var r=s(2784),i=s(33511);s(57214);function a(e){const{frameId:t}=(0,r.useContext)(i.j)}},96125:(e,t,s)=>{"use strict";s.d(t,{C:()=>i});var r=s(2784);function i(e){const t=(0,r.useRef)(null),s=e||t,[,i]=(0,r.useState)(s.current),a=(0,r.useCallback)((e=>{s.current=e,i(e)}),[s]);return{ref:s,refCallback:a}}},90769:(e,t,s)=>{"use strict";s.d(t,{e:()=>n});var r=s(6340),i=s(2784);const a=4;function n({scrollboxRef:e}){const t=(0,r.Z)().rtl?-1:1,[s,n]=(0,i.useState)(!1),[o,c]=(0,i.useState)(!1),d=(0,i.useCallback)((()=>{e.current&&(n(e.current.scrollLeft*t>0),c(e.current.scrollLeft*t+a<e.current.scrollWidth-e.current.offsetWidth))}),[e,t]);(0,i.useEffect)((()=>{const t=e.current;if(t)return setTimeout(d,0),t.addEventListener("scroll",d),()=>{t.removeEventListener("scroll",d)}}),[d,e]);const l=(0,i.useCallback)(((s,r)=>{s.stopPropagation(),e.current&&e.current.scrollTo({left:e.current.scrollLeft+e.current.scrollWidth/e.current.children.length*t*r,behavior:"smooth"})}),[e,t]);return{isStartArrowShown:s,isEndArrowShown:o,clickArrowStart:(0,i.useCallback)((e=>l(e,-1)),[l]),clickArrowEnd:(0,i.useCallback)((e=>l(e,1)),[l])}}},87770:(e,t,s)=>{"use strict";s.d(t,{Y:()=>l});var r=s(57695),i=s(2784),a=s(27215),n=s(87627),o=s(5809),c=s(10484),d=s(71686);function l({entityId:e}={}){const t=(0,a.v9)((e=>{var t,s,i,a,n;const d=e.appContext.frames[0];if("gallery"===(null==d?void 0:d.type)){const i=d.searchId;return null===(s=null===(t=(0,r.rO)({state:e,searchId:i}).data)||void 0===t?void 0:t.searchAttributes)||void 0===s?void 0:s.query_context}const l=(0,c.t0)(e.appContext.frames,"search");if(l)return null===(n=null===(a=null===(i=(0,o.v)(e,l).profile)||void 0===i?void 0:i.data)||void 0===a?void 0:a.searchAttributes)||void 0===n?void 0:n.query_context}));return{searchCtx:(0,i.useMemo)((()=>(0,d.Jn)(t)),[t]),searchKeyword:(0,a.v9)((0,n.Ec)(e)),searchKeywords:(0,a.v9)((e=>(0,n.Fx)({state:e})))}}},23822:(e,t,s)=>{"use strict";s.d(t,{H:()=>i,S:()=>a});var r=s(2784);const i=(0,r.createContext)({});function a(){return(0,r.useContext)(i)}},6801:(e,t,s)=>{"use strict";s.d(t,{k:()=>d,y:()=>o});var r=s(27665),i=s(19561),a=s(80845),n=s(30445);function o(e){const t=(0,n.Fg)(),s=e.applyTheme(t),r=t.rtl?"rtl":"ltr";return{s,dir:r,css:i.iv,theme:t,inline:e=>(0,i.Qo)(e,r)}}const c=e=>{const t=function(){if("undefined"!=typeof Map){const e=new Map;return{set:e.set.bind(e),get:e.get.bind(e)}}let e,t;return{set:(s,r)=>{e=s,t=r},get:s=>{if(s===e)return t}}}();return s=>{const i=t.get(s);if(i)return i;const n=r.mM.create((0,a.i)("function"==typeof e?e(s):e,s.rtl?"rtl":"ltr"));return t.set(s,n),n}},d=e=>({applyTheme:c(e)})},57475:(e,t,s)=>{"use strict";s.d(t,{s:()=>d});var r=s(52322),i=s(6801),a=s(35253),n=s(63993),o=s(98584),c=s(90600);const d=e=>{const{title:t,to:s,delay:a,offset:n,fixedWidth:o,isNowraped:d,loseHoverOnClick:u,innerRef:p}=e,{s:g,css:m}=(0,i.y)(l);return(0,c.g)({content:t?(0,r.jsx)("div",Object.assign({className:m(g.content,d&&g._nowraped),style:{width:o||"auto"}},{children:t})):void 0,to:s,delay:a,offset:n,loseHoverOnClick:u,innerRef:p})},l=(0,i.k)({content:Object.assign(Object.assign({},n.oN),{borderRadius:a.E0.default,display:"flex",alignItems:"center",justifyContent:"center",color:o.O.white,boxSizing:"border-box",opacity:.85,padding:8,pointerEvents:"none",background:o.O.black,":empty":{background:"unset"}}),_nowraped:{whiteSpace:"nowrap"}})},56576:(e,t,s)=>{"use strict";s.d(t,{l:()=>o});var r=s(52322),i=s(2784),a=s(36291),n=s(28316);const o=({content:e,to:t,offset:s,ref:o,isDisplayed:c=!0})=>{const d=(0,i.useMemo)((()=>o.current?o.current.getBoundingClientRect():void 0),[c,o.current]),l=(0,i.useMemo)((()=>e&&c?(0,r.jsx)(a.k,Object.assign({targetBoundingClientRect:d,offset:s,to:t},{children:e})):null),[e,s,t,c,d]),u="undefined"!=typeof document?document.getElementById("tooltips"):void 0;return{ref:o,addTooltip:u?(0,n.createPortal)(l,u):null}}},90600:(e,t,s)=>{"use strict";s.d(t,{g:()=>n});var r=s(55462),i=s(2784),a=s(56576);const n=({content:e,to:t,delay:s=200,offset:n=4,loseHoverOnClick:o=!0,innerRef:c})=>{let d;const l=s||200,{ref:u,refCallback:p,isHovered:g}=(0,r.X)({loseHoverOnClick:o,ref:c}),[m,h]=(0,i.useState)(!1);(0,i.useEffect)((()=>(g||(h(!1),window.clearTimeout(d)),()=>{window.clearTimeout(d)})),[g]),(0,i.useEffect)((()=>{g&&!m&&(d=window.setTimeout((()=>h(!0)),l))}),[g,m]);const{addTooltip:f}=(0,a.l)({content:e,to:t,offset:n,ref:u,isDisplayed:m});return{ref:u,refCallback:p,addTooltip:f}}},70239:(e,t,s)=>{"use strict";s.d(t,{l:()=>i});var r=s(27215);function i(){return(0,r.v9)((e=>e.appContext.frames[0]))}},42858:(e,t,s)=>{"use strict";s.d(t,{T:()=>a});var r=s(2784),i=s(35779);function a(){const{tp:e}=(0,r.useContext)(i.f);return e}},91520:(e,t,s)=>{"use strict";s.d(t,{k:()=>i});var r=s(52322);function i({color:e="currentColor"}){return(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"128",height:"128",viewBox:"0 0 128 128",fill:e},{children:[(0,r.jsx)("path",{d:"M102.49 91.27a3 3 0 0 1 2.28.54l6.63 4.92 1.6-.8V22a7 7 0 0 0-7-7H22a7 7 0 0 0-7 7v84a7 7 0 0 0 7 7h69.46a6.91 6.91 0 0 0 6.15 2.17l14.54-2.17-.3-2-14.53 2.18a5 5 0 0 1-5.61-3.8l-2.49-10.57 7-1.17.07.07.09-.09 3.78-.63-.32-2-2.94.49-2.83-2.83zM22 17h84a5 5 0 0 1 5 5v9H17v-9a5 5 0 0 1 5-5zm65.84 80L87 98.23l2.73 11.62a6.46 6.46 0 0 0 .38 1.15H22a5 5 0 0 1-5-5V33h94v60.94l-5-3.73a5 5 0 0 0-3.8-.92l-9.83 1.64-3.64-3.64a17.09 17.09 0 1 0-1.41 1.41l7.2 7.21zM76 91a15 15 0 1 1 15-15 15 15 0 0 1-15 15z"}),(0,r.jsx)("circle",{cx:"24",cy:"24",r:"2"}),(0,r.jsx)("circle",{cx:"32",cy:"24",r:"2"}),(0,r.jsx)("circle",{cx:"40",cy:"24",r:"2"}),(0,r.jsx)("ellipse",{cx:"52",cy:"76",rx:"3",ry:"4"}),(0,r.jsx)("ellipse",{cx:"76",cy:"76",rx:"3",ry:"4"}),(0,r.jsx)("path",{d:"M47.754 67.97l.485-1.94 8.004 2.002-.485 1.94zM64 96a8 8 0 0 0-8 8h16a8 8 0 0 0-8-8z"})]}))}},38007:(e,t,s)=>{"use strict";s.d(t,{Y:()=>i});var r=s(52322);function i({color:e="currentColor"}){return(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"128",height:"128",viewBox:"0 0 128 128",fill:e},{children:[(0,r.jsx)("path",{d:"M106 15H22a7 7 0 0 0-7 7v84a7 7 0 0 0 7 7h84a7 7 0 0 0 7-7V22a7 7 0 0 0-7-7zm-84 2h84a5 5 0 0 1 5 5v9H17v-9a5 5 0 0 1 5-5zm84 94H22a5 5 0 0 1-5-5V33h94v73a5 5 0 0 1-5 5z"}),(0,r.jsx)("circle",{cx:"24",cy:"24",r:"2"}),(0,r.jsx)("circle",{cx:"32",cy:"24",r:"2"}),(0,r.jsx)("circle",{cx:"40",cy:"24",r:"2"}),(0,r.jsx)("path",{d:"M48.71 80.71l3.29-3.3 3.29 3.3 1.42-1.42-3.3-3.29 3.3-3.29-1.42-1.42-3.29 3.3-3.29-3.3-1.42 1.42 3.3 3.29-3.3 3.29 1.42 1.42zM72.71 80.71l3.29-3.3 3.29 3.3 1.42-1.42-3.3-3.29 3.3-3.29-1.42-1.42-3.29 3.3-3.29-3.3-1.42 1.42 3.3 3.29-3.3 3.29 1.42 1.42zM71 95H48v2h23v3a5 5 0 0 0 10 0v-5H71zm8 5a3 3 0 0 1-6 0v-3h6z"})]}))}},52087:(e,t,s)=>{"use strict";s.d(t,{J:()=>i});var r=s(52322);function i({color:e="currentColor",width:t=16,height:s=16}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:t,height:s,viewBox:"0 0 24 24"},{children:(0,r.jsx)("path",{fill:e,fillRule:"evenodd",d:"M11.155 17.57l-4.862-4.863 1.414-1.414 3.137 3.137 5.324-7.985 1.664 1.11z"})}))}},88119:(e,t,s)=>{"use strict";s.d(t,{U:()=>i});var r=s(52322);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:e},{children:(0,r.jsx)("path",{d:"M8 7.293L5.354 4.646l-.708.708L7.293 8l-2.647 2.646.708.708L8 8.707l2.646 2.647.708-.708L8.707 8l2.647-2.646-.708-.708L8 7.293zM8 16A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"})}))}},52281:(e,t,s)=>{"use strict";s.d(t,{_:()=>i});var r=s(52322);function i(){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",viewBox:"0 0 16 16"},{children:(0,r.jsx)("path",{fill:"#30AD00",fillRule:"evenodd",d:"M8.579.41a1 1 0 00-1.157 0l-.92.653a1 1 0 01-.672.18l-1.124-.105a1 1 0 00-1.002.578l-.47 1.026a1 1 0 01-.492.491l-1.026.471a1 1 0 00-.578 1.002l.105 1.124a1 1 0 01-.18.671l-.653.92a1 1 0 000 1.157l.653.921a1 1 0 01.18.671l-.105 1.124a1 1 0 00.578 1.002l1.026.47a1 1 0 01.491.492l.471 1.026a1 1 0 001.002.578l1.124-.105a1 1 0 01.671.18l.92.653a1 1 0 001.158 0l.92-.653a1 1 0 01.672-.18l1.123.105a1 1 0 001.002-.578l.471-1.026a1 1 0 01.492-.491l1.025-.471a1 1 0 00.579-1.002l-.105-1.124a1 1 0 01.18-.671l.652-.92a1 1 0 000-1.157l-.653-.921a1 1 0 01-.18-.671l.106-1.124a1 1 0 00-.579-1.002l-1.026-.47a1 1 0 01-.491-.492l-.47-1.026a1 1 0 00-1.003-.578l-1.123.105a1 1 0 01-.672-.18L8.58.41zM5 11L4 5l2 1 2-2 2 2 2-1-1 6H5z",clipRule:"evenodd"})}))}},61589:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});var r=s(22970),i=s(52322);function a(e={color:"#CCCCCC"}){var{color:t}=e,s=(0,r._T)(e,["color"]);return(0,i.jsx)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16ZM8.12097 4C9.32056 4 10.5 4.60705 10.5 5.92954C10.5 6.94851 9.84476 7.64228 9.22984 8.04336C8.60484 8.45528 8.3125 8.67209 8.3125 9.38753V9.72358H7.1129V9.35501C7.1129 8.34688 7.50605 7.8916 8.25202 7.40379C8.83669 7.02439 9.27016 6.62331 9.27016 6.00542C9.27016 5.38753 8.73589 5.04065 8.10081 5.04065C7.20363 5.04065 6.71976 5.61518 6.68952 6.50407H5.5C5.5 4.97561 6.60887 4 8.12097 4ZM8.40323 12H7.03226V10.5257H8.40323V12Z",fill:t})}))}},51203:(e,t,s)=>{"use strict";s.d(t,{J:()=>i});var r=s(52322);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},{children:(0,r.jsx)("path",{fill:e,fillRule:"evenodd",d:"M11.155 17.57l-4.862-4.863 1.414-1.414 3.137 3.137 5.324-7.985 1.664 1.11z"})}))}},96729:(e,t,s)=>{"use strict";s.d(t,{x:()=>a});var r=s(22970),i=s(52322);const a=e=>{var{color:t="currentColor",width:s=24,height:a=24}=e,n=(0,r._T)(e,["color","width","height"]);return(0,i.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:s,height:a,viewBox:"0 0 24 24",fill:t},n,{children:(0,i.jsx)("path",{d:"M12 10.586l3.793-3.793 1.414 1.414L13.414 12l3.793 3.793-1.414 1.414L12 13.414l-3.793 3.793-1.414-1.414L10.586 12 6.793 8.207l1.414-1.414L12 10.586z"})}))}},60878:(e,t,s)=>{"use strict";s.d(t,{I:()=>i});var r=s(52322);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:e},{children:(0,r.jsx)("path",{d:"M16 5l-1 1.001 3 3 1.001-1v-1L17 5h-1zM6 15.001l-1 3V19h1l3-.999L17 10l-3-2.999-8 8z"})}))}},20548:(e,t,s)=>{"use strict";s.d(t,{m:()=>i});var r=s(52322);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:e},{children:(0,r.jsx)("path",{d:"M14 9l.31-2.47a2 2 0 0 0-1.24-2.1L12 4a10.76 10.76 0 0 1-4 5v9l7.35.74a3 3 0 0 0 3.23-2.34L20 10zM5 18h2L6 9H5v9z"})}))}},92484:(e,t,s)=>{"use strict";s.d(t,{L:()=>i});var r=s(52322);function i({color:e="currentColor",size:t=24}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:e},{children:(0,r.jsx)("path",{d:"M14 14l-1.08 1.45a13.61 13.61 0 0 1-4.37-4.37L10 10a18.47 18.47 0 0 0-.95-5.85L9 4H5.06a1 1 0 0 0-1 1.09 16 16 0 0 0 14.85 14.85 1 1 0 0 0 1.09-1V15h-.15A18.47 18.47 0 0 0 14 14z"})}))}},2500:(e,t,s)=>{"use strict";s.d(t,{s:()=>i});var r=s(52322);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,r.jsx)("path",{d:"M9.52639 4.26872C9.02775 3.94141 8.38661 3.91089 7.85823 4.18932C7.32985 4.46775 7 5.00993 7 5.6V18.4C7 18.9901 7.32985 19.5322 7.85823 19.8107C8.38661 20.0891 9.02775 20.0586 9.52639 19.7313L19.2764 13.3313C19.7285 13.0345 20 12.535 20 12C20 11.465 19.7285 10.9655 19.2764 10.6687L9.52639 4.26872Z",fill:e})}))}},19196:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var r=s(52322);function i({width:e=24,height:t=24,color:s="currentColor"}){return(0,r.jsx)("svg",Object.assign({width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 5C13.8954 5 13 5.89543 13 7V17C13 19.2091 11.2091 21 9 21C6.79086 21 5 19.2091 5 17V15H7V17C7 18.1046 7.89543 19 9 19C10.1046 19 11 18.1046 11 17V7C11 4.79086 12.7909 3 15 3C17.2091 3 19 4.79086 19 7V10.126C20.7252 10.5701 22 12.1362 22 14C22 16.2091 20.2091 18 18 18C15.7909 18 14 16.2091 14 14C14 12.1362 15.2748 10.5701 17 10.126V7C17 5.89543 16.1046 5 15 5ZM6 8C4.89543 8 4 8.89543 4 10C4 11.1046 4.89543 12 6 12C7.10457 12 8 11.1046 8 10C8 8.89543 7.10457 8 6 8ZM2 10C2 7.79086 3.79086 6 6 6C8.20914 6 10 7.79086 10 10C10 12.2091 8.20914 14 6 14C3.79086 14 2 12.2091 2 10ZM16 14C16 12.8954 16.8954 12 18 12C19.1046 12 20 12.8954 20 14C20 15.1046 19.1046 16 18 16C16.8954 16 16 15.1046 16 14Z",fill:s})}))}},32121:(e,t,s)=>{"use strict";s.d(t,{r:()=>i});var r=s(52322);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},{children:(0,r.jsx)("path",{fill:e,d:"M6.85 18.17a2 2 0 0 0 2 1.83h6.32a2 2 0 0 0 2-1.83L18 8H6zM15 5l-1-1h-4L9 5 5 6v1h14V6l-4-1z"})}))}},86308:(e,t,s)=>{"use strict";s.d(t,{G:()=>i});var r=s(52322);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},{children:(0,r.jsx)("path",{fill:e,fillRule:"evenodd",d:"M12 7c2.667 0 5.333 1.667 8 5l-.267.328C17.156 15.443 14.578 17 12 17c-2.667 0-5.333-1.667-8-5 2.667-3.333 5.333-5 8-5zm0 2c-1.657 0-3 1.343-3 3s1.343 3 3 3 3-1.343 3-3-1.343-3-3-3zm1 2v2h-2v-2h2z"})}))}},64779:(e,t,s)=>{"use strict";s.d(t,{v:()=>i});var r=s(52322);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:e},{children:(0,r.jsx)("path",{d:"M20.23 16L13.72 4.93a2 2 0 0 0-3.44 0L3.77 16a2 2 0 0 0 1.73 3h13a2 2 0 0 0 1.73-3zM11 16l.5-2h1l.5 2zm1.5-3h-1L11 8h2z"})}))}},77166:(e,t,s)=>{"use strict";s.d(t,{Ad:()=>i});var r=s(52322);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 7H7H25H26V8V14V15H25H7H6V14V8V7ZM8 9V13H24V9H8ZM6 18H20V20H6V18ZM24 23H6V25H24V23Z",fill:e})}))}},48760:(e,t,s)=>{"use strict";s.d(t,{x:()=>i});var r=s(52322);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M10.414 15H24v2H10.414l6.293 6.293-1.414 1.414L6.586 16l8.707-8.707 1.414 1.414L10.414 15z"})}))}},53533:(e,t,s)=>{"use strict";s.d(t,{X:()=>i});var r=s(52322);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M19.29 24.71L10.59 16l8.7-8.71 1.42 1.42-7.3 7.29 7.3 7.29-1.42 1.42z"})}))}},59128:(e,t,s)=>{"use strict";s.d(t,{r:()=>i});var r=s(52322);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M25 26.62l-9-4.5-9 4.5V9a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3zm-9-6.74l7 3.5V9a1 1 0 0 0-1-1H10a1 1 0 0 0-1 1v14.38z"})}))}},10881:(e,t,s)=>{"use strict";s.d(t,{e:()=>i});var r=s(52322);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M22.05 10l-.65-1.95A3 3 0 0 0 18.56 6h-5.12a3 3 0 0 0-2.84 2.05L10 10H5v13a3 3 0 0 0 3 3h16a3 3 0 0 0 3-3V10zm-8.61-2h5.12a1 1 0 0 1 1 .68L20 10h-7.9l.44-1.32a1 1 0 0 1 .9-.68zm-2.77 4H25v2.67a33.54 33.54 0 0 1-18 0V12zM24 24H8a1 1 0 0 1-1-1v-6.26a35.66 35.66 0 0 0 8 1.14V20h2v-2.12a35.66 35.66 0 0 0 8-1.14V23a1 1 0 0 1-1 1z"})}))}},49410:(e,t,s)=>{"use strict";s.d(t,{x:()=>i});var r=s(52322);function i({color:e="currentColor"}){return(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,r.jsx)("path",{d:"M7.293 8.71l1.414-1.414L24.71 23.297l-1.414 1.415z"}),(0,r.jsx)("path",{d:"M7.293 23.29L23.295 7.288l1.414 1.415L8.707 24.704z"})]}))}},27926:(e,t,s)=>{"use strict";s.d(t,{g:()=>i});var r=s(52322);const i=({width:e=32,height:t=32,color:s="#19AA1E"})=>(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:e,height:t,viewBox:"0 0 32 32",fill:"none"},{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 4C21.9567 4 26 8.61818 26 13.6C26 15.6 25.5668 17.3455 24.556 19.5273C18.6354 19.5273 17.5523 23.4909 17.2996 26.1455L17.1191 28H14.8809L14.7004 26.1455C14.4477 23.4909 13.3646 19.5273 7.44404 19.5273C6.43321 17.3455 6 15.6 6 13.6C6 8.61818 10.0433 4 16 4Z",fill:s})}))},31719:(e,t,s)=>{"use strict";s.d(t,{x:()=>i});var r=s(52322);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M7 10h18v2H7zM10 15h12v2H10zM13 20h6v2h-6z"})}))}},44853:(e,t,s)=>{"use strict";s.d(t,{_:()=>i});var r=s(52322);const i=({width:e=32,height:t=32,color:s="currentColor"})=>(0,r.jsxs)("svg",Object.assign({width:e,height:t,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 13C22.933 13 24.5 11.433 24.5 9.5C24.5 7.567 22.933 6 21 6C19.067 6 17.5 7.567 17.5 9.5C17.5 11.433 19.067 13 21 13ZM21 11.25C21.9665 11.25 22.75 10.4665 22.75 9.5C22.75 8.5335 21.9665 7.75 21 7.75C20.0335 7.75 19.25 8.5335 19.25 9.5C19.25 10.4665 20.0335 11.25 21 11.25Z",fill:s}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.5 12C15.5 14.2091 13.7091 16 11.5 16C9.29086 16 7.5 14.2091 7.5 12C7.5 9.79086 9.29086 8 11.5 8C13.7091 8 15.5 9.79086 15.5 12ZM13.5 12C13.5 13.1046 12.6046 14 11.5 14C10.3954 14 9.5 13.1046 9.5 12C9.5 10.8954 10.3954 10 11.5 10C12.6046 10 13.5 10.8954 13.5 12Z",fill:s}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 23.4411C18.0001 19.4906 15.2954 17 11.5 17C7.28743 17 5.00021 19.4906 5 23.4411C5 24.8544 6.18125 26 7.6384 26H15.3616C16.8187 26 18 24.8544 18 23.4411ZM14.7806 20.1745C15.497 20.8697 16 21.9392 16 23.4411C16 23.6925 15.7723 24 15.3616 24H7.6384C7.22772 24 7.00006 23.6925 7 23.4411C7.0001 21.8465 7.45578 20.7926 8.09607 20.1418C8.73038 19.497 9.78954 19 11.5 19C12.9562 19 14.0559 19.4713 14.7806 20.1745Z",fill:s}),(0,r.jsx)("path",{d:"M20.9782 14C24.4817 14 26.9783 16.2139 26.9782 19.7255C26.9782 20.9817 25.8878 22 24.5428 22H19.8975C19.7951 21.2971 19.6165 20.6275 19.365 20H24.5428C24.6899 20 24.9782 19.9185 24.9782 19.7254C24.9782 18.467 24.5443 17.5844 23.9266 17.0072C23.2939 16.416 22.3098 16 20.9782 16C19.4088 16 18.4652 16.4406 17.9191 16.9752C17.8083 17.0836 17.7035 17.206 17.6069 17.3437L17.5661 17.3038C17.0955 16.8471 16.5737 16.4578 16.011 16.1363C16.9981 14.7754 18.6769 14 20.9782 14Z",fill:s}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.5 12C15.5 14.2091 13.7091 16 11.5 16C9.29086 16 7.5 14.2091 7.5 12C7.5 9.79086 9.29086 8 11.5 8C13.7091 8 15.5 9.79086 15.5 12ZM13.5 12C13.5 13.1046 12.6046 14 11.5 14C10.3954 14 9.5 13.1046 9.5 12C9.5 10.8954 10.3954 10 11.5 10C12.6046 10 13.5 10.8954 13.5 12Z"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 23.4411C18.0001 19.4906 15.2954 17 11.5 17C7.28743 17 5.00021 19.4906 5 23.4411C5 24.8544 6.18125 26 7.6384 26H15.3616C16.8187 26 18 24.8544 18 23.4411ZM14.7806 20.1745C15.497 20.8697 16 21.9392 16 23.4411C16 23.6925 15.7723 24 15.3616 24H7.6384C7.22772 24 7.00006 23.6925 7 23.4411C7.0001 21.8465 7.45578 20.7926 8.09607 20.1418C8.73038 19.497 9.78954 19 11.5 19C12.9562 19 14.0559 19.4713 14.7806 20.1745Z"}),(0,r.jsx)("path",{d:"M20.9782 14C24.4817 14 26.9783 16.2139 26.9782 19.7255C26.9782 20.9817 25.8878 22 24.5428 22H19.8975C19.7951 21.2971 19.6165 20.6275 19.365 20H24.5428C24.6899 20 24.9782 19.9185 24.9782 19.7254C24.9782 18.467 24.5443 17.5844 23.9266 17.0072C23.2939 16.416 22.3098 16 20.9782 16C19.4088 16 18.4652 16.4406 17.9191 16.9752C17.8083 17.0836 17.7035 17.206 17.6069 17.3437L17.5661 17.3038C17.0955 16.8471 16.5737 16.4578 16.011 16.1363C16.9981 14.7754 18.6769 14 20.9782 14Z"})]}))},24965:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var r=s(52322);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:(0,r.jsx)("path",{fill:e,fillRule:"evenodd",d:"M12.5 21c1.933 0 3.5 1.567 3.5 3.5S14.433 28 12.5 28 9 26.433 9 24.5s1.567-3.5 3.5-3.5zm10 0c1.933 0 3.5 1.567 3.5 3.5S24.433 28 22.5 28 19 26.433 19 24.5s1.567-3.5 3.5-3.5zm-10 2c-.828 0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5 1.5-.672 1.5-1.5-.672-1.5-1.5-1.5zm10 0c-.828 0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5 1.5-.672 1.5-1.5-.672-1.5-1.5-1.5zM5.383 4c1.353 0 2.53.904 2.89 2.193l.044.178 2.257 10.534c.104.488.55.819 1.038.789l.113-.014 13.449-2.373c.438-.077.767-.433.819-.865l.007-.12V10H11V8h17v6.322c0 1.395-.96 2.597-2.302 2.918l-.177.036-13.448 2.374c-1.531.27-3.003-.673-3.412-2.153l-.043-.173L6.361 6.79c-.09-.422-.44-.734-.861-.783L5.383 6H4V4h1.383z"})}))}},47958:(e,t,s)=>{"use strict";s.d(t,{S:()=>i});var r=s(52322);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M9.06 13L16 16.856 22.94 13 16 9.144 9.06 13zM16 19.144L4.94 13 16 6.856 27.06 13 16 19.144zm0 3.712l9-5L27.06 19 16 25.144 4.94 19 7 17.856l9 5z"})}))}},72173:(e,t,s)=>{"use strict";s.d(t,{a:()=>i});var r=s(52322);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 9C8.44772 9 8 9.44772 8 10C8 10.5523 8.44772 11 9 11C9.55228 11 10 10.5523 10 10C10 9.44772 9.55228 9 9 9ZM13 9C12.4477 9 12 9.44772 12 10C12 10.5523 12.4477 11 13 11H23C23.5523 11 24 10.5523 24 10C24 9.44772 23.5523 9 23 9H13ZM13 15C12.4477 15 12 15.4477 12 16C12 16.5523 12.4477 17 13 17H23C23.5523 17 24 16.5523 24 16C24 15.4477 23.5523 15 23 15H13ZM12 22C12 21.4477 12.4477 21 13 21H23C23.5523 21 24 21.4477 24 22C24 22.5523 23.5523 23 23 23H13C12.4477 23 12 22.5523 12 22ZM8 16C8 15.4477 8.44772 15 9 15C9.55228 15 10 15.4477 10 16C10 16.5523 9.55228 17 9 17C8.44772 17 8 16.5523 8 16ZM9 21C8.44772 21 8 21.4477 8 22C8 22.5523 8.44772 23 9 23C9.55228 23 10 22.5523 10 22C10 21.4477 9.55228 21 9 21Z",fill:e})}))}},53427:(e,t,s)=>{"use strict";s.d(t,{Y:()=>i});var r=s(52322);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:(0,r.jsx)("path",{fill:e,d:"M17.89 26.27l-2.7-9.46-9.46-2.7 18.92-6.76zm-5.62-12.38l4.54 1.3 1.3 4.54 3.24-9.08z"})}))}},94137:(e,t,s)=>{"use strict";s.d(t,{u:()=>i});var r=s(52322);function i({color:e="currentColor"}){return(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,r.jsx)("path",{d:"M26.78 13.78a11.43 11.43 0 0 0-.64-2.06 10.55 10.55 0 0 0-1-1.87 11.61 11.61 0 0 0-1.34-1.63 11 11 0 0 0-1.63-1.34 10.56 10.56 0 0 0-1.87-1 10.81 10.81 0 0 0-2.07-.65 11.34 11.34 0 0 0-4.42 0 10.81 10.81 0 0 0-2.07.65 10.56 10.56 0 0 0-1.87 1 11 11 0 0 0-1.65 1.34 11.61 11.61 0 0 0-1.34 1.63L8.54 11A9.16 9.16 0 0 1 11 8.54a8.08 8.08 0 0 1 1.53-.83 9.1 9.1 0 0 1 1.68-.53 9.29 9.29 0 0 1 3.64 0 9.1 9.1 0 0 1 1.68.53 8.08 8.08 0 0 1 1.47.83A9.16 9.16 0 0 1 23.46 11a8.08 8.08 0 0 1 .83 1.53 9.1 9.1 0 0 1 .53 1.68A9.28 9.28 0 0 1 25 16a9.11 9.11 0 0 1-.18 1.81 9 9 0 0 1-.53 1.69 8.08 8.08 0 0 1-.83 1.5A9.16 9.16 0 0 1 21 23.46a8.08 8.08 0 0 1-1.53.83 9.1 9.1 0 0 1-1.68.53 9.29 9.29 0 0 1-3.64 0 9.1 9.1 0 0 1-1.68-.53 8.08 8.08 0 0 1-1.47-.83A9.16 9.16 0 0 1 8.54 21l-1.66 1.15a11.61 11.61 0 0 0 1.34 1.63 11 11 0 0 0 1.63 1.34 10.56 10.56 0 0 0 1.87 1 10.81 10.81 0 0 0 2.07.65 11.21 11.21 0 0 0 4.42 0 10.81 10.81 0 0 0 2.07-.65 10.56 10.56 0 0 0 1.87-1 11 11 0 0 0 1.63-1.34 11.61 11.61 0 0 0 1.34-1.63 10.55 10.55 0 0 0 1-1.87 11.43 11.43 0 0 0 .64-2.06 11.31 11.31 0 0 0 0-4.44z"}),(0,r.jsx)("path",{d:"M14.29 19.29l1.42 1.42 4.7-4.71-4.7-4.71-1.42 1.42 2.3 2.29H5v2h11.59l-2.3 2.29z"})]}))}},2502:(e,t,s)=>{"use strict";s.d(t,{D:()=>i});var r=s(52322);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M26 6.81958V8.00004V23V23.8472L25.1644 23.9864L19.1644 24.9864L19 25.0138L18.8356 24.9864L13 24.0138L7.1644 24.9864L6 25.1805V24V9.00004V8.15291L6.8356 8.01365L12.8356 7.01365L13 6.98625L13.1644 7.01365L19 7.98625L24.8356 7.01365L26 6.81958ZM8 9.84717V22.8196L12 22.1529V12H14V22.1529L18 22.8196V13H20V22.8196L24 22.1529V9.1805L19.1644 9.98643L19 10.0138L18.8356 9.98643L13 9.01383L8 9.84717Z",fill:e})}))}},14630:(e,t,s)=>{"use strict";s.d(t,{d:()=>i});var r=s(52322);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:(0,r.jsx)("path",{fill:e,fillRule:"evenodd",clipRule:"evenodd",d:"M9,6C7.3,6,6,7.3,6,9v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V9\n\tc0-1.7-1.3-3-3-3H9z M8,9c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1v14c0,0.6-0.4,1-1,1H9c-0.6,0-1-0.4-1-1V9z M13,11h-1v1v9h2v-3h2.5\n\tc1.9,0,3.5-1.6,3.5-3.5S18.4,11,16.5,11H13z M14,16v-3h2.5c0.8,0,1.5,0.7,1.5,1.5S17.3,16,16.5,16H14z"})}))}},91440:(e,t,s)=>{"use strict";s.d(t,{P:()=>i});var r=s(52322);function i({color:e="currentColor"}){return(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,r.jsx)("path",{d:"M16 12a5 5 0 1 0 5 5 5 5 0 0 0-5-5zm0 8a3 3 0 1 1 3-3 3 3 0 0 1-3 3z"}),(0,r.jsx)("path",{d:"M21.8 9.24L20.72 6h-9.44L10.2 9.24 5 11.32V23a3 3 0 0 0 3 3h16a3 3 0 0 0 3-3V11.32zM25 23a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1V12.68l4.8-1.92.92-2.76h6.56l.92 2.76 4.8 1.92z"})]}))}},63724:(e,t,s)=>{"use strict";s.d(t,{s:()=>i});var r=s(52322);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e,fillRule:"evenodd"},{children:(0,r.jsx)("path",{d:"M12.24 8.15l11.44 6.43a1.51 1.51 0 0 1 .57 2 1.64 1.64 0 0 1-.57.57l-11.44 6.48a1.51 1.51 0 0 1-2.05-.57 1.56 1.56 0 0 1-.19-.73V9.45a1.49 1.49 0 0 1 2.24-1.3z"})}))}},52372:(e,t,s)=>{"use strict";s.d(t,{b:()=>i});var r=s(52322);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32"},{children:(0,r.jsx)("path",{fill:e,fillRule:"evenodd",d:"M16 24v3a2 2 0 01-2 2h-2.303l-2.806-1.871A1.998 1.998 0 018 25.465v-5.72a7.001 7.001 0 013.088-12.686A5.001 5.001 0 0121 8v.382l5 2.5V22a2 2 0 01-2 2h-8zM7 14a5.002 5.002 0 014-4.9V12a1 1 0 002 0V9.1a5.002 5.002 0 011.5 9.232l-.5.288V27h-1.697L10 25.465V18.62l-.5-.288A5.002 5.002 0 017 14zm10.236-4.646a6.997 6.997 0 00-4.096-2.262A3 3 0 0119 8v.382l-1.447.724a.988.988 0 00-.317.248zM19 14c0-1.092-.25-2.126-.696-3.047.048-.016.096-.035.143-.059L20 10.118l4 2V22h-8v-2.255A6.992 6.992 0 0019 14z",clipRule:"evenodd"})}))}},13493:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var r=s(52322);function i({color:e="currentColor"}){return(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,r.jsx)("path",{d:"M13 13a4 4 0 1 0-4 4 4 4 0 0 0 4-4zm-6 0a2 2 0 1 1 2 2 2 2 0 0 1-2-2z"}),(0,r.jsx)("path",{d:"M24 15.14V10.5a4.5 4.5 0 0 0-9 0v11a2.5 2.5 0 0 1-5 0V19H8v2.5a4.5 4.5 0 0 0 9 0v-11a2.5 2.5 0 0 1 5 0v4.64a4 4 0 1 0 2 0zM23 21a2 2 0 1 1 2-2 2 2 0 0 1-2 2z"})]}))}},70540:(e,t,s)=>{"use strict";s.d(t,{o:()=>i});var r=s(52322);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M25.71 24.29l-5.4-5.39A7.92 7.92 0 0 0 22 14a8 8 0 1 0-8 8 7.92 7.92 0 0 0 4.9-1.69l5.39 5.4zM8 14a6 6 0 1 1 10.28 4.2l-.08.08A6 6 0 0 1 8 14z"})}))}},32318:(e,t,s)=>{"use strict";s.d(t,{m:()=>i});var r=s(52322);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M22 19a4 4 0 0 0-2.92 1.29L12.87 17a3.54 3.54 0 0 0 0-1.9l6.21-3.34A4 4 0 0 0 22 13a4 4 0 1 0-4-4 3.75 3.75 0 0 0 .13.95l-6.21 3.34A4 4 0 0 0 9 12a4 4 0 0 0 0 8 4 4 0 0 0 2.92-1.29l6.21 3.34A3.75 3.75 0 0 0 18 23a4 4 0 1 0 4-4zm0-12a2 2 0 1 1-2 2 2 2 0 0 1 2-2zM9 18a2 2 0 1 1 2-2 2 2 0 0 1-2 2zm13 7a2 2 0 1 1 2-2 2 2 0 0 1-2 2z"})}))}},99079:(e,t,s)=>{"use strict";s.d(t,{Q:()=>i});var r=s(52322);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M24.62 20l2.5-5-2.5-5H17V6H7.38l-2.5 5 2.5 5H15v8h-4v2h10v-2h-4v-4zm-1.24-8l1.5 3-1.5 3H17v-6zM8.62 14l-1.5-3 1.5-3H15v6z"})}))}},80281:(e,t,s)=>{"use strict";s.d(t,{g:()=>i});var r=s(52322);function i(){return(0,r.jsxs)("svg",Object.assign({width:"32",height:"32",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("circle",{fill:"gray",cx:"16",cy:"16",r:"2"}),(0,r.jsx)("circle",{fill:"gray",cx:"8",cy:"16",r:"2"}),(0,r.jsx)("circle",{fill:"gray",cx:"24",cy:"16",r:"2"})]}))}},77032:(e,t,s)=>{"use strict";s.d(t,{y:()=>i});var r=s(52322);function i(){return(0,r.jsxs)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{d:"M40 0H0v40h40V0Z",fill:"#19AA1E"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0h40v13.125L0 6.875V0Z",fill:"#FFB919"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m0 35.625 40-6.25V40H0v-4.375Z",fill:"#82D714"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m0 6.084 13.962 2.182C15.7 7.166 17.768 6.563 20 6.563c3.091 0 5.868 1.157 7.89 3.189.254.256.495.524.72.803L40 12.335v1.58l-10.233-1.598a10.27 10.27 0 0 1 1.17 4.743c0 2.143-.479 4.28-1.47 6.425l-.03.065-.42.902h-.996c-2.055 0-3.418.614-4.309 1.704-.7.855-1.104 2.008-1.24 3.266l-.005.04-.02.2-.008.088-.016.17a31.28 31.28 0 0 0-.105 1.427L40 28.584v1.582l-40 6.25v-1.582l17.702-2.766-.008-.355-.003-.1-.001-.051-.003-.08c-.016-.43-.055-.982-.118-1.65l-.012-.127-.022-.22c-.127-1.265-.526-2.432-1.224-3.3-.881-1.097-2.232-1.72-4.27-1.733h-1.057l-.421-.902c-1.011-2.167-1.5-4.325-1.5-6.49 0-2.722 1.104-5.354 3.048-7.308.056-.057.112-.112.17-.167L0 7.665v-1.58Z",fill:"#fff"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 8.125c5.584 0 9.375 4.298 9.375 8.935 0 1.862-.406 3.799-1.354 5.83-5.495 0-6.851 3.934-7.108 6.41l-.016.165a31.03 31.03 0 0 0-.151 2.128l-1.488.232v-.048c-.006-.56-.06-1.346-.16-2.358l-.004-.044c-.237-2.47-1.565-6.486-7.115-6.486-.948-2.03-1.354-3.967-1.354-5.829 0-4.637 3.79-8.935 9.375-8.935Z",fill:"#0070CC"})]}))}},38399:(e,t,s)=>{"use strict";s.d(t,{E:()=>a});var r=s(52322);const i={down:"0",up:"180",right:"-90",left:"90"};function a({direction:e,size:t=24,color:s="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:s,style:{transform:`rotate(${i[e||"down"]||0}deg)`}},{children:(0,r.jsx)("path",{d:"M15.793 9.4l1.414 1.414L12 16.024l-5.207-5.21L8.207 9.4 12 13.195z"})}))}},39790:(e,t,s)=>{"use strict";s.d(t,{S:()=>a});var r=s(52322);const i={down:-90,up:90,right:180,left:0};function a({direction:e="left",size:t=24,color:s="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${i[e]}deg)`},width:t,height:t,fill:"none",viewBox:"0 0 18 18"},{children:(0,r.jsx)("path",{fill:s,d:"M9.293.293l1.414 1.414-6.293 6.292L18 8v2L4.412 9.999l6.295 6.294-1.414 1.414L.586 9 9.293.293z"})}))}},76709:(e,t,s)=>{"use strict";s.d(t,{_:()=>i});var r=s(52322);function i({color:e="currentColor",size:t=16}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 16 16"},{children:(0,r.jsx)("path",{fill:e,d:"M3 3l2.5 3L8 3l2.5 3L13 3v9H3z"})}))}},48302:(e,t,s)=>{"use strict";s.d(t,{x:()=>i});var r=s(52322);const i=({height:e=24,width:t=87})=>(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:t,height:e,fill:"none",viewBox:"0 0 87 24"},{children:[(0,r.jsx)("mask",Object.assign({id:"a",width:"24",height:"24",x:"0",y:"0",maskUnits:"userSpaceOnUse",style:{maskType:"alpha"}},{children:(0,r.jsx)("path",{fill:"#299400",d:"M18.0408 23.9889c.5303-.0111 1.0643-.0445 1.5871-.1371.5303-.0964 1.0272-.2446 1.5093-.4929.4784-.2372.9122-.5522 1.2868-.9228.3745-.3706.6934-.8005.9308-1.2712.2447-.4781.4005-.9635.4969-1.4898.0964-.5188.1261-1.0451.1372-1.5713.0074-.2409.0074-.4818.0111-.7227V6.6152c0-.24089 0-.48178-.0111-.72267-.0111-.52255-.0445-1.0525-.1372-1.57134-.0964-.52625-.2522-1.01545-.4969-1.48981-.2411-.46696-.5563-.89685-.9308-1.27116-.3746-.3706-.8121-.685606-1.2868-.922789-.4858-.24089-.979-.396542-1.5093-.492897-.5228-.0926501-1.0568-.126004-1.5871-.13712202-.1001 0-.2003-.00370599-.3634-.00741198H6.99011L5.96663.011118C5.43634.022236 4.90235.0555899 4.37948.14824 3.8492.244595 3.35229.396541 2.87021.641137c-.47837.237183-.91224.552193-1.28677.922793-.37454.3706-.693452.80049-.930782 1.27115-.248455.47808-.400495.96356-.49691 1.48981-.1001238.51884-.12979 1.04509-.1446232 1.57134C.00370828 6.13712.00370828 6.37801 0 6.6189v10.7659c0 .2409.00370828.4818.0111248.7227.0111249.5225.0444994 1.0525.1372062 1.5713.096416.5263.252163 1.0155.49691 1.4898.241038.467.556239.8969.930779 1.2712.37454.3706.81211.6856 1.28677.9228.48579.2409.97899.3965 1.50927.4929.52287.0926 1.05686.126 1.58715.1371.10012 0 .20025.0037.36341.0074H16.4425l1.5909-.0074.0074-.0037Z"})})),(0,r.jsxs)("g",Object.assign({mask:"url(#a)"},{children:[(0,r.jsx)("path",{fill:"#19AA1E",d:"M0 0h24v24H0z"}),(0,r.jsx)("path",{fill:"#FFB919",fillRule:"evenodd",d:"M0 0h24v7.875L0 4.125V0Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#82D714",fillRule:"evenodd",d:"m0 21.375 24-3.75V24H0v-2.625Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#fff",fillRule:"evenodd",d:"m0 3.65057 8.37739 1.30895C9.42023 4.29942 10.6609 3.9375 12 3.9375c1.8547 0 3.5206.6943 4.7336 1.91353.1531.15385.2975.31471.4328.48179L24 7.40055v.94887l-6.1397-.95931c.4561.87533.7022 1.8506.7022 2.84589 0 1.2858-.2876 2.5678-.8821 3.855l-.0181.039-.2525.541h-.5971c-1.2329 0-2.0507.3688-2.5854 1.0224-.4198.5132-.6626 1.205-.7443 1.9598l-.0025.0236-.0119.1206-.0051.0525-.0097.1026c-.0313.337-.0522.6228-.0628.8557L24 17.1506v.9488l-24 3.75v-.9488l10.6209-1.6596-.0046-.213-.0014-.0601-.0009-.0308-.0017-.0475c-.0095-.2583-.0332-.5894-.0711-.9907l-.0073-.0761-.013-.1318c-.0762-.7588-.3154-1.4594-.73409-1.9802-.52909-.658-1.33937-1.0322-2.56235-1.0397l-.03719-.0001h-.59705l-.25249-.541c-.60678-1.3003-.90023-2.5952-.90023-3.894 0-1.63332.66263-3.21271 1.8289-4.38497.03367-.03384.06768-.06728.10204-.10031L0 4.59942v-.94885Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#0073FA",fillRule:"evenodd",d:"M12 4.875c3.3506 0 5.625 2.57897 5.625 5.361 0 1.1169-.2437 2.2791-.8123 3.4975-3.297 0-4.1108 2.3612-4.2647 3.8468l-.0098.099c-.0522.5302-.0823.9556-.0906 1.2763l-.893.1396-.0002-.0289c-.0034-.3362-.0352-.8078-.0953-1.4148l-.0026-.0265c-.1422-1.4824-.9389-3.8915-4.26923-3.8915-.56859-1.2184-.81227-2.3806-.81227-3.4975 0-2.78203 2.27437-5.361 5.625-5.361Z",clipRule:"evenodd"})]})),(0,r.jsx)("path",{fill:"#262626",fillRule:"evenodd",d:"M35.234 4c-3.8621 0-6.7586 2.30303-6.7338 6.303h3.5897c-.0495-1.59997.9902-3.15148 3.1441-3.15148 1.6339 0 2.6737 1.06666 2.6737 2.42424 0 1.40604-1.1388 2.18184-2.9708 3.05454-2.4014 1.1394-3.8373 1.6727-6.4367 2.5212v4.6061h12.8734v-3.1515h-8.0211c1.2409-.5066 2.4487-1.0628 3.5401-1.5758 2.8966-1.3576 4.6048-2.8848 4.6048-5.62424C41.4974 6.10909 38.9722 4 35.234 4Zm11.8336 3.39394h7.427V4.24242H43.6017V19.7576h3.4659V7.39394Zm12.6259-3.15152h-3.466V19.7576h3.4412l6.4615-9.91518v9.91518h3.4659V4.24242h-3.4659l-6.4367 9.91518V4.24242ZM87 13.9394h-3.5897c-.5446 1.7212-2.2033 2.9091-4.1591 2.9091-2.847 0-4.7038-2.4-4.7038-4.8485 0-2.44848 1.8073-4.84848 4.8028-4.84848 1.9805 0 3.5155 1.18787 4.0601 2.90908H87C86.4801 6.59394 83.6826 4 79.2512 4c-4.9018 0-8.1697 3.3697-8.1697 8s3.2679 8 8.1697 8c4.4314 0 7.2289-2.5455 7.7488-6.0606Z",clipRule:"evenodd"})]}))},32629:(e,t,s)=>{"use strict";s.d(t,{S:()=>i});var r=s(52322);function i({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"-4 -6 32 32",fill:e},{children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M21.014 8.107l-.015 11.888H3V8.098l-1.463.931L.463 7.342 12 0l11.537 7.342-1.074 1.687-1.449-.922zM8.008 17.995v-8H16v8h3.001l.015-11.16L12 2.371 5 6.825v11.17h3.008zm2 0H14v-6h-3.992v6z"})}))}},1089:(e,t,s)=>{"use strict";s.d(t,{y:()=>i,PA:()=>a,se:()=>n,zY:()=>o,lM:()=>d,_J:()=>c});var r=s(52322);function i({color:e="currentColor"}){return(0,r.jsxs)("svg",Object.assign({width:"11",height:"8",viewBox:"0 0 11 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{d:"M10 2.22583C10.548 2.22583 10.9923 2.67009 10.9923 3.21811V4.25473C10.9923 4.80275 10.548 5.24701 10 5.24701V2.22583Z",fill:e}),(0,r.jsx)("path",{d:"M2 0.74707H8C8.82944 0.74707 9.5 1.41774 9.5 2.24279V5.25135C9.5 6.0764 8.82944 6.74707 8 6.74707H2C1.17056 6.74707 0.5 6.0764 0.5 5.25135V2.24279C0.5 1.41774 1.17056 0.74707 2 0.74707Z",stroke:e}),(0,r.jsx)("path",{d:"M2 3.24707C2 2.69479 2.44772 2.24707 3 2.24707H7C7.55228 2.24707 8 2.69479 8 3.24707V4.24707C8 4.79936 7.55228 5.24707 7 5.24707H3C2.44772 5.24707 2 4.79936 2 4.24707V3.24707Z",fill:e})]}))}function a({color:e="currentColor"}){return(0,r.jsxs)("svg",Object.assign({width:"11",height:"8",viewBox:"0 0 11 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{d:"M10 2.22583C10.548 2.22583 10.9923 2.67009 10.9923 3.21811V4.25473C10.9923 4.80275 10.548 5.24701 10 5.24701V2.22583Z",fill:e}),(0,r.jsx)("path",{d:"M2 0.74707H8C8.82944 0.74707 9.5 1.41774 9.5 2.24279V5.25135C9.5 6.0764 8.82944 6.74707 8 6.74707H2C1.17056 6.74707 0.5 6.0764 0.5 5.25135V2.24279C0.5 1.41774 1.17056 0.74707 2 0.74707Z",stroke:e}),(0,r.jsx)("path",{d:"M2 3.24707C2 2.69479 2.44772 2.24707 3 2.24707C3.55228 2.24707 4 2.69479 4 3.24707V4.26825C4 4.82053 3.55228 5.26825 3 5.26825C2.44772 5.26825 2 4.82053 2 4.26825V3.24707Z",fill:"#F5373C"})]}))}function n({color:e="#141414"}){return(0,r.jsxs)("svg",Object.assign({width:"12",height:"7",viewBox:"0 0 12 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{d:"M10.5 1.97876C11.048 1.97876 11.4923 2.42302 11.4923 2.97104V4.00766C11.4923 4.55568 11.048 4.99994 10.5 4.99994V1.97876Z",fill:e}),(0,r.jsx)("path",{d:"M2.5 0.5H8.5C9.32944 0.5 10 1.17067 10 1.99572V5.00428C10 5.82933 9.32944 6.5 8.5 6.5H2.5C1.67056 6.5 1 5.82933 1 5.00428V1.99572C1 1.17067 1.67056 0.5 2.5 0.5Z",stroke:e}),(0,r.jsx)("path",{d:"M2.5 3C2.5 2.44772 2.94772 2 3.5 2H5.5C6.05228 2 6.5 2.44772 6.5 3V4C6.5 4.55228 6.05228 5 5.5 5H3.5C2.94772 5 2.5 4.55228 2.5 4V3Z",fill:e})]}))}function o({color:e="currentColor"}){return(0,r.jsxs)("svg",Object.assign({width:"11",height:"8",viewBox:"0 0 11 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.99729 0.24707H6C6 2.24279 6 4.32214 6 7.24707H2.99729C1.99648 7.24707 1 6.35355 1 5.25135V2.24279C1 1.14059 2.01548 0.24707 2.99729 0.24707Z",fill:e}),(0,r.jsx)("path",{d:"M3 1.99707C3 1.58286 3.33579 1.24707 3.75 1.24707H8.25C8.66421 1.24707 9 1.58286 9 1.99707C9 2.41128 8.66421 2.74707 8.25 2.74707H3.75C3.33579 2.74707 3 2.41128 3 1.99707Z",fill:e}),(0,r.jsx)("path",{d:"M3 5.50562C3 5.0914 3.33579 4.75562 3.75 4.75562H8.25C8.66421 4.75562 9 5.0914 9 5.50562C9 5.91983 8.66421 6.25562 8.25 6.25562H3.75C3.33579 6.25562 3 5.91983 3 5.50562Z",fill:e})]}))}function c(){return(0,r.jsxs)("svg",Object.assign({width:"11",height:"10",viewBox:"0 0 11 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{d:"M6.82741 7.12752L9.69987 9.99998L10.5 9.19985L1.30015 0L0.500021 0.800128L2.91766 3.21776L0.5 4.12439L4.29455 5.75062L5.92079 9.54518L6.82741 7.12752Z",fill:"white"}),(0,r.jsx)("path",{d:"M9.17326 0.871912L7.67284 4.87304L5.17213 2.37234L9.17326 0.871912Z",fill:"white"})]}))}const d=e=>(0,r.jsxs)("svg",Object.assign({width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e,{children:[(0,r.jsx)("path",{d:"M13.8975 1.78223L14.9177 2.29234C15.6947 2.68087 16.1321 3.52663 16 4.38531L15.1656 8.78279H19.1057C21.0838 8.78279 22.5205 10.6637 22 12.5721L20.0909 19.5721C19.7349 20.8773 18.5495 21.7828 17.1966 21.7828H10C8.34315 21.7828 7 20.4396 7 18.7828V9.9686C7 9.20669 7.28989 8.47333 7.81085 7.91735L13.8975 1.78223Z",fill:"#929292"}),(0,r.jsx)("path",{d:"M5 8.78275L3 8.78279V21.7828H5V8.78275Z",fill:"#929292"})]}))},17926:(e,t,s)=>{"use strict";s.d(t,{y:()=>i});var r=s(52322);function i({size:e=64}={}){return(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:e,height:e,viewBox:"0 0 64 64"},{children:[(0,r.jsx)("defs",{children:(0,r.jsx)("rect",{id:"i2v4gc9jka",width:"64",height:"64",x:"0",y:"0",rx:"8"})}),(0,r.jsx)("g",Object.assign({fill:"none",fillRule:"evenodd"},{children:(0,r.jsx)("g",{children:(0,r.jsx)("g",{children:(0,r.jsxs)("g",Object.assign({transform:"translate(-44 -120) translate(28 108) translate(16 12)"},{children:[(0,r.jsx)("mask",Object.assign({id:"qkf4unla0b",fill:"#fff"},{children:(0,r.jsx)("use",{xlinkHref:"#i2v4gc9jka"})})),(0,r.jsx)("use",{fill:"#D8D8D8",xlinkHref:"#i2v4gc9jka"}),(0,r.jsxs)("g",Object.assign({mask:"url(#qkf4unla0b)"},{children:[(0,r.jsx)("path",{fill:"#19AA1E",d:"M0 0H64V64H0z"}),(0,r.jsx)("path",{fill:"#FFB919",d:"M0 0L64 0 64 21 0 11z"}),(0,r.jsx)("path",{fill:"#82D714",d:"M0 57L64 47 64 64 0 64z"}),(0,r.jsx)("path",{fill:"#FFF",d:"M0 9.735l22.34 3.49c2.78-1.76 6.089-2.725 9.66-2.725 4.946 0 9.388 1.851 12.623 5.103.408.41.793.839 1.154 1.285L64 19.735v2.53l-16.373-2.558c1.217 2.334 1.873 4.935 1.873 7.589 0 3.429-.767 6.848-2.352 10.28l-.049.104-.673 1.443h-1.592c-3.288 0-5.469.983-6.895 2.726-1.12 1.369-1.766 3.213-1.984 5.226l-.007.063-.032.322-.013.14-.026.273c-.084.9-.14 1.661-.168 2.282L64 45.735v2.53l-64 10v-2.53l28.323-4.426-.013-.568-.004-.16-.002-.082-.004-.127c-.026-.689-.09-1.572-.19-2.642l-.02-.203-.034-.351c-.203-2.023-.841-3.892-1.958-5.28-1.41-1.755-3.571-2.753-6.833-2.773h-1.691L16.9 37.68c-1.618-3.467-2.401-6.92-2.401-10.384 0-4.355 1.767-8.567 4.877-11.693.09-.09.18-.18.272-.268L0 12.265v-2.53z"}),(0,r.jsx)("path",{fill:"#0073FA",d:"M32 13c8.935 0 15 6.877 15 14.296 0 2.978-.65 6.078-2.166 9.327-8.792 0-10.962 6.296-11.373 10.258l-.026.264c-.139 1.414-.22 2.548-.241 3.403l-2.382.372v-.077c-.01-.896-.094-2.154-.254-3.772L30.55 47c-.38-3.953-2.504-10.377-11.385-10.377C17.65 33.373 17 30.274 17 27.296 17 19.877 23.065 13 32 13z"})]}))]}))})})}))]}))}},67364:(e,t,s)=>{"use strict";s.d(t,{W:()=>i});var r=s(52322);function i(){return(0,r.jsxs)("svg",Object.assign({width:"220",height:"160",viewBox:"0 0 220 160",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{d:"m92.65 127.815-8.374-4.587a.988.988 0 0 1-.39-1.237l8.375 4.587a.994.994 0 0 0 .39 1.237",fill:"#0D5810"}),(0,r.jsx)("path",{d:"m92.26 126.578-8.373-4.587c.018-.05.039-.099.063-.146l8.374 4.587a1.442 1.442 0 0 0-.063.146",fill:"#0E5C10"}),(0,r.jsx)("path",{d:"m92.323 126.433-8.374-4.588 6.562-13.156 8.374 4.588-6.562 13.156Z",fill:"url(#a)"}),(0,r.jsx)("path",{d:"M136.976 54.049c25.414-3.597 45.986 8.899 45.951 27.913-.035 19.014-20.664 37.341-46.078 40.937-11.113 1.573-21.303.067-29.247-3.716l-14.055 8.576c-.12.075-.252.124-.391.146-.696.098-1.232-.674-.833-1.473l6.562-13.156c-5.05-4.815-8-11.083-7.987-18.29.036-19.014 20.668-37.341 46.078-40.937Z",fill:"#19AA1E"}),(0,r.jsx)("path",{d:"M136.976 54.049c25.414-3.597 45.986 8.899 45.951 27.913-.035 19.014-20.664 37.341-46.078 40.937-11.113 1.573-21.303.067-29.247-3.716l-14.055 8.576c-.12.075-.252.124-.391.146-.696.098-1.232-.674-.833-1.473l6.562-13.156c-5.05-4.815-8-11.083-7.987-18.29.036-19.014 20.668-37.341 46.078-40.937Z",fill:"url(#b)"}),(0,r.jsx)("path",{d:"M90.9 94.987c-.014 7.206 2.936 13.474 7.985 18.289l-8.374-4.587-.022-.021.118-.237c-5.049-4.815-7.973-11.03-7.96-18.238.437-18.772 20.3-36.838 46.521-40.618 2.427-.35 7.062-.558 12.935-.514 4.281.377 8.531 1.261 12.562 2.77 4.711 1.776 9.046 4.486 13.449 6.899-8.182-4.482-19.12-6.382-31.137-4.68-25.41 3.595-46.043 21.922-46.078 40.937Z",fill:"url(#c)"}),(0,r.jsx)("path",{d:"M60.82 120.575c-16.27 8.292-50.355 3.054-48.045-39.528.658-12.126-5.16-23.357-10.438-29.677-2.591-3.103-1.976-9.555 4.677-10.335 6.652-.78 12.673 6.85 14.289 14.648 1.616 7.8 3.33 16.219 14.102 14.528 6.326-.992 17.447-7.13 30.08-4.638 5.513 1.088 11.798 6.323 5.766 14.464-6.033 8.14-27.34 14.132-30.876 7.055-2.959-5.922 8.392-10.189 12.285-11.125 8.515-2.047 8.588-5.29 8.588-5.29",stroke:"#000",strokeMiterlimit:"10"}),(0,r.jsx)("path",{d:"M76.093 81.716c1.67 5.76-3.27 11.477-13.698 15.678-10.445 4.207-17.519.594-18.055-4.809",stroke:"#000",strokeMiterlimit:"10"}),(0,r.jsx)("path",{d:"M76.89 90.572c1.678 5.547.099 10.929-10.109 15.31-6.263 2.688-13.255 3.438-17.512-2.44",stroke:"#000",strokeMiterlimit:"10"}),(0,r.jsx)("path",{d:"M78.082 101.99c.166 3.546-.243 9.419-11.048 13.226-4.562 1.608-13.003 1.942-14.784-4.252M209.714 85.827c.632-31.83-32.952-46.304-36.742-39.241",stroke:"#000",strokeMiterlimit:"10"}),(0,r.jsx)("path",{d:"M213.409 84.087c.336-26.892-23.461-45.2-30.348-39.653",stroke:"#000",strokeMiterlimit:"10"}),(0,r.jsx)("path",{d:"M204.611 87.406c.506-4.773-2.212-34.67-32.543-39.351-7.446-1.15-8.396 5.194-6.355 7.667 7.366 8.926 29.72 11.61 23.312 40.599-2.389 10.811-9.645 16.243-17.229 15.09-11.221-1.705-19.262 2.201-22.219 5.049-4.739 4.565-3.08 13.783 6.952 10.619 17.046-5.375 22.47 6.627 44.386-5.253 13.563-7.352 24.469-30.082 14.449-55.055-7.895-19.678-14.424-19.538-15.688-18.57",stroke:"#000",strokeMiterlimit:"10"}),(0,r.jsx)("path",{d:"M55.092 70.047c7.382-28.904 47.69-44.663 78.55-26.792 24.914 14.428 13.58 43.736-.648 51.594-18.934 10.456-30.913-11.179-13.29-24.532 14.59-11.054 56.873-11.426 48.2 27.72",stroke:"#000",strokeMiterlimit:"10"}),(0,r.jsxs)("defs",{children:[(0,r.jsxs)("linearGradient",Object.assign({id:"a",x1:"76.741",y1:"138.066",x2:"130.417",y2:"64.109",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{offset:".163",stopColor:"#195441"}),(0,r.jsx)("stop",{offset:".175",stopColor:"#195640"}),(0,r.jsx)("stop",{offset:".416",stopColor:"#197A31"}),(0,r.jsx)("stop",{offset:".641",stopColor:"#199427"}),(0,r.jsx)("stop",{offset:".843",stopColor:"#19A420"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#19AA1E"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"b",x1:"198.833",y1:"90.672",x2:"135.23",y2:"-19.851",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{offset:".098",stopColor:"#23CC29"}),(0,r.jsx)("stop",{offset:".571",stopColor:"#19AA1E"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"c",x1:"82.647",y1:"81.165",x2:"168.114",y2:"81.165",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{stopColor:"#195441"}),(0,r.jsx)("stop",{offset:".013",stopColor:"#195640"}),(0,r.jsx)("stop",{offset:".302",stopColor:"#197A31"}),(0,r.jsx)("stop",{offset:".571",stopColor:"#199427"}),(0,r.jsx)("stop",{offset:".812",stopColor:"#19A420"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#19AA1E"})]}))]})]}))}},94040:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var r=s(52322);const i=({height:e=24,width:t=88})=>(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:t,height:e,viewBox:"0 0 88 24"},{children:[(0,r.jsxs)("defs",{children:[(0,r.jsxs)("linearGradient",Object.assign({id:"prefix__a",x1:"58.645%",x2:"38.578%",y1:"96.192%",y2:".05%"},{children:[(0,r.jsx)("stop",{offset:"14%",stopColor:"#F1E813"}),(0,r.jsx)("stop",{offset:"30%",stopColor:"#E6E418"}),(0,r.jsx)("stop",{offset:"58%",stopColor:"#C9DA26"}),(0,r.jsx)("stop",{offset:"89%",stopColor:"#A2CC39"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"prefix__b",x1:"8.713%",x2:"94.874%",y1:"58.624%",y2:"38.826%"},{children:[(0,r.jsx)("stop",{offset:"6%",stopColor:"#0FA7DF"}),(0,r.jsx)("stop",{offset:"54%",stopColor:"#0098F8"}),(0,r.jsx)("stop",{offset:"92%",stopColor:"#0290EA"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"prefix__c",x1:"-2.013%",x2:"95.257%",y1:"57.274%",y2:"44.019%"},{children:[(0,r.jsx)("stop",{offset:"12%",stopColor:"#A2CC39"}),(0,r.jsx)("stop",{offset:"28%",stopColor:"#86C239"}),(0,r.jsx)("stop",{offset:"87%",stopColor:"#219F38"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"prefix__d",x1:"-7.649%",x2:"92.63%",y1:"40%",y2:"57.988%"},{children:[(0,r.jsx)("stop",{offset:"6%",stopColor:"#0290EA"}),(0,r.jsx)("stop",{offset:"79%",stopColor:"#0C89CA"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"prefix__e",x1:"7.815%",x2:"100.374%",y1:"39.59%",y2:"62.181%"},{children:[(0,r.jsx)("stop",{offset:"13%",stopColor:"#F1E813"}),(0,r.jsx)("stop",{offset:"30%",stopColor:"#EAE616"}),(0,r.jsx)("stop",{offset:"53%",stopColor:"#D8DF1F"}),(0,r.jsx)("stop",{offset:"80%",stopColor:"#BAD52D"}),(0,r.jsx)("stop",{offset:"98%",stopColor:"#A2CC39"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"prefix__f",x1:"36.611%",x2:"60.717%",y1:"103.77%",y2:"7.769%"},{children:[(0,r.jsx)("stop",{offset:"7%",stopColor:"#A2CC39"}),(0,r.jsx)("stop",{offset:"26%",stopColor:"#81C45E"}),(0,r.jsx)("stop",{offset:"92%",stopColor:"#0FA7DF"})]}))]}),(0,r.jsxs)("g",Object.assign({fillRule:"nonzero",fill:"none"},{children:[(0,r.jsx)("path",{fill:"#21A038",d:"M22.024 4.622a11.93 11.93 0 011.407 2.365L12.74 14.974l-4.47-2.839V8.72l4.469 2.839 9.284-6.937z"}),(0,r.jsx)("path",{fill:"url(#prefix__a)",d:"M3.711 11.894c0-.153.004-.305.012-.457l-2.708-.134a11.996 11.996 0 00.877 5.144 11.869 11.869 0 002.546 3.856l1.92-1.945a9.137 9.137 0 01-1.96-2.964 9.245 9.245 0 01-.687-3.5z"}),(0,r.jsx)("path",{fill:"url(#prefix__b)",d:"M12.737 2.747c.151 0 .301.006.45.013l.136-2.745a11.58 11.58 0 00-5.078.889 11.659 11.659 0 00-3.807 2.58l1.92 1.947a8.986 8.986 0 012.925-1.987 8.9 8.9 0 013.454-.697z"}),(0,r.jsx)("path",{fill:"url(#prefix__c)",d:"M12.737 21.041c-.151 0-.301 0-.451-.012l-.136 2.744a11.549 11.549 0 005.077-.888 11.697 11.697 0 003.805-2.58l-1.917-1.946a9.014 9.014 0 01-2.925 1.986 8.89 8.89 0 01-3.453.696z"}),(0,r.jsx)("path",{fill:"url(#prefix__d)",d:"M17.825 4.343l2.282-1.704A11.59 11.59 0 0012.733 0v2.747a8.9 8.9 0 015.092 1.596z"}),(0,r.jsx)("path",{fill:"#21A038",d:"M24.473 11.894c.002-.714-.06-1.428-.184-2.131l-2.526 1.886v.245a9.243 9.243 0 01-.776 3.71 9.11 9.11 0 01-2.197 3.07l1.822 2.04a11.855 11.855 0 002.855-3.994 11.986 11.986 0 001.006-4.826z"}),(0,r.jsx)("path",{fill:"url(#prefix__e)",d:"M12.737 21.041a8.908 8.908 0 01-3.66-.786 9.025 9.025 0 01-3.03-2.227l-2.013 1.846a11.72 11.72 0 003.941 2.894c1.5.675 3.122 1.022 4.762 1.02v-2.747z"}),(0,r.jsx)("path",{fill:"url(#prefix__f)",d:"M6.685 5.115L4.864 3.074a11.846 11.846 0 00-2.857 3.994A11.974 11.974 0 001 11.894h2.711c0-1.278.264-2.542.776-3.71a9.146 9.146 0 012.198-3.07z"}),(0,r.jsx)("path",{d:"M68.73 6.802l3.358-2.479H60.849v14.896h11.239V16.74h-8.032v-3.815h6.852v-2.479h-6.852V6.802zm-15.443 3.324h-3.902V6.801h6.227l3.356-2.487H46.18v14.897h6.695c3.753 0 5.907-1.705 5.907-4.677 0-2.844-1.951-4.408-5.494-4.408zm-.558 6.605h-3.344v-4.128h3.344c2.03 0 2.982.692 2.982 2.064s-1.013 2.064-2.982 2.064zM80.35 4.321h-6.118v14.895h3.206v-4.22h2.912c3.903 0 6.317-2.058 6.317-5.346 0-3.288-2.414-5.33-6.317-5.33zm-.068 8.195h-2.844V6.801h2.844c2.053 0 3.186 1.016 3.186 2.859s-1.133 2.856-3.186 2.856zm-38.915 3.186a5.574 5.574 0 01-2.698.676c-2.82 0-4.864-2.016-4.864-4.793s2.045-4.799 4.864-4.799a4.753 4.753 0 012.841.881l2.243-1.655-.151-.108c-1.309-1.152-3.057-1.762-5.058-1.762-2.17 0-4.139.732-5.544 2.063a7.19 7.19 0 00-2.199 5.305 7.44 7.44 0 002.186 5.382c1.411 1.384 3.375 2.146 5.53 2.146 2.252 0 4.22-.786 5.553-2.219l-2.008-1.499-.695.382z",fill:"#1FA037"})]}))]}))},55180:(e,t,s)=>{"use strict";s.d(t,{X:()=>i});var r=s(52322);function i({color:e="currentColor",width:t=32,height:s=32}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:t,height:s,fill:e},{children:(0,r.jsx)("path",{d:"M24 15h-7V8h-2v7H8v2h7v7h2v-7h7v-2z"})}))}},87599:(e,t,s)=>{"use strict";s.d(t,{U:()=>i});var r=s(52322);function i({color:e="currentColor",size:t=16}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 16 16",fill:e},{children:(0,r.jsx)("path",{d:"M12.326 14.3l-1.145-4.92L15 6.07 9.966 5.64 8 1 6.034 5.639 1 6.07 4.819 9.38 3.674 14.3 8 11.69z"})}))}},67003:(e,t,s)=>{"use strict";s.d(t,{z:()=>i});var r=s(52322);function i({lang:e}){return"ru"===e?(0,r.jsxs)("svg",Object.assign({width:127,height:40,fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("rect",{width:127,height:40,rx:5,fill:"#262626"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.289 15.005a7.002 7.002 0 0 1 13.422 0A4.5 4.5 0 0 1 26.5 24H21v4.586l2.793-2.793 1.414 1.414L20 32.414l-5.207-5.207 1.414-1.414L19 28.586V24h-5.5a4.5 4.5 0 0 1-.211-8.995ZM20 12a5.001 5.001 0 0 0-4.937 4.205l-.159.993-.992-.164A2.5 2.5 0 1 0 13.5 22h13a2.5 2.5 0 1 0-.412-4.966l-.992.164-.159-.993A5.001 5.001 0 0 0 20 12Z",fill:"#30AD00"}),(0,r.jsx)("path",{d:"M46.246 11.92h-.891c-.207.838-.846 1.423-1.881 1.423-1.215 0-2.079-.972-2.079-2.62 0-1.691.9-2.591 2.052-2.591 1.044 0 1.674.612 1.872 1.422h.891c-.279-1.395-1.368-2.196-2.718-2.196-1.845 0-3.033 1.34-3.033 3.366 0 1.989 1.089 3.393 2.961 3.393 1.413 0 2.538-.756 2.826-2.196ZM48.672 11.849l1.665 2.15h1.017l-2.016-2.555 1.827-2.286h-.972l-1.539 1.98h-.603v-1.98h-.828V14h.828v-2.151h.621ZM51.69 12.722c0 .89.755 1.395 1.664 1.395.855 0 1.36-.288 1.656-.783.01.288.036.486.063.666h.828c-.09-.46-.135-1.017-.126-1.827l.01-1.116c.008-1.36-.595-1.998-1.927-1.998-.945 0-1.863.585-1.944 1.629h.846c.036-.594.432-.963 1.107-.963.603 0 1.098.297 1.098 1.179v.117c-1.989.225-3.276.558-3.276 1.7Zm3.338-1.053v.306c0 1.143-.729 1.494-1.494 1.494-.585 0-.936-.306-.936-.765 0-.666.945-.882 2.43-1.035ZM59.794 14h.82V9.158h-.82v2.205c-.45.108-.819.162-1.143.162-.684 0-1.026-.243-1.026-.963V9.158h-.819v1.575c0 1.044.54 1.503 1.548 1.503.441 0 .882-.072 1.44-.198V14ZM61.665 12.722c0 .89.756 1.395 1.665 1.395.855 0 1.359-.288 1.656-.783.009.288.036.486.063.666h.828c-.09-.46-.135-1.017-.126-1.827l.009-1.116c.009-1.36-.594-1.998-1.926-1.998-.945 0-1.863.585-1.944 1.629h.846c.036-.594.432-.963 1.107-.963.603 0 1.098.297 1.098 1.179v.117c-1.99.225-3.276.558-3.276 1.7Zm3.339-1.053v.306c0 1.143-.73 1.494-1.494 1.494-.585 0-.936-.306-.936-.765 0-.666.945-.882 2.43-1.035ZM68.687 9.869h1.656v-.711h-4.13v.71h1.655V14h.82V9.869ZM73.144 10.868h-1.151v-1.71h-.82V14h1.962c1.116 0 1.819-.405 1.819-1.602 0-1.026-.55-1.53-1.81-1.53Zm-.08 2.42h-1.071v-1.71h1.053c.737 0 1.106.18 1.106.82 0 .648-.368.89-1.088.89ZM82.106 9.068c0-1.098-.864-1.71-2.07-1.71-1.386 0-2.286.855-2.268 2.15h.846c.018-1.08.702-1.466 1.404-1.466.774 0 1.224.459 1.224 1.134 0 1.152-1.35 2.385-3.654 4.086V14h4.698v-.765h-3.582c1.827-1.314 3.402-2.655 3.402-4.167ZM87.559 8.267v-.792H83.49V14h.918V8.267h3.15ZM92.85 8.816V14h.918V7.475h-.918l-3.51 5.175V7.475h-.918V14h.918l3.51-5.184ZM100.879 11.92h-.891c-.207.838-.846 1.423-1.881 1.423-1.215 0-2.08-.972-2.08-2.62 0-1.691.9-2.591 2.053-2.591 1.044 0 1.674.612 1.872 1.422h.891c-.279-1.395-1.368-2.196-2.718-2.196-1.845 0-3.033 1.34-3.033 3.366 0 1.989 1.089 3.393 2.96 3.393 1.414 0 2.539-.756 2.827-2.196ZM48.047 31.651v-2.86h-1.04v-5.785H41.91l-.104 2.223c-.117 2.548-.52 3.562-1.3 3.562h-.377v2.86h1.404V30h5.109v1.651h1.404Zm-2.587-7.423v4.563H42.3c.547-.533.807-1.534.91-3.38l.066-1.183h2.184ZM53.568 30h1.547v-6.994h-5.044l-.13 2.509c-.143 2.652-.676 3.263-1.248 3.263h-.156V30h.286c1.6 0 2.405-1.352 2.587-4.264l.104-1.508h2.054V30ZM62.456 30v-6.994h-2.977c-1.742 0-2.678.806-2.678 2.223 0 1.001.546 1.651 1.287 1.95L56.333 30h1.755l1.43-2.418h1.39V30h1.548ZM59.7 24.228h1.209v2.132h-1.274c-.78 0-1.261-.273-1.261-1.014 0-.715.52-1.118 1.326-1.118ZM69.903 20.575 66.393 30h1.69l.728-2.093h3.822L73.374 30h1.807l-3.536-9.425h-1.742Zm-.61 5.954 1.416-4.043 1.43 4.043h-2.847ZM77.597 23.981v-.975H76.05V30h1.547v-3.718c0-1.261.442-2.171 1.625-2.171s1.326.923 1.326 1.872V30h1.547v-4.394c0-1.664-.69-2.756-2.38-2.756-.974 0-1.715.403-2.118 1.131ZM88.346 20.575v3.367c-.416-.689-1.144-1.092-2.08-1.092-1.651 0-3.042 1.417-3.042 3.653 0 2.249 1.39 3.666 3.042 3.666.936 0 1.664-.403 2.08-1.092V30h1.547v-9.425h-1.547Zm-1.742 3.536c1.014 0 1.807.78 1.807 2.392 0 1.612-.793 2.405-1.807 2.405-1.027 0-1.768-.923-1.768-2.405 0-1.469.74-2.392 1.768-2.392ZM95.461 24.579v-1.56a4.193 4.193 0 0 0-.403-.026c-.845.013-1.52.481-1.898 1.261v-1.248h-1.52V30h1.546v-3.666c0-1.404.56-1.794 1.534-1.794.234 0 .481.013.741.039ZM102.708 26.516c0-2.522-1.742-3.666-3.445-3.666-1.703 0-3.445 1.144-3.445 3.666 0 2.522 1.742 3.653 3.445 3.653 1.703 0 3.445-1.131 3.445-3.653Zm-3.445 2.392c-.975 0-1.846-.78-1.846-2.392 0-1.612.87-2.405 1.846-2.405.975 0 1.846.793 1.846 2.405 0 1.612-.871 2.392-1.846 2.392ZM105.526 20.575h-1.547v1.56h1.547v-1.56Zm0 2.431h-1.547V30h1.547v-6.994ZM111.908 20.575v3.367c-.416-.689-1.144-1.092-2.08-1.092-1.651 0-3.042 1.417-3.042 3.653 0 2.249 1.391 3.666 3.042 3.666.936 0 1.664-.403 2.08-1.092V30h1.547v-9.425h-1.547Zm-1.742 3.536c1.014 0 1.807.78 1.807 2.392 0 1.612-.793 2.405-1.807 2.405-1.027 0-1.768-.923-1.768-2.405 0-1.469.741-2.392 1.768-2.392Z",fill:"#fff"})]})):(0,r.jsxs)("svg",Object.assign({width:"120",height:"40",viewBox:"0 0 120 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("rect",{width:"120",height:"40",rx:"5",fill:"#262626"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.2887 15.0049C14.148 12.1107 16.8267 10 20 10C23.1733 10 25.852 12.1107 26.7113 15.0049C29.0985 15.1152 31 17.0855 31 19.5C31 21.9853 28.9853 24 26.5 24H21V28.5858L23.7929 25.7929L25.2071 27.2071L20 32.4142L14.7929 27.2071L16.2071 25.7929L19 28.5858V24H13.5C11.0147 24 9 21.9853 9 19.5C9 17.0855 10.9015 15.1152 13.2887 15.0049ZM20 12C17.5098 12 15.4431 13.8214 15.0628 16.2046L14.9043 17.1977L13.9121 17.0337C13.7787 17.0116 13.6411 17 13.5 17C12.1193 17 11 18.1193 11 19.5C11 20.8807 12.1193 22 13.5 22H26.5C27.8807 22 29 20.8807 29 19.5C29 18.1193 27.8807 17 26.5 17C26.3589 17 26.2213 17.0116 26.0879 17.0337L25.0957 17.1977L24.9372 16.2046C24.5569 13.8214 22.4902 12 20 12Z",fill:"white"}),(0,r.jsx)("path",{d:"M42.556 7.475C44.626 7.475 46.111 8.249 46.111 10.733C46.111 13.226 44.626 14 42.556 14H40.774V7.475H42.556ZM42.529 8.249H41.692V13.226H42.529C43.879 13.226 45.175 12.956 45.175 10.733C45.175 8.519 43.879 8.249 42.529 8.249ZM51.5512 11.597C51.5512 13.352 50.3542 14.117 49.2292 14.117C48.1042 14.117 46.9072 13.352 46.9072 11.597C46.9072 9.842 48.1042 9.077 49.2292 9.077C50.3542 9.077 51.5512 9.842 51.5512 11.597ZM49.2292 13.397C49.9672 13.397 50.6782 12.839 50.6782 11.597C50.6782 10.31 49.9672 9.797 49.2292 9.797C48.4912 9.797 47.7802 10.274 47.7802 11.597C47.7802 12.884 48.4912 13.397 49.2292 13.397ZM54.6559 9.158H55.5019L56.4649 12.74L57.3919 9.158H58.2739L56.8789 14H56.1319L55.0609 10.103L54.0259 14H53.2789L51.8839 9.158H52.7659L53.6929 12.74L54.6559 9.158ZM59.7834 9.887C60.0624 9.428 60.5304 9.077 61.3494 9.077C62.5194 9.077 62.9424 9.833 62.9424 10.94V14H62.1234V11.183C62.1234 10.436 61.9974 9.788 61.0614 9.788C60.2694 9.788 59.7834 10.337 59.7834 11.372V14H58.9644V9.158H59.7834V9.887ZM64.9865 14H64.1675V7.475H64.9865V14ZM70.6147 11.597C70.6147 13.352 69.4177 14.117 68.2927 14.117C67.1677 14.117 65.9707 13.352 65.9707 11.597C65.9707 9.842 67.1677 9.077 68.2927 9.077C69.4177 9.077 70.6147 9.842 70.6147 11.597ZM68.2927 13.397C69.0307 13.397 69.7417 12.839 69.7417 11.597C69.7417 10.31 69.0307 9.797 68.2927 9.797C67.5547 9.797 66.8437 10.274 66.8437 11.597C66.8437 12.884 67.5547 13.397 68.2927 13.397ZM71.3063 12.722C71.3063 11.579 72.5933 11.246 74.5823 11.021V10.904C74.5823 10.022 74.0873 9.725 73.4843 9.725C72.8093 9.725 72.4133 10.094 72.3773 10.688H71.5313C71.6123 9.644 72.5303 9.059 73.4753 9.059C74.8073 9.059 75.4103 9.698 75.4013 11.057L75.3923 12.173C75.3833 12.983 75.4283 13.541 75.5183 14H74.6903C74.6633 13.82 74.6363 13.622 74.6273 13.334C74.3303 13.829 73.8263 14.117 72.9713 14.117C72.0623 14.117 71.3063 13.613 71.3063 12.722ZM74.6453 11.669C73.1603 11.822 72.2153 12.038 72.2153 12.704C72.2153 13.163 72.5663 13.469 73.1513 13.469C73.9163 13.469 74.6453 13.118 74.6453 11.975V11.669ZM79.9426 7.475H80.7616V14H79.9426V13.271C79.6456 13.784 79.1326 14.117 78.3586 14.117C77.2516 14.117 76.2886 13.199 76.2886 11.597C76.2886 10.004 77.2516 9.077 78.3586 9.077C79.1326 9.077 79.6456 9.41 79.9426 9.923V7.475ZM78.5656 9.779C77.7286 9.779 77.1796 10.445 77.1796 11.597C77.1796 12.749 77.7286 13.415 78.5656 13.415C79.2946 13.415 79.9786 12.875 79.9786 11.597C79.9786 10.319 79.2946 9.779 78.5656 9.779ZM88.329 9.068C88.329 10.58 86.754 11.921 84.927 13.235H88.509V14H83.811V13.262C86.115 11.561 87.465 10.328 87.465 9.176C87.465 8.501 87.015 8.042 86.241 8.042C85.539 8.042 84.855 8.429 84.837 9.509H83.991C83.973 8.213 84.873 7.358 86.259 7.358C87.465 7.358 88.329 7.97 88.329 9.068ZM95.0416 9.374H94.1506C93.9346 8.645 93.3406 8.132 92.2966 8.132C91.1446 8.132 90.2446 9.032 90.2446 10.724C90.2446 12.371 91.0906 13.343 92.2966 13.343C93.1696 13.343 94.2226 12.983 94.2226 11.633V11.462H92.4946V10.67H95.0866V14H94.3666L94.3216 13.181C93.8986 13.847 93.1336 14.117 92.2606 14.117C90.3796 14.117 89.3086 12.713 89.3086 10.724C89.3086 8.699 90.5056 7.358 92.3416 7.358C93.6916 7.358 94.7716 8.114 95.0416 9.374ZM97.4674 14H96.5494V7.475H97.4674V14ZM101.107 7.358C102.277 7.358 103.33 7.88 103.582 9.14H102.691C102.466 8.384 101.728 8.132 101.071 8.132C100.567 8.132 99.6851 8.357 99.6851 9.086C99.6851 9.662 100.144 9.95 100.747 10.085L101.503 10.256C102.502 10.472 103.699 10.85 103.699 12.164C103.699 13.442 102.511 14.117 101.215 14.117C99.6761 14.117 98.7041 13.28 98.5331 11.975H99.4331C99.6041 12.875 100.234 13.343 101.233 13.343C102.196 13.343 102.754 12.884 102.754 12.245C102.754 11.561 102.169 11.273 101.35 11.093L100.54 10.922C99.6491 10.724 98.7491 10.229 98.7491 9.14C98.7491 7.898 100.054 7.358 101.107 7.358Z",fill:"white"}),(0,r.jsx)("path",{d:"M41.079 22.577C41.079 20.939 41.703 20.575 43.393 20.575H44.004V21.758H43.562C42.795 21.758 42.626 21.901 42.626 22.629V23.006H44.004V24.124H42.626V30H41.079V24.124H40.104V23.006H41.079V22.577ZM51.3047 26.516C51.3047 29.038 49.5627 30.169 47.8597 30.169C46.1567 30.169 44.4147 29.038 44.4147 26.516C44.4147 23.994 46.1567 22.85 47.8597 22.85C49.5627 22.85 51.3047 23.994 51.3047 26.516ZM47.8597 28.908C48.8347 28.908 49.7057 28.128 49.7057 26.516C49.7057 24.904 48.8347 24.111 47.8597 24.111C46.8847 24.111 46.0137 24.904 46.0137 26.516C46.0137 28.128 46.8847 28.908 47.8597 28.908ZM56.3981 24.579C56.1381 24.553 55.8911 24.54 55.6571 24.54C54.6821 24.54 54.1231 24.93 54.1231 26.334V30H52.5761V23.006H54.0971V24.254C54.4741 23.474 55.1501 23.006 55.9951 22.993C56.1121 22.993 56.2811 23.006 56.3981 23.019V24.579ZM63.01 20.575H64.752L68.288 30H66.481L65.74 27.907H61.918L61.19 30H59.5L63.01 20.575ZM62.399 26.529H65.246L63.816 22.486L62.399 26.529ZM70.7032 23.981C71.1062 23.253 71.8472 22.85 72.8222 22.85C74.5122 22.85 75.2012 23.942 75.2012 25.606V30H73.6542V25.983C73.6542 25.034 73.5112 24.111 72.3282 24.111C71.1452 24.111 70.7032 25.021 70.7032 26.282V30H69.1562V23.006H70.7032V23.981ZM81.4524 20.575H82.9994V30H81.4524V29.077C81.0364 29.766 80.3084 30.169 79.3724 30.169C77.7214 30.169 76.3304 28.752 76.3304 26.503C76.3304 24.267 77.7214 22.85 79.3724 22.85C80.3084 22.85 81.0364 23.253 81.4524 23.942V20.575ZM79.7104 24.111C78.6834 24.111 77.9424 25.034 77.9424 26.503C77.9424 27.985 78.6834 28.908 79.7104 28.908C80.7244 28.908 81.5174 28.115 81.5174 26.503C81.5174 24.891 80.7244 24.111 79.7104 24.111ZM88.568 24.579C88.308 24.553 88.061 24.54 87.827 24.54C86.852 24.54 86.293 24.93 86.293 26.334V30H84.746V23.006H86.267V24.254C86.644 23.474 87.32 23.006 88.165 22.993C88.282 22.993 88.451 23.006 88.568 23.019V24.579ZM95.8145 26.516C95.8145 29.038 94.0725 30.169 92.3695 30.169C90.6665 30.169 88.9245 29.038 88.9245 26.516C88.9245 23.994 90.6665 22.85 92.3695 22.85C94.0725 22.85 95.8145 23.994 95.8145 26.516ZM92.3695 28.908C93.3445 28.908 94.2155 28.128 94.2155 26.516C94.2155 24.904 93.3445 24.111 92.3695 24.111C91.3945 24.111 90.5235 24.904 90.5235 26.516C90.5235 28.128 91.3945 28.908 92.3695 28.908ZM98.6328 20.575V22.135H97.0858V20.575H98.6328ZM98.6328 23.006V30H97.0858V23.006H98.6328ZM105.015 20.575H106.562V30H105.015V29.077C104.599 29.766 103.871 30.169 102.935 30.169C101.284 30.169 99.8929 28.752 99.8929 26.503C99.8929 24.267 101.284 22.85 102.935 22.85C103.871 22.85 104.599 23.253 105.015 23.942V20.575ZM103.273 24.111C102.246 24.111 101.505 25.034 101.505 26.503C101.505 27.985 102.246 28.908 103.273 28.908C104.287 28.908 105.08 28.115 105.08 26.503C105.08 24.891 104.287 24.111 103.273 24.111Z",fill:"white"})]}))}},82698:(e,t,s)=>{"use strict";s.d(t,{Q:()=>i});var r=s(52322);function i({lang:e}){return"ru"===e?(0,r.jsxs)("svg",Object.assign({width:"120",height:"40",viewBox:"0 0 120 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{d:"M0 5C0 2.23858 2.23858 0 5 0H115C117.761 0 120 2.23858 120 5V35C120 37.7614 117.761 40 115 40H5C2.23858 40 0 37.7614 0 35V5Z",fill:"#262626"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.8549 13.9737L23.1341 13.9909C23.8361 14.0109 25.8361 14.2679 27.1251 16.1489C27.0211 16.2119 24.7441 17.5499 24.7691 20.3009C24.7971 23.5989 27.6531 24.6879 27.6881 24.6999C27.6711 24.7769 27.2411 26.2729 26.1691 27.7919C25.2751 29.1299 24.3371 30.4379 22.8491 30.4619C21.4031 30.4949 20.9171 29.6109 19.2581 29.6109C17.5841 29.6109 17.0661 30.4379 15.6791 30.4949C14.2611 30.5479 13.1781 29.0679 12.2511 27.7409C10.3981 25.0349 8.95609 20.1139 10.8901 16.7659C11.8271 15.1239 13.5371 14.0659 15.3631 14.0379C16.7821 14.0089 18.0991 14.9959 18.9711 14.9959C19.8271 14.9959 21.4551 13.8149 23.1341 13.9909L22.8549 13.9737ZM23.1521 8.71997C23.2931 10.009 22.7831 11.278 22.0371 12.211C21.2591 13.129 20.0131 13.832 18.8001 13.741C18.6411 12.503 19.2561 11.184 19.9441 10.38C20.7221 9.46697 22.0721 8.76797 23.1521 8.71997Z",fill:"white"}),(0,r.jsx)("mask",Object.assign({id:"path-3-inside-1",fill:"white"},{children:(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M51.3475 21.3477C53.6455 21.3477 55.1595 23.1637 55.1595 25.9697C55.1595 28.7827 53.6535 30.5907 51.3815 30.5907C50.0915 30.5907 49.0665 30.0137 48.5325 29.0067H48.4895V33.4907H46.6315V21.4427H48.4305V22.9487H48.4645C48.9805 21.9767 50.0825 21.3477 51.3475 21.3477ZM61.3124 21.3477C63.6104 21.3477 65.1244 23.1637 65.1244 25.9697C65.1244 28.7827 63.6184 30.5907 61.3464 30.5907C60.0564 30.5907 59.0314 30.0137 58.4974 29.0067H58.4544V33.4907H56.5964V21.4427H58.3954V22.9487H58.4294C58.9454 21.9767 60.0474 21.3477 61.3124 21.3477ZM74.6535 17.8711C77.2775 17.8711 79.0765 19.3431 79.1375 21.4851H77.2615C77.1485 20.2461 76.1245 19.4981 74.6275 19.4981C73.1305 19.4981 72.1065 20.2551 72.1065 21.3561C72.1065 22.2341 72.7605 22.7511 74.3605 23.1461L75.7295 23.4821C78.2765 24.0851 79.3355 25.1081 79.3355 26.9251C79.3355 29.2481 77.4845 30.7031 74.5415 30.7031C71.7875 30.7031 69.9285 29.2821 69.8085 27.0361H71.7105C71.8485 28.2671 73.0445 29.0761 74.6795 29.0761C76.2455 29.0761 77.3725 28.2671 77.3725 27.1571C77.3725 26.1931 76.6925 25.6161 75.0835 25.2211L73.4745 24.8331C71.1935 24.2821 70.1355 23.2161 70.1355 21.4851C70.1355 19.3431 72.0025 17.8711 74.6535 17.8711ZM90.3593 21.3307C92.9843 21.3307 94.6543 23.1207 94.6543 25.9697C94.6543 28.8257 92.9923 30.6087 90.3593 30.6087C87.7263 30.6087 86.0653 28.8257 86.0653 25.9697C86.0653 23.1207 87.7423 21.3307 90.3593 21.3307ZM105.408 21.3308C107.913 21.3308 109.488 23.0518 109.488 25.7968V26.4338H103.093V26.5458C103.093 28.0948 104.066 29.1108 105.529 29.1108C106.561 29.1108 107.371 28.6198 107.62 27.8368H109.384C109.134 29.4808 107.534 30.6088 105.486 30.6088C102.852 30.6088 101.217 28.8438 101.217 26.0128C101.217 23.1728 102.861 21.3308 105.408 21.3308ZM83.3462 19.2998V21.4428H85.0682V22.9138H83.3462V27.9048C83.3462 28.6808 83.6912 29.0418 84.4482 29.0418C84.5616 29.0418 84.7157 29.0325 84.8467 29.0213L85.0592 28.9988V30.4618C84.8532 30.5138 84.4402 30.5478 84.0272 30.5478C82.1942 30.5478 81.4792 29.8598 81.4792 28.1038V22.9138H80.1622V21.4428H81.4792V19.2998H83.3462ZM100.179 21.3474C100.446 21.3474 100.669 21.3824 100.816 21.4174V23.1554C100.669 23.0944 100.342 23.0434 99.9811 23.0434C98.7851 23.0434 98.0441 23.8524 98.0441 25.1264V30.4964H96.1861V21.4424H97.9581V22.9834H98.0011C98.2861 21.9594 99.1121 21.3474 100.179 21.3474ZM40.9941 18.0778L45.4771 30.4958H43.4381L42.3021 27.1398H37.5691L36.4321 30.4958H34.4271L38.9111 18.0778H40.9941ZM90.3593 22.8627C88.8533 22.8627 87.9583 24.0247 87.9583 25.9697C87.9583 27.9317 88.8533 29.0757 90.3593 29.0757C91.8643 29.0757 92.7603 27.9317 92.7603 25.9697C92.7603 24.0157 91.8643 22.8627 90.3593 22.8627ZM60.8214 22.9317C59.4014 22.9317 58.4464 24.1617 58.4464 25.9697C58.4464 27.7937 59.4014 29.0157 60.8214 29.0157C62.2674 29.0157 63.2144 27.8197 63.2144 25.9697C63.2144 24.1367 62.2674 22.9317 60.8214 22.9317ZM50.8565 22.9317C49.4365 22.9317 48.4815 24.1617 48.4815 25.9697C48.4815 27.7937 49.4365 29.0157 50.8565 29.0157C52.3025 29.0157 53.2495 27.8197 53.2495 25.9697C53.2495 24.1367 52.3025 22.9317 50.8565 22.9317ZM39.9611 20.1438H39.9101L38.0591 25.5908H41.8111L39.9611 20.1438ZM105.408 22.8368C104.125 22.8368 103.197 23.7668 103.102 25.1348H107.628C107.585 23.7488 106.699 22.8368 105.408 22.8368ZM56.1223 10.1945L57.2513 13.7715H57.3213L58.4463 10.1945H59.3883L57.7103 14.8835C57.3253 15.9795 56.8993 16.3315 55.9813 16.3315L55.8007 16.3255C55.7283 16.3218 55.6548 16.3165 55.6133 16.3105V15.5455C55.6833 15.5585 55.8203 15.5615 55.9033 15.5615C56.3253 15.5615 56.5643 15.3885 56.7173 14.9335L56.7843 14.7145L55.1543 10.1945H56.1223ZM52.5606 10.1203C53.7056 10.1203 54.4296 11.0133 54.4296 12.4443C54.4296 13.8753 53.7056 14.7723 52.5696 14.7723C51.9276 14.7723 51.4186 14.4913 51.1836 14.0153H51.1136V16.1943H50.2246V10.1943H51.0796V10.9393H51.1466C51.4186 10.4263 51.9486 10.1203 52.5606 10.1203ZM37.5733 8.58643C38.7483 8.58643 39.5753 9.24343 39.5753 10.1904C39.5753 10.8484 39.1363 11.4064 38.4913 11.5554V11.6254C39.2643 11.7044 39.8183 12.2374 39.8183 13.0684C39.8183 14.0894 38.8513 14.8424 37.5903 14.8424C36.2923 14.8424 35.4023 14.1394 35.3483 13.0764H36.2383C36.2923 13.6474 36.8163 14.0154 37.5903 14.0154C38.3633 14.0154 38.8683 13.6024 38.8683 13.0194C38.8683 12.4274 38.3923 12.0634 37.5613 12.0634H36.7383V11.2534H37.5363C38.1983 11.2534 38.6613 10.8644 38.6613 10.3024C38.6613 9.75243 38.2473 9.39643 37.5453 9.39643C36.8493 9.39643 36.3943 9.74843 36.3413 10.3314H35.4653C35.5263 9.25543 36.3293 8.58643 37.5733 8.58643ZM76.6568 10.1078C77.9098 10.1078 78.6668 10.9638 78.6668 12.3778V12.6878H75.4868V12.7378C75.5148 13.5278 75.9738 14.0278 76.6858 14.0278C77.2228 14.0278 77.5908 13.8338 77.7568 13.4818H78.6128C78.4098 14.2888 77.6898 14.7848 76.6608 14.7848C75.3708 14.7848 74.5808 13.8998 74.5808 12.4608C74.5808 11.0218 75.3868 10.1078 76.6568 10.1078ZM61.9341 10.1079C63.0041 10.1079 63.6161 10.5919 63.6161 11.3529C63.6161 11.8029 63.3311 12.1709 62.9051 12.2739V12.3449C63.4881 12.4819 63.7861 12.8579 63.7861 13.3579C63.7861 14.2139 63.0581 14.7799 61.9451 14.7799C60.9621 14.7799 60.1631 14.3299 60.0811 13.4199H60.9661C61.0531 13.8169 61.4251 14.0239 61.9451 14.0239C62.5371 14.0239 62.9001 13.7629 62.9001 13.3579C62.9001 12.9239 62.5741 12.7169 61.9451 12.7169H61.2711V12.0259H61.9341C62.4711 12.0259 62.7441 11.8199 62.7441 11.4429C62.7441 11.1129 62.4791 10.8599 61.9341 10.8599C61.4361 10.8599 61.0731 11.0709 61.0161 11.4269H60.1591C60.2501 10.6249 60.9161 10.1079 61.9341 10.1079ZM42.8436 10.1076C43.9726 10.1076 44.6096 10.6696 44.6096 11.6216V14.6976H43.7526V14.0646H43.6826C43.4136 14.5156 42.9216 14.7716 42.3296 14.7716C41.4616 14.7716 40.8286 14.2476 40.8286 13.4246C40.8286 12.6136 41.4336 12.1466 42.5036 12.0806L43.7236 12.0096V11.6216C43.7236 11.1456 43.4106 10.8766 42.8016 10.8766C42.3056 10.8766 41.9626 11.0596 41.8636 11.3776H41.0026C41.0936 10.6036 41.8226 10.1076 42.8436 10.1076ZM73.8257 10.1949V10.9429H72.4077V14.6979H71.5177V10.9429H70.0997V10.1949H73.8257ZM49.0438 10.1949V10.9429H46.9678V14.6979H46.0788V10.1949H49.0438ZM65.9469 10.1948V13.2918H66.0169L68.0919 10.1948H68.9729V14.6978H68.0919V11.5838H68.0259L65.9469 14.6978H65.0659V10.1948H65.9469ZM84.4103 10.1953C85.2913 10.1953 85.8083 10.6413 85.8083 11.3403C85.8083 11.7953 85.4863 12.2083 85.0473 12.2913V12.3613C85.6303 12.4273 86.0103 12.8533 86.0103 13.3993C86.0103 14.1853 85.4193 14.6973 84.4313 14.6973H82.3803V10.1953H84.4103ZM43.7236 12.6636L42.6236 12.7336C42.0036 12.7746 41.7226 12.9856 41.7226 13.3826C41.7226 13.7886 42.0746 14.0236 42.5576 14.0236C43.2276 14.0236 43.7236 13.5976 43.7236 13.0396V12.6636ZM84.2033 12.6963H83.2613V14.0153H84.3153C84.8403 14.0153 85.1213 13.7833 85.1213 13.3583C85.1213 12.9073 84.8033 12.6963 84.2033 12.6963ZM52.3126 10.9183C51.5646 10.9183 51.0966 11.5053 51.0966 12.4483C51.0966 13.3863 51.5646 13.9743 52.3086 13.9743C53.0656 13.9743 53.5156 13.3993 53.5156 12.4443C53.5156 11.4933 53.0656 10.9183 52.3126 10.9183ZM84.2403 10.8773H83.2613V12.0433H84.1423C84.6793 12.0433 84.9363 11.8363 84.9363 11.4553C84.9363 11.1043 84.7123 10.8773 84.2403 10.8773ZM76.6528 10.8638C75.9948 10.8638 75.5358 11.3278 75.4868 12.0308H77.7598C77.7398 11.3238 77.3098 10.8638 76.6528 10.8638Z"})})),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M51.3475 21.3477C53.6455 21.3477 55.1595 23.1637 55.1595 25.9697C55.1595 28.7827 53.6535 30.5907 51.3815 30.5907C50.0915 30.5907 49.0665 30.0137 48.5325 29.0067H48.4895V33.4907H46.6315V21.4427H48.4305V22.9487H48.4645C48.9805 21.9767 50.0825 21.3477 51.3475 21.3477ZM61.3124 21.3477C63.6104 21.3477 65.1244 23.1637 65.1244 25.9697C65.1244 28.7827 63.6184 30.5907 61.3464 30.5907C60.0564 30.5907 59.0314 30.0137 58.4974 29.0067H58.4544V33.4907H56.5964V21.4427H58.3954V22.9487H58.4294C58.9454 21.9767 60.0474 21.3477 61.3124 21.3477ZM74.6535 17.8711C77.2775 17.8711 79.0765 19.3431 79.1375 21.4851H77.2615C77.1485 20.2461 76.1245 19.4981 74.6275 19.4981C73.1305 19.4981 72.1065 20.2551 72.1065 21.3561C72.1065 22.2341 72.7605 22.7511 74.3605 23.1461L75.7295 23.4821C78.2765 24.0851 79.3355 25.1081 79.3355 26.9251C79.3355 29.2481 77.4845 30.7031 74.5415 30.7031C71.7875 30.7031 69.9285 29.2821 69.8085 27.0361H71.7105C71.8485 28.2671 73.0445 29.0761 74.6795 29.0761C76.2455 29.0761 77.3725 28.2671 77.3725 27.1571C77.3725 26.1931 76.6925 25.6161 75.0835 25.2211L73.4745 24.8331C71.1935 24.2821 70.1355 23.2161 70.1355 21.4851C70.1355 19.3431 72.0025 17.8711 74.6535 17.8711ZM90.3593 21.3307C92.9843 21.3307 94.6543 23.1207 94.6543 25.9697C94.6543 28.8257 92.9923 30.6087 90.3593 30.6087C87.7263 30.6087 86.0653 28.8257 86.0653 25.9697C86.0653 23.1207 87.7423 21.3307 90.3593 21.3307ZM105.408 21.3308C107.913 21.3308 109.488 23.0518 109.488 25.7968V26.4338H103.093V26.5458C103.093 28.0948 104.066 29.1108 105.529 29.1108C106.561 29.1108 107.371 28.6198 107.62 27.8368H109.384C109.134 29.4808 107.534 30.6088 105.486 30.6088C102.852 30.6088 101.217 28.8438 101.217 26.0128C101.217 23.1728 102.861 21.3308 105.408 21.3308ZM83.3462 19.2998V21.4428H85.0682V22.9138H83.3462V27.9048C83.3462 28.6808 83.6912 29.0418 84.4482 29.0418C84.5616 29.0418 84.7157 29.0325 84.8467 29.0213L85.0592 28.9988V30.4618C84.8532 30.5138 84.4402 30.5478 84.0272 30.5478C82.1942 30.5478 81.4792 29.8598 81.4792 28.1038V22.9138H80.1622V21.4428H81.4792V19.2998H83.3462ZM100.179 21.3474C100.446 21.3474 100.669 21.3824 100.816 21.4174V23.1554C100.669 23.0944 100.342 23.0434 99.9811 23.0434C98.7851 23.0434 98.0441 23.8524 98.0441 25.1264V30.4964H96.1861V21.4424H97.9581V22.9834H98.0011C98.2861 21.9594 99.1121 21.3474 100.179 21.3474ZM40.9941 18.0778L45.4771 30.4958H43.4381L42.3021 27.1398H37.5691L36.4321 30.4958H34.4271L38.9111 18.0778H40.9941ZM90.3593 22.8627C88.8533 22.8627 87.9583 24.0247 87.9583 25.9697C87.9583 27.9317 88.8533 29.0757 90.3593 29.0757C91.8643 29.0757 92.7603 27.9317 92.7603 25.9697C92.7603 24.0157 91.8643 22.8627 90.3593 22.8627ZM60.8214 22.9317C59.4014 22.9317 58.4464 24.1617 58.4464 25.9697C58.4464 27.7937 59.4014 29.0157 60.8214 29.0157C62.2674 29.0157 63.2144 27.8197 63.2144 25.9697C63.2144 24.1367 62.2674 22.9317 60.8214 22.9317ZM50.8565 22.9317C49.4365 22.9317 48.4815 24.1617 48.4815 25.9697C48.4815 27.7937 49.4365 29.0157 50.8565 29.0157C52.3025 29.0157 53.2495 27.8197 53.2495 25.9697C53.2495 24.1367 52.3025 22.9317 50.8565 22.9317ZM39.9611 20.1438H39.9101L38.0591 25.5908H41.8111L39.9611 20.1438ZM105.408 22.8368C104.125 22.8368 103.197 23.7668 103.102 25.1348H107.628C107.585 23.7488 106.699 22.8368 105.408 22.8368ZM56.1223 10.1945L57.2513 13.7715H57.3213L58.4463 10.1945H59.3883L57.7103 14.8835C57.3253 15.9795 56.8993 16.3315 55.9813 16.3315L55.8007 16.3255C55.7283 16.3218 55.6548 16.3165 55.6133 16.3105V15.5455C55.6833 15.5585 55.8203 15.5615 55.9033 15.5615C56.3253 15.5615 56.5643 15.3885 56.7173 14.9335L56.7843 14.7145L55.1543 10.1945H56.1223ZM52.5606 10.1203C53.7056 10.1203 54.4296 11.0133 54.4296 12.4443C54.4296 13.8753 53.7056 14.7723 52.5696 14.7723C51.9276 14.7723 51.4186 14.4913 51.1836 14.0153H51.1136V16.1943H50.2246V10.1943H51.0796V10.9393H51.1466C51.4186 10.4263 51.9486 10.1203 52.5606 10.1203ZM37.5733 8.58643C38.7483 8.58643 39.5753 9.24343 39.5753 10.1904C39.5753 10.8484 39.1363 11.4064 38.4913 11.5554V11.6254C39.2643 11.7044 39.8183 12.2374 39.8183 13.0684C39.8183 14.0894 38.8513 14.8424 37.5903 14.8424C36.2923 14.8424 35.4023 14.1394 35.3483 13.0764H36.2383C36.2923 13.6474 36.8163 14.0154 37.5903 14.0154C38.3633 14.0154 38.8683 13.6024 38.8683 13.0194C38.8683 12.4274 38.3923 12.0634 37.5613 12.0634H36.7383V11.2534H37.5363C38.1983 11.2534 38.6613 10.8644 38.6613 10.3024C38.6613 9.75243 38.2473 9.39643 37.5453 9.39643C36.8493 9.39643 36.3943 9.74843 36.3413 10.3314H35.4653C35.5263 9.25543 36.3293 8.58643 37.5733 8.58643ZM76.6568 10.1078C77.9098 10.1078 78.6668 10.9638 78.6668 12.3778V12.6878H75.4868V12.7378C75.5148 13.5278 75.9738 14.0278 76.6858 14.0278C77.2228 14.0278 77.5908 13.8338 77.7568 13.4818H78.6128C78.4098 14.2888 77.6898 14.7848 76.6608 14.7848C75.3708 14.7848 74.5808 13.8998 74.5808 12.4608C74.5808 11.0218 75.3868 10.1078 76.6568 10.1078ZM61.9341 10.1079C63.0041 10.1079 63.6161 10.5919 63.6161 11.3529C63.6161 11.8029 63.3311 12.1709 62.9051 12.2739V12.3449C63.4881 12.4819 63.7861 12.8579 63.7861 13.3579C63.7861 14.2139 63.0581 14.7799 61.9451 14.7799C60.9621 14.7799 60.1631 14.3299 60.0811 13.4199H60.9661C61.0531 13.8169 61.4251 14.0239 61.9451 14.0239C62.5371 14.0239 62.9001 13.7629 62.9001 13.3579C62.9001 12.9239 62.5741 12.7169 61.9451 12.7169H61.2711V12.0259H61.9341C62.4711 12.0259 62.7441 11.8199 62.7441 11.4429C62.7441 11.1129 62.4791 10.8599 61.9341 10.8599C61.4361 10.8599 61.0731 11.0709 61.0161 11.4269H60.1591C60.2501 10.6249 60.9161 10.1079 61.9341 10.1079ZM42.8436 10.1076C43.9726 10.1076 44.6096 10.6696 44.6096 11.6216V14.6976H43.7526V14.0646H43.6826C43.4136 14.5156 42.9216 14.7716 42.3296 14.7716C41.4616 14.7716 40.8286 14.2476 40.8286 13.4246C40.8286 12.6136 41.4336 12.1466 42.5036 12.0806L43.7236 12.0096V11.6216C43.7236 11.1456 43.4106 10.8766 42.8016 10.8766C42.3056 10.8766 41.9626 11.0596 41.8636 11.3776H41.0026C41.0936 10.6036 41.8226 10.1076 42.8436 10.1076ZM73.8257 10.1949V10.9429H72.4077V14.6979H71.5177V10.9429H70.0997V10.1949H73.8257ZM49.0438 10.1949V10.9429H46.9678V14.6979H46.0788V10.1949H49.0438ZM65.9469 10.1948V13.2918H66.0169L68.0919 10.1948H68.9729V14.6978H68.0919V11.5838H68.0259L65.9469 14.6978H65.0659V10.1948H65.9469ZM84.4103 10.1953C85.2913 10.1953 85.8083 10.6413 85.8083 11.3403C85.8083 11.7953 85.4863 12.2083 85.0473 12.2913V12.3613C85.6303 12.4273 86.0103 12.8533 86.0103 13.3993C86.0103 14.1853 85.4193 14.6973 84.4313 14.6973H82.3803V10.1953H84.4103ZM43.7236 12.6636L42.6236 12.7336C42.0036 12.7746 41.7226 12.9856 41.7226 13.3826C41.7226 13.7886 42.0746 14.0236 42.5576 14.0236C43.2276 14.0236 43.7236 13.5976 43.7236 13.0396V12.6636ZM84.2033 12.6963H83.2613V14.0153H84.3153C84.8403 14.0153 85.1213 13.7833 85.1213 13.3583C85.1213 12.9073 84.8033 12.6963 84.2033 12.6963ZM52.3126 10.9183C51.5646 10.9183 51.0966 11.5053 51.0966 12.4483C51.0966 13.3863 51.5646 13.9743 52.3086 13.9743C53.0656 13.9743 53.5156 13.3993 53.5156 12.4443C53.5156 11.4933 53.0656 10.9183 52.3126 10.9183ZM84.2403 10.8773H83.2613V12.0433H84.1423C84.6793 12.0433 84.9363 11.8363 84.9363 11.4553C84.9363 11.1043 84.7123 10.8773 84.2403 10.8773ZM76.6528 10.8638C75.9948 10.8638 75.5358 11.3278 75.4868 12.0308H77.7598C77.7398 11.3238 77.3098 10.8638 76.6528 10.8638Z",fill:"white",stroke:"white",strokeWidth:"2",mask:"url(#path-3-inside-1)"})]})):(0,r.jsxs)("svg",Object.assign({width:"120",height:"40",viewBox:"0 0 120 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsx)("path",{d:"M0 5C0 2.23858 2.23858 0 5 0H115C117.761 0 120 2.23858 120 5V35C120 37.7614 117.761 40 115 40H5C2.23858 40 0 37.7614 0 35V5Z",fill:"#262626"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.8549 13.9737L23.1341 13.9909C23.8361 14.0109 25.8361 14.2679 27.1251 16.1489C27.0211 16.2119 24.7441 17.5499 24.7691 20.3009C24.7971 23.5989 27.6531 24.6879 27.6881 24.6999C27.6711 24.7769 27.2411 26.2729 26.1691 27.7919C25.2751 29.1299 24.3371 30.4379 22.8491 30.4619C21.4031 30.4949 20.9171 29.6109 19.2581 29.6109C17.5841 29.6109 17.0661 30.4379 15.6791 30.4949C14.2611 30.5479 13.1781 29.0679 12.2511 27.7409C10.3981 25.0349 8.95609 20.1139 10.8901 16.7659C11.8271 15.1239 13.5371 14.0659 15.3631 14.0379C16.7821 14.0089 18.0991 14.9959 18.9711 14.9959C19.8271 14.9959 21.4551 13.8149 23.1341 13.9909L22.8549 13.9737ZM23.1521 8.71997C23.2931 10.009 22.7831 11.278 22.0371 12.211C21.2591 13.129 20.0131 13.832 18.8001 13.741C18.6411 12.503 19.2561 11.184 19.9441 10.38C20.7221 9.46697 22.0721 8.76797 23.1521 8.71997Z",fill:"white"}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M51.3475 21.3477C53.6455 21.3477 55.1595 23.1637 55.1595 25.9697C55.1595 28.7827 53.6535 30.5907 51.3815 30.5907C50.0915 30.5907 49.0665 30.0137 48.5325 29.0067H48.4895V33.4907H46.6315V21.4427H48.4305V22.9487H48.4645C48.9805 21.9767 50.0825 21.3477 51.3475 21.3477ZM61.3124 21.3477C63.6104 21.3477 65.1244 23.1637 65.1244 25.9697C65.1244 28.7827 63.6184 30.5907 61.3464 30.5907C60.0564 30.5907 59.0314 30.0137 58.4974 29.0067H58.4544V33.4907H56.5964V21.4427H58.3954V22.9487H58.4294C58.9454 21.9767 60.0474 21.3477 61.3124 21.3477ZM74.6535 17.8711C77.2775 17.8711 79.0765 19.3431 79.1375 21.4851H77.2615C77.1485 20.2461 76.1245 19.4981 74.6275 19.4981C73.1305 19.4981 72.1065 20.2551 72.1065 21.3561C72.1065 22.2341 72.7605 22.7511 74.3605 23.1461L75.7295 23.4821C78.2765 24.0851 79.3355 25.1081 79.3355 26.9251C79.3355 29.2481 77.4845 30.7031 74.5415 30.7031C71.7875 30.7031 69.9285 29.2821 69.8085 27.0361H71.7105C71.8485 28.2671 73.0445 29.0761 74.6795 29.0761C76.2455 29.0761 77.3725 28.2671 77.3725 27.1571C77.3725 26.1931 76.6925 25.6161 75.0835 25.2211L73.4745 24.8331C71.1935 24.2821 70.1355 23.2161 70.1355 21.4851C70.1355 19.3431 72.0025 17.8711 74.6535 17.8711ZM90.3593 21.3307C92.9843 21.3307 94.6543 23.1207 94.6543 25.9697C94.6543 28.8257 92.9923 30.6087 90.3593 30.6087C87.7263 30.6087 86.0653 28.8257 86.0653 25.9697C86.0653 23.1207 87.7423 21.3307 90.3593 21.3307ZM105.408 21.3308C107.913 21.3308 109.488 23.0518 109.488 25.7968V26.4338H103.093V26.5458C103.093 28.0948 104.066 29.1108 105.529 29.1108C106.561 29.1108 107.371 28.6198 107.62 27.8368H109.384C109.134 29.4808 107.534 30.6088 105.486 30.6088C102.852 30.6088 101.217 28.8438 101.217 26.0128C101.217 23.1728 102.861 21.3308 105.408 21.3308ZM83.3462 19.2998V21.4428H85.0682V22.9138H83.3462V27.9048C83.3462 28.6808 83.6912 29.0418 84.4482 29.0418C84.5616 29.0418 84.7157 29.0325 84.8467 29.0213L85.0592 28.9988V30.4618C84.8532 30.5138 84.4402 30.5478 84.0272 30.5478C82.1942 30.5478 81.4792 29.8598 81.4792 28.1038V22.9138H80.1622V21.4428H81.4792V19.2998H83.3462ZM100.179 21.3474C100.446 21.3474 100.669 21.3824 100.816 21.4174V23.1554C100.669 23.0944 100.342 23.0434 99.9811 23.0434C98.7851 23.0434 98.0441 23.8524 98.0441 25.1264V30.4964H96.1861V21.4424H97.9581V22.9834H98.0011C98.2861 21.9594 99.1121 21.3474 100.179 21.3474ZM40.9941 18.0778L45.4771 30.4958H43.4381L42.3021 27.1398H37.5691L36.4321 30.4958H34.4271L38.9111 18.0778H40.9941ZM90.3593 22.8627C88.8533 22.8627 87.9583 24.0247 87.9583 25.9697C87.9583 27.9317 88.8533 29.0757 90.3593 29.0757C91.8643 29.0757 92.7603 27.9317 92.7603 25.9697C92.7603 24.0157 91.8643 22.8627 90.3593 22.8627ZM60.8214 22.9317C59.4014 22.9317 58.4464 24.1617 58.4464 25.9697C58.4464 27.7937 59.4014 29.0157 60.8214 29.0157C62.2674 29.0157 63.2144 27.8197 63.2144 25.9697C63.2144 24.1367 62.2674 22.9317 60.8214 22.9317ZM50.8565 22.9317C49.4365 22.9317 48.4815 24.1617 48.4815 25.9697C48.4815 27.7937 49.4365 29.0157 50.8565 29.0157C52.3025 29.0157 53.2495 27.8197 53.2495 25.9697C53.2495 24.1367 52.3025 22.9317 50.8565 22.9317ZM39.9611 20.1438H39.9101L38.0591 25.5908H41.8111L39.9611 20.1438ZM105.408 22.8368C104.125 22.8368 103.197 23.7668 103.102 25.1348H107.628C107.585 23.7488 106.699 22.8368 105.408 22.8368ZM43.8057 10.1083C45.1177 10.1083 45.9277 10.9923 45.9277 12.4443C45.9277 13.9033 45.1207 14.7843 43.8057 14.7843C42.4877 14.7843 41.6807 13.9033 41.6807 12.4443C41.6807 10.9923 42.4917 10.1083 43.8057 10.1083ZM63.3428 10.1083C64.6548 10.1083 65.4658 10.9923 65.4658 12.4443C65.4658 13.9033 64.6578 14.7843 63.3428 14.7843C62.0248 14.7843 61.2178 13.9033 61.2178 12.4443C61.2178 10.9923 62.0288 10.1083 63.3428 10.1083ZM81.355 10.1083C82.667 10.1083 83.477 10.9923 83.477 12.4443C83.477 13.9033 82.67 14.7843 81.355 14.7843C80.037 14.7843 79.23 13.9033 79.23 12.4443C79.23 10.9923 80.041 10.1083 81.355 10.1083ZM102.806 10.1078C104.059 10.1078 104.815 10.9638 104.815 12.3778V12.6878H101.635V12.7378C101.664 13.5278 102.123 14.0278 102.834 14.0278C103.372 14.0278 103.74 13.8338 103.906 13.4818H104.761C104.559 14.2888 103.839 14.7848 102.81 14.7848C101.52 14.7848 100.73 13.8998 100.73 12.4608C100.73 11.0218 101.536 10.1078 102.806 10.1078ZM75.5531 8.43731V14.6973H74.7021V13.9863H74.6311C74.3631 14.4783 73.8371 14.7723 73.2171 14.7723C72.0721 14.7723 71.3481 13.8703 71.3481 12.4443C71.3481 11.0213 72.0791 10.1203 73.2171 10.1203C73.8331 10.1203 74.3541 10.4133 74.5981 10.9103H74.6641V8.43731H75.5531ZM68.4144 10.1076C69.5434 10.1076 70.1804 10.6696 70.1804 11.6216V14.6976H69.3244V14.0646H69.2544C68.9854 14.5156 68.4934 14.7716 67.9014 14.7716C67.0334 14.7716 66.4004 14.2476 66.4004 13.4246C66.4004 12.6136 67.0044 12.1466 68.0754 12.0806L69.2954 12.0096V11.6216C69.2954 11.1456 68.9814 10.8766 68.3734 10.8766C67.8774 10.8766 67.5334 11.0596 67.4354 11.3776H66.5744C66.6654 10.6036 67.3934 10.1076 68.4144 10.1076ZM93.5152 9.07371V10.2157H94.4912V10.9637H93.5152V13.2797C93.5152 13.7507 93.7092 13.9577 94.1522 13.9577C94.2882 13.9577 94.3672 13.9487 94.4912 13.9367V14.6777C94.3462 14.7017 94.1802 14.7227 94.0072 14.7227C93.0192 14.7227 92.6252 14.3747 92.6252 13.5067V10.9637H91.9112V10.2157H92.6252V9.07371H93.5152ZM37.8267 8.73101C39.5957 8.73101 40.6337 9.81801 40.6337 11.696C40.6337 13.602 39.6037 14.698 37.8267 14.698H35.6707V8.73101H37.8267ZM47.4703 10.1948L48.2773 13.6308H48.3443L49.2693 10.1948H50.1223L51.0483 13.6308H51.1183L51.9213 10.1948H52.8093L51.5733 14.6978H50.6513L49.7203 11.3818H49.6503L48.7233 14.6978H47.8103L46.5693 10.1948H47.4703ZM56.1195 10.1078C57.1245 10.1078 57.6775 10.7118 57.6775 11.7828V14.6978H56.7895V12.0058C56.7895 11.2818 56.4745 10.9228 55.8175 10.9228C55.1605 10.9228 54.7425 11.3608 54.7425 12.0638V14.6978H53.8535V10.1948H54.7085V10.9098H54.7755C54.9945 10.4098 55.4415 10.1078 56.1195 10.1078ZM59.983 8.43701V14.698H59.094V8.43701H59.983ZM86.9355 10.1078C87.9405 10.1078 88.4935 10.7118 88.4935 11.7828V14.6978H87.6055V12.0058C87.6055 11.2818 87.2905 10.9228 86.6335 10.9228C85.9765 10.9228 85.5585 11.3608 85.5585 12.0638V14.6978H84.6695V10.1948H85.5245V10.9098H85.5915C85.8105 10.4098 86.2575 10.1078 86.9355 10.1078ZM96.5856 8.43701V10.918H96.6556C96.8746 10.414 97.3506 10.112 98.0286 10.112C98.9876 10.112 99.5796 10.72 99.5796 11.791V14.698H98.6896V12.01C98.6896 11.291 98.3546 10.926 97.7266 10.926C96.9986 10.926 96.5936 11.386 96.5936 12.068V14.698H95.7046V8.43701H96.5856ZM69.2954 12.6636L68.1954 12.7336C67.5754 12.7746 67.2944 12.9856 67.2944 13.3826C67.2944 13.7886 67.6464 14.0236 68.1294 14.0236C68.7994 14.0236 69.2954 13.5976 69.2954 13.0396V12.6636ZM81.355 10.8973C80.583 10.8973 80.148 11.4683 80.148 12.4443C80.148 13.4283 80.583 13.9943 81.355 13.9943C82.125 13.9943 82.563 13.4243 82.563 12.4443C82.563 11.4683 82.125 10.8973 81.355 10.8973ZM43.8057 10.8973C43.0337 10.8973 42.5987 11.4683 42.5987 12.4443C42.5987 13.4283 43.0337 13.9943 43.8057 13.9943C44.5757 13.9943 45.0137 13.4243 45.0137 12.4443C45.0137 11.4683 44.5757 10.8973 43.8057 10.8973ZM63.3428 10.8973C62.5708 10.8973 62.1358 11.4683 62.1358 12.4443C62.1358 13.4283 62.5708 13.9943 63.3428 13.9943C64.1128 13.9943 64.5508 13.4243 64.5508 12.4443C64.5508 11.4683 64.1128 10.8973 63.3428 10.8973ZM73.4691 10.9183C72.7211 10.9183 72.2661 11.4973 72.2661 12.4443C72.2661 13.3993 72.7161 13.9743 73.4691 13.9743C74.2181 13.9743 74.6811 13.3913 74.6811 12.4483C74.6811 11.5093 74.2131 10.9183 73.4691 10.9183ZM37.7227 9.57401H36.5977V13.854H37.7227C38.9707 13.854 39.6907 13.077 39.6907 11.708C39.6907 10.36 38.9587 9.57401 37.7227 9.57401ZM102.801 10.8638C102.144 10.8638 101.685 11.3278 101.635 12.0308H103.909C103.889 11.3238 103.459 10.8638 102.801 10.8638Z",fill:"white"})]}))}},37224:(e,t,s)=>{"use strict";s.d(t,{w:()=>i});var r=s(52322);function i(){return(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 304 180",fill:"none"},{children:[(0,r.jsx)("path",{fill:"#19AA1E",d:"M106.4 122.894v-64.33a8.866 8.866 0 017.803-8.81l88.375-10.75a16.45 16.45 0 0112.904 4.02 16.47 16.47 0 015.551 12.332v60.668a11.402 11.402 0 01-10.019 11.32l-87.577 10.647a15.19 15.19 0 01-11.909-3.707 15.22 15.22 0 01-5.128-11.377v-.013z"}),(0,r.jsx)("path",{fill:"#19AA1E",d:"M208.227 52.644l-.101 75.84-77.051 9.419.101-75.841 77.051-9.418z"}),(0,r.jsx)("path",{fill:"#C4C4C4",d:"M106.058 57.334c3.445 3.879 14.693 5.996 25.118 4.715v75.841c-10.425 1.268-21.66-.621-25.118-4.5-.912-1.014-1.001-2.307-1.013-3.6V53.734c.012 1.293.101 2.586 1.013 3.6z"}),(0,r.jsx)("path",{fill:"url(#thanks-photo-a)",d:"M106.058 57.334c3.445 3.879 14.693 5.996 25.118 4.715v75.841c-10.425 1.268-21.66-.621-25.118-4.5-.912-1.014-1.001-2.307-1.013-3.6V53.734c.012 1.293.101 2.586 1.013 3.6z"}),(0,r.jsx)("path",{fill:"#169523",d:"M195.713 38.586c10.424-1.268 21.66.85 25.118 4.728 3.458 3.88-2.192 8.05-12.604 9.33l-77.051 9.405c-10.425 1.268-21.66-.836-25.118-4.715-3.458-3.879 2.191-8.05 12.603-9.33l77.052-9.418z"}),(0,r.jsx)("path",{fill:"#169523",d:"M195.713 38.586c10.424-1.268 21.66.85 25.118 4.728 3.458 3.88-2.192 8.05-12.604 9.33l-77.051 9.405c-10.425 1.268-21.66-.836-25.118-4.715-3.458-3.879 2.191-8.05 12.603-9.33l77.052-9.418z"}),(0,r.jsx)("path",{fill:"#C4C4C4",d:"M221.844 45.634v76.056c0 3.106-5.409 5.616-13.731 6.794l.102-75.84c8.347-1.014 13.629-3.905 13.629-6.997v-.013z"}),(0,r.jsx)("path",{fill:"url(#thanks-photo-b)",d:"M221.844 45.634v76.056c0 3.106-5.409 5.616-13.731 6.794l.102-75.84c8.347-1.014 13.629-3.905 13.629-6.997v-.013z"}),(0,r.jsx)("path",{fill:"#169523",d:"M130.087 43.758c7.22-.888 14.997.583 17.378 3.258 2.407 2.687-1.52 5.577-8.714 6.464-7.208.875-14.985-.583-17.366-3.27-2.394-2.688 1.52-5.578 8.714-6.452h-.012z"}),(0,r.jsx)("path",{fill:"#C4C4C4",d:"M148.175 48.6v5.07c.025 2.155-3.636 4.17-9.424 4.868-7.208.888-14.985-.57-17.366-3.258a2.437 2.437 0 01-.71-1.597v-5.07c0 .532.228 1.065.71 1.597 2.381 2.687 10.158 4.145 17.353 3.258 5.801-.698 9.462-2.713 9.437-4.868z"}),(0,r.jsx)("path",{fill:"url(#paint2_linear)",d:"M148.175 48.6v5.07c.025 2.155-3.636 4.17-9.424 4.868-7.208.888-14.985-.57-17.366-3.258a2.437 2.437 0 01-.71-1.597v-5.07c0 .532.228 1.065.71 1.597 2.381 2.687 10.158 4.145 17.353 3.258 5.801-.698 9.462-2.713 9.437-4.868z"}),(0,r.jsx)("path",{fill:"url(#paint3_linear)",d:"M163.653 55.61c5.32 0 9.627-1.648 9.627-3.714l.101-.19-.215.202c-1.115.99-3.319 1.8-6.27 2.155-.963.127-1.938.19-2.913.203-4.193.038-8.17-.887-9.842-2.37l-.19-.19c.028.064.057.127.088.19 0 2.053 4.307 3.714 9.627 3.714h-.013z"}),(0,r.jsx)("path",{fill:"#169523",d:"M160.639 41.92c5.041-.609 10.488.405 12.16 2.281 1.672 1.876-1.064 3.905-6.106 4.513-5.041.634-10.488-.406-12.16-2.282-1.672-1.876 1.064-3.891 6.106-4.512z"}),(0,r.jsx)("path",{fill:"url(#paint4_radial)",fillRule:"evenodd",d:"M173.964 46.927c-.089 2.13-4.674 3.853-10.298 3.853-5.7 0-10.298-1.762-10.298-3.93 0-.43.329-.76.519-1.128.076-.152.127-.304.165-.583v.419c-.051.05-.051.063 0 0 .253 1.901 4.471 3.41 9.627 3.41 5.307 0 9.614-1.61 9.614-3.6v-.127c0 .076.025.152.038.215.05.228.19.38.316.57.178.28.279.571.317.888v.013z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"url(#paint5_linear)",d:"M172.963 48.613c-.608.469-1.469.887-2.533 1.242-2.394.76-4.965.989-7.448.925a20.878 20.878 0 01-6.764-1.191c-1.165-.444-2.457-1.204-2.837-2.345-.02-.1-.028-.203-.026-.304v3.473c.026.76.532 1.305 1.115 1.736a11.988 11.988 0 004.902 1.762c3.413.572 6.907.45 10.273-.355a9.137 9.137 0 003.42-1.546c.468-.393.899-.925.899-1.572v-3.473c0 .62-.38 1.153-1.013 1.648h.012z"}),(0,r.jsx)("path",{fill:"#19AA1E",d:"M189.088 68.26c17.037-2.383 30.805 10.522 30.767 28.813-.038 18.279-13.857 35.037-30.881 37.42-17.024 2.37-30.793-10.521-30.755-28.8.026-18.292 13.858-35.05 30.882-37.433h-.013z"}),(0,r.jsx)("path",{fill:"url(#paint6_linear)",d:"M146.427 77.654c-8.386 15.21-6.245 34.352 9.284 44.34 5.827 3.74 12.16 6.795 18.19 10.141a36.831 36.831 0 01-1.938-1.141c-15.542-10.014-17.645-29.167-9.247-44.366 8.36-15.173 25.688-23.577 42.433-15.743l.672.33c-5.612-3.106-11.134-6.567-16.936-9.292-16.72-7.834-34.06.532-42.458 15.73z"}),(0,r.jsx)("path",{fill:"#262626",d:"M174.908 128.2c12.65 7.308 29.729 1.403 38.149-13.19 8.419-14.594 4.989-32.349-7.661-39.658-12.65-7.308-29.729-1.403-38.149 13.19-8.419 14.593-4.989 32.349 7.661 39.658z"}),(0,r.jsx)("g",Object.assign({filter:"url(#filter0_ii)"},{children:(0,r.jsx)("path",{fill:"url(#paint7_linear)",d:"M214.459 115.846l.064-.101c8.93-15.49 5.244-34.352-8.234-42.148-13.477-7.783-31.654-1.546-40.584 13.944-8.93 15.477-5.244 34.352 8.234 42.135 9.17 5.299 20.52 4.107 29.64-2.079-8.74 5.894-19.431 7.086-28.044 2.104-12.819-7.402-16.138-25.643-7.423-40.74 8.715-15.11 26.157-21.347 38.975-13.944 12.806 7.403 16.138 25.643 7.423 40.753l-.051.076z"})})),(0,r.jsx)("g",Object.assign({filter:"url(#filter1_ii)"},{children:(0,r.jsx)("path",{fill:"url(#paint8_linear)",fillRule:"evenodd",d:"M176.725 127.369c12.072 6.972 28.348 1.394 36.354-12.46 7.992-13.868 4.686-30.765-7.398-37.737-12.071-6.972-28.348-1.394-36.353 12.46-7.98 13.868-4.687 30.765 7.397 37.737zm33.884-13.868a39.886 39.886 0 01-1.748 2.713c-8.145 11.535-21.952 16.149-32.098 10.293-.29-.163-.577-.332-.861-.507-11.387-6.566-14.313-22.842-6.523-36.33 7.777-13.487 23.306-19.09 34.706-12.51.291.162.579.33.862.506 10.133 5.857 13.034 20.117 7.144 32.933a37.283 37.283 0 01-1.482 2.902z",clipRule:"evenodd"})})),(0,r.jsx)("path",{fill:"#19AA1E",fillRule:"evenodd",d:"M175.535 129.701c12.818 7.403 30.273 1.167 38.975-13.943 8.715-15.085 5.383-33.338-7.423-40.741-12.818-7.403-30.273-1.166-38.975 13.944-8.715 15.084-5.396 33.338 7.423 40.74zm1.469-2.167c11.919 6.883 28.069 1.229 36.075-12.626 7.992-13.867 4.813-30.676-7.119-37.572-11.919-6.895-28.069-1.242-36.075 12.613-7.992 13.868-4.813 30.689 7.119 37.585z",clipRule:"evenodd"}),(0,r.jsx)("path",{fill:"#fff",d:"M204.237 93.866c2.28-.418 3.737-2.991 3.23-5.73-.506-2.737-2.786-4.613-5.066-4.195-2.293.418-3.75 2.979-3.243 5.717.507 2.738 2.787 4.627 5.067 4.208h.012zm-8.22 1.775c.836-.152 1.342-1.166 1.14-2.282-.203-1.103-1.052-1.863-1.888-1.711-.823.152-1.33 1.166-1.14 2.282.216 1.09 1.052 1.863 1.888 1.71z"}),(0,r.jsx)("path",{stroke:"#262626",strokeMiterlimit:"10",strokeWidth:"1.75",d:"M94.747 158.324c-34.808 9.659-79.61-13.766-52.06-80.823C63.105 27.786 109.3 29.434 121.65 31.78c16.504 3.144 21.381 11.18 16.238 16.301-6.143 6.11-16.124-.52-31.616 1.788-11.4 1.711-29.361 5.45-38.608 27.595 11.983-29.51 70.313-37.52 62.966 15.668"}),(0,r.jsx)("path",{stroke:"#262626",strokeMiterlimit:"10",strokeWidth:"1.75",d:"M168.15 29.624l24.447-17.34-6.283 22.854 39.9-27.697-18.848 36.33 54.264-24.846-26.651 32.223M76.367 109.407c2.964-3.993 8.905-13.094 22.902-15.275 24.497-3.815 36.391 35.798 5.611 47.447-15.871 6.008-18.455-14.058.507-19.23l-29.02-12.942zm-3.242-19.33c11.324-22.97 63.308-29.6 51.756 19.812L73.125 90.076zm87.767 64.71c8.575 15.668 55.885 32.527 85.779 18.888 44.308-20.219 16.935-70.783-5.194-91.99-14.972-14.362-17.834-21.765-23.357-17.937-4.522 3.144-2.85 14.768.063 22.437 4.725 12.397 22.674 27.304 4.624 42.819-12.11 10.395-35.011 8.975-50.794.406-13.49-7.314-27.613-17.62-31.717-9.507-1.482 2.941.659 10.394 7.119 16.707 11.425 11.13 32.844 23.425 63.156 24.401l-49.679-6.224zm47.956 14.35c-12.996-.482-44.713-9.545-55.353-24.896l55.353 24.896z"}),(0,r.jsxs)("defs",{children:[(0,r.jsxs)("linearGradient",Object.assign({id:"thanks-photo-a",x1:"105.032",x2:"131.176",y1:"96.11",y2:"96.11",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{stopColor:"#195441"}),(0,r.jsx)("stop",{offset:".01",stopColor:"#195640"}),(0,r.jsx)("stop",{offset:".3",stopColor:"#197A31"}),(0,r.jsx)("stop",{offset:".57",stopColor:"#199427"}),(0,r.jsx)("stop",{offset:".81",stopColor:"#19A420"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#19AA1E"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"thanks-photo-b",x1:"213.155",x2:"226.784",y1:"87.173",y2:"87.173",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{stopColor:"#19AA1E"}),(0,r.jsx)("stop",{offset:".19",stopColor:"#19A420"}),(0,r.jsx)("stop",{offset:".43",stopColor:"#199427"}),(0,r.jsx)("stop",{offset:".7",stopColor:"#197A31"}),(0,r.jsx)("stop",{offset:".99",stopColor:"#195640"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#195441"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"paint2_linear",x1:"120.675",x2:"148.175",y1:"53.696",y2:"53.696",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{stopColor:"#195441"}),(0,r.jsx)("stop",{offset:".25",stopColor:"#19AA1E"}),(0,r.jsx)("stop",{offset:".48",stopColor:"#E6F6E6",stopOpacity:".5"}),(0,r.jsx)("stop",{offset:".51",stopColor:"#C5EAC6",stopOpacity:".58"}),(0,r.jsx)("stop",{offset:".62",stopColor:"#49BC4D",stopOpacity:".88"}),(0,r.jsx)("stop",{offset:".68",stopColor:"#19AA1E"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#195441"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"paint3_linear",x1:"153.951",x2:"173.381",y1:"53.658",y2:"53.658",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{stopColor:"#194B41"}),(0,r.jsx)("stop",{offset:".17",stopColor:"#19513F"}),(0,r.jsx)("stop",{offset:".41",stopColor:"#196338"}),(0,r.jsx)("stop",{offset:".69",stopColor:"#19812D"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#19AA1E"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"paint5_linear",x1:"153.343",x2:"173.964",y1:"50.603",y2:"50.603",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{stopColor:"#195441"}),(0,r.jsx)("stop",{offset:".71",stopColor:"#199029"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#19AA1E"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"paint6_linear",x1:"139.384",x2:"200.261",y1:"121.285",y2:"67.9",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{offset:".09",stopColor:"#195441"}),(0,r.jsx)("stop",{offset:".14",stopColor:"#195640"}),(0,r.jsx)("stop",{offset:".36",stopColor:"#197A31"}),(0,r.jsx)("stop",{offset:".61",stopColor:"#199427"}),(0,r.jsx)("stop",{offset:".81",stopColor:"#19A420"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#19AA1E"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"paint7_linear",x1:"190.114",x2:"190.114",y1:"70.251",y2:"133.035",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{stopColor:"#16961A"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#0D5810"})]})),(0,r.jsxs)("linearGradient",Object.assign({id:"paint8_linear",x1:"191.203",x2:"191.203",y1:"74.168",y2:"130.386",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{stopColor:"#0D5810"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#16961A"})]})),(0,r.jsxs)("filter",Object.assign({id:"filter0_ii",width:"59.565",height:"63.283",x:"160.331",y:"69.997",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,r.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,r.jsx)("feOffset",{dx:".5",dy:".25"}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,r.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,r.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),(0,r.jsx)("feBlend",{in2:"shape",result:"effect1_innerShadow"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,r.jsx)("feOffset",{dx:"-.5",dy:"-.25"}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,r.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,r.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),(0,r.jsx)("feBlend",{in2:"effect1_innerShadow",result:"effect2_innerShadow"})]})),(0,r.jsxs)("filter",Object.assign({id:"filter1_ii",width:"53.464",height:"56.705",x:"164.474",y:"73.918",colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,r.jsx)("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,r.jsx)("feOffset",{dx:".5",dy:".25"}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,r.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,r.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),(0,r.jsx)("feBlend",{in2:"shape",result:"effect1_innerShadow"}),(0,r.jsx)("feColorMatrix",{in:"SourceAlpha",result:"hardAlpha",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),(0,r.jsx)("feOffset",{dx:"-.5",dy:"-.25"}),(0,r.jsx)("feGaussianBlur",{stdDeviation:"2"}),(0,r.jsx)("feComposite",{in2:"hardAlpha",k2:"-1",k3:"1",operator:"arithmetic"}),(0,r.jsx)("feColorMatrix",{values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.15 0"}),(0,r.jsx)("feBlend",{in2:"effect1_innerShadow",result:"effect2_innerShadow"})]})),(0,r.jsxs)("radialGradient",Object.assign({id:"paint4_radial",cx:"0",cy:"0",r:"1",gradientTransform:"matrix(7.55646 0 0 7.50847 163.666 47.953)",gradientUnits:"userSpaceOnUse"},{children:[(0,r.jsx)("stop",{stopColor:"#fff",stopOpacity:".5"}),(0,r.jsx)("stop",{offset:".05",stopColor:"#E4F5E4",stopOpacity:".56"}),(0,r.jsx)("stop",{offset:".35",stopColor:"#52BF56",stopOpacity:".88"}),(0,r.jsx)("stop",{offset:".49",stopColor:"#19AA1E"}),(0,r.jsx)("stop",{offset:".64",stopColor:"#199029"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#195441"})]}))]})]}))}},20546:(e,t,s)=>{"use strict";s.d(t,{m:()=>x});var r=s(52322),i=s(2784),a=s(4125);function n({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:e},{children:(0,r.jsx)("path",{d:"M10.8 11L9.6 7.6 8 10.1 6.4 7.7 5.2 11h-2l2.9-7.2L8 6.7l1.9-2.9 2.9 7.2h-2z"})}))}function o({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:e},{children:(0,r.jsx)("path",{d:"M10.9 11.8l-.9-1.2c1.5-1.1 1.7-3.3.6-4.7l-.3-.3L8 10.9 5.7 5.6c-1.3 1.3-1.3 3.5 0 4.8l.3.3-.9 1.2C4 10.9 3.2 9.5 3.2 8c0-1.7.9-3.4 2.4-4.2l.7-.4 1.6 3.8 1.6-3.8.7.4c1.5.9 2.4 2.5 2.4 4.2.2 1.5-.6 2.9-1.7 3.8z"})}))}function c({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:e},{children:(0,r.jsx)("path",{d:"M11 12L9.5 9 8 12 6.5 9 5 12 3 8l2-4 1.5 3L8 4l1.5 3L11 4l2 4-2 4z"})}))}function d({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:e},{children:(0,r.jsx)("path",{d:"M11 7V3h-1L8 5 6 3H5v4H3v1l5 5 5-5V7h-2zm-3 3.9L5.6 8.5h.9V5.6l.4.4L8 7.1 9.1 6l.4-.4v2.9h.9L8 10.9z"})}))}function l({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:e},{children:(0,r.jsx)("path",{d:"M13 11h-3v-1h.4l-.9-2.4L8 10.1 6.4 7.7 5.6 10H6v1H3v-1h.6l2.5-6.2L8 6.7l1.9-2.9 2.5 6.2h.6v1z"})}))}function u({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:e},{children:(0,r.jsx)("path",{d:"M10.3 11l-.9-2.3L8 10.5 6.6 8.6 5.7 11l-2.3-.5c0-2.3.8-4.5 2-6.5L8 6.3 10.6 4c1.3 2 2 4.2 2.1 6.5l-2.4.5z"})}))}function p({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:e},{children:(0,r.jsx)("path",{d:"M10 10.5l1-1V3.8c-.9-.6-2-.8-3-.8s-2.1.2-3 .8v5.8l1 1-1.1 1.6 1.2.9 1.1-1.5h1.6l1.1 1.5 1.2-1-1.1-1.6zm-2-1L6 8V5h4v3L8 9.5z"})}))}function g({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M27.52 24h-6.44l-2-4.87-3.08 4.7-3.06-4.7-2 4.87H4.48l7.33-17.09L16 13.2l4.19-6.29zm-5.1-2h2.06l-4.67-10.91L16 16.8l-3.81-5.71L7.52 22h2.06l3-7.13 3.42 5.3 3.44-5.3z"})}))}function m({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M8.47 24h3.43a9 9 0 0 1-1.32-15.18L16 24l5.42-15.18A9 9 0 0 1 20.1 24h3.43A11 11 0 0 0 21.4 6.42l-1-.58L16 18 11.64 5.84l-1 .58A11 11 0 0 0 8.47 24z"})}))}function h({color:e="currentColor"}){return(0,r.jsxs)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:[(0,r.jsx)("path",{d:"M18.22 14.1L16 10.65l-2.28 3.55-2.28-3.55L8 16l3.44 5.35 2.28-3.55L16 21.35l2.22-3.45 2.22 3.45L23.88 16l-3.44-5.35zm-6.78 3.55L10.38 16l1.06-1.65L12.5 16zm4.56 0L14.94 16 16 14.35 17 16v.05zm4.44 0l-1-1.6v-.1l1-1.6L21.5 16z"}),(0,r.jsx)("path",{d:"M16 6C8.83 6 3 10.49 3 16s5.83 10 13 10 13-4.49 13-10S23.17 6 16 6zm0 18c-6.07 0-11-3.59-11-8s4.93-8 11-8 11 3.59 11 8-4.93 8-11 8z"})]}))}function f({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M16 26.64L6 16.41V14h4V6h2.43L16 9.76 19.57 6H22v8h4v2.41zM8.4 16l7.6 7.78L23.6 16H20V8.45l-4 4.21-4-4.21V16z"})}))}function v({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M26.66 22L20.19 6.91 16 13.2l-4.19-6.29L5.34 22H4v2h9v-2h-1.25l1.19-2.87 3.06 4.7 3.06-4.7L20.25 22H19v2h9v-2zm-4.24 0l-3-7.13-3.42 5.3-3.44-5.3L9.58 22H7.52l4.67-10.91L16 16.8l3.81-5.71L24.48 22z"})}))}function b({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M20.38 24.14L18.73 20 16 23.67 13.27 20l-1.65 4.12L5 22.82V22A29.28 29.28 0 0 1 9.66 7.46l.64-1 5.7 5.19 5.7-5.19.64 1A29.28 29.28 0 0 1 27 22v.82zM19.27 16l2.35 5.88 3.38-.69a28.47 28.47 0 0 0-3.72-11.64L16 14.35l-5.28-4.8A28.47 28.47 0 0 0 7 21.19l3.34.67L12.73 16 16 20.33z"})}))}function y({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:e},{children:(0,r.jsx)("path",{d:"M24 7.15a15.39 15.39 0 0 0-8-2 15.39 15.39 0 0 0-8 2v12l3.66 2.92-3.37 3.37 1.42 1.41 3.7-3.7h5.18l3.7 3.7 1.42-1.41-3.37-3.37L24 19.15zm-14 4h12v2.42L16 17l-6-3.43zm6-4a15 15 0 0 1 6 1.2v.8H10v-.8a14.89 14.89 0 0 1 6-1.2zm2.3 14h-4.6l-3.7-3v-2.28l6 3.43 6-3.43v2.32z"})}))}class x extends i.PureComponent{render(){const{size:e}=this.props;switch(e){case 16:return this.getIcon16();case 32:return this.getIcon32()}}getIcon16(){const{regionCode:e,color:t}=this.props;switch(e){case"dubai":return(0,r.jsx)(p,{color:t});case"kharkov":return(0,r.jsx)(u,{color:t});case"moscow":return(0,r.jsx)(l,{color:t});case"praha":return(0,r.jsx)(d,{color:t});case"santiago":return(0,r.jsx)(c,{color:t});case"spb":return(0,r.jsx)(o,{color:t});default:return(0,r.jsx)(n,{color:t})}}getIcon32(){const{regionCode:e,color:t}=this.props;switch(e){case"dubai":return(0,r.jsx)(y,{color:t});case"kharkov":return(0,r.jsx)(b,{color:t});case"moscow":return(0,r.jsx)(v,{color:t});case"praha":return(0,r.jsx)(f,{color:t});case"santiago":return(0,r.jsx)(h,{color:t});case"spb":return(0,r.jsx)(m,{color:t});default:return(0,r.jsx)(g,{color:t})}}}x.displayName=(0,a.I)("src/shared/icons/mappings/metro")},58703:(e,t,s)=>{"use strict";s.d(t,{p:()=>g});var r=s(22970),i=s(52322),a=s(98584),n=s(6801),o=s(2784),c=s(63993),d=s(223),l=s.n(d);const u={a:["href"],b:[],strong:[],i:[],em:[],br:[],p:[],ul:[],ol:[],li:[]},p=e=>e.replace(/(<br\s*\/?>){3,}/g,"<br><br>").replace(/<a /g,'<a target="_blank" rel="noopener" '),g=(0,o.memo)((e=>{var{html:t,contentClassName:s}=e,a=(0,r._T)(e,["html","contentClassName"]);const{s:c,css:d}=(0,n.y)(m),g=(0,o.useMemo)((()=>(e=>p(l()(e,{whiteList:u})))(t)),[t]);return(0,i.jsx)("span",Object.assign({},a,{children:(0,i.jsx)("span",{className:d(c.html,s),dangerouslySetInnerHTML:{__html:g}})}))})),m=(0,n.k)({html:{"& a":{color:a.O.blue_0072ce,":hover":{color:a.O.gray_262626}},"& p, & ul, & ol":{marginBottom:"1.23em"},"& *:last-child":{marginBottom:0},"& ul":{listStyle:"disc"},"& ol":{listStyle:"decimal"},"& li":{marginStart:32},"& b, & strong":{fontWeight:c.Ue.bold},"& i, & em":{fontStyle:"italic"}}})},86139:(e,t,s)=>{"use strict";s.d(t,{d:()=>b});var r=s(52322),i=s(6340),a=s(54974),n=s(6801),o=s(85843),c=s(13818),d=s(98160),l=s(2784),u=s(27215),p=s(57475),g=s(67991),m=s(42858),h=s(98584),f=s(63993),v=s(49793);const b=(0,l.memo)((e=>{const{isMobileDevice:t}=(0,i.Z)();return t?(0,r.jsx)(x,Object.assign({},e)):(0,r.jsx)(y,Object.assign({},e))}));b.displayName="AdInfoLink";const y=(0,l.memo)((e=>{const{onCopy:t,renderIdInput:s}=(0,d.e)(),{ref:i,addTooltip:a}=(0,p.s)({title:(0,r.jsx)(g.O,Object.assign({},e,{renderIdInput:s})),to:"bottomBottomStart",loseHoverOnClick:!1,delay:300});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(j,Object.assign({},e,{containerRef:i,onClick:t})),a]})})),x=(0,l.memo)((e=>{const t=(0,u.I0)(),s=(0,a.$)((s=>{s.stopPropagation(),t((0,c.I)(e))}));return(0,r.jsx)(j,Object.assign({},e,{onClick:s}))})),j=(0,l.memo)((e=>{const{suffix:t,gray:s,tiny:a,small:c,styles:d,dataN:l="wat-ad-info-link",containerRef:u,onClick:p,rating:g,description:h}=e,{s:f,css:b}=(0,n.y)(w),y=(0,m.T)(),{featureAdInfo:x}=(0,i.Z)(),j=t?y._t(" — реклама"):y._t("Реклама");return(0,r.jsx)("span",Object.assign({ref:x?u:void 0,onClick:x?p:void 0},o.dx.n(l),{className:b(f.root,x&&f.cursor,t&&f.suffix,s&&f.gray,a&&f.tiny,c&&f.small,d)},{children:void 0!==g||h?(0,r.jsxs)(v.v,Object.assign({inline:!0,styles:h?f.inline:f.noWrap,dotTheme:"inherit"},{children:[j,void 0!==g&&`${g}+`,h&&(0,r.jsx)("span",Object.assign({},o.dx.n("wat-ads-text-warning"),{children:h}))]})):j}))}));j.displayName="AdInfoLinkInner";const w=(0,n.k)({root:{fontWeight:f.Ue.medium},gray:{color:h.O.gray_929292},tiny:Object.assign({},(0,f.KU)(1,f.Vz)),small:Object.assign({},(0,f.KU)(1,f.F0)),suffix:Object.assign(Object.assign({},f.yG),{color:h.O.gray_929292,whiteSpace:"nowrap"}),cursor:{cursor:"pointer"},noWrap:{whiteSpace:"nowrap"},inline:{display:"inline"}})},29973:(e,t,s)=>{"use strict";s.d(t,{E:()=>n});var r=s(2784),i=s(38399),a=s(6340);const n=({direction:e,size:t,color:s,icon:n=i.E})=>{const{rtl:c}=(0,a.Z)();return r.createElement(n,{direction:o(e,c),size:t,color:s})};function o(e,t){switch(e){case"start":return t?"right":"left";case"end":return t?"left":"right";default:return e}}},35680:(e,t,s)=>{"use strict";s.d(t,{O:()=>g});var r=s(52322),i=s(2784),a=s(98584),n=s(85843),o=s(40478),c=s(38399),d=s(72645),l=s(64693),u=s(32002),p=s(6801);const g=(0,i.memo)((({children:e,showDivider:t=!1,bgColor:s})=>{const{css:d,s:u,dir:g}=(0,p.y)(m),[h,f]=(0,i.useState)("none"),v=(0,i.useRef)(null),b=(0,i.useCallback)((()=>{const e=v.current;if(!e)return;const t="rtl"===g,{scrollLeft:s,scrollWidth:r,clientWidth:i}=e,a=Math.abs(s),n=r-i,o=a===n;f(0===s||a<4&&!o?t?"left":"right":o||a>=n-4?t?"right":"left":"both")}),[g]),y=(0,i.useCallback)((()=>{const e=v.current;if(e){e.scrollWidth-e.clientWidth<=4?f("none"):"none"===h&&b()}}),[h,b]);(0,i.useEffect)((()=>{setTimeout(y,0)}),[y]),(0,i.useEffect)((()=>{y()}));const x=(0,i.useCallback)(((e,t)=>{const s=v.current;if(!s)return;const{offsetWidth:r,scrollLeft:i}=s,a=t+e;"rtl"!==g?i>t?s.scrollLeft=0:a>r&&(s.scrollLeft=a-r+e):i>=t?s.scrollLeft=Math.abs(a)-r:Math.abs(a)>r-t&&(s.scrollLeft=r+e)}),[g]),j=(0,i.useCallback)((()=>{let e=1;return"right"===h?e=0:"left"===h&&(e=2),e}),[h]),w=(0,i.useCallback)((e=>{const t=v.current,s="rtl"===g;if(t){let r=0;switch(e){case 0:r=s?-t.scrollWidth:0;break;case 1:"right"===h?r=t.scrollWidth:"left"===h&&(r=s?-t.scrollWidth:0);break;case 2:r=t.scrollWidth}t.scrollLeft=r}}),[h,g]);return(0,r.jsxs)("div",Object.assign({className:d(u.wrapper,t&&u._divider)},n.dx.n("wat-wrapper-tabs"),{style:{"--bg-color":s}},{children:[(()=>{if("none"!==h){const e="right"!==h?(0,r.jsx)("div",Object.assign({className:d(u.arrow)},n.dx.n("wat-arrow-left"),{children:(0,r.jsx)(c.E,{direction:"left",color:s===a.O.white?a.O.gray_dddddd:a.O.black})})):null,t="left"!==h?(0,r.jsx)("div",Object.assign({className:d(u.arrow,u._right)},n.dx.n("wat-arrow-right"),{children:(0,r.jsx)(c.E,{direction:"right",color:s===a.O.white?a.O.gray_dddddd:a.O.black})})):null;return(0,r.jsx)(o.e,{left:e,right:t,currentIndex:j(),maxIndex:2,minIndex:0,onChange:w})}return null})(),(0,r.jsx)("div",Object.assign({className:d(u.content),ref:v,onScroll:"none"!==h?b:l.ZT},n.dx.n("wat-contents-tabs"),n.dx.s(h),{children:e(x)}))]}))}));g.displayName="ArrowedScrollWrapper";const m=(0,p.k)({wrapper:{position:"relative",display:"flex",alignItems:"center",height:48,zIndex:d.W.base,background:"var(--bg-color)"},content:{zIndex:d.W.base,margin:"0 24px",width:"100%",height:"100%",overflowX:"auto",overflowY:"hidden",scrollBehavior:"smooth","::-webkit-scrollbar":{display:"none"},scrollbarWidth:"none",msOverflowStyle:"none"},arrow:{position:"absolute",background:"var(--bg-color)",top:12,height:24,width:24,left:0,paddingLeft:8,zIndex:d.W.top,"::before":{content:'""',backgroundImage:"linear-gradient(to right, var(--bg-color), var(--bg-color) 32px, rgba(255, 255, 255, 0))",pointerEvents:"none",height:44,width:72,position:"absolute",left:0,paddingLeft:8,top:-12}},_divider:{boxShadow:u.q.innerBorderBottomBase},_right:{left:"auto",right:0,paddingRight:8,paddingLeft:0,"::before":{left:"auto",right:0,paddingRight:8,paddingLeft:0,backgroundImage:"linear-gradient(to left, var(--bg-color), var(--bg-color) 32px, rgba(255, 255, 255, 0))"}}})},43228:(e,t,s)=>{"use strict";s.d(t,{C:()=>u});var r=s(52322),i=s(2784),a=s(47320),n=s(98584),o=s(85843),c=s(20094),d=s(6801),l=s(6340);const u=(0,i.memo)((({id:e,src:t,src2x:s,backgroundColor:a,backgroundPosition:n,isLoadingForced:c,contain:u,overlay:g,width:m,height:h,borderRadius:f="0",renderPlaceholder:v,onClick:b,onError:y,onLoad:x})=>{const{css:j,s:w}=(0,d.y)(p),[_,C]=(0,i.useState)(!1),[I,k]=(0,i.useState)(!1),{userAgent:O}=(0,l.Z)(),S=v&&!c,N=(0,i.useMemo)((()=>s?/AppleWebKit/.test(O)?`-webkit-image-set(url("${t}") 1x, url("${s}") 2x)`:`image-set("${t}" 1x, "${s}" 2x)`:`url(${t})`),[t,s,O]);(0,i.useEffect)((()=>{if(!S&&!x&&!y)return;const e=new Image;e.onload=()=>{k(!0),x&&x(e)},e.onerror=e=>{C(!0),y&&y(e)},e.src=t}),[t,S,y,x]);const M=(0,i.useCallback)((()=>{b&&b({id:e,src:t})}),[t,e,b]);return!S||!_&&I?(0,r.jsx)("div",Object.assign({className:j(w.image,u&&w._imageContain,g&&w._imageOverlay,b&&w._imageClickable),style:{backgroundImage:N,backgroundColor:a,backgroundPosition:n,width:m||"100%",height:h||"100%",maxWidth:"100%",maxHeight:"100%",borderRadius:f},onClick:M},o.dx.n("wat-image"))):(0,r.jsx)("div",Object.assign({style:{display:"flex",justifyContent:"center",alignItems:"center",width:m||"100%",height:h||"100%",maxWidth:"100%",maxHeight:"100%"}},{children:v(_?"error":"loading")}))})),p=(0,d.k)({image:{backgroundBlendMode:"multiply",backgroundPosition:"center center",backgroundRepeat:"no-repeat",backgroundSize:"cover"},_imageContain:{backgroundSize:"contain"},_imageOverlay:{position:"relative",":after":{content:'""',display:"block",width:"100%",height:"100%",position:"absolute",top:0,start:0,transition:`background ${a.l.short}ms ease-out`,background:(0,c.j)(n.O.black,.2)},":hover:after":{background:"transparent"}},_imageClickable:{cursor:"pointer"}});u.displayName="BackgroundImg"},48236:(e,t,s)=>{"use strict";s.d(t,{z:()=>m});var r=s(52322),i=s(2784),a=s(6801),n=s(63993),o=s(20094),c=s(98584),d=s(85843);class l extends i.PureComponent{constructor(){super(...arguments),this.handleClick=e=>{const{external:t,disabled:s,onClick:r}=this.props;(t||r)&&e.stopPropagation(),s||(t||e.preventDefault(),r&&r(e))}}render(){const{className:e,style:t,href:s,external:i,disabled:a,children:n,dataN:o="wat-kit-button",dataT:c,dataS:l,type:u,containerRef:p}=this.props,g=d.dx.n(o),m=c?d.dx.t(c):void 0,h=l?d.dx.s(l):void 0,f=Object.assign(Object.assign(Object.assign(Object.assign({className:e,style:t,onClick:this.handleClick,target:i&&s?"_blank":void 0,rel:i&&s&&!s.startsWith("tel:")?"noopener":void 0,disabled:a,ref:p},g),m),h),{type:"submit"===u?"submit":"button"});return s?(0,r.jsx)("a",Object.assign({href:s},f,{children:n})):(0,r.jsx)("button",Object.assign({},f,{children:n}))}}var u=s(35253),p=s(32002),g=s(89779);const m=(0,i.memo)((e=>{const{appearance:t,background:s,wide:i,sharp:n,leftRounded:o,rightRounded:c,noBorder:d,compact:u,fat:p,medium:m,href:h,children:v,onClick:b,external:y,disabled:x,dataN:j,dataT:w,dataS:_,type:C,containerRef:I,color:k,experimentalStyles:O}=e,{css:S,s:N}=(0,a.y)(f);return(0,r.jsx)(l,Object.assign({href:h,className:S(N.button,(()=>{switch(t){case"primary":return N._primary;case"secondary":return N._secondary;case"ghost":return N._ghost;case"noncontrast":return N._noncontrast;default:return N._default}})(),...(()=>{const e=[];return s&&e.push(N._background),i&&e.push(N._wide),d&&e.push(N._noBorder),p?e.push(N._fat):u?e.push(N._compact):m&&e.push(N._medium),n?e.push(N._sharp):o?e.push(N._leftRounded):c&&e.push(N._rightRounded),x&&e.push(N._disabled),e})(),O),style:{background:s,color:k||s&&(0,g.x)(s)},onClick:b,external:y,disabled:x,dataN:j,dataT:w,dataS:_,type:C,containerRef:I},{children:v}))})),h={background:"transparent",border:"none",margin:0,padding:0,WebkitAppearance:"none",color:"inherit",textDecoration:"none"},f=(0,a.k)((e=>({button:Object.assign(Object.assign(Object.assign({},h),n.oN),{position:"relative",zIndex:u.W5.base,boxSizing:"border-box",display:"inline-block",borderRadius:u.E0.default,boxShadow:p.q.innerBorderTransparent,overflow:"hidden",padding:"12px 24px",cursor:"pointer",textAlign:"center"}),_background:{background:"transparent",":after":{content:'""',zIndex:u.W5.bottom,position:"absolute",top:0,bottom:0,start:0,end:0,background:"transparent"},":hover:after":{background:(0,o.j)(c.O.gray_929292,.2)}},_wide:{display:"block",width:"100%"},_fat:{padding:"20px 40px"},_compact:{padding:"4px 8px"},_medium:{padding:"8px 12px"},_sharp:{borderRadius:0},_leftRounded:{borderRadius:u.E0.defaultOnlyEnd},_rightRounded:{borderRadius:u.E0.defaultOnlyStart},_default:{background:c.O.white,color:c.O.blue_0072ce,":after":{borderRadius:u.E0.default,boxShadow:p.q.innerBorderTransparent},":hover":{color:c.O.gray_262626},":active":{color:c.O.gray_929292}},_ghost:{background:"transparent",color:c.O.blue_0072ce,":hover":{color:c.O.gray_262626},":active":{color:c.O.gray_929292}},_noncontrast:{background:c.O.gray_f2f2f2,color:c.O.gray_262626,":hover":{color:c.O.gray_262626,background:c.O.blue_c5ebff},":active":{color:c.O.gray_929292}},_noBorder:{boxShadow:"none !important",":after":{boxShadow:"none !important"}},_primary:{color:(0,g.x)(e.colors.green_299400_brand),background:e.colors.green_299400_brand,":active":{color:(0,o.j)((0,g.x)(e.colors.green_299400_brand),.7)}},_secondary:{color:c.O.white,background:c.O.blue_028eff,":active":{color:(0,o.j)(c.O.white,.7)}},_disabled:{opacity:.5,pointerEvents:"none"}})))},68393:(e,t,s)=>{"use strict";s.d(t,{W:()=>d});var r=s(52322),i=s(6801),a=s(54974),n=s(63993),o=s(33956),c=s(85843);const d=(0,s(2784).memo)((e=>{const{children:t,size:s,icon:n,innerRef:o,isLabelSolid:d,fontStyle:u,dataT:p="",dataPs:g,href:m,isShifted:h=!1,onClick:f}=e,{css:v,s:b}=(0,i.y)(l),y=(0,a.$)((e=>{e.preventDefault(),f(e)})),x=m?"a":"button";return(0,r.jsxs)(x,Object.assign({},c.dx.n("wat-button-action"),c.dx.t(p),{className:v(b.button,"uppercase"===u&&b._uppercase),onClick:y,"data-ps":g,href:m,ref:o},{children:[(0,r.jsx)("span",Object.assign({className:v(b.icon),style:{width:s,height:s}},{children:n})),t&&(0,r.jsx)("span",Object.assign({className:v(b.label,d&&b._withSolidLabel,h&&b._shifted)},{children:t}))]}))}));d.displayName="ButtonAction";const l=(0,i.k)({button:Object.assign(Object.assign({},n.F0),{color:"inherit",border:"none",background:"none",padding:"0",cursor:"pointer",display:"flex",alignItems:"center",userSelect:"none",":focus":{outline:"none"}}),_uppercase:Object.assign({},n.Mp),icon:{width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",transition:`opacity ${o.l.short}ms ease`,"[data-ps]:hover &":{opacity:.7},"[data-ps]:active &":{opacity:1}},label:{marginStart:4,transition:`opacity ${o.l.short}ms ease`,opacity:.7,"[data-ps]:active &":{opacity:1}},_withSolidLabel:{opacity:1,"[data-ps]:hover &":{opacity:.7},"[data-ps]:active &":{opacity:.7}},_shifted:{marginStart:8}})},67455:(e,t,s)=>{"use strict";s.d(t,{X:()=>l});var r=s(52322),i=s(2784),a=s(85843),n=s(6801),o=s(52087),c=s(98584),d=s(66369);const l=({isChecked:e,dataN:t,isInvalid:s,backgroundColor:d,tickColor:l,onClick:p,disabled:g})=>{const{css:m,s:h}=(0,n.y)(u),f=(0,i.useCallback)((()=>{g||p(!e)}),[e,p,g]);return(0,r.jsx)("div",Object.assign({},a.dx.n(t),{tabIndex:0,onClick:f,style:{background:d||"transparent"},className:m(h.checkbox,s&&h._invalid,g&&h._disabled)},{children:e&&(0,r.jsx)("span",Object.assign({className:m(h.icon)},{children:(0,r.jsx)(o.J,{width:24,height:24,color:l||c.O.gray_262626})}))}))},u=(0,n.k)({checkbox:{position:"relative",display:"inline-flex",borderRadius:d.E.default,cursor:"pointer",minWidth:20,height:20,border:`1px solid ${c.O.gray_e6e6e6}`,boxSizing:"border-box",marginEnd:12,outline:"none"},icon:{position:"absolute",top:-3,start:-3},_invalid:{border:`1px solid ${c.O.red_fe5000}`},_disabled:{filter:"grayscale(1)",cursor:"default"}})},48256:(e,t,s)=>{"use strict";s.d(t,{Y:()=>p});var r=s(52322),i=s(2784),a=s(19561),n=s(68879),o=s(88119),c=s(98584),d=s(85843);class l extends i.PureComponent{constructor(){super(...arguments),this.isClearHandled=!1,this.onClear=e=>{e.preventDefault(),this.props.stopPropagation&&e.stopPropagation(),this.isClearHandled?this.isClearHandled=!1:(this.isClearHandled=!0,this.props.onClear())}}render(){const{ariaLabel:e,isWhite:t,tabIndex:s,s:i}=this.props;return(0,r.jsx)("button",Object.assign({type:"button",className:(0,a.iv)(i.root,t&&i._isWhite),tabIndex:s},d.dx.n("wat-clear-btn"),{"aria-label":e,onClick:this.onClear},{children:(0,r.jsx)(o.U,{})}))}}const u={root:{width:"16px",height:"17px",color:c.O.gray_929292,"&:hover":{color:c.O.gray_262626}},_isWhite:{opacity:.7,color:c.O.white,"&:hover":{opacity:1,color:c.O.white}}},p=(0,n.D2)(u)(l)},67487:(e,t,s)=>{"use strict";s.d(t,{o:()=>g});var r=s(52322),i=s(2784),a=s(68879),n=s(4125),o=s(85843),c=s(35253),d=s(55805),l=s(98584);class u extends i.PureComponent{constructor(){super(...arguments),this.handleClick=e=>{e.stopPropagation(),e.preventDefault(),this.props.onClick()}}render(){const{title:e,dataT:t,isActive:s,children:i,disabled:n,s:c,innerRef:l,ariaLabel:u}=this.props;return(0,r.jsx)("button",Object.assign({title:e,className:(0,a.iv)(c.control,s&&c._active),onClick:this.handleClick,disabled:n},o.dx.n("wat-kit-control"),o.dx.t(t),l&&{ref:l},(0,d.P)({label:u}),{children:i}))}}u.displayName=(0,n.I)("src/shared/kit/control");const p={control:{display:"flex",justifyContent:"center",alignItems:"center",width:32,height:32,color:l.O.gray_262626,borderRadius:c.E0.default,":hover":{opacity:.7},":active":{color:l.O.blue_028eff},":disabled":{background:l.O.gray_f2f2f2,color:l.O.gray_929292,cursor:"default",":hover":{opacity:1}}},_active:{color:l.O.blue_028eff}},g=(0,a.D2)(p)(u)},84962:(e,t,s)=>{"use strict";s.d(t,{Z:()=>p});var r=s(52322),i=s(2784),a=s(68879),n=s(4125),o=s(98584),c=s(32002),d=s(35253);class l extends i.PureComponent{render(){const{isGhost:e,isVertical:t,innerRef:s,s:i}=this.props;return(0,r.jsx)("div",Object.assign({className:(0,a.iv)(i.controls,e&&i._ghost,t&&i._vertical),ref:s},{children:this.props.children}))}}l.displayName=(0,n.I)("src/shared/kit/controls");const u={controls:{display:"inline-flex",boxShadow:c.q.popup,background:o.O.white,borderRadius:d.E0.default,"& > *":{boxShadow:c.q.innerBorderEndBase,borderRadius:d.E0.defaultOnlyEnd,"&:last-child":{boxShadow:"none"}}},_ghost:{boxShadow:"none",background:"none"},_vertical:{flexDirection:"column","& > *":{boxShadow:c.q.innerBorderBottomBase,borderRadius:d.E0.defaultOnlyTop,"&:last-child":{boxShadow:"none"}}}},p=(0,a.D2)(u)(l)},44069:(e,t,s)=>{"use strict";s.d(t,{L:()=>y});var r=s(52322),i=s(2784),a=s(19561),n=s(68879),o=s(63993),c=s(98584),d=s(20094),l=s(32002),u=s(13876),p=s(85843),g=s(33956),m=s(35253);function h({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"none",viewBox:"0 0 16 16"},{children:(0,r.jsx)("path",{fill:e,fillRule:"evenodd",d:"M1 3h1.616c.252 0 .465.188.496.439l.77 6.248c.1.823.85 1.408 1.673 1.306l7.215-.898c.695-.087 1.237-.643 1.307-1.34L14.553 4H4.188l-.085-.683C4.012 2.565 3.374 2 2.616 2H1v1zm3.874 6.565L4.312 5H7v3h1V5h2v3h1V5h2.447l-.365 3.656c-.023.232-.204.418-.436.446L5.432 10c-.274.034-.524-.16-.558-.435zM5.5 15c.828 0 1.5-.672 1.5-1.5S6.328 12 5.5 12 4 12.672 4 13.5 4.672 15 5.5 15zm0-1c.276 0 .5-.224.5-.5s-.224-.5-.5-.5-.5.224-.5.5.224.5.5.5zM11.5 15c.828 0 1.5-.672 1.5-1.5s-.672-1.5-1.5-1.5-1.5.672-1.5 1.5.672 1.5 1.5 1.5zm0-1c.276 0 .5-.224.5-.5s-.224-.5-.5-.5-.5.224-.5.5.224.5.5.5z",clipRule:"evenodd"})}))}var f=s(89779);function v({color:e="currentColor"}){return(0,r.jsx)("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:e},{children:(0,r.jsx)("path",{d:"M11.9 2L9.5 8 3 8.5l5 4L6.5 19l5.5-3.5 5.5 3.5-1.5-6.5 5-4-6.5-.5-2.6-6z",fillRule:"evenodd",clipRule:"evenodd"})}))}class b extends i.PureComponent{constructor(){super(...arguments),this.renderButton=()=>{const{value:e,title:t,isChecked:s=!1,isCheckedUnclickable:i=!1,isDisabled:n=!1,isFlex:o=!1,isCentered:c=!1,s:d,children:l,iconType:u,dataN:g="wat-filter-btn",dataT:m,isGray:h,style:f}=this.props;return(0,r.jsxs)("label",Object.assign({className:(0,a.iv)(d.button,!!u&&d._promo,s&&!n&&d._checked,s&&i&&d._checkedUnclickable,n&&!s&&d._disabled,h&&d._gray,n&&s&&d._checkedDisabled,o&&d._flex,this.getSharpCornerStyles(),f)},p.dx.n(g),p.dx.t(m),p.dx.v(e),p.dx.s(String(s)),{title:t},{children:[this.getIcon(),(0,r.jsx)("input",{ref:this.saveInput,className:(0,a.iv)(d.input),type:"checkbox",value:e,checked:s,disabled:n,onChange:this.onChange}),(0,r.jsx)("span",Object.assign({className:(0,a.iv)(d.label,o&&d._flex,o&&d._grow,c&&d._center)},{children:l||t}))]}),e)},this.getIcon=()=>{const{iconType:e,isChecked:t,s}=this.props;if(e)switch(e){case"cart":return(0,r.jsx)("div",Object.assign({className:(0,a.iv)(s.promoteIcon,t&&s._iconChecked)},{children:(0,r.jsx)(h,{})}));case"star":return(0,r.jsx)("div",Object.assign({className:(0,a.iv)(s.promoteIcon,t&&s._iconChecked)},{children:(0,r.jsx)(v,{})}))}},this.saveInput=e=>{this.input=e},this.getSharpCornerStyles=()=>{const{s:e,sharpCornersType:t}=this.props;switch(t){case"left":return e._sharpLeft;case"right":return e._sharpRight;case"both":return e._sharpBoth;default:return!1}},this.onChange=()=>{const{value:e,isDisabled:t,onClick:s}=this.props;this.input&&!t&&s&&s({value:e,isChecked:this.input.checked})}}render(){const{href:e}=this.props;return e?(0,r.jsx)("a",Object.assign({href:e},{children:this.renderButton()})):this.renderButton()}}const y=(0,n.D2)((e=>({button:Object.assign(Object.assign({},o.oN),{padding:e.mobile?"10px":"6px 10px",borderRadius:m.E0.oval,boxShadow:l.q.innerBorderBase,color:c.O.gray_262626,display:"inline-flex",boxSizing:"border-box",maxWidth:"100%",userSelect:"none",cursor:"pointer",backgroundColor:c.O.white,transition:`box-shadow ${g.l.short}ms ease, color ${g.l.short}ms ease`,":hover":{boxShadow:`inset 0 0 0 1px ${e.colors.green_299400_brand}`},":active":{boxShadow:`inset 0 0 0 1px ${e.colors.green_299400_brand}`,color:(0,d.j)(c.O.gray_262626,.5)},":focus":{boxShadow:l.q.innerBorderBase,color:(0,d.j)(c.O.gray_262626,.5),outline:"none"},"@media (max-width: 350px)":Object.assign({},o.yG)}),_center:{justifyContent:"center",textAlign:"center"},_flex:{display:"flex"},_grow:{flexGrow:"1"},_sharpLeft:{borderRadius:`logical  ${m.E0.oval} 0 0 ${m.E0.oval}`},_sharpRight:{borderRadius:`logical 0 ${m.E0.oval} ${m.E0.oval} 0`},_sharpBoth:{borderRadius:0},_checked:{backgroundColor:e.colors.green_30ad00_brand,color:(0,f.x)(e.colors.green_30ad00_brand),boxShadow:"none",":hover":{opacity:.7},":active":{color:(0,d.j)(c.O.white,.7)},":focus":{color:(0,d.j)(c.O.white,.7)}},_checkedUnclickable:{pointerEvents:"none"},_disabled:{boxShadow:l.q.innerBorderDisabled,color:c.O.gray_bbbbbb,backgroundColor:c.O.gray_f2f2f2,pointerEvents:"none"},_gray:{backgroundColor:c.O.gray_e6e6e6,":hover":{background:(0,d.j)(c.O.gray_e6e6e6,.7),boxShadow:l.q.innerBorderDisabled},":active":{background:(0,d.j)(c.O.gray_e6e6e6,.7),boxShadow:l.q.innerBorderDisabled},":focus":{background:(0,d.j)(c.O.gray_e6e6e6,.7),boxShadow:l.q.innerBorderDisabled}},_checkedDisabled:{boxShadow:"none",backgroundColor:(0,d.j)(e.colors.green_30ad00_brand,.5),color:c.O.white,pointerEvents:"none"},_promo:{background:c.O.orange_fffaeb,boxShadow:u.q.innerBorderFilter},promoteIcon:{display:"flex",alignItems:"center",width:16,height:16,marginEnd:8,color:c.O.yellow_ffb81c},_iconChecked:{color:(0,f.x)(e.colors.green_30ad00_brand)},label:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},input:{display:"none"}})))(b)},31407:(e,t,s)=>{"use strict";s.d(t,{u:()=>c});var r=s(52322),i=s(2784),a=s(4125),n=s(68879);class o extends i.PureComponent{render(){const{children:e,s:t}=this.props;return e?(0,r.jsx)("div",Object.assign({className:(0,n.iv)(t.flexRowContent)},{children:e})):null}}o.displayName=(0,a.I)("src/shared/kit/flexRow");const c=(0,n.D2)({flexRowContent:{paddingTop:12,paddingBottom:12,flex:"1 1 auto",minWidth:0,maxWidth:"100%"}})(o)},56146:(e,t,s)=>{"use strict";s.d(t,{C:()=>c});var r=s(52322),i=s(2784),a=s(4125),n=s(68879);class o extends i.PureComponent{render(){const{children:e,size:t=24,s}=this.props;return e?(0,r.jsx)("div",Object.assign({className:(0,n.iv)(s.flexRowIcon,48===t&&s._big)},{children:e})):null}}o.displayName=(0,a.I)("src/shared/kit/flexRow");const c=(0,n.D2)({flexRowIcon:{marginTop:8,marginBottom:8,marginStart:-4,marginEnd:12,flex:"0 0 auto",width:24,height:24,display:"flex",alignItems:"center",justifyContent:"center"},_big:{marginTop:0,marginBottom:0,marginStart:-8,marginEnd:8,width:48,height:48}})(o)},49169:(e,t,s)=>{"use strict";s.d(t,{g:()=>p});var r=s(52322),i=s(2784),a=s(4125),n=s(68879),o=s(98584),c=s(35253),d=s(85843);class l extends i.PureComponent{render(){const{children:e,shiftedDivider:t,shiftedContent:s,justifyContent:i,alignItems:a,noDivider:o,dataN:c,s:l,wrap:u,styles:p}=this.props;return e?(0,r.jsx)("div",Object.assign({className:(0,n.iv)(p,l.flexRow,s&&l._shiftedContent,u&&l.wrap),style:{justifyContent:i,alignItems:a}},d.dx.n(c||"wat-flex-row"),{"data-divider":!o,"data-divider-shifted":!o&&t||void 0},{children:e})):null}}l.displayName=(0,a.I)("src/shared/kit/flexRow");const u={flexRow:{display:"flex",alignItems:"flex-start",position:"relative",'[data-divider="true"] + &:not([data-divider="false"])::before':{position:"absolute",content:'""',display:"block",borderBottom:`1px solid ${o.O.gray_e6e6e6}`,top:0,right:0,left:0},"[data-divider-shifted] + &[data-divider-shifted]::before":{left:c.dp.rackShift}},_shiftedContent:{paddingStart:c.dp.rackShift},_alignItemsCenter:{alignItems:"center"},wrap:{flexWrap:"wrap"}},p=(0,n.D2)(u)(l)},56976:(e,t,s)=>{"use strict";s.d(t,{B:()=>c});var r=s(52322),i=s(2784),a=s(19561),n=s(68879);class o extends i.PureComponent{constructor(){super(...arguments),this.wrapperRef=i.createRef(),this.wasFocused=!1,this.isFocused=!1,this.handleFocusOut=()=>{this.isFocused=!1,this.runTimeout()},this.handleFocusIn=()=>{this.isFocused=!0,this.runTimeout()},this.triggerProperHandler=()=>{this.isFocused!==this.wasFocused&&(this.isFocused?this.props.onFocus&&this.props.onFocus():this.props.onBlur&&this.props.onBlur(),this.wasFocused=this.isFocused)}}componentDidMount(){this.isFocused=!!this.props.initialFocus,this.wasFocused=!!this.props.initialFocus;const e=this.wrapperRef&&this.wrapperRef.current;e&&(e.addEventListener("focusout",this.handleFocusOut),e.addEventListener("focusin",this.handleFocusIn))}componentWillUnmount(){window.clearTimeout(this.triggerTimeoutId);const e=this.wrapperRef&&this.wrapperRef.current;e&&(e.removeEventListener("focusout",this.handleFocusOut),e.removeEventListener("focusin",this.handleFocusIn))}render(){return(0,r.jsx)("div",Object.assign({tabIndex:-1,ref:this.wrapperRef,className:(0,a.iv)(this.props.s.focus),onClick:this.props.onClick},{children:this.props.children}))}runTimeout(){window.clearTimeout(this.triggerTimeoutId),this.triggerTimeoutId=window.setTimeout(this.triggerProperHandler,0)}}const c=(0,n.D2)({focus:{width:"100%",height:"100%",outline:"none"}})(o)},75490:(e,t,s)=>{"use strict";s.d(t,{T:()=>l});var r=s(52322),i=s(2784),a=s(35253),n=s(93532),o=s(6801),c=s(98584),d=s(85843);const l=(0,i.memo)((e=>{const{css:t,s}=(0,o.y)(u),{children:i,header:a,fixedContentFooter:c,contentScrollId:l,frameBackground:p}=e;return(0,r.jsxs)("div",Object.assign({className:t(s.frameLayoutRoot)},{children:[(0,r.jsx)("div",Object.assign({className:t(s.header)},{children:a})),(0,r.jsx)("div",Object.assign({className:t(s.body)},{children:(0,r.jsxs)("div",Object.assign({className:t(s.content),style:{background:p}},{children:[(0,r.jsx)("div",Object.assign({className:t(s.contentScroller)},{children:(0,r.jsx)("div",Object.assign({className:t(s.contentScrollerInner)},{children:(0,r.jsx)(n.Xs,Object.assign({id:l,persistent:!!l},{children:i}))}))})),c&&(0,r.jsx)("div",Object.assign({className:t(s.contentFooter)},d.dx.n("wat-footer-card"),{children:c}))]}))}))]}))})),u=(0,o.k)({frameLayoutRoot:{position:"relative",zIndex:a.W5.base,background:c.O.white,display:"flex",flexDirection:"column",height:"100%",overflowY:"hidden"},header:{flex:"0 0 auto",position:"relative",zIndex:a.W5.top},body:{display:"flex",flex:"1 1 auto",flexDirection:"column",position:"relative",zIndex:a.W5.base},content:{display:"flex",flexDirection:"column",flex:"1 1 auto"},contentFooter:{position:"relative",zIndex:a.W5.top},contentScroller:{flex:"1 1 auto",overflow:"hidden",position:"relative",minHeight:100},contentScrollerInner:{position:"absolute",height:"100%",width:"100%"}});l.displayName="FrameLayout"},36209:(e,t,s)=>{"use strict";s.d(t,{w:()=>i});var r=s(6340);const i=e=>{const{featureReadOnly:t}=(0,r.Z)();return t?null:e.children||null}},38479:(e,t,s)=>{"use strict";s.d(t,{T:()=>a});var r=s(52322),i=s(2784);function a(e){const{onMouseEnter:t,onMouseLeave:s,children:a}=e,[n,o]=(0,i.useState)(!!e.isHovered);return(0,r.jsx)(r.Fragment,{children:a({isHovered:n,hoverHandlers:{onMouseEnter:()=>{o(!0),t&&t()},onMouseLeave:()=>{o(!1),s&&s()}}})})}},86343:(e,t,s)=>{"use strict";s.d(t,{f:()=>l});var r=s(52322),i=s(2784),a=s(6801),n=s(98584),o=s(91440),c=s(99261),d=s(72645);const l=i.memo((e=>{const{src:t,srcSet:s,forceLoad:d=!1,withProgressBar:l=!1,threshold:p=.3,alt:g}=e,{css:m,s:h}=(0,a.y)(u),[f,v]=i.useState(!1),[b,y]=i.useState(!1),[x,j]=(0,c.S)({threshold:p}),w=t&&(d||j);return(0,r.jsxs)("article",Object.assign({className:m(h.root,e.styles),ref:x},{children:[(0,r.jsx)("div",Object.assign({className:m(h.icon)},{children:(0,r.jsx)(o.P,{color:n.O.gray_929292})})),f?null:(0,r.jsxs)(r.Fragment,{children:[w&&(0,r.jsx)("img",{className:m(h.image),src:t,srcSet:s,onError:()=>v(!0),onLoad:()=>y(!0),alt:g}),l&&!b&&j&&(0,r.jsx)("div",{className:m(h.progressbar)})]})]}))})),u=(0,a.k)({root:{position:"relative",zIndex:d.W.base,width:"100%",height:"100%",overflow:"hidden",backgroundColor:n.O.gray_f2f2f2},image:{width:"100%",height:"100%",objectFit:"cover"},icon:{position:"absolute",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",color:n.O.gray_e6e6e6,zIndex:d.W.bottom},progressbar:{height:2,position:"absolute",bottom:0,left:0,right:"100%",transform:"translateZ(0)",backgroundColor:n.O.green_30ad00,animationName:{"0%":{right:"100%"},"5%":{right:"100%"},"33%":{right:"33%"},"100%":{right:"10%"}},animationTimingFunction:"ease-out",animationDuration:"10s",zIndex:d.W.bottom}})},16289:(e,t,s)=>{"use strict";s.d(t,{E:()=>g});var r=s(52322),i=s(2784),a=s(4125),n=s(68879),o=s(85843),c=s(47320),d=s(98584),l=s(20094);class u extends i.PureComponent{constructor(){super(...arguments),this.state={imgWidth:0,imgHeight:0,isError:!this.props.src,isComplete:!1},this.renderImage=()=>{const{src:e,onClick:t,s,width:i,height:a,alt:c,srcSet:d,borderRadius:l="0",cover:u=!1,overlay:p=!1,border:g}=this.props,{imgWidth:m,imgHeight:h}=this.state,f=u?"100%":h>=m?"auto":"100%",v=u||h>=m?"100%":"auto";return(0,r.jsx)("div",Object.assign({className:(0,n.iv)(s.imageWrapper,p&&s._imageOverlay,t&&s._imageClickable),style:{width:i||"100%",height:a||"100%",borderRadius:l,border:g},onClick:this.handleClick},o.dx.n("wat-image"),{children:(0,r.jsx)("img",{src:e,srcSet:d,alt:c,style:{objectFit:u?"cover":void 0,width:f,height:v}})}))},this.renderPlaceholder=e=>{const{renderPlaceholder:t,width:s,height:i}=this.props;return t?(0,r.jsx)("div",Object.assign({},o.dx.n("wat-image-placeholder"),{style:{display:"flex",justifyContent:"center",alignItems:"center",width:s||"100%",height:i||"100%",maxWidth:"100%",maxHeight:"100%"}},{children:t(e)})):null},this.onLoad=()=>{this.image&&this.setState({isError:!1,isComplete:this.image.complete,imgWidth:this.image.width,imgHeight:this.image.height})},this.onError=e=>{this.props.onError&&this.props.onError(e),this.image&&this.setState({isError:!0,isComplete:this.image.complete,imgWidth:this.image.width,imgHeight:this.image.height})},this.handleClick=()=>{const{id:e,src:t,onClick:s}=this.props;s&&s({id:e,src:t})}}componentDidMount(){this.props.isLoadingForced||(this.image=new Image,this.image.onload=this.onLoad,this.image.onerror=this.onError,this.image.src=this.props.src,this.setState({isComplete:this.image.complete}))}componentDidUpdate(e){e.src!==this.props.src&&(this.image=new Image,this.setState({isError:!this.props.src,isComplete:this.image.complete}),this.image.onload=this.onLoad,this.image.onerror=this.onError,this.image.src=this.props.src)}componentWillUnmount(){delete this.image}render(){if(this.props.isLoadingForced)return this.renderImage();const{isError:e,isComplete:t}=this.state;return e||!t?this.renderPlaceholder(e?"error":"loading"):this.renderImage()}}u.displayName=(0,a.I)("src/shared/kit/img");const p={imageWrapper:{display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden"},_imageOverlay:{position:"relative",":after":{content:'""',display:"block",width:"100%",height:"100%",position:"absolute",top:0,start:0,transition:`background ${c.l.short}ms ease-out`,background:(0,l.j)(d.O.black,.2)},":hover:after":{background:"transparent"}},_imageClickable:{cursor:"pointer"}},g=(0,n.D2)(p)(u)},49793:(e,t,s)=>{"use strict";s.d(t,{v:()=>p});var r=s(52322),i=s(2784),a=s(68879),n=s(4125),o=s(98584),c=s(64693);class d extends i.PureComponent{render(){const{children:e,s:t,maxHeight:s,inline:i=!1,styles:n}=this.props;return 1===e.length&&e[0]?(0,r.jsx)("span",Object.assign({className:(0,a.iv)(t.single,n)},{children:e[0]})):(0,r.jsx)("span",Object.assign({className:(0,a.iv)(t.kebabs,n),style:s?{maxHeight:s}:void 0},{children:(0,c.oA)(e).map(((e,s)=>(0,r.jsxs)("span",Object.assign({className:(0,a.iv)(t.item,this.themeToStyle(),i&&t._inline)},{children:["​",e]}),s)))}))}themeToStyle(){switch(this.props.dotTheme){case"dark":return this.props.s._dark;case"inherit":return this.props.s._inherit}}}d.displayName=(0,n.I)("src/shared/kit/kebab");const l={position:"relative",marginStart:"-12px",paddingStart:"12px",marginEnd:"12px"},u={kebabs:{overflow:"hidden",display:"block"},single:Object.assign({},l),item:Object.assign(Object.assign({},l),{display:"inline-block","::before":{position:"absolute",display:"inline-block",start:"0",width:"12px",textAlign:"center",color:o.O.gray_e6e6e6,content:'"•"'},":last-child":{marginEnd:0},":first-child":{"::before":{content:"none"}}}),_inline:{display:"inline"},_dark:{"::before":{color:o.O.gray_262626}},_inherit:{"::before":{color:"inherit"}}},p=(0,a.D2)(u)(d)},13562:(e,t,s)=>{"use strict";s.d(t,{j:()=>d});var r=s(52322),i=s(2784),a=s(43228),n=s(99261),o=s(6801),c=s(16289);const d=(0,i.memo)((e=>{const{css:t,s}=(0,o.y)(l),{isLoadingForced:i=!1,lazyLoadVisibilityOffset:d,width:u,height:p,backgroundColor:g,borderRadius:m,isTrueImg:h=!1}=e,[f,v]=(0,n.S)({isIntersectInitial:i});return v?h?(0,r.jsx)(c.E,Object.assign({},e)):(0,r.jsx)(a.C,Object.assign({},e)):(0,r.jsxs)("div",Object.assign({className:t(s.root),style:{width:u,height:p}},{children:[!!g&&(0,r.jsx)("div",{className:t(s.background),style:{backgroundColor:g,borderRadius:m}}),(0,r.jsx)("div",{ref:f,className:t(s.visibleTrap),style:{inset:d}})]}))})),l=(0,o.k)({root:{width:"100%",height:"100%",position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},background:{width:"100%",height:"100%",overflow:"hidden"},visibleTrap:{position:"absolute",inset:0}})},19981:(e,t,s)=>{"use strict";s.d(t,{E:()=>p,t:()=>g});var r=s(77878),i=s(52322),a=s(2784);const n=(0,a.createContext)({addComponent:e=>{}});class o extends a.Component{constructor(e){super(e)}render(){return(0,i.jsx)(n.Provider,Object.assign({value:{addComponent:e=>{this.props.lazyProviderStore.addComponent(e)}}},{children:this.props.children}))}}let c;o.displayName="LazyProvider",c=s;function d(e){var t;return(t=class extends a.PureComponent{render(){return(0,i.jsx)(e,Object.assign({},this.props))}}).displayName="LazyComponentWrapper",t}const l="UnlazyComponent",u=new class{getExistsModuleByModuleId(e){return c(e)}getModuleByModuleId(e){return s.c[e]?this.getExistsModuleByModuleId(e):void 0}};const p=function(e){var t;return t=class extends a.Component{static getDerivedStateFromProps(e,t){const s=u.getModuleByModuleId(e.loader.moduleID.toString());return t.chunkName!==e.loader.chunkName?{chunkName:e.loader.chunkName,isLoading:!1,error:!1,component:s?d(s[l]):void 0}:null}constructor(e){super(e),this._mutableIsMounted=!1;const t=this.getExistsComponent();this.state={error:!1,isLoading:!1,chunkName:this.props.loader.chunkName,component:t?d(t):void 0}}componentWillUnmount(){this._mutableIsMounted=!1}componentDidMount(){this._mutableIsMounted=!0,this.onUpdateAndMountActions()}componentDidUpdate(){this.onUpdateAndMountActions()}render(){return this.state.error?this.props.renderPlaceholder("error"):this.state.isLoading||!this.state.component?this.props.renderPlaceholder("loading"):this.props.render(this.state.component)}onUpdateAndMountActions(){if(this.state.component||this.state.isLoading||this.state.error)return;const t=this.getExistsComponent();if(t)return this.setState({component:d(t)});this.setState({isLoading:!0,error:!1}),Promise.all([this.importWithRetries(),this.preventFlick()]).then((([e])=>{this._mutableIsMounted&&(e[l]?this.setState({component:d(e[l]),isLoading:!1,error:!1}):this.setState({component:void 0,error:!0,isLoading:!1}))})).catch((t=>{e(t,this.props.loader.chunkName),this._mutableIsMounted&&this.setState({component:void 0,error:!0,isLoading:!1})}))}preventFlick(){return new Promise((e=>{setTimeout((()=>{e()}),200)}))}importWithRetries(e=5,t=500){return new Promise(((s,r)=>{this.props.loader.asyncImport().then(s).catch((i=>{0!==e?setTimeout((()=>{this.importWithRetries(e-1,t).then(s,r)}),t):r(i)}))}))}getExistsComponent(){const e=u.getModuleByModuleId(this.props.loader.moduleID.toString());return e?e[l]:void 0}},t.displayName="LazyComponentLoader",t}((e=>{const t=e.message&&e.message.toString();(0,r.H)({message:t,level:"error",id:"6cvgx",payload:{type:"network",subtype:"ChunkLoadFailed"}})})),g=new Error("ChunkLoadError")},86687:(e,t,s)=>{"use strict";s.d(t,{r:()=>m,Z:()=>h});var r=s(52322),i=s(2784),a=s(19561),n=s(68879),o=s(98584),c=s(85843);const d=/^([^[\]]*)\[([^[\]]+)\]([^[\]]*)$/;function l(e){return e.replace(/[[\]]/g,"")}var u=s(55805);class p extends i.PureComponent{constructor(){super(...arguments),this.handleClick=e=>{const{external:t,onClick:s}=this.props;(t||s)&&e.stopPropagation(),t||e.preventDefault(),s&&s(e)}}render(){return this.props.templated?this.renderTemplated(this.props.children):this.renderLink(this.props.children)}renderTemplated(e){if("string"!=typeof e)return this.renderLink(e);const t=function(e){const t=e.match(d);return t&&4===t.length?""===t[1]&&""===t[3]?[t[2]]:t.slice(1):[l(e)]}(e);return 1===t.length?this.renderLink(t[0]):(0,r.jsxs)("span",Object.assign({ref:this.props.containerRef},{children:[t[0],this.renderLink(t[1]),t[2]]}))}renderLink(e){const{href:t,color:s,s:i,external:n,dataN:o="wat-kit-link",dataT:d,ariaLabel:l,block:p,styles:g,title:m,containerRef:h,dataId:f}=this.props,v=c.dx.n(o),b=d?c.dx.t(d):void 0,y=(0,a.iv)(i.link,"dark"===s&&i._dark,"gray"===s&&i._gray,"inherit"===s&&i._inherit,p&&i._block,g);return t?(0,r.jsx)("a",Object.assign({href:t,target:n?"_blank":void 0,className:y,ref:h,"data-id":f,onClick:this.handleClick,title:m},v,b,(0,u.P)({label:l}),{children:e})):(0,r.jsx)("button",Object.assign({ref:h,className:y,"data-id":f,onClick:this.handleClick,title:m},v,b,(0,u.P)({label:l}),{children:e}))}}const g={link:{color:o.O.blue_0072ce,textDecoration:"none",cursor:"pointer",userSelect:"text",display:"inline",textAlign:"inherit",border:"none",padding:0,backgroundColor:"transparent",":hover":{color:o.O.gray_262626}},_dark:{color:o.O.gray_262626,":hover":{color:o.O.gray_929292}},_gray:{color:o.O.gray_929292,":hover":{color:o.O.gray_262626}},_inherit:{cursor:"inherit",color:"inherit",":hover":{color:"inherit",opacity:1}},_block:{display:"block"}},m=(0,n.D2)(g)(p),h=m},13807:(e,t,s)=>{"use strict";s.d(t,{c:()=>n});var r=s(52322),i=s(30679),a=s(27564);const n=({count:e=10,ContentSkeleton:t})=>(0,r.jsx)(r.Fragment,{children:new Array(e).fill("").map(((e,s)=>(0,r.jsx)(a.g,{children:t?(0,r.jsx)(t,{}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.b,{}),(0,r.jsx)(i.b,{})]})},s)))})},27564:(e,t,s)=>{"use strict";s.d(t,{H:()=>d,g:()=>l});var r=s(52322),i=s(98584),a=s(32002),n=s(33956),o=s(85843),c=s(6801);const d=e=>{const{children:t,onClick:s,isFlex:i=!1,isActive:a=!1,isHovered:n=!1,onMouseEnter:d,onMouseLeave:l,isSmall:p,dataN:g="wat-mini-wrap",dataT:m="",dataS:h=""}=e,{css:f,s:v}=(0,c.y)(u);return(0,r.jsx)("div",Object.assign({className:f(v.listItem,i&&v._flex,a&&v._active,n&&v._hovered,p&&v._small),onClick:s,onMouseEnter:d,onMouseLeave:l},o.dx.n(g),o.dx.t(m),o.dx.s(h),{children:t}))},l=({children:e})=>{const{css:t,s}=(0,c.y)(u);return(0,r.jsx)("div",Object.assign({className:t(s.listItem),style:{pointerEvents:"none"}},{children:e}))},u=(0,c.k)((e=>({listItem:{background:i.O.white,paddingTop:16,paddingBottom:12,paddingStart:24,paddingEnd:16,boxShadow:a.q.innerBorderBottomBase,overflow:"hidden",cursor:"pointer",transform:"translateZ(0)",transition:`box-shadow ${n.l.short}ms`,":hover":{background:i.O.gray_f9f9f9}},_active:{boxShadow:`${a.q.innerBorderBottomBase}, inset 3px 0 0 0 ${e.colors.green_299400_brand}`,background:i.O.gray_f9f9f9},_hovered:{background:i.O.gray_f9f9f9},_flex:{display:"flex",justifyContent:"space-between"},_small:{padding:"12px 20px"}})))},89962:(e,t,s)=>{"use strict";s.d(t,{l:()=>c});var r=s(52322),i=s(24249),a=s(11436),n=s(54974),o=s(6801);const c=e=>{const{data:t,renderItem:s,renderSkeleton:c,isLoading:l,fetchNextPage:u,isFetchingNextPage:p,hasNextPage:g,paddingBottom:m}=e,{s:h,css:f}=(0,o.y)(d),v=(0,n.$)((()=>{g&&u()}));return l?c?c():null:(0,r.jsxs)(r.Fragment,{children:[null==t?void 0:t.map(s),!g&&m&&(0,r.jsx)("div",{style:{paddingBottom:m}}),g&&(0,r.jsx)(i.f,Object.assign({loadMore:v,isLoading:p},{children:(0,r.jsx)("div",Object.assign({className:f(h.preloader)},{children:(0,r.jsx)(a.p,{})}))}))]})},d=(0,o.k)({preloader:{padding:"24px 0"}})},24249:(e,t,s)=>{"use strict";s.d(t,{f:()=>o});var r=s(52322),i=s(2784),a=s(4125);const n={rootMargin:"50px",threshold:0};class o extends i.PureComponent{constructor(){super(...arguments),this.wrapperRef=e=>{e&&this.initObserver(e)},this.handleClick=()=>{const{isLoading:e}=this.props;e||this.props.loadMore()}}render(){const{children:e}=this.props;return(0,r.jsx)("div",Object.assign({ref:this.wrapperRef,onClick:this.handleClick},{children:e}))}componentWillUnmount(){this.destroyObserver()}initObserver(e){this.observer||(this.observer=new IntersectionObserver((e=>{const{loadMore:t,isLoading:s}=this.props;if(s)return;e.find((e=>e.isIntersecting))&&t()}),n),this.observer.observe(e))}destroyObserver(){this.observer&&(this.observer.disconnect(),this.observer=void 0)}}o.displayName=(0,a.I)("src/shared/kit/loadMore")},41568:(e,t,s)=>{"use strict";s.d(t,{O:()=>E});var r=s(52322),i=s(54974),a=s(6801),n=s(51604),o=s(72799),c=s(2784),d=s(27215),l=s(29600),u=s(10484),p=s(354),g=s(35253),m=s(31758),h=s(13562),f=s(7477),v=s(98584),b=s(6340),y=s(18629),x=s(99261),j=s(80960),w=s.n(j),_=s(2500);const C=(0,c.memo)((({id:e,previewSize:t,previewUrls:s,isMediaRubric:i,entity:n,position:o,isActiveVideo:l,coverUrls:u,addVideoToSelectActive:p,lazyLoadVisibilityOffset:g,borderRadius:m,backgroundColor:v,isLoadingForced:j,isPlayOnHover:C,visibilityThreshold:k})=>{const{s:O,css:S}=(0,a.y)(I),{lang:N}=(0,b.Z)(),M=(0,c.createRef)(),T=(0,d.v9)((e=>e.session.platform)),[P,E]=(0,x.S)({threshold:k,showVisibility:!0});(0,c.useEffect)((()=>{p&&p({id:e,isVisible:E,position:o})}),[E,e,p,o]);const{playerProps:L,isPlaying:R}=(0,y.Z)({ref:M,urls:s,onError:()=>{throw new Error("Videoplayer in minicard loading error! entityId:"+(null==n?void 0:n.id))},loop:!0,muted:!0,controls:!1,playing:l,height:"auto",type:"ios"===T?"hls":"dash",isPreview:!0});return(0,r.jsxs)("div",Object.assign({className:S(O.playerWrapper),ref:P,onMouseOver:()=>{p&&C&&p({id:e,isVisible:E,position:o,isHovered:!0})}},{children:[(0,r.jsx)("div",Object.assign({className:S(O.item)},{children:(0,r.jsx)(h.j,{src:u[t[0]],src2x:u[t[1]],lazyLoadVisibilityOffset:g,borderRadius:m,backgroundColor:v,isLoadingForced:j,alt:"ru"===N?"Видео превью":void 0})})),(0,r.jsx)("div",Object.assign({className:S(O.play,R?O._hidden:void 0)},{children:(0,r.jsx)(_.s,{})})),(0,r.jsx)("div",Object.assign({className:S(O.item,R?O._visible:O._hidden)},{children:(0,r.jsx)(w(),Object.assign({},L,{ref:M}))})),i&&1===o&&!!n&&(0,r.jsx)("div",Object.assign({className:S(O.logo)},{children:(0,r.jsx)(f.T,{size:64,entity:n})}))]}))}));C.displayName="MediaVideoItemPreview";const I=(0,a.k)({playerWrapper:{position:"relative",display:"flex",justifyContent:"center",height:"100%",width:"100%",zIndex:g.W5.base},item:{position:"absolute",width:"100%",height:"100%",borderRadius:g.E0.isolate,overflow:"hidden"},logo:{position:"absolute",start:10,bottom:10,width:64,height:64},play:{position:"absolute",width:24,height:24,color:v.O.white,bottom:12,right:12},_hidden:{visibility:"hidden"},_visible:{visibility:"visible"}}),k=(0,c.memo)((({previewSize:e,previewUrls:t,isMediaRubric:s,entity:i,position:n,lazyLoadVisibilityOffset:o,borderRadius:c,backgroundColor:d,isLoadingForced:l})=>{const{s:u,css:p}=(0,a.y)(O),{lang:g}=(0,b.Z)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.j,{src:t[e[0]],src2x:t[e[1]],lazyLoadVisibilityOffset:o,borderRadius:c,backgroundColor:d,isLoadingForced:l,alt:"ru"===g?"Фото":void 0}),s&&1===n&&!!i&&(0,r.jsx)("div",Object.assign({className:p(u.logo)},{children:(0,r.jsx)(f.T,{size:64,entity:i})}))]})}));k.displayName="MediaPhotoItemPreview";const O=(0,a.k)({logo:{position:"absolute",start:10,bottom:10,width:64,height:64}});var S=s(66908),N=s(91982),M=s(70918),T=s(93549);const P=({entity:e,entityPosition:t,mediaPosition:s})=>({frameId:r},i)=>{if(e&&s)return{uiElement:{name:"photoCardMini",ownerName:"placeCardMini",frameUuid:r,position:s},payload:{placeItem:(0,N.Pj)({entity:e,position:t}),searchResultsList:(0,M.PD)({state:i,searchFrameId:r}),promoItem:(0,T.z)({state:i,frameId:r})},action:"tap"}},E=(0,c.memo)((({data:e,size:t,previewSize:s,isMediaRubric:h,entity:f,entityPosition:b,mediaPosition:y,activeVideoId:x,addVideoToSelectActive:j,bssType:w,externalOnClick:_,lazyLoadVisibilityOffset:I=0,borderRadius:O=g.E0.isolate,backgroundColor:E=v.O.black_transparent_06,isLoadingForced:R,isPlayOnHover:z=!0,visibilityThreshold:A=.5})=>{var F,B;const{s:Z,css:U}=(0,a.y)(L),H=(0,d.I0)(),D="miniEntityPhoto"===w&&f&&y&&b,{bssRef:$,useBssHandler:V}=(0,S.T)(D?(({entity:e,photo:t,entityPosition:s,mediaPosition:r})=>({frameId:i},a)=>{if(e&&t)return{uiElement:{name:"photoCardMini",ownerName:"placeCardMini",frameUuid:i,position:r},payload:{placeItem:(0,N.Pj)({entity:e,position:s}),searchResultsList:(0,M.PD)({state:a,searchFrameId:i}),promoItem:(0,T.z)({state:a,frameId:i}),photo:{photoId:t.id}}}})({entity:f,entityPosition:b,mediaPosition:y,photo:e}):void 0,{threshold:A}),q=(0,m.TR)(e),G=(0,m.Op)(e),W=V(P,{entity:f,entityPosition:b,mediaPosition:y}),Q=(0,i.$)((t=>{f&&!_&&(t.stopPropagation(),H((0,p._N)((e=>{const t=(0,u.t0)(e.appContext.frames,"search");return"query"===(null==t?void 0:t.searchType)?(0,n.Gp)(t.tabCatalog.searchId):void 0}),(t=>!!t&&(0,l.BN)((0,o.l)({entityId:f.id,searchId:t,entityType:f.type,photoId:e.id}))))),W())})),K=(0,c.useMemo)((()=>Boolean(G&&x===e.id)),[G,x,e.id]);if(!q&&!G)return null;const J=t?{flexBasis:t,height:t}:{width:"100%",height:"100%"};return(0,r.jsxs)("div",Object.assign({className:U(Z.root),ref:$,onClick:Q,style:J},{children:[q&&(0,r.jsx)(k,{previewSize:s,previewUrls:e.photo.preview_urls,isMediaRubric:h,entity:f,position:y,lazyLoadVisibilityOffset:I,borderRadius:O,backgroundColor:E,isLoadingForced:R}),G&&(0,r.jsx)(C,{previewSize:s,previewUrls:null===(F=e.video)||void 0===F?void 0:F.preview_urls,coverUrls:null===(B=e.video)||void 0===B?void 0:B.cover_urls,isMediaRubric:h,entity:f,position:y,isActiveVideo:K,addVideoToSelectActive:j,id:e.id,lazyLoadVisibilityOffset:I,borderRadius:O,backgroundColor:E,isLoadingForced:R,isPlayOnHover:z,visibilityThreshold:A})]}))}));E.displayName="MediaItemPreview";const L=(0,a.k)({root:{position:"relative",flexShrink:0,flexGrow:1},logo:{position:"absolute",start:10,bottom:10,width:64,height:64}})},11436:(e,t,s)=>{"use strict";s.d(t,{p:()=>d});var r=s(52322),i=s(2784),a=s(6801),n=s(35253),o=s(98584),c=s(85843);const d=(0,i.memo)((({height:e,caterpillarColor:t=o.O.green_30ad00,dotColor:s=o.O.gray_e6e6e6})=>{const{s:i,css:n}=(0,a.y)(l);return(0,r.jsx)("div",Object.assign({className:n(i.wrapper),style:{height:e}},c.dx.n("wat-preloader"),{children:(0,r.jsxs)("div",Object.assign({className:n(i.root)},{children:[(0,r.jsx)("div",{className:n(i.dot),style:{backgroundColor:s}}),(0,r.jsx)("div",{className:n(i.dot),style:{backgroundColor:s}}),(0,r.jsx)("div",{className:n(i.dot),style:{backgroundColor:s}}),(0,r.jsx)("div",{className:n(i.dot),style:{backgroundColor:s}}),(0,r.jsx)("div",{className:n(i.dot),style:{backgroundColor:s}}),(0,r.jsx)("div",{className:n(i.caterpillar),style:{backgroundColor:t}})]}))}))})),l=(0,a.k)({wrapper:{display:"flex",justifyContent:"center",alignItems:"center"},root:{display:"flex",justifyContent:"space-between",width:56,position:"relative"},dot:{width:8,height:8,background:o.O.gray_e6e6e6,borderRadius:n.E0.oval},caterpillar:{position:"absolute",top:0,left:0,height:8,borderRadius:n.E0.oval,animationIterationCount:"infinite",animationTimingFunction:"linear",animationDuration:"4s",animationName:{"0%":Object.assign(Object.assign({},u(!1,0)),{opacity:0}),"10%":Object.assign(Object.assign({},u(!1,0)),{opacity:1}),"20%":u(!0,0),"30%":u(!1,12),"40%":u(!0,12),"50%":u(!1,24),"60%":u(!0,24),"70%":u(!1,36),"80%":u(!0,36),"90%":Object.assign(Object.assign({},u(!1,48)),{opacity:1}),"100%":Object.assign(Object.assign({},u(!1,48)),{opacity:0})}}});function u(e,t){return{width:e?20:8,transform:`translateX(${t}px)`}}},40478:(e,t,s)=>{"use strict";s.d(t,{e:()=>u});var r=s(52322),i=s(2784),a=s(68879),n=s(98584),o=s(4125),c=s(20094);class d extends i.PureComponent{constructor(){super(...arguments),this.onNextArrowClick=()=>{if("maxIndex"in this.props){this.checkIs("last")||this.props.onChange(this.props.currentIndex+1)}else this.props.onChange(this.props.currentIndex+1)},this.onPrevArrowClick=()=>{if("minIndex"in this.props){this.checkIs("first")||this.props.onChange(this.props.currentIndex-1)}else this.props.onChange(this.props.currentIndex-1)}}render(){const{s:e,children:t}=this.props;return t?(0,r.jsxs)("div",Object.assign({className:(0,a.iv)(e.main)},{children:[(0,r.jsxs)("div",Object.assign({className:(0,a.iv)(e.arrowWrapper)},{children:[(0,r.jsx)("div",Object.assign({className:(0,a.iv)(e.arrow,e.arrowLeft,this.checkIs("first")&&e._hidden),onClick:this.onPrevArrowClick},{children:this.props.left})),(0,r.jsx)("div",Object.assign({className:(0,a.iv)(e.arrow,e.arrowRight,this.checkIs("last")&&e._hidden),onClick:this.onNextArrowClick},{children:this.props.right}))]})),(0,r.jsx)("div",Object.assign({className:(0,a.iv)(e.childrenWrapper)},{children:t}))]})):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",Object.assign({className:(0,a.iv)(e.arrow,this.checkIs("first")&&e._disabledArrow),onClick:this.onPrevArrowClick},{children:this.props.left})),(0,r.jsx)("div",Object.assign({className:(0,a.iv)(e.arrow,this.checkIs("last")&&e._disabledArrow),onClick:this.onNextArrowClick},{children:this.props.right}))]})}checkIs(e){return"last"===e?"maxIndex"in this.props&&this.props.currentIndex===this.props.maxIndex:"minIndex"in this.props&&this.props.currentIndex===this.props.minIndex}}d.displayName=(0,o.I)("src/shared/kit/prevNextArrows");const l={main:{position:"relative"},arrowWrapper:{display:"flex",justifyContent:"space-between",height:"100%",position:"absolute",width:"100%"},arrow:{cursor:"pointer"},arrowLeft:{display:"flex",alignItems:"center",color:n.O.white,background:`linear-gradient(90deg, ${(0,c.j)(n.O.black,.5)} 0%, ${(0,c.j)(n.O.black,0)} 100%)`,zIndex:1},arrowRight:{display:"flex",alignItems:"center",color:n.O.white,backgroundImage:`linear-gradient(270deg, ${(0,c.j)(n.O.black,.5)} 0%, ${(0,c.j)(n.O.black,0)} 100%)`,zIndex:1},childrenWrapper:{height:"100%",marginTop:0,marginBottom:12,marginStart:24,marginEnd:24},_hidden:{visibility:"hidden"},_disabledArrow:{color:n.O.gray_e6e6e6}},u=(0,a.D2)(l)(d)},48805:(e,t,s)=>{"use strict";s.d(t,{F:()=>u});var r=s(52322),i=s(2784),a=s(4125),n=s(68879),o=s(35253),c=s(85843);class d extends i.PureComponent{render(){const{children:e,dataN:t="wat-rack",s}=this.props;return e?(0,r.jsx)("div",Object.assign({className:(0,n.iv)(s.rack),"data-rack":!0},c.dx.n(t),{children:e})):null}}d.displayName=(0,a.I)("src/shared/kit/rack");const l={rack:{"[data-rack] + &":{marginTop:o.dp.rackMargin}}},u=(0,n.D2)(l)(d)},46315:(e,t,s)=>{"use strict";s.d(t,{h:()=>c});var r=s(52322),i=s(2784),a=s(4125),n=s(68879);class o extends i.PureComponent{render(){const{children:e,s:t}=this.props;return(0,r.jsx)("div",Object.assign({className:(0,n.iv)(t.rackWrapper)},{children:e}))}}o.displayName=(0,a.I)("src/shared/kit/rack");const c=(0,n.D2)({rackWrapper:{paddingTop:8,paddingBottom:0,paddingStart:24,paddingEnd:24}})(o)},77351:(e,t,s)=>{"use strict";s.d(t,{i:()=>u});var r=s(52322),i=s(2784),a=s(85843),n=s(20094),o=s(19561),c=s(68879),d=s(87599);class l extends i.PureComponent{constructor(){super(...arguments),this.STAR_SIZE="small"===this.props.size?10:"medium"===this.props.size?16:this.props.size,this.renderStars=()=>{const{rating:e,s:t}=this.props,s=Math.ceil(Math.round(2*e)/2),i=Array(s).fill(""),a=this.STAR_SIZE*(Math.round(2*e)/2)+"px";return(0,r.jsx)("div",Object.assign({className:(0,o.iv)(t.ratingStars),style:{width:a}},{children:i.map(((e,t)=>this.renderStar(t,{isInactive:!1})))}))},this.renderBackgroundStars=()=>{const{s:e,rating:t,dir:s}=this.props,i=Math.floor(Math.round(2*t)/2),a=5-i,n=i*this.STAR_SIZE+"px",c=Array(a).fill("");return(0,r.jsx)("div",Object.assign({className:(0,o.iv)(e.backgroundStars),style:(0,o.Qo)({marginStart:n},s)},{children:c.map(((e,t)=>this.renderStar(t,{isInactive:!0})))}))}}render(){const{s:e}=this.props;return(0,r.jsxs)("div",Object.assign({},a.dx.n("wat-kit-rating"),{className:(0,o.iv)(e.rating),style:{height:this.STAR_SIZE}},{children:[this.renderStars(),this.renderBackgroundStars()]}))}renderStar(e,t){const{color:s,inactiveColor:i}=this.props;return(0,r.jsx)("span",Object.assign({style:{width:this.STAR_SIZE,height:this.STAR_SIZE}},{children:(0,r.jsx)(d.U,{color:t.isInactive?i||(0,n.j)(s,.2):s,size:this.STAR_SIZE})}),e)}}const u=(0,c.D2)({rating:{position:"relative",marginBottom:2,fontSize:0},ratingStars:{position:"absolute",start:0,margin:"auto",whiteSpace:"nowrap",overflow:"hidden",display:"flex",alignItems:"baseline"},backgroundStars:{display:"flex",alignItems:"baseline"}})(l)},93532:(e,t,s)=>{"use strict";s.d(t,{Gc:()=>g,Xs:()=>m});var r=s(52322),i=s(2784),a=s(94089),n=s(6801),o=s(35253),c=s(26352),d=s(6340),l=s(96125);const u={},p=(0,i.createContext)({scrollVerticalCenter:void 0});function g(){return(0,i.useContext)(p)}const m=({id:e,persistent:t,children:s})=>{const{isMobileDevice:i}=(0,d.Z)(),n=!i,{ref:o,refCallback:g}=(0,l.C)();(0,a.L)((()=>{o.current&&e&&(o.current.scrollTop=t&&u[e]||0)}),[e,t]);const m=(0,c.y)((()=>{var s;if(!e||!t)return;const r=null===(s=o.current)||void 0===s?void 0:s.scrollTop;r&&(u[e]=r)}),100);(0,a.L)((()=>{var s;if(e&&t)return null===(s=o.current)||void 0===s||s.addEventListener("scroll",m,{passive:!0}),()=>{var e;null===(e=o.current)||void 0===e||e.removeEventListener("scroll",m)}}),[o,e,t]);const v=n?(0,r.jsx)(h,Object.assign({innerRef:o,refCallback:g},{children:s})):(0,r.jsx)(f,Object.assign({innerRef:o},{children:s}));return(0,r.jsx)(p.Provider,Object.assign({value:{scrollVerticalCenter:(b=o,e=>{if(b.current&&e){const{top:t,height:s}=e.getBoundingClientRect(),{clientHeight:r,scrollTop:i}=b.current,a=t>(r+s)/2;if(!(a||t<s))return;b.current.scrollTo({behavior:"smooth",top:a?i+r/2:i-r/2})}})}},{children:v}));var b};m.displayName="Scroll";const h=({children:e,innerRef:t,refCallback:s})=>{const{css:a,s:o}=(0,n.y)(v),[c,d]=(0,i.useState)("100%");(0,i.useEffect)((()=>{if(!t.current)return;const e=setTimeout((()=>{var e;return d((null===(e=t.current)||void 0===e?void 0:e.getBoundingClientRect().width)||"100%")}),0);return()=>{clearTimeout(e)}}),[t]);const[l,u]=(0,i.useState)(!1);return(0,r.jsx)("div",Object.assign({className:a(o.scroller,o._customScrollbar,l&&o._forceOverflowAuto),ref:s,onTouchStartCapture:()=>{u(!0)},tabIndex:-1,"data-scroll":!0},{children:(0,r.jsx)("div",Object.assign({className:a(o.inner),style:{width:c}},{children:e}))}))},f=({children:e,innerRef:t})=>{const{css:s,s:i}=(0,n.y)(v);return(0,r.jsx)("div",Object.assign({className:s(i.scroller),ref:t,tabIndex:-1,"data-scroll":!0},{children:(0,r.jsx)("div",Object.assign({className:s(i.inner)},{children:e}))}))},v=(0,n.k)({scroller:{height:"100%",overflowX:"hidden",display:"flex",flexDirection:"column"},_customScrollbar:{"@media (hover: hover)":Object.assign(Object.assign({},o.AR),{overflowY:"hidden","&:hover, &:focus":{overflowY:"auto"}})},_forceOverflowAuto:{overflowY:"auto !important"},inner:{flex:"1 0 100%"}})},47187:(e,t,s)=>{"use strict";s.d(t,{u:()=>h});var r=s(52322),i=s(2784),a=s(85982),n=s(35253),o=s(93532),c=s(6801),d=s(98584),l=s(85843);const u=(0,i.memo)((e=>{const{css:t,s}=(0,c.y)(p),{children:i,header:a,sidebar:n,fixedContentHeader:d,fixedContentFooter:u,contentScrollId:g,sidebarBg:m,frameBackground:h,areFiltersClosed:f}=e;return(0,r.jsxs)("div",Object.assign({className:t(s.frameLayoutRoot)},{children:[(0,r.jsx)("div",Object.assign({className:t(s.header)},l.dx.n("wat-frame-header"),{children:a})),(0,r.jsxs)("div",Object.assign({className:t(s.body)},{children:[Boolean(!f&&n)&&(0,r.jsx)("div",Object.assign({className:t(s.sidebar),style:{background:m}},{children:(0,r.jsx)("div",Object.assign({className:t(s.sidebarInner)},{children:(0,r.jsx)(o.Xs,{children:n})}))})),(0,r.jsxs)("div",Object.assign({className:t(s.content),style:{background:h}},{children:[d&&(0,r.jsx)("div",Object.assign({className:t(s.contentHeader)},{children:d})),(0,r.jsx)("div",Object.assign({className:t(s.contentScroller)},{children:(0,r.jsx)("div",Object.assign({className:t(s.contentScrollerInner)},{children:(0,r.jsx)(o.Xs,Object.assign({id:g,persistent:!!g},{children:i}))}))})),u&&(0,r.jsx)("div",Object.assign({className:t(s.contentFooter)},{children:u}))]}))]}))]}))})),p=(0,c.k)({frameLayoutRoot:{position:"relative",zIndex:n.W5.base,background:d.O.white,display:"flex",flexDirection:"column",height:"100%",overflowY:"hidden"},header:{flex:"0 0 auto",zIndex:n.W5.top},body:{display:"flex",flex:"1 1 auto",zIndex:n.W5.base},sidebar:{flex:`0 1 ${n.dp.sidebarFrameWidth}px`,position:"relative",overflow:"hidden",display:"block"},sidebarInner:{width:`${n.dp.sidebarFrameWidth}px`,position:"absolute",top:0,end:0,bottom:0,borderEnd:`1px solid ${d.O.gray_e6e6e6}`},content:{flex:`1 0 ${n.dp.standardFrameWidth}px`,maxWidth:n.dp.standardFrameWidth,display:"flex",flexDirection:"column"},contentHeader:{flex:"0 0 auto",maxHeight:"70%",overflow:"auto"},contentFooter:{},contentScroller:{flex:"1 1 auto",overflow:"hidden",position:"relative",minHeight:100},contentScrollerInner:{position:"absolute",height:"100%",width:"100%"}});u.displayName="SearchFrameLayoutDesktop";const g=(0,i.memo)((e=>{const{css:t,s}=(0,c.y)(m),{children:i,header:a,sidebar:n,fixedContentHeader:d,fixedContentFooter:u,contentScrollId:p,frameBackground:g,sidebarBg:h,areFiltersOpened:f,searchType:v}=e;return(0,r.jsxs)("div",Object.assign({className:t(s.frameLayoutRoot)},{children:["filials"===v?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o.Xs,Object.assign({id:p,persistent:!!p},{children:[a,i]})),u&&(0,r.jsx)("div",Object.assign({className:t(s.contentFooter)},{children:u}))]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",Object.assign({className:t(s.header)},{children:a})),(0,r.jsx)("div",Object.assign({className:t(s.body)},{children:(0,r.jsxs)("div",Object.assign({className:t(s.content),style:{background:g}},{children:[d&&(0,r.jsx)("div",Object.assign({className:t(s.contentHeader)},{children:d})),(0,r.jsx)("div",Object.assign({className:t(s.contentScroller)},{children:(0,r.jsx)("div",Object.assign({className:t(s.contentScrollerInner)},{children:(0,r.jsx)(o.Xs,Object.assign({id:p,persistent:!!p},{children:i}))}))})),u&&(0,r.jsx)("div",Object.assign({className:t(s.contentFooter)},l.dx.n("wat-footer-card"),{children:u}))]}))}))]}),f&&n&&(0,r.jsx)("div",Object.assign({className:t(s.sidebar),style:{background:h}},{children:(0,r.jsx)("div",Object.assign({className:t(s.sidebarInner)},{children:(0,r.jsx)(o.Xs,{children:n})}))}))]}))})),m=(0,c.k)({frameLayoutRoot:{position:"relative",zIndex:n.W5.base,background:d.O.white,display:"flex",flexDirection:"column",width:"100%",height:"100%",overflowY:"hidden"},header:{flex:"0 0 auto",position:"relative",zIndex:n.W5.top},body:{display:"flex",flex:"1 1 auto",flexDirection:"column",position:"relative",zIndex:n.W5.base},sidebar:{position:"absolute",width:"100%",height:"100%",top:0,left:0,overflow:"hidden",background:d.O.white,zIndex:n.W5.top},sidebarInner:{width:"100%",position:"absolute",top:0,end:0,bottom:0},content:{width:"100%",display:"flex",flexDirection:"column",flexGrow:1},contentHeader:{flex:"0 0 auto",maxHeight:"70%",overflow:"auto",position:"relative",zIndex:n.W5.top},contentFooter:{position:"relative",zIndex:n.W5.top},contentScroller:{flex:"1 1 auto",overflow:"hidden",position:"relative",minHeight:100,zIndex:n.W5.base},contentScrollerInner:{position:"absolute",height:"100%",width:"100%"}});g.displayName="SearchFrameLayoutMobile";const h=function(e){const t=e.desktop,s=e.mobile;return e=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.N,{children:(0,r.jsx)(t,Object.assign({},e))}),(0,r.jsx)(a.i,{children:(0,r.jsx)(s,Object.assign({},e))})]})}({desktop:u,mobile:g})},66250:(e,t,s)=>{"use strict";s.d(t,{N:()=>a});var r=s(52322),i=s(6340);const a=(0,s(2784).memo)((({children:e})=>{const{isSearchBot:t}=(0,i.Z)();return e?t?(0,r.jsx)("div",Object.assign({"data-nosnippet":!0},{children:e})):(0,r.jsx)(r.Fragment,{children:e}):null}))},55557:(e,t,s)=>{"use strict";s.d(t,{C:()=>l});var r=s(52322),i=s(2784),a=s(68879),n=s(4125),o=s(98584);class c extends i.PureComponent{render(){const{width:e,height:t,s}=this.props,i=t||(e||20),n=e||(t||20);return(0,r.jsx)("div",{className:(0,a.iv)(s.circle),style:{width:`${i}px`,height:`${n}px`}})}}c.displayName=(0,n.I)("src/shared/kit/skeletons");const d={circle:{background:o.O.gray_f2f2f2,borderRadius:"50%"}},l=(0,a.D2)(d)(c)},31449:(e,t,s)=>{"use strict";s.d(t,{P:()=>f});var r=s(52322),i=s(2784),a=s(85843),n=s(67185),o=s(21532),c=s(6801),d=s(9073),l=s(70239),u=s(27215),p=s(54015),g=s(6340),m=s(85982);const h=(0,p.b)(),f=(0,i.memo)((()=>{const{css:e,s:t}=(0,c.y)(v),s=(0,g.Z)(),i=(0,l.l)(),p=(0,u.v9)((e=>i?h({state:e,frameId:i.id}):void 0));return i&&p?(0,r.jsxs)("div",Object.assign({className:e(t.root)},(0,a.n)("wat-entity-card-skeleton"),{children:[(0,r.jsx)(d.v,{frame:i,frameContext:p}),(0,r.jsxs)("div",Object.assign({className:e(t.header)},{children:[(0,r.jsx)(m.N,{children:(0,r.jsxs)("div",Object.assign({className:e(t.actions)},{children:[(0,r.jsx)(n.b,{width:80,height:24,borderRadius:6}),(0,r.jsx)(n.b,{width:80,height:24,borderRadius:6,marginStart:12}),(0,r.jsx)(n.b,{width:80,height:24,borderRadius:6,marginStart:12})]}))}),!s.featureReadOnly&&(0,r.jsx)(n.b,{count:2,flexBasis:272,flexShrink:0,height:170,gap:16,borderRadius:8,marginBottom:12,marginStart:-8,marginEnd:-8}),(0,r.jsx)(n.b,{width:240,height:20,paddingTop:4,borderRadius:6}),(0,r.jsx)(n.b,{width:120,height:16,marginTop:4,borderRadius:6}),(0,r.jsx)(n.b,{width:160,height:16,marginTop:8,borderRadius:6}),(0,r.jsx)(n.b,{height:16,marginTop:8,borderRadius:6})]})),(0,r.jsx)(n.b,{height:44}),(0,r.jsx)("div",Object.assign({className:e(t.content)},{children:(0,r.jsx)(o.h,{})}))]})):null}));f.displayName="SkeletonEntity";const v=(0,c.k)({root:{height:"100%",overflow:"hidden"},header:{padding:"16px 24px"},content:{flex:1},actions:{display:"flex",marginBottom:12}})},21532:(e,t,s)=>{"use strict";s.d(t,{h:()=>l});var r=s(52322),i=s(2784),a=s(67185),n=s(99295),o=s(22185),c=s(46315),d=s(6801);const l=i.memo((e=>{const{s:t,css:s}=(0,d.y)(u);return(0,r.jsx)("div",Object.assign({className:s(t.root)},{children:(0,r.jsxs)("div",Object.assign({className:s(t.skeletonEntityTab)},{children:[(0,r.jsx)(c.h,{children:(0,r.jsx)(n.O,{count:4,icon:!0})}),(0,r.jsxs)("div",Object.assign({className:s(t.squaresWrapper)},{children:[(0,r.jsx)(a.b,{count:1,height:40}),(0,r.jsx)(a.b,{count:1,height:40})]})),(0,r.jsx)("div",Object.assign({className:s(t.textLinesWrapper)},{children:(0,r.jsx)(o.D,{linesCount:2})}))]}))}))}));l.displayName="SkeletonEntityTab";const u=(0,d.k)({root:{display:"flex",flexDirection:"column",height:"100%"},skeletonEntityTab:{display:"flex",flexDirection:"column",justifyContent:"space-between"},squaresWrapper:{padding:"0 24px"},textLinesWrapper:{paddingTop:16,paddingBottom:24,paddingStart:24,paddingEnd:24}})},14582:(e,t,s)=>{"use strict";s.d(t,{C:()=>d});var r=s(52322),i=s(2784),a=s(4125),n=s(98584),o=s(55557);const c=24;class d extends i.PureComponent{render(){const{size:e=c,isBoundVisible:t}=this.props;return(0,r.jsx)("div",Object.assign({style:{boxSizing:"border-box",display:"flex",alignItems:"center",width:e,height:e,border:t?`1px dotted ${n.O.gray_e6e6e6}`:"none"}},{children:(0,r.jsx)(o.C,{width:this.getCompositionSize()})}))}getCompositionSize(){return 48===this.props.size?32:16}}d.displayName=(0,a.I)("src/shared/kit/skeletons")},97017:(e,t,s)=>{"use strict";s.d(t,{Q:()=>g,X:()=>u});var r=s(52322),i=s(2784),a=s(68879),n=s(4125),o=s(55557),c=s(67185),d=s(27564),l=s(30679);const u=165;class p extends i.PureComponent{constructor(){super(...arguments),this.nothing=()=>{},this.renderTextLine=(e,t)=>(0,r.jsx)(l.b,{fontSize:8,lineHeight:e,short:t})}render(){const{s:e,squareLogo:t,logoSize:s=56}=this.props;return(0,r.jsxs)(d.H,Object.assign({onMouseEnter:this.nothing,onMouseLeave:this.nothing,dataN:"wat-skeleton-minicard"},{children:[(0,r.jsx)("div",Object.assign({className:(0,a.iv)(e.avatar)},{children:t?(0,r.jsx)(c.b,{width:s,height:s,count:1}):(0,r.jsx)(o.C,{width:s})})),(0,r.jsxs)("div",Object.assign({className:(0,a.iv)(e.row,e.firstRow),style:{marginInlineEnd:s}},{children:[this.renderTextLine(20),this.renderTextLine(20)]})),(0,r.jsxs)("div",Object.assign({className:(0,a.iv)(e.row,e.longRow),style:{marginInlineEnd:s}},{children:[this.renderTextLine(16),this.renderTextLine(16)]})),(0,r.jsxs)("div",Object.assign({className:(0,a.iv)(e.row,e.longRow),style:{marginInlineEnd:s}},{children:[this.renderTextLine(16),this.renderTextLine(16,!0)]}))]}))}}p.displayName=(0,n.I)("src/shared/kit/skeletons");const g=(0,a.D2)({row:{paddingBottom:"6px"},firstRow:{width:"176px"},longRow:{maxWidth:"240px"},avatar:{float:"end"}})(p)},99295:(e,t,s)=>{"use strict";s.d(t,{O:()=>p});var r=s(52322),i=s(2784),a=s(4125),n=s(49169),o=s(56146),c=s(31407),d=s(14582),l=s(22185),u=s(48805);class p extends i.PureComponent{render(){const{count:e,icon:t}=this.props;return(0,r.jsxs)(u.F,{children:[Array(e-1).fill("").map(((e,s)=>(0,r.jsxs)(n.g,Object.assign({shiftedDivider:!!t},{children:[!!t&&(0,r.jsx)(o.C,{children:(0,r.jsx)(d.C,{size:24})}),(0,r.jsx)(c.u,{children:(0,r.jsx)(l.D,{linesCount:3})})]}),s))),(0,r.jsx)(n.g,Object.assign({shiftedDivider:!!t,shiftedContent:!0},{children:(0,r.jsx)(c.u,{children:(0,r.jsx)(l.D,{linesCount:2})})}),e)]})}}p.displayName=(0,a.I)("src/shared/kit/skeletons")},87334:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var r=s(52322),i=s(2784),a=s(30679),n=s(55557),o=s(6801);const c=i.memo((()=>{const{css:e,s:t}=(0,o.y)(d);return(0,r.jsxs)("div",Object.assign({className:e(t.root)},{children:[(0,r.jsxs)("div",Object.assign({className:e(t.header)},{children:[(0,r.jsx)(n.C,{height:24,width:24}),(0,r.jsxs)("div",Object.assign({className:e(t.description)},{children:[(0,r.jsx)(a.b,{fontSize:8,lineHeight:16}),(0,r.jsx)(a.b,{fontSize:8,lineHeight:16})]}))]})),(0,r.jsx)("div",Object.assign({className:e(t.rating)},{children:(0,r.jsx)(a.b,{fontSize:8,lineHeight:16})})),(0,r.jsxs)("div",Object.assign({className:e(t.content)},{children:[(0,r.jsx)(a.b,{fontSize:8,lineHeight:16}),(0,r.jsx)(a.b,{fontSize:8,lineHeight:16,short:!0}),(0,r.jsx)(a.b,{fontSize:8,lineHeight:16})]}))]}))}));c.displayName="ReviewSkeleton";const d=(0,o.k)({root:{padding:"12px 24px",minHeight:98},header:{display:"inline-flex",alignItems:"center"},description:{marginStart:"8px",width:"110px"},rating:{display:"inline-block",width:"50px",float:"end"},content:{padding:"8px 0"}})},9023:(e,t,s)=>{"use strict";s.d(t,{C:()=>l});var r=s(52322),i=s(2784),a=s(68879),n=s(4125),o=s(55557),c=s(30679);class d extends i.PureComponent{render(){const{s:e}=this.props;return(0,r.jsxs)("div",Object.assign({className:(0,a.iv)(e.content)},{children:[(0,r.jsxs)("div",Object.assign({className:(0,a.iv)(e.item)},{children:[(0,r.jsx)("div",Object.assign({className:(0,a.iv)(e.icon)},{children:(0,r.jsx)(o.C,{width:64})})),(0,r.jsx)("div",Object.assign({className:(0,a.iv)(e.text)},{children:(0,r.jsx)(c.b,{marginAuto:!0,fontSize:11,lineHeight:12})}))]})),(0,r.jsxs)("div",Object.assign({className:(0,a.iv)(e.item)},{children:[(0,r.jsx)("div",Object.assign({className:(0,a.iv)(e.icon)},{children:(0,r.jsx)(o.C,{width:64})})),(0,r.jsx)("div",Object.assign({className:(0,a.iv)(e.text)},{children:(0,r.jsx)(c.b,{marginAuto:!0,fontSize:11,lineHeight:12})}))]})),(0,r.jsxs)("div",Object.assign({className:(0,a.iv)(e.item)},{children:[(0,r.jsx)("div",Object.assign({className:(0,a.iv)(e.icon)},{children:(0,r.jsx)(o.C,{width:64})})),(0,r.jsx)("div",Object.assign({className:(0,a.iv)(e.text)},{children:(0,r.jsx)(c.b,{marginAuto:!0,fontSize:11,lineHeight:12})}))]})),(0,r.jsxs)("div",Object.assign({className:(0,a.iv)(e.item)},{children:[(0,r.jsx)("div",Object.assign({className:(0,a.iv)(e.icon)},{children:(0,r.jsx)(o.C,{width:64})})),(0,r.jsx)("div",Object.assign({className:(0,a.iv)(e.text)},{children:(0,r.jsx)(c.b,{marginAuto:!0,fontSize:11,lineHeight:12})}))]})),(0,r.jsxs)("div",Object.assign({className:(0,a.iv)(e.item)},{children:[(0,r.jsx)("div",Object.assign({className:(0,a.iv)(e.icon)},{children:(0,r.jsx)(o.C,{width:64})})),(0,r.jsx)("div",Object.assign({className:(0,a.iv)(e.text)},{children:(0,r.jsx)(c.b,{marginAuto:!0,fontSize:11,lineHeight:12})}))]})),(0,r.jsxs)("div",Object.assign({className:(0,a.iv)(e.item)},{children:[(0,r.jsx)("div",Object.assign({className:(0,a.iv)(e.icon)},{children:(0,r.jsx)(o.C,{width:64})})),(0,r.jsx)("div",Object.assign({className:(0,a.iv)(e.text)},{children:(0,r.jsx)(c.b,{marginAuto:!0,fontSize:11,lineHeight:12})}))]})),(0,r.jsxs)("div",Object.assign({className:(0,a.iv)(e.item)},{children:[(0,r.jsx)("div",Object.assign({className:(0,a.iv)(e.icon)},{children:(0,r.jsx)(o.C,{width:64})})),(0,r.jsx)("div",Object.assign({className:(0,a.iv)(e.text)},{children:(0,r.jsx)(c.b,{marginAuto:!0,fontSize:11,lineHeight:12})}))]})),(0,r.jsxs)("div",Object.assign({className:(0,a.iv)(e.item)},{children:[(0,r.jsx)("div",Object.assign({className:(0,a.iv)(e.icon)},{children:(0,r.jsx)(o.C,{width:64})})),(0,r.jsx)("div",Object.assign({className:(0,a.iv)(e.text)},{children:(0,r.jsx)(c.b,{marginAuto:!0,fontSize:11,lineHeight:12})}))]}))]}))}}d.displayName=(0,n.I)("src/shared/kit/skeletons");const l=(0,a.D2)({content:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"},item:{marginBottom:4,flex:"1 1 25%"},icon:{marginTop:0,marginBottom:5,marginStart:"auto",marginEnd:"auto",display:"flex",justifyContent:"center"},text:{height:"24px"}})(d)},22185:(e,t,s)=>{"use strict";s.d(t,{D:()=>o});var r=s(52322),i=s(2784),a=s(4125),n=s(30679);class o extends i.PureComponent{render(){const{linesCount:e}=this.props;return(0,r.jsxs)("div",{children:[Array(e-1).fill("").map(((e,t)=>(0,r.jsx)(n.b,{},t))),(0,r.jsx)(n.b,{short:e>1})]})}}o.displayName=(0,a.I)("src/shared/kit/skeletons")},86028:(e,t,s)=>{"use strict";s.d(t,{N:()=>o});var r=s(52322),i=s(2784),a=s(3416),n=s(97017);const o=i.memo((e=>(0,r.jsx)("div",{children:Array.from({length:e.count||(0,a.n)(n.X)},((t,s)=>(0,r.jsx)(n.Q,{squareLogo:e.squareLogo,logoSize:e.logoSize},s)))})));o.displayName="SkeletonsCatalog"},67185:(e,t,s)=>{"use strict";s.d(t,{b:()=>d});var r=s(52322),i=s(2784),a=s(98584),n=s(20094),o=s(19561),c=s(6801);const d=(0,i.memo)((e=>{const{css:t,s,dir:i}=(0,c.y)(l),{height:a,width:n,marginTop:d,marginBottom:u,marginStart:p,marginEnd:g,paddingTop:m,borderRadius:h,flexBasis:f,flexShrink:v,flexGrow:b,gap:y,icon:x,count:j=1,dark:w,color:_}=e;return(0,r.jsx)("div",Object.assign({className:t(s.skeleton),style:(0,o.Qo)({height:a,width:n,marginTop:d,marginBottom:u,marginStart:p,marginEnd:g,paddingTop:m,gap:y},i)},{children:j>0&&Array(j).fill("ok").map(((e,i)=>(0,r.jsx)("div",Object.assign({className:t(s.skeletonItem,w&&s._dark),style:{flexBasis:f||100/j+"%",flexShrink:v,flexGrow:b,background:_,borderRadius:h}},{children:x}),i)))}))}));d.displayName="Square";const l=(0,c.k)({skeleton:{display:"flex",flexDirection:"row",borderTop:"1px solid #fff",boxSizing:"border-box",gap:1},_dark:{background:(0,n.j)(a.O.black,.6)},skeletonItem:{display:"flex",justifyContent:"center",alignItems:"center",background:a.O.black_transparent_06,overflow:"hidden"}})},30679:(e,t,s)=>{"use strict";s.d(t,{b:()=>d});var r=s(52322),i=s(2784),a=s(68879),n=s(4125),o=s(67185);class c extends i.PureComponent{render(){const{s:e,fontSize:t=8,lineHeight:s=16,full:i=!1,short:n=!1,width:c,marginAuto:d=!1}=this.props,l=Math.floor((s-t)/2);return(0,r.jsx)("div",Object.assign({style:{padding:`${l}px 0`,margin:d?"auto":0,width:c},className:(0,a.iv)(e.line,i&&e.full,n&&e.short)},{children:(0,r.jsx)(o.b,{height:t,count:1})}))}}c.displayName=(0,n.I)("src/shared/kit/skeletons");const d=(0,a.D2)({line:{width:"90%"},full:{width:"100%"},short:{width:"66%"}})(c)},24664:(e,t,s)=>{"use strict";s.d(t,{S:()=>a});var r=s(52322),i=s(6801);const a=(0,s(2784).memo)((({children:e,offset:t,gap:s,styles:a,containerRef:o})=>{const{css:c,s:d}=(0,i.y)(n);return(0,r.jsx)("div",Object.assign({ref:o,className:c(a,d.root),style:{gap:s,padding:`0 ${t}px`}},{children:e}))}));a.displayName="SnapCarousel";const n=(0,i.k)({root:{display:"flex",overflowX:"auto",overflowY:"hidden",scrollSnapType:"x mandatory",scrollbarWidth:"none","::-webkit-scrollbar":{display:"none"}}})},32983:(e,t,s)=>{"use strict";s.d(t,{$:()=>p});var r=s(52322),i=s(2784),a=s(68879),n=s(4125),o=s(20094),c=s(33956);const d=s(98584).O.black;class l extends i.PureComponent{render(){const{s:e,size:t,color:s=(0,o.j)(d,.6),background:i}=this.props;return(0,r.jsx)("div",Object.assign({className:(0,a.iv)(e.spinner),style:{width:t,height:t,borderColor:i||(0,o.j)(d,.3)}},{children:(0,r.jsx)("div",{className:(0,a.iv)(e.line),style:{borderTopColor:s}})}))}}l.displayName=(0,n.I)("src/shared/kit/spinner");const u={spinner:{position:"relative",borderRadius:"50%",border:"4px solid transparent",transform:"translateZ(0)"},line:{position:"absolute",top:-4,start:-4,width:"100%",height:"100%",border:"4px solid transparent",borderRadius:"50%",borderColor:"transparent",animationName:{to:{transform:"rotate(360deg)"}},animationDuration:`${c.l.spinner}ms`,animationIterationCount:"infinite"}},p=(0,a.D2)(u)(l)},94710:(e,t,s)=>{"use strict";s.d(t,{o:()=>l});var r=s(52322),i=s(2784),a=s(19561),n=s(68879),o=s(38399),c=s(85843);class d extends i.PureComponent{constructor(){super(...arguments),this.handleShevronClick=e=>{const{isExpanded:t=!1,handleExpandClick:s}=this.props;e.stopPropagation(),s(t)},this.handleExpandClick=e=>{const{isExpanded:t=!1,handleExpandClick:s}=this.props;t||(e.stopPropagation(),s(t))}}render(){const{children:e,isExpanded:t=!1,withoutShevron:s,dataN:i,s:n}=this.props;return(0,r.jsxs)("div",Object.assign({className:(0,a.iv)(n.container,!t&&n._showPointer,!s&&n._shevronOffset)},c.dx.n(i||"wat-kit-spoiler"),c.dx.s(`wat-toggle-${t}`),{children:[!s&&(0,r.jsx)("div",Object.assign({className:(0,a.iv)(n.shevron)},c.dx.n("wat-kit-spoiler-shevron"),{onClick:this.handleShevronClick},{children:(0,r.jsx)(o.E,{direction:t?"up":"down"})})),(0,r.jsx)("div",Object.assign({},c.dx.n("wat-toggle"),{onClick:this.handleExpandClick},{children:e}))]}))}}const l=(0,n.D2)({container:{position:"relative"},shevron:{cursor:"pointer",position:"absolute",end:-4,top:-5,width:24,height:24,userSelect:"none"},_showPointer:{cursor:"pointer"},_shevronOffset:{paddingEnd:20}})(d)},71851:(e,t,s)=>{"use strict";s.d(t,{_:()=>n});var r=s(52322),i=s(2784),a=s(94710);class n extends i.Component{constructor(){super(...arguments),this.state={isExpanded:this.props.initiallyExpanded||!1},this.toggle=e=>{const t=!e;this.props.onToggle&&this.props.onToggle(t),this.setState({isExpanded:t})}}render(){return(0,r.jsx)(a.o,Object.assign({isExpanded:this.state.isExpanded,handleExpandClick:this.toggle,withoutShevron:this.props.withoutShevron,dataN:this.props.dataN},{children:this.props.children(this.state.isExpanded,(()=>this.toggle(this.state.isExpanded)))}))}}},4338:(e,t,s)=>{"use strict";s.d(t,{O:()=>h});var r=s(52322),i=s(2784),a=s(19561),n=s(68879),o=s(98584),c=s(85843),d=s(86687),l=s(35253),u=s(63993);class p extends i.PureComponent{constructor(){super(...arguments),this.handleTabClick=()=>this.props.onSelect&&this.props.onSelect(this.props.tab)}render(){const{tab:e,s:t,renderIcon:s,tabRef:i,href:n,dataN:o="wat-tab"}=this.props;return(0,r.jsx)("h2",Object.assign({className:(0,a.iv)(t.tab,e.isSelected&&t.active),onClick:this.handleTabClick,ref:i},c.dx.n(o),c.dx.s(e.isSelected?"active":"inactive"),c.dx.v(e.label),c.dx.t(e.key),{children:(0,r.jsxs)(d.Z,Object.assign({color:e.isSelected?"inherit":"dark",href:n},{children:[e.label,!!e.count&&(0,r.jsx)("span",Object.assign({className:(0,a.iv)(t.count,e.isSelected&&t.isActive)},c.dx.n("wat-count"),c.dx.v(e.label),c.dx.t(e.key),{children:e.count})),s&&(0,r.jsx)("span",Object.assign({className:(0,a.iv)(t.iconWrapper,e.isSelected&&t.isActive)},{children:s(e)})),!!e.badgeCount&&(0,r.jsx)("div",Object.assign({className:(0,a.iv)(t.badgeCount)},c.dx.n("wat-tab-price-count"),{children:e.badgeCount<99?e.badgeCount:99}))]}))}),e.label)}}const g={tab:Object.assign(Object.assign({cursor:"pointer",color:o.O.gray_262626},u.oN),{paddingTop:16,paddingBottom:13,paddingStart:0,paddingEnd:0,margin:"0 8px",whiteSpace:"nowrap",userSelect:"none",position:"relative",":first-child":{marginStart:0},":last-child":{marginEnd:0}}),count:{background:o.O.gray_929292,boxShadow:`inset 0 0 1px 1px ${o.O.gray_929292}`,color:o.O.white,marginStart:"4px",borderRadius:l.E0.default,padding:"0 4px",display:"inline-block",lineHeight:"20px",height:18,marginTop:-4},active:{cursor:"default",color:o.O.gray_929292},iconWrapper:{background:o.O.gray_929292,boxShadow:`inset 0 0 1px 1px ${o.O.gray_929292}`,color:o.O.white,borderRadius:l.E0.default,height:18,marginStart:4,verticalAlign:"middle",display:"inline-block",marginTop:-4},isActive:{background:"transparent",boxShadow:`inset 0 0 1px 1px ${o.O.gray_929292}`,color:o.O.gray_929292},badgeCount:Object.assign(Object.assign({},u.Yq),{lineHeight:u.Yq.fontSize,position:"absolute",top:8,end:-2,padding:4,minWidth:16,height:16,transform:"translateX(50%)",boxSizing:"border-box",borderRadius:l.E0.oval,display:"flex",justifyContent:"center",alignItems:"center",color:o.O.white,background:o.O.red_fe5000})},m=(0,n.D2)(g)(p),h=e=>(0,r.jsx)(m,Object.assign({},e))},67049:(e,t,s)=>{"use strict";s.d(t,{m:()=>g});var r=s(52322),i=s(2784),a=s(19561),n=s(68879),o=s(33956),c=s(4338),d=s(85843),l=s(64693);class u extends i.PureComponent{constructor(){super(...arguments),this.tabsPositions=[],this.renderTab=e=>{const{renderTab:t,onSelect:s}=this.props;return t?t(e):(0,r.jsx)(c.O,{tab:e,onSelect:e.isSelected?l.ZT:s},e.label)},this.refContainer=e=>{this.container=e},this.refUnderline=e=>{this.underline=e},this.setTab=()=>{this.container&&(this.tabs=this.container.childNodes)},this.setTabPositions=()=>{if(!this.container)return;const e=this.container.getBoundingClientRect();this.tabsPositions=Array.prototype.map.call(this.tabs,(t=>{const s=t.getBoundingClientRect();return{left:s.left-e.left+"px",width:`${s.width}px`}}))},this.setUnderlineStyle=()=>{if(!this.underline)return;const e=this.props.tabs.findIndex((e=>!!e.isSelected));if(e<0)return;const t=this.tabsPositions[e];this.underline.style.width=t.width,this.underline.style.left=t.left}}componentDidMount(){this.setTab(),setTimeout((()=>{this.setTabPositions(),this.setUnderlineStyle()}),0)}componentDidUpdate(){this.setTab(),this.setTabPositions(),this.setUnderlineStyle()}render(){const{s:e,tabs:t,opacifyUnderline:s}=this.props;return(0,r.jsxs)("div",Object.assign({className:(0,a.iv)(e.root)},{children:[(0,r.jsx)("div",Object.assign({className:(0,a.iv)(e.tabsContainer),ref:this.refContainer},d.dx.n("wat-tabs"),{children:t.map(this.renderTab)})),(0,r.jsx)("div",Object.assign({className:(0,a.iv)(e.underline,s&&e._opacify),ref:this.refUnderline},d.dx.n("wat-underline")))]}))}}const p=(0,n.D2)((e=>({root:{position:"relative",height:"100%"},tabsContainer:{display:"flex"},underline:{position:"absolute",bottom:0,height:3,background:e.colors.green_299400_brand,transition:`left ${o.l.short}ms ease-out, width ${o.l.short}ms ease-out`,transform:"translateZ(0)"},_opacify:{background:"currentColor",opacity:.5}})))(u),g=e=>(0,r.jsx)(p,Object.assign({},e))},16221:(e,t,s)=>{"use strict";s.d(t,{p:()=>v});var r=s(52322),i=s(2784),a=s(68879),n=s(19561),o=s(33956);var c=s(40478),d=s(85843),l=s(29973),u=s(63993),p=s(98584),g=s(90198),m=s(94089),h=s(85982),f=s(24664);const v=(0,g.B)()({__dirname:"src/shared/kit/tape",styles:{root:{},header:Object.assign(Object.assign({position:"relative",width:"100%",height:40,boxSizing:"border-box"},u.oN),{lineHeight:"40px",color:p.O.gray_262626,userSelect:"none"}),headerTitle:{position:"absolute",start:24,end:24,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},headerArrows:{float:"end",height:"100%",paddingTop:8,paddingEnd:12,boxSizing:"border-box",display:"flex"},tape:{position:"relative",boxSizing:"border-box",background:"none",display:"flex",transform:"translateZ(0)"},slide:{background:"none"},_marginBottom:{marginBottom:12}}})((({s:e,children:t,gap:s,slideWidth:u,controlsSize:g,dir:v,title:b,titleColor:y,titleHref:x,sideMargins:j,onArrowClick:w,dataN:_="wat-carousel-header",hasStaticWidth:C,slideHeight:I,padding:k=0,__titleCustomStyles:O,withoutHeaderAndArrowsOverCarousel:S})=>{const[N,M]=i.useState(0),[T,P]=i.useState(0),E=i.useRef(null),L=e=>(0,r.jsx)("div",Object.assign({},d.dx.n("wat-carousel-header-arrow"),d.dx.t(e),{children:(0,r.jsx)(l.E,{direction:e,size:g})})),R=()=>E.current?function({slideWidth:e,viewportWidth:t,slidesCount:s,index:r=0,slideGap:i=0,padding:a}){const n=s*e+(s-1)*i+(a?2*a:0);if(r<0||r>=s||t>=n)return 0;const o=r*(e+i);return Math.min(o,n-t)}({index:N,viewportWidth:E.current.offsetWidth,slideWidth:u,slidesCount:t.length,slideGap:s,padding:k}):0,z=e=>{M(e),w&&w(e)};i.useEffect((()=>M(0)),[t.length]),(0,m.L)((()=>{E.current&&P(E.current.offsetWidth)}),[]);const A=Math.floor(T/u),F=A?t.length-A:t.length-1,B=()=>{const i=t.map(((i,o)=>(0,r.jsx)("div",Object.assign({className:(0,a.iv)(e.slide)},d.dx.n("wat-carousel-item"),{style:(0,n.Qo)({marginStart:o&&s?s:void 0,height:I,minWidth:C||t.length>1?u:"100%",maxWidth:C||t.length>1?u:"100%"},v)},{children:i}),`tape-item-${o}`)));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.N,{children:(0,r.jsx)("div",Object.assign({ref:E,className:(0,a.iv)(e.tape),style:(0,n.Qo)({padding:`0px ${k}px`,margin:`0px ${j}px`,start:-R(),transition:`${"ltr"===v?"left":"right"} ${o.l.short}ms ${o.Z.base}`},v)},{children:i}))}),(0,r.jsx)(h.i,{children:(0,r.jsx)(f.S,Object.assign({offset:j},{children:i}))})]})},Z=b||t.length>1;return S?b?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.N,{children:(0,r.jsx)(c.e,Object.assign({left:L("start"),right:L("end"),onChange:z,currentIndex:N,minIndex:0,maxIndex:F},{children:(0,r.jsx)("div",Object.assign({className:(0,a.iv)(e.root)},{children:B()}))}))}),(0,r.jsx)(h.i,{children:(0,r.jsx)("div",Object.assign({className:(0,a.iv)(e.root,e._marginBottom)},{children:B()}))})]}):(0,r.jsxs)("div",Object.assign({className:(0,a.iv)(e.root)},{children:[Z&&(0,r.jsxs)("div",Object.assign({className:(0,a.iv)(e.header)},d.dx.n(_),{children:[b&&(0,r.jsx)("header",Object.assign({className:(0,a.iv)(e.headerTitle,O),style:(0,n.Qo)({color:y||p.O.gray_262626},v)},d.dx.n("wat-carousel-header-title"),{children:x?(0,r.jsx)("a",Object.assign({href:x},{children:b})):b})),(0,r.jsx)(h.N,{children:(0,r.jsx)(r.Fragment,{children:t.length>1&&(0,r.jsx)("div",Object.assign({className:(0,a.iv)(e.headerArrows)},d.dx.n("wat-carousel-header-arrows"),{children:(0,r.jsx)(c.e,{left:L("start"),right:L("end"),onChange:z,currentIndex:N,minIndex:0,maxIndex:F})}))})})]})),B()]}))}))},48244:(e,t,s)=>{"use strict";s.d(t,{J:()=>a});var r=s(52322),i=s(2784);const a=({template:e,render:t})=>{const s=(0,i.useMemo)((()=>n(e)),[e]);return(0,r.jsx)(r.Fragment,{children:s.map(((e,s)=>{var a;return(0,r.jsx)(i.Fragment,{children:"string"==typeof e?e:(null===(a=t[e.name])||void 0===a?void 0:a.call(t,e.text))||e.text},s)}))})};function n(e){const t=[];let s="",r="",i=!1;for(const a of e)switch(a){case"$":i=!0,r&&(t.push(r),r="");break;case"[":i=!1,r&&(t.push(r),r="");break;case"]":t.push({name:s||"default",text:r}),r="",s="";break;default:" "===a&&i&&(t.push({name:s,text:""}),i=!1,s=""),i?s+=a:r+=a}return r&&t.push(r),s&&t.push({name:s,text:""}),t}},31350:(e,t,s)=>{"use strict";s.d(t,{x:()=>p});var r=s(52322),i=s(2784),a=s(85843),n=s(63993),o=s(98584),c=s(4125),d=s(68879);class l extends i.PureComponent{render(){const{children:e,block:t,dataN:s="wat-kit-text",dataT:i=""}=this.props;return e?t?(0,r.jsx)("div",Object.assign({className:this.getClassName()},a.dx.n(s),a.dx.t(i),{children:e})):(0,r.jsx)("span",Object.assign({className:this.getClassName()},a.dx.n(s),a.dx.t(i),{children:e})):null}getClassName(){const{s:e,bold:t,note:s,lead:r,m:i,small:a,m4:n,m8:o,__experimentalStyles:c}=this.props;return(0,d.iv)(e.text,r&&e.lead,a&&e.small,t&&e._bold,s&&e._note,(i||n||o)&&e.m,(i&&4===i||n)&&e.m4,(i&&8===i||o)&&e.m8,i&&12===i&&e.m12,i&&16===i&&e.m16,i&&20===i&&e.m20,i&&24===i&&e.m24,c)}}l.displayName=(0,c.I)("src/shared/kit/text");const u={text:Object.assign({},n.oN),_bold:{fontWeight:n.Ue.bold},_note:{color:o.O.gray_929292},lead:Object.assign({},n.FY),small:Object.assign({},n.yG),m:{"&:empty":{display:"none"},"&:last-child":{marginBottom:0}},m4:{marginBottom:4},m8:{marginBottom:8},m12:{marginBottom:12},m16:{marginBottom:16},m20:{marginBottom:20},m24:{marginBottom:24}},p=(0,d.D2)(u)(l)},76704:(e,t,s)=>{"use strict";s.d(t,{n:()=>u});var r=s(52322),i=s(2784),a=s(63993),n=s(98584),o=s(85843),c=s(96729),d=s(52728),l=s(6801);const u=e=>{const{s:t,css:s}=(0,l.y)(p),[a,n]=(0,i.useState)(e.initialValue||e.value||""),[u]=(0,i.useState)(void 0!==e.value),[g,m]=(0,i.useState)(e.autoFocus||!1);(0,i.useEffect)((()=>{u&&void 0!==e.value&&n(e.value)}),[e.value,u]);const h=(0,i.useRef)({beforeStart:0,beforeEnd:0}),f=(0,i.useRef)(null);(0,i.useLayoutEffect)((()=>{var t,s;(e.multiline||"text"===(null===(t=f.current)||void 0===t?void 0:t.type))&&(null===(s=f.current)||void 0===s||s.setSelectionRange(h.current.beforeStart,h.current.beforeEnd))}),[a,e.multiline]);const v=()=>{const{hasClearButton:i}=e;if(i&&a)return(0,r.jsx)("div",Object.assign({className:s(t.buttons)},o.dx.n("wat-input-clear-button"),{children:(0,r.jsx)("div",Object.assign({className:s(t.clearButtonWrapper),onClick:w},{children:(0,r.jsx)(c.x,{})}))}))},b=()=>{const{autoFocus:i,linesCount:n=4,multiline:c,dataT:d,isLead:l,inputType:u,maxLength:p}=e,g=17*n,m={className:s(t.input,l?t.leadText:t.inputText),placeholder:_(),onChange:y,onFocus:x,onBlur:j,autoFocus:i,maxLength:p};return c?(0,r.jsx)("textarea",Object.assign({},m,{ref:f,style:{height:g},value:a},o.dx.n("wat-textfield-input"),o.dx.t(d),{onClick:C})):(0,r.jsx)("input",Object.assign({},m,{ref:f,type:u||"text",value:a},o.dx.n("wat-textfield-input"),o.dx.t(d),{onClick:C}))},y=t=>{var s,r;const i=t.target.value,a=null!==(s=t.target.selectionStart)&&void 0!==s?s:0,o=null!==(r=t.target.selectionEnd)&&void 0!==r?r:0;h.current={beforeStart:a,beforeEnd:o},u||n(i),e.onChange(i)},x=()=>{var t;m(!0),null===(t=e.onFocus)||void 0===t||t.call(e)},j=()=>{var t;m(!1),null===(t=e.onBlur)||void 0===t||t.call(e)},w=()=>{var t;n(""),null===(t=e.onClear)||void 0===t||t.call(e)},_=()=>e.placeholder?e.placeholder:g||""!==a?"":e.label,C=e=>{e.stopPropagation()};return(0,r.jsx)(d.f,{label:e.placeholder||g||""!==a?e.label:"",hasLabel:!!e.label,input:(0,r.jsxs)(r.Fragment,{children:[b(),v()]}),renderOutside:()=>{const{hasClearButton:t,renderOutside:s}=e;if(t&&a)return s&&s()},error:!!e.error,focused:g})};u.displayName="TextField";const p=(0,l.k)({input:{color:n.O.gray_262626,border:"none",display:"block",width:"100%",outline:"none",padding:0,resize:"vertical",backgroundColor:"initial","::placeholder":{color:n.O.gray_929292}},inputText:Object.assign({},a.qH),leadText:Object.assign({},a.FY),buttons:{display:"flex",justifyContent:"space-between"},clearButtonWrapper:{height:24,marginTop:-4,marginBottom:-4,cursor:"pointer"}})},52728:(e,t,s)=>{"use strict";s.d(t,{f:()=>p});var r=s(52322),i=s(2784),a=s(68879),n=s(4125),o=s(63993),c=s(98584);class d extends i.PureComponent{render(){const{label:e,input:t,s,error:i,renderOutside:n,dataN:o="wat-kit-textfield",focused:c,hasLabel:d}=this.props;return(0,r.jsxs)("div",Object.assign({"data-n":o,style:{width:"100%"}},{children:[(e||d)&&(0,r.jsx)("label",Object.assign({className:(0,a.iv)(s.label)},{children:e||""})),!n&&(0,r.jsx)("div",Object.assign({className:(0,a.iv)(s.wrapper,c&&s._focused,i&&s._error)},{children:t})),n&&(0,r.jsxs)("div",Object.assign({className:(0,a.iv)(s.flexWrap)},{children:[(0,r.jsx)("div",Object.assign({className:(0,a.iv)(s.wrapper,c&&s._focused,i&&s._error)},{children:t})),n()]}))]}))}}d.displayName=(0,n.I)("src/shared/kit/textField");const l={content:'""',position:"absolute",bottom:0,height:1,width:"100%",start:0},u={flexWrap:{display:"flex",justifyContent:"space-between"},wrapper:{width:"100%",display:"flex",alignItems:"center",color:c.O.gray_929292,position:"relative",boxSizing:"border-box",padding:"12px 0",":after":Object.assign(Object.assign({},l),{background:c.O.gray_e6e6e6})},_error:{":after":Object.assign(Object.assign({},l),{background:c.O.red_fe5000})},_focused:{color:c.O.gray_262626,":after":Object.assign(Object.assign({},l),{background:c.O.blue_0072ce})},label:Object.assign(Object.assign({},o.yG),{display:"block",color:c.O.gray_929292,height:o.yG.lineHeight,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"})},p=(0,a.D2)(u)(d)},36291:(e,t,s)=>{"use strict";s.d(t,{k:()=>d});var r=s(52322),i=s(2784);const a={bottomStart:"bottomEnd",bottomEnd:"bottomStart",bottomBottomEnd:"bottomBottomStart",bottomBottomStart:"bottomBottomEnd",centerStart:"centerEnd",centerEnd:"centerStart"};var n=s(6340);const o=s(60629),c={attributes:!0,characterData:!0,subtree:!0,childList:!0};const d=i.memo((({children:e,innerRef:t,pointerEvents:s,to:d,offset:l,targetBoundingClientRect:u})=>{const p=(0,i.useRef)(null),g=t||p,[m,h]=(0,i.useState)(void 0),{rtl:f}=(0,n.Z)(),{top:v,left:b,bottom:y,right:x,transform:j}=(0,i.useMemo)((()=>{if(!m)return{top:0,left:0};const e=window.innerWidth,t=window.innerHeight;return function(e){const{to:t,targetClientRect:s,ownClientRect:r,windowWidth:i,windowHeight:n,offset:o,rtl:c}=e,d=r.width,l=r.height;switch(c&&a[t]||t){case"bottomMiddle":return{left:s.left+s.width/2,top:s.bottom+o,transform:"translateX(-50%)"};case"bottomStart":return{left:s.left-o,top:s.bottom+o,transform:"translateX(-100%)"};case"bottomEnd":{const e=s.right+o,t=s.bottom+o,r=i-e-d<8,a=n-t-l<8;return r&&a?{right:i-s.left+o,bottom:n-s.top+o}:r?{top:t,right:i-s.left+o}:a?{bottom:n-s.top+o,left:e}:{left:e,top:t}}case"centerStart":return{left:s.left-o,top:s.top+s.height/2,transform:"translateY(-50%) translateX(-100%)"};case"centerEnd":return{left:s.right+o,top:s.top+s.height/2,transform:"translateY(-50%)"};case"bottomBottomStart":const e=s.left,t=s.bottom+o,r=i-e-d<8,a=n-t-l<8;return r&&a?{right:i-s.left+o,bottom:n-s.top+o}:r?{top:t,right:i-s.left+o}:a?{bottom:n-s.top+o,left:e}:{left:e,top:t};case"bottomBottomEnd":return{left:s.right,top:s.bottom+o,transform:"translateX(-100%)"}}}({to:d,targetClientRect:u,ownClientRect:m,windowWidth:e,windowHeight:t,offset:l,rtl:f})}),[m]),w=(0,i.useCallback)((()=>{var e;h(null===(e=g.current)||void 0===e?void 0:e.getBoundingClientRect())}),[]);return(0,i.useEffect)(w,[]),function(e,t){const s=(0,i.useCallback)(((...e)=>o((()=>{t(...e)}))),[t]);(0,i.useEffect)((()=>{if(e.current&&"undefined"!=typeof MutationObserver){const t=new MutationObserver(s);return t.observe(e.current,c),()=>{t.disconnect()}}}),[s,e])}(g,w),(0,r.jsx)("div",Object.assign({style:{position:"absolute",top:v,left:b,bottom:y,right:x,transform:j,pointerEvents:s,visibility:m?void 0:"hidden"},ref:g},{children:e}))}))},35253:(e,t,s)=>{"use strict";s.d(t,{AR:()=>d,E0:()=>c,W5:()=>o,dp:()=>n});var r=s(98584),i=s(72645),a=s(20094);const n={searchBarWrapperHeight:56,sideMenuWidth:288,navigationWidth:64,standardFrameWidth:352,innerFrameWidth:304,sidebarFrameWidth:200,wideFrameWidth:552,popupFrameWidth:544,photoListItemHeight:170,cardLogo:56,rackShift:32,rackMargin:8},o=Object.assign({},i.W),c={default:"4px",defaultOnlyTop:"4px 4px 0 0",defaultOnlyEnd:"logical 0 4px 4px 0",defaultOnlyStart:"logical 4px 0 0 4px",small:"2px",isolate:"6px",oval:"200px",topRaunded8:"8px 8px 0 0"},d={"::-webkit-scrollbar-thumb":{backgroundColor:(0,a.j)(r.O.black,.2)},"::-webkit-scrollbar-track":{backgroundColor:"#f0f0f0"},"::-webkit-scrollbar":{width:"6px"},scrollbarWidth:"thin"}},90901:(e,t,s)=>{"use strict";s.d(t,{T:()=>r});class r{constructor(){this.requests=[]}setRequest(e){2===e.params.data.v&&this.requests.push(e)}getRequests(){return this.requests}clear(){this.requests=[]}}},86649:(e,t,s)=>{"use strict";s.d(t,{k:()=>r});const r=(e,t)=>e.includes(t)},28814:(e,t,s)=>{"use strict";function r(e,t){return t<0||t>=e.length?e:[...e.slice(0,t),...e.slice(t+1)]}s.d(t,{O:()=>r})},43606:(e,t,s)=>{"use strict";function r(e,t,s){return s<0||s>=e.length?e:[...e.slice(0,s),t,...e.slice(s+1)]}s.d(t,{g:()=>r})},69003:(e,t,s)=>{"use strict";function r(e,t){return e<=0?[]:Array(e).fill("").map(((e,s)=>t(s)))}s.d(t,{D:()=>r})},27672:(e,t,s)=>{"use strict";function r(e,t){const s={};return e.filter((e=>{const r=t(e);return!s[r]&&(s[r]=!0,!0)}))}s.d(t,{m:()=>r})},73985:(e,t,s)=>{"use strict";s.d(t,{c:()=>i});var r=s(2784);const i=e=>{let t=e;const s=()=>t,i=(()=>{let e,t;return{notify(t){let s=e;for(;s;)s.fn(t),s=s.next},subscribe(s){const r={fn:s};return e&&t?(t.next=r,r.prev=t,t=r):(e=r,t=r),()=>{r.prev&&r.next?(r.prev.next=r.next,r.next.prev=r.prev):r.prev?(t=r.prev,t.next=void 0):r.next?(e=r.next,e.prev=void 0):(e=void 0,t=void 0)}}}})(),a=e=>e;return{use:(e=a)=>{const[t,n]=(0,r.useState)((()=>e(s())));return(0,r.useEffect)((()=>(n(e(s())),i.subscribe((t=>n(e(t)))))),[e]),t},get:s,set:e=>{"undefined"!=typeof window?(t=e(s()),i.notify(t)):console.error("Нельзя менять состояние атомов на сервере!",(new Error).stack)}}}},93471:(e,t,s)=>{"use strict";s.d(t,{KB:()=>r.KB,V5:()=>r.V5,yf:()=>r.yf});var r=s(15487)},15487:(e,t,s)=>{"use strict";s.d(t,{BK:()=>d,KB:()=>o,V5:()=>c,oN:()=>n,yf:()=>r});var r,i,a,n,o;!function(e){e.Bar="awards_awards2023_thebestbar2023",e.Barbershop="awards_awards2023_thebestbarbershop2023",e.BeautySalon="awards_awards2023_thebestbeautysalon2023",e.Cafe="awards_awards2023_thebestcafe2023",e.Carservice="awards_awards2023_thebestcarservice2023",e.Coffeeshop="awards_awards2023_thebestcoffeeshop2023",e.Confectionery="awards_awards2023_thebestconfectionery2023",e.Dental="awards_awards2023_thebestdental2023",e.Detailing="awards_awards2023_thebestdetailing2023",e.Flowers="awards_awards2023_thebestflowers2023",e.Foodmall="awards_awards2023_thebestfoodmall2023",e.Hairdressing="awards_awards2023_thebesthairdressing2023",e.Hotel="awards_awards2023_thebesthotel2023",e.Massage="awards_awards2023_thebestmassage2023",e.MedicalCenter="awards_awards2023_thebestmedicalcenter2023",e.Nailsalon="awards_awards2023_thebestnailsalon2023",e.Restaurants="awards_awards2023_thebestrestaurants2023",e.Shotglass="awards_awards2023_thebestshotglass2023",e.Spa="awards_awards2023_thebestspa2023",e.Streetfood="awards_awards2023_thebeststreetfood2023"}(r||(r={})),function(e){e.GreatList="guide_great_list"}(i||(i={})),function(e){e.Kidsfriendly="awards_kidsfriendly"}(a||(a={})),function(e){e.award2016="awards_past_awards_awards2016",e.award2017="awards_past_awards_awards2017",e.award2018="awards_past_awards_awards2018",e.award2019="awards_past_awards_awards2019"}(n||(n={})),function(e){e.Award2GIS="Премия 2ГИС",e.GreatList="GreatList",e.Kidsfriendly="Kidsfriendly"}(o||(o={}));const c={[o.Award2GIS]:r,[o.GreatList]:i,[o.Kidsfriendly]:a},d=[...Object.values(c).flatMap(Object.values),...Object.values(n)]},43765:(e,t,s)=>{"use strict";function r(e){return{map:{effectsLevel:e.appContext.isImmersiveMapEnabled?"immersive":"default"}}}s.d(t,{i:()=>r})},10857:(e,t,s)=>{"use strict";s.d(t,{o:()=>i});var r=s(81380);function i(e){const t=(0,r.t)(e);return[parseInt(`${t[1]}${t[2]}`,16),parseInt(`${t[3]}${t[4]}`,16),parseInt(`${t[5]}${t[6]}`,16)]}},81380:(e,t,s)=>{"use strict";s.d(t,{t:()=>a});const r=/^#[a-f0-9]{6}$/,i=/^#[a-f0-9]{3}$/;function a(e){const t=e.toLowerCase();return r.test(t)?t:i.test(t)?`#${e[1]}${e[1]}${e[2]}${e[2]}${e[3]}${e[3]}`:"#000000"}},82517:(e,t,s)=>{"use strict";s.d(t,{X:()=>a});var r=s(81380),i=s(56659);function a(e,t){const s=(0,r.t)(e).substr(1),a=function(e){const t=Math.round(255*(0,i.uZ)(e,0,1)).toString(16);return 1===t.length?"0"+t:t}(t);return`#${s}${a}`}},73775:(e,t,s)=>{"use strict";function r([e,t,s]){return"#"+i(e)+i(t)+i(s)}function i(e){const t=e.toString(16);return 1===t.length?"0"+t:t}s.d(t,{v:()=>r})},89747:(e,t,s)=>{"use strict";s.d(t,{E:()=>r});const r=(0,s(2784).createContext)("\n  #########\n  ERROR: Забыл добавить конфиг приложения в ConfigContext\n  #########\n")},45544:(e,t,s)=>{"use strict";s.d(t,{w:()=>l,c:()=>u});var r=s(77878),i=s(86023);function a(e){return(0,i.dL)(e)%10}function n(e){return e.slice(-12)}function o(e,t,s){s.length;const r=function(e,t=0){const s=n(e),r=s.length-t;return s.slice(r-2,r)}(t,a(e)),i=parseInt(r,16);if(Number.isNaN(i))return;const o=i%(2*s.length);return{group:s[Math.floor(o/2)],subgroup:o%2?1:2}}var c=s(5975),d=s(43889);function l(e){return(t,s)=>{var i;const{name:l,percentRange:u,groups:p,forHumanFromSeo:g,forCountries:m,excludeHumanFromSeo:h,excludeSafari:f}=e,v={name:e.name,values:p},b=t.godmode?[...t.availableExperiments,v]:[];if(g&&!t.isHumanFromSeo||m&&!m.includes(t.defaultCountryCode)||h&&t.isHumanFromSeo||f&&(null===(i=null==s?void 0:s.useragent)||void 0===i?void 0:i.isSafari))return{availableExperiments:b};let y=!1;try{y=function(e,t,s){if(s.find((e=>e<0||e>1)))throw new Error(`Bad percentageRange in filters = ${s.toString()}`);const r=a(e),i=n(t).slice(r,r+3),o=parseInt(i,16);if(Number.isNaN(o))throw new Error(`Can't filter properly in a/b test. Cannot get value from ${i}`);const c=4095*s[0],d=4095*s[1];return o>=c&&o<d}(l,t.userId,u)}catch(e){(0,r.H)({id:"sakfa",message:(0,c.e)(e),level:"error",payload:{type:"exception",subtype:"a/b test error",stack:(0,d.d)(e)}})}if(!0!==y)return{availableExperiments:b};const x=o(e.name,t.userId,p);if(!x)return(0,r.H)({id:"hklqe",message:"cannot set group in a/b test",level:"error",payload:{type:"exception",subtype:"a/b test error"}}),{};return{availableExperiments:b,experiments:[{name:e.name,value:`${x.group}_${x.subgroup}`},...t.experiments]}}}function u(e,t){const s=t.find((t=>t.name===e));if(s)return s.value.split("_")[0]}},52175:(e,t,s)=>{"use strict";s.d(t,{GK:()=>i});s(5975);var r=s(64693);function i(e,t,s="unknown key"){if("string"==typeof e)return t;if("number"==typeof e){const e=Number(t);if(e!=e||""===t.trim())throw new Error(`Invalid number env config value (${s}): "${t}"`);return e}if("boolean"==typeof e)switch(t.toLowerCase()){case"true":return!0;case"false":return!1;default:throw new Error(`Invalid boolean env config value (${s}): ${t}`)}if(Array.isArray(e)){const e=JSON.parse(t);if(Array.isArray(e))return e;throw new Error(`Invalid array env config value (${s}): ${t}`)}if((0,r.Kn)(e)){const e=JSON.parse(t);if((0,r.Kn)(e))return e;throw new Error(`Invalid object env config value (${s}): ${t}`)}throw new Error(`Config value is not a string/number/boolean/array/object (${s})`)}},77608:(e,t,s)=>{"use strict";s.d(t,{$:()=>a});var r=s(27215),i=s(44154);function a(e,t,s){return(0,r.e$)((s=>{let r,a={},n={};return(o,c)=>{const d=e?e(o,c):{};if((0,i.w)(r,d)&&(0,i.w)(a,c))return n;const l=t?t(s,Object.assign(Object.assign({},c),d)):void 0;return a=c,r=d,n=Object.assign({},c,r,l),n}}),s)}},2629:(e,t,s)=>{"use strict";s.d(t,{$:()=>d});var r=s(27215),i=s(29759),a=s(94146),n=s(46042),o=s(67753),c=s(354);function d(e){let t=!1;const s=t=>t.appContext[e],d=(0,n.P)(`appContextAtomSet_${e}`,(0,a.x)("appContext",((t,s)=>t[e]===s?t:Object.assign(Object.assign({},t),{[e]:s}))));return{get:s,use:()=>(0,r.v9)(s),set:s=>(0,o.vP)(t&&(0,o.PQ)((()=>{i.tO.local.setItem(e,s)})),d(s)),syncLS:(r=l)=>{var a;t=!0;const n=JSON.parse(null!==(a=i.tO.local.getItem(e))&&void 0!==a?a:"null");return(0,c._N)(s,(e=>d(r(n,e))))}}}function l(e,t){return null==e?t:e}},99924:(e,t,s)=>{"use strict";function r(e){return Date.now()+e}s.d(t,{u:()=>r})},63655:(e,t,s)=>{"use strict";function r(e,t){return new Date(e+6e4*(new Date(e).getTimezoneOffset()+t))}s.d(t,{t:()=>r})},62455:(e,t,s)=>{"use strict";s.d(t,{Sb:()=>u,ZW:()=>d,fm:()=>c});var r=s(99600),i=s(64693),a=s(45485);const n="|",o=";";function c(e){const t=e.reduce(((e,t)=>t&&(0,i.$K)(t.lonLat)?e.concat((0,i.oA)([(0,a.S)(t.lonLat),"entityId"in t&&t.entityId]).join(o)):e),[]),s=e[0];return(!s||u(s)&&!(0,i.$K)(s.lonLat))&&t.length&&t.unshift(""),t.join(n)}function d(e){if(!e)return[];const t=e.split(n),s=t.reduce(((e,t)=>{const s=l(t);return s?e.concat(s):e}),[]);return s.length&&!t[0]?[void 0,...s]:s}function l(e,t=o){const s=e.split(t),i=(0,r.v)(s[0]);if(!i)return;const a=s[1];return/^\d+$/.test(a)?{type:"point",lonLat:i,entityId:a}:{type:"point",lonLat:i}}function u(e){return!!e&&"location"===e.type}},71955:(e,t,s)=>{"use strict";s.d(t,{X:()=>i});var r=s(874);function i(e){const t=e.split(".").pop();return e.includes("urbi-sa")&&"com"===t||t?r.wp[t]:void 0}},85843:(e,t,s)=>{"use strict";s.d(t,{J:()=>i,Z:()=>d,dx:()=>l,n:()=>a,t:()=>n,v:()=>c});let r=!1;function i(e){r=!e}function a(e){return r||!e?{}:{"data-n":e}}function n(e){return r||!e?{}:{"data-t":e}}function o(...e){return r?{}:{"data-s":e.filter((e=>!!e)).join(" ")||void 0}}function c(e){return r||!e?{}:{"data-v":`${e}`}}function d(e){return r?{}:Object.assign(Object.assign(Object.assign(Object.assign({},a(e.n)),n(e.t)),o(...(t=e.s,t?"string"==typeof t?[t]:t:[]))),c(e.v));var t}const l={s:o,n:a,t:n,v:c}},23862:(e,t,s)=>{"use strict";s.d(t,{GW:()=>n,KX:()=>i.KX,Rs:()=>a.R,aq:()=>i.aq,xr:()=>i.xr});var r=s(64693),i=s(72730),a=s(84046);function n(e,t,...s){return i=>({type:`effect(${e})`,payload:{name:e,params:i,phase:"start",handler:t,uuid:(0,r.by)()},effect:!0,reducers:s})}},64584:(e,t,s)=>{"use strict";s.d(t,{O:()=>i});var r=s(72730);function i(e){const{services:t,asyncExtraPayload:s}=e;return e=>{const i=function(e){const{asyncExtraPayload:t,getState:s}=e;return{get:e=>{if(!t)return;const r=t(s());return r?r[e]:void 0}}}({asyncExtraPayload:s,getState:e.getState});let a=e.dispatch;return e=>s=>(0,r.ly)(s)?(e(s),s.payload.handler(s.payload.params)(Object.assign(Object.assign({},t),{contextApi:i})).then((e=>{a((0,r.go)(s,e))})).catch((e=>{a((0,r.Co)(s,e))}))):e(s)}}},72730:(e,t,s)=>{"use strict";function r(e){const{effect:t,payload:s}=e;return t&&"start"===s.phase}function i(e,t){return(s,r)=>{if(!function(e,t){return!0===e.effect&&e.payload.name===t}(r,e))return s;switch(r.payload.phase){case"start":return t.start?t.start(s,r.payload):s;case"success":return t.success?t.success(s,r.payload):s;case"error":return t.error?t.error(s,r.payload):s}return s}}function a(e,t,s){const r=i(e,s);return(e=t,s)=>r(e,s)}function n(e,t){return{type:`effect(${e.payload.name}):success`,payload:{uuid:e.payload.uuid,name:e.payload.name,params:e.payload.params,phase:"success",result:t},reducers:e.reducers,effect:!0}}function o(e,t){return{type:`effect(${e.payload.name}):error`,payload:{uuid:e.payload.uuid,name:e.payload.name,params:e.payload.params,phase:"error",error:t},reducers:e.reducers,effect:!0}}function c(e){return(t,s)=>{switch(s.payload.phase){case"start":return e.start?e.start(t,s.payload):t;case"success":return e.success?e.success(t,s.payload):t;case"error":return e.error?e.error(t,s.payload):t}return t}}s.d(t,{Co:()=>o,KX:()=>i,aq:()=>c,go:()=>n,ly:()=>r,xr:()=>a})},5975:(e,t,s)=>{"use strict";s.d(t,{e:()=>a});var r=s(64693);function i(e){if(t=e,(0,r.Kn)(t)&&"message"in t&&"string"==typeof t.message)return e;var t;try{return new Error(JSON.stringify(e))}catch(t){return new Error(String(e))}}function a(e){return i(e).message}},43889:(e,t,s)=>{"use strict";s.d(t,{d:()=>i});var r=s(64693);function i(e){if((0,r.Kn)(e)&&"stack"in e&&"string"==typeof e.stack)return e.stack}},96353:(e,t,s)=>{"use strict";s.d(t,{X:()=>a});var r=s(89636);var i=s(1827);function a(e,t={}){const s=Object.assign({},t),{valueType:a,name:n,value:o,isChecked:c}=e;if(!n||!o)return s;const d=t&&t[n]||"";let l;switch(a){case"multiple":const e=(0,i.X)(d),t=e.indexOf(o),s=-1!==t;c&&!s?e.push(o):!c&&s&&e.splice(t,1),l=e.join(r.Ad);break;case"single":l=c?o:""}return l=!l&&e.defaultValue?e.defaultValue:l,!l&&n in s?delete s[n]:l&&s[n]!==l&&(s[n]=l),s}},31881:(e,t,s)=>{"use strict";s.d(t,{C:()=>i});var r=s(89636);function i(e,t){return`${e}${r.Ad}${t}`}},89636:(e,t,s)=>{"use strict";s.d(t,{AN:()=>r,Ad:()=>n,ER:()=>a,ZA:()=>o,kp:()=>i});const r="=",i=";",a=",",n=",",o="+"},1827:(e,t,s)=>{"use strict";s.d(t,{X:()=>i});var r=s(89636);function i(e){return e?e.split(r.ER):[]}},56546:(e,t,s)=>{"use strict";s.d(t,{E:()=>i});var r=s(89636);function i(e){return e.split(r.ER).splice(0,2)}},33771:(e,t,s)=>{"use strict";function r(e="OK"){const t="Добрый день, команда 2ГИС! Хочу поблагодарить именно вас! Вы -Супер!!! Ваша программа помогла мне добраться до далекой точки по неизведанному мне маршруту в кратчайшие сроки. Это было 11 мая в Новокузнецке: ваш навигатор классно провел меня из Заводского района в пос. Абашево. Это было круто! А сейчас именно ваш 2ГИС помог мне очень быстро, находясь в Новосибирске, найти жизненно важное лекарство в Новокузнецке для моего папы!!! Спасибо, что вы-есть!!! Успехов вам, здоровья и благополучия каждому в вашем коллективе!!! Я- давний ваш пользователь, ваша программа много раз помогала мне в разных городах, и не только мне. Она у меня и в компьютере, и в мобильном. Ваша программа у всех моих друзей и знакомых- это незаменимая палочка-выручалочка. Большое спасибо еще раз, что вы есть!!! И громадная благодарность - создателем 2ГИС :-)) Вы были пионеры в этой сфере. Помню времена, года увидела первый лазерный диск с ГИС на презентации и то, как эти диски вы бесплатно распространяли по почтовым ящикам горожан и компаниям. Это было ново, непривычно и необычно. А сейчас ваш проект стал незаменимым для громадного количества людей и удобным громадному количеству компаний. Вам всем еще раз спасибо и как от рядового жителя, которому программа делает комфортной бытовую жизнь , и как от сотрудника компании, которому в свое время ваша программа оказала неоценимую помощь в успешном продвижении продуктов и услуг нашей компании!";if("number"==typeof e)return t.slice(e);switch(e){case"fewWords":return"Добрый день, команда 2ГИС";case"sentence":return"Не знаю ни одного человека в своем окружении, кто бы не пользовался 2Гис, в том числе и в других городах";case"paragraph":return"Оставлю свою 5 и комент. Часто езжу в командировки по России и приложение везде выручает. Покажет любой маршрут, как проехать, пройти, проползти😁 главное не забыть загрузить карты местности, куда едешь. Ещё я была приятно удивлена что все поиложение на полную работает в Эмиратах...Вау... Все маршруты тоже... Даже есть карта по Дубай-Мол в г.Дубай. со всеми бутичками... отлично!!!!!";case"essay":return t;case"emoji":return"Где⁉️ девочкам🤷‍♀️ записаться✍️ на ноготочки 💅  бесплатно 🤑💵💵💵";default:return"клиентоориентированная одиннадцатиклассница уехала на переосвидетельствование в Петропавловск-Камчатский"}}s.d(t,{v:()=>r})},96647:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});const r=function(...e){const t=e?e.length:0;return function(...s){let r=0,i=t?e[r].apply(this,s):s[0];for(;++r<t;)i=e[r].call(this,i);return i}}},24736:(e,t,s)=>{"use strict";function r(){const e={append:()=>{}};return"undefined"!=typeof FormData?new FormData:e}s.d(t,{O:()=>r})},4125:(e,t,s)=>{"use strict";function r(e){const t=e.split("/");return t[t.length-1]}s.d(t,{I:()=>r})},57935:(e,t,s)=>{"use strict";s.d(t,{Az:()=>a,C8:()=>i,Gb:()=>o,Il:()=>n});var r=s(43464);const{withFormatter:i,FormatterProvider:a,FormatterContextConsumer:n,useFormatter:o}=(0,r.gm)()},343:(e,t,s)=>{"use strict";s.d(t,{$:()=>a});var r=s(2784),i=s(44154);function a(e,t){const s=function(e){const t=(0,r.useRef)(e);if(t.current===e)return e;if(function(e,t){if(e.length!==t.length)return!1;return e.every(((e,s)=>(0,i.w)(e,t[s])))}(t.current,e))return t.current;return e}(t);return(0,r.useMemo)(e,s)}},24568:(e,t,s)=>{"use strict";s.d(t,{t:()=>i});var r=s(2784);function i(e,t){(0,r.useEffect)((()=>{const s=s=>{e.current&&!e.current.contains(s.target)&&t()};return document.addEventListener("mousedown",s),document.addEventListener("touchstart",s),()=>{document.removeEventListener("mousedown",s),document.removeEventListener("touchstart",s)}}),[e,t])}},75502:(e,t,s)=>{"use strict";s.d(t,{k:()=>i});var r=s(2784);function i(e,t,s){const i=(0,r.useRef)(null);(0,r.useEffect)((()=>{const r=()=>{!function(e,t,s){a(e),e.current=setTimeout(t,s)}(i,t,s)},n=()=>{a(i)};return r(),e.current&&(e.current.addEventListener("mouseenter",n),e.current.addEventListener("mouseleave",r)),()=>{n(),e.current&&(e.current.removeEventListener("mouseenter",n),e.current.removeEventListener("mouseleave",r))}}),[e.current])}function a(e){clearTimeout(e.current)}},6581:(e,t,s)=>{"use strict";s.d(t,{Q:()=>r});const r=e=>"ar"===e.lang||"ar_AE"===e.locale?"straight":e.addressOrder},83618:(e,t,s)=>{"use strict";s.d(t,{o:()=>i});var r=s(48791);function i(e,t){return"ru"!==e&&t.includes(e)?("cs"!==e&&"it"!==e&&"es"!==e||(e="en"),s(73515)(`./${e}.po`).then((e=>JSON.stringify(e)))):Promise.resolve(r.Z)}},48906:(e,t,s)=>{"use strict";s.d(t,{o:()=>g});var r=s(22970),i=s(83583),a=s(96647),n=s(89955),o=s(69347),c=s(19322),d=s(68680);class l{setLocaleData(e){this.currentLocaleData=e}format(e,t){return(0,c.Z)(e,t,{locale:this.currentLocaleData})}formatDistanceStrict(e,t,s){return(0,d.Z)(e,t,{locale:this.currentLocaleData,addSuffix:null==s?void 0:s.addSuffix})}}function u(e){return function(e){switch(e){case"ru":return s.e(1623).then(s.bind(s,28837));case"kk":return s.e(884).then(s.bind(s,26589));case"hy":return s.e(7606).then(s.bind(s,27885));case"ka":return s.e(4560).then(s.bind(s,47389));case"az":return s.e(9973).then(s.bind(s,59722));case"uz":return s.e(9018).then(s.bind(s,28063));case"cs":return s.e(6601).then(s.bind(s,82502));case"es":return s.e(4462).then(s.bind(s,84963));case"ar":return s.e(6088).then(s.bind(s,89675));default:return Promise.resolve().then(s.bind(s,26842))}}(e).then((e=>e.default))}var p=s(77878);class g{constructor(e,t=new l){this.getLang=()=>this.lang,this.getLocale=()=>this.locale,this.translationController=e,this.tp=this.replaceEntitiesInProvider(new i.TranslationProvider(this.translationController)),this.dateFns=t,this.lang="ru",this.locale="ru_RU"}setLocale(e){return(0,r.mG)(this,void 0,void 0,(function*(){const{lang:t,countryCode:s}=e,[r,i]=yield Promise.all([this.fetchTranslations(t),this.fetchDateFnsLocaleData(t)]);this.dateFns.setLocaleData(i),this.lang=r,this.locale=(0,o.$)(r,s)}))}fetchTranslations(e){return new Promise((t=>{this.translationController.setLocale(e,(e=>{t(e)}),(s=>{(0,p.H)({message:`Set locale '${e}' error (${s})`,level:"fatal",id:"VQExy",payload:{type:"exception",subtype:"setLocale",data:s.stack}}),this.translationController.setLocale("ru",t)}))}))}replaceEntitiesInProvider(e){return{_t:(0,a.Z)(e._t,n.yX),_pt:(0,a.Z)(e._pt,n.yX),_nt:(0,a.Z)(e._nt,n.yX),_npt:(0,a.Z)(e._npt,n.yX),_gg:(0,a.Z)(e._gg,n.yX),_pgg:(0,a.Z)(e._pgg,n.yX),_ngg:(0,a.Z)(e._ngg,n.yX),_npgg:(0,a.Z)(e._npgg,n.yX)}}fetchDateFnsLocaleData(e){return u(e)}}},35779:(e,t,s)=>{"use strict";s.d(t,{f:()=>r});const r=s(2784).createContext({})},69347:(e,t,s)=>{"use strict";function r(e,t){const[s,r=t]=e.split(/[-_]/);return`${s.toLowerCase()}_${r.toUpperCase()}`}s.d(t,{$:()=>r})},89955:(e,t,s)=>{"use strict";s.d(t,{C_:()=>i,yX:()=>a});var r=s(94958);const i=e=>e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2;function a(e){return e.replace(/&nbsp;/g,r.E8)}},48791:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});const r='{"meta":{"pluralForms":"nplurals=3; plural=(n%10==1 && n%100!=11 ? 0 : n%10>=2 && n%10<=4 && (n%100<10 || n%100>=20) ? 1 : 2);", "language":"ru_RU"},"items":[]}'},69363:(e,t,s)=>{"use strict";s.d(t,{r:()=>a});var r=s(64693);const i="undefined"==typeof window;class a{static removeStore(e,t){try{(0,r.Ed)(localStorage,((s,r)=>{const i=r.split(".");i[0]===e&&i[1]===t&&localStorage.removeItem(r)}))}catch(e){}}static forEachDbKey(e,t,s){try{(0,r.Ed)(localStorage,((r,i)=>{const a=i.split(".");a[0]===e&&a[2]===t&&s(JSON.parse(r),i)}))}catch(e){}}constructor(e,t){this.dbName=e,this.storeName=t,this.meta={},this.prefix=this.dbName+"."+this.storeName+".",i||this.get("__meta").then((e=>this.meta=e)).catch((()=>this.set("__meta",{})))}get(e){try{const t=localStorage.getItem(this.prefix+e);return null===t?Promise.reject(`no such key in storage: ${this.prefix+e}`):Promise.resolve(JSON.parse(t))}catch(e){return Promise.reject(e)}}set(e,t){try{const s=JSON.stringify(t);return this.meta[e]=!0,localStorage.setItem(this.prefix+e,s),"__meta"!==e&&this.updateMeta(),Promise.resolve()}catch(e){return Promise.reject(e)}}delete(e){for(const t of e)delete this.meta[t],localStorage.removeItem(this.prefix+t);this.updateMeta()}clear(){for(const e in this.meta)this.meta.hasOwnProperty(e)&&localStorage.removeItem(this.prefix+e);return this.meta={},this.updateMeta(),Promise.resolve()}getAll(e,t){const s=Object.keys(this.meta).sort(((e,s)=>t?e<s?1:e>s?-1:0:e>s?1:e<s?-1:0)).slice(e);return Promise.all(s.map((e=>this.get(e))))}updateMeta(){return this.set("__meta",this.meta)}}},95838:(e,t,s)=>{"use strict";function r({src:e,src2x:t,onLoad:s,onError:r,onLoading:i}){const a=new Image;t?a.srcset=`${e} 1x, ${t} 2x`:a.src=e,a.complete?null==s||s():(i&&i(),s&&(a.onload=()=>{s()}),r&&(a.onerror=()=>{r()}))}s.d(t,{A:()=>r})},51604:(e,t,s)=>{"use strict";function r(e){return e.intended}function i(e){return e.actual}function a(e){return{intended:e,actual:e}}function n(e,t){return e.intended!==t?{intended:t,actual:e.actual}:e}function o(e){return a(e.intended)}function c(e){return a(e.actual)}s.d(t,{Gp:()=>i,Ue:()=>a,_e:()=>o,d1:()=>c,gg:()=>n,sG:()=>r})},7619:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});const r=!1},34436:(e,t,s)=>{"use strict";s.d(t,{D:()=>h,q:()=>f});var r=s(60923);const i=e=>{let t=5381,s=e.length;for(;s;)t=33*t^e.charCodeAt(--s);return String(t>>>0)};var a=s(1184);const n=(0,r.hG)({networkTimeout:1e4,enableProxy:!1,analyticsBssEnableTestHandles:!1,featureReadOnly:!1},{GDPRAllowedServiceHosts:[]});const o=new class{constructor(e,t,s){this.queue=[],this.inProgress=!1,this.LOG_BATCH_SIZE=20,this.deduplicateTimeout=s||0,this.sendLogAction=e,this.deduplicateQueue=t}addToQueue(e){this.queue.push(e),this.queue=this.deduplicateQueue(this.queue),this.startQueue()}startQueue(){this.sendNextLog()}sendNextLog(){this.inProgress||(this.inProgress=!0,setTimeout((()=>{this.sendLog()}),this.deduplicateTimeout))}sendLog(){if(!this.queue.length)return void(this.inProgress=!1);const e=this.queue.splice(0,this.LOG_BATCH_SIZE);this.sendLogAction(e).then((()=>{this.inProgress=!1,this.sendNextLog()})).catch((()=>{this.inProgress=!1,e.forEach((e=>{this.addToQueue(e)})),this.addToQueue({environment:"client",level:"warn",message:"Error during send log","error.type":"sendLogError"})}))}}((function(e){return n("/_/log",{method:"post",data:e,timeout:3e4,headers:{"Content-Type":"application/json"}})}),(function(e){const t=(s=e=>i("error.type"in e?`${e["error.type"]}_${e.message}`:`${e.log_id}`),e.reduce(((e,t)=>{const r=s(t);return void 0!==e[r]?(e[r].count++,e):(e[r]={data:t,count:1},e)}),{}));var s;return(0,a.s0)(t).map((e=>{const t=e.data;return Object.assign(Object.assign({},t),{count:t.count>1?e.count+t.count-1:e.count})}))}),1e3),c=s(7619),d=!0;const l=c.Logger?function(){const e=new c.Logger({exitOnError:!1,emitErrs:!1,levels:{fatal:0,error:1,warn:2,info:3}});return e.add(c.transports.Console,{handleExceptions:!1,json:!0,stringify:d,timestamp:d,prettyPrint:!1}),e}():void 0;var u=s(32655),p=s(64693);const g=1e3;function m(e){return e.noCropValues?e:(0,p.Q8)(e,(e=>"string"==typeof e?e.slice(0,g):e))}function h(e){o.addToQueue(m((0,u.Y)(e)))}function f(e){const{level:t}=e;l.log(t,m((0,u.Y)(e)))}},88330:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});const r=(e,t=2)=>{if(t<=1)return e;const[s,r]=e,i=(r.lon-s.lon)*(t-1)/2,a=(r.lat-s.lat)*(t-1)/2;return[{lon:s.lon-i,lat:s.lat-a},{lon:r.lon+i,lat:r.lat+a}]}},66842:(e,t,s)=>{"use strict";s.d(t,{CN:()=>o,Dd:()=>i,ds:()=>a});var r=s(24973);function i({center:e,zoom:t,mapSize:s,rotation:i,pitch:a}){const n=[e.lon,e.lat],o=[s.width,s.height];return[(0,r.screenPointToLonLat)([0,0],{zoom:t,center:n,mapSize:o,rotation:i,pitch:a}),(0,r.screenPointToLonLat)([o[0],0],{zoom:t,center:n,mapSize:o,rotation:i,pitch:a}),(0,r.screenPointToLonLat)([0,o[1]],{zoom:t,center:n,mapSize:o,rotation:i,pitch:a}),(0,r.screenPointToLonLat)([o[0],o[1]],{zoom:t,center:n,mapSize:o,rotation:i,pitch:a})]}function a({center:e,zoom:t,mapSize:s,pitch:r,rotation:a}){const[n,o,c,d]=i({center:e,zoom:t,mapSize:s,pitch:r,rotation:a});return`POLYGON((${n[0]} ${n[1]},${o[0]} ${o[1]},${d[0]} ${d[1]},${c[0]} ${c[1]},${n[0]} ${n[1]}))`}const n=Math.PI/180;function o(e,t){const s=e.y*n,r=t.y*n,i=(t.x-e.x)*n,a=Math.cos(s)*Math.sin(r)-Math.sin(s)*Math.cos(r)*Math.cos(i),o=Math.sin(i)*Math.cos(r);return function(e){if(0<=e&&e<360)return e;const t=e,s=360;return(360*t/s%s+s)%s}(Math.atan2(o,a)/n)}},63174:(e,t,s)=>{"use strict";s.d(t,{hr:()=>m,Cb:()=>c,FS:()=>g,lq:()=>b,_q:()=>p,Sl:()=>y,O0:()=>f,HD:()=>v});var r=s(22970),i=s(11061),a=s(72998),n=s(86023);var o=s(24604);const c="undefined"==typeof window?64:Math.ceil(64*window.devicePixelRatio),d=new Map,l=new Map,u=new Map,p=e=>u.get(e),g=()=>{var e;return null===(e=u.get("pin"))||void 0===e?void 0:e.document};function m(){const e=s(69539),t=e.keys(),r=new RegExp("./(?<styleId>[^/]+)/markersGroup/(?<group>[^/]+)/style.json");t.filter((e=>e.match(r))).forEach((s=>{var n,o,c,l;const u=null===(o=null===(n=s.match(r))||void 0===n?void 0:n.groups)||void 0===o?void 0:o.styleId,p=null===(l=null===(c=s.match(r))||void 0===c?void 0:c.groups)||void 0===l?void 0:l.group,g=`./${u}/icons`;if(u&&p){const r=`./${u}/markersGroup/${p}/generalization.json`,n=(0,i.Z)(e(s)),o=t.includes(r)?e(r):void 0;Object.keys(n.icons).forEach((t=>{const s=n.icons[t];Object.keys(s).forEach((t=>{const r=s[t];if(r)try{const i=e(`${g}/${r.img}`),n=i&&!i.startsWith((0,a.s)())?(0,a.s)():"";s[t]=Object.assign(Object.assign({},r),{img:`${n}${i}`})}catch(e){0}}))}));const c=d.get(u)||{styles:{},generalization:{}};c.styles[p]=n,c.generalization[p]=o,d.set(u,c)}}))}const h=new Set(["smallbullet","bigbullet","middlebullet","commercial","commercial_logo","pin","pin-commercial","pin-commercial-logo"]);function f(){const e=new DOMParser,t=new Set,s=new Set(Object.values(o.GQ));return d.forEach((e=>{Object.values(e.styles).forEach((e=>{Object.entries(e.icons).forEach((([e,r])=>{h.has(e)&&Object.values(r).forEach((e=>{t.add(e.img)})),s.has(e)&&Object.values(r).forEach((e=>{t.add(e.img)}))}))}))})),Promise.all(Array.from(t).map((t=>fetch(t).then((s=>(0,r.mG)(this,void 0,void 0,(function*(){const r=yield s.text();u.set(t,{dataUrl:`data:image/svg+xml,${encodeURIComponent(r)}`,document:e.parseFromString(r,"image/svg+xml")})})))))))}function v(e){return d.get(e)}function b(e){var t;return e?null===(t=u.get(e))||void 0===t?void 0:t.document:void 0}function y(e){const{iconType:t,icon:s,imageUrl:r,state:i,rubric:a,color:o}=e,d=`${r||a||""}_${i}_${o||""}_${t||""}`;let u=l.get(d);return u||(u=e=>{var r,i,a,d;const l=s.document.cloneNode(!0).querySelector("svg");if(!l)return s.dataUrl;if("commercial"===t&&"unknown"!==e.type){const t=function(e,t){if("raster"===e.type){const s=document.createElement("canvas");return s.width=t,s.height=t,s.getContext("2d").drawImage(e.source,0,0,t,t),s.toDataURL()}const s=(new DOMParser).parseFromString(e.source,"image/svg+xml").querySelector("svg");return s.setAttribute("width",`${t}`),s.setAttribute("height",`${t}`),`data:image/svg+xml;base64,${(0,n.oF)(s.outerHTML)}`}(e,c);null===(r=l.getElementById("icon_image"))||void 0===r||r.setAttribute("href",t)}return o&&(null===(i=l.getElementById("marker_color_fill"))||void 0===i||i.setAttribute("fill",o),null===(a=l.getElementById("marker_color_fill2"))||void 0===a||a.setAttribute("fill",o),null===(d=l.getElementById("marker_color_stroke"))||void 0===d||d.setAttribute("stroke",o)),`data:image/svg+xml,${encodeURIComponent(l.outerHTML)}`},l.set(d,u)),u}},55712:(e,t,s)=>{"use strict";s.d(t,{l:()=>i,v:()=>a});const r=":";function i(e,t){return`${e}${r}${t}`}function a(e){const t=e.split(r);return{productId:t.slice(0,t.length-1).join(r),branchId:t[t.length-1]}}},56659:(e,t,s)=>{"use strict";function r(e,t,s){return Math.max(Math.min(e,s),t)}s.d(t,{uZ:()=>r})},81746:(e,t,s)=>{"use strict";s.d(t,{dN:()=>i});var r=s(64693);function i(e,t){const s=t({},{});return()=>function(e,t){return function(e,t){for(const s in e)e[s]&&e[s].mockName(`${t}.${s}`);return e}((0,r.Q8)(t,(()=>function(){const e=jest.fn();return e.mockImplementation((()=>{const t=e.getMockName();throw t?console.error(`\n        В тесте дергается метод ${t}, но его имплементация не замокана.\n\n        Такой тест нельзя сливать в мастер.\n      `):console.error("\n        В тесте дергается метод, но его имплементация не замокана.\n        Имя этого метода неизвестно, потому что автор забыл обернуть моки\n        в assignMethodNames — когда найдёшь этот метод, оберни его сам.\n\n        Такой тест нельзя сливать в мастер.\n    "),new Error(`There is no method "${t}" implementation`)})),e}())),e)}(e,s)}},6796:(e,t,s)=>{"use strict";s.d(t,{T:()=>r});const r=(0,s(2784).createContext)({})},69698:(e,t,s)=>{"use strict";s.d(t,{_:()=>n,tT:()=>o});var r=s(2784),i=s(6796);const a={isPending:!1},n={isPending:!0,data:void 0,error:void 0};function o(e){const t=(0,r.useContext)(i.T).dispatch,s=e?t(e):void 0,[n,o]=(0,r.useState)(s?s.getState():a);return(0,r.useEffect)((()=>{if(!s)return void o(a);let e=n.data;const t=()=>{const{isPending:t,data:r,error:i}=s.getState();t&&void 0===r?o({isPending:t,error:i,data:e}):(o({isPending:t,data:r,error:i}),e=r)},r=s.subscribe(t);return t(),()=>{r()}}),[s]),n}},72559:(e,t,s)=>{"use strict";function r(e,t=1){if(0===t||!isFinite(t))return e;const s=Math.round(e/t)*t;return parseFloat(s.toFixed(8))}s.d(t,{s:()=>r})},66010:(e,t,s)=>{"use strict";function r(e,t){return!!e&&e.hasOwnProperty(t)}s.d(t,{w:()=>r})},1184:(e,t,s)=>{"use strict";s.d(t,{uc:()=>r.u,ei:()=>n,s0:()=>i});s(64693);var r=s(48592);function i(e){return void 0!==Object.values?Object.values(e):a(e)}function a(e){const t=Array(Object.keys(e).length);let s=0;for(const r in e)e.hasOwnProperty(r)&&(t[s]=e[r],s+=1);return t}function n(e,t){const s={};for(const r of t)e.hasOwnProperty(r)&&(s[r]=e[r]);return s}},48592:(e,t,s)=>{"use strict";function r(e){return"object"!=typeof e?[]:Object.keys(e)}s.d(t,{u:()=>r})},53654:(e,t,s)=>{"use strict";function r(e,t,s){const r=[...Object.keys(e),...Object.keys(t)],i={};for(const a of r)i.hasOwnProperty(a)||(i[a]=s(e[a],t[a]));return i}s.d(t,{T:()=>r})},32655:(e,t,s)=>{"use strict";function r(e){const t={};let s=!1;for(const r in e){const i=e[r];void 0!==i?t[r]=i:s=!0}return s?t:e}s.d(t,{Y:()=>r})},44154:(e,t,s)=>{"use strict";s.d(t,{w:()=>i});const r=Object.prototype.hasOwnProperty,i=(e,t)=>{if(e===t)return!0;if("object"!=typeof e||null===e)return!1;if("object"!=typeof t||null===t)return!1;const s=Object.keys(e),i=Object.keys(t);if(s.length!==i.length)return!1;for(let i=0;i<s.length;i++){const o=s[i];if(!r.call(t,o)||(a=e[o],n=t[o],!(a===n?0!==a||0!==n||1/a==1/n:a!=a&&n!=n)))return!1}var a,n;return!0}},32599:(e,t,s)=>{"use strict";function r(e,t,s){const r=new IntersectionObserver(s,t);return r.observe(e),r}s.d(t,{A:()=>r})},66471:(e,t,s)=>{"use strict";s.d(t,{Y:()=>c,a:()=>d});const r=(e,t)=>{const s=[...e],r=t/100;if(s.sort(((e,t)=>e-t)),r<=0)return s[0];if(r>=1)return s[s.length-1];const i=Math.max(s.length*r-1,0),a=Math.ceil(i);return a===i?(s[i]+s[i+1])/2:s[a]};var i=s(41437);var a=s(50922),n=s(67753);const o=e=>{let t=0,s=0,o=[];const c=()=>{"undefined"!=typeof window&&(t=requestAnimationFrame((()=>{s||(s=Date.now());const e=Date.now();o.push(e-s),s=e,c()})))};return{startTracker:c,stopTracker:c=>{if(!o.length)return cancelAnimationFrame(t),void(s=0);const d=((e,t)=>({eventName:t,hardwareInfo:(0,i.T)(),url:window.location.href,percentile50Perf:r(e,50),percentile90Perf:r(e,90)}))(o,e);cancelAnimationFrame(t),s=0,o=[],c((0,n.vP)((0,a.nc)(["Map",`${e}_50percentile`,`${e}_50percentile`,d.percentile50Perf]),(0,a.nc)(["Map",`${e}_90percentile`,`${e}_90percentile`,d.percentile90Perf])))}}},c=o("map_move_after_search"),d=o("show_tooltip_after_markers_update")},86859:(e,t,s)=>{"use strict";s.d(t,{U:()=>i});var r=s(52923);const i=(e,t,s,i=3)=>{const a=e.length>i,n=e.map(((t,s)=>({id:t.id,url:1===e.length?(0,r.cA)(t)?t.preview_urls["640x"]:t.preview_urls["656x340"]:(0,r.cA)(t)?t.preview_urls["320x"]:t.preview_urls["176x176"],counter:a&&s===i-1?e.length:void 0})));return{photosForGallery:e.map((e=>{var i;return{id:e.id,url:(0,r.$O)(e)?e.url:null!==(i=e.preview_urls.url)&&void 0!==i?i:"",preview_urls:(0,r.cA)(e)?{"328x170":e.preview_urls["320x"],"88x88":e.preview_urls["320x"],"656x340":e.preview_urls["640x"],"176x176":e.preview_urls["320x"],"116x116":e.preview_urls["320x"],"232x232":e.preview_urls["320x"]}:{"328x170":e.preview_urls["328x170"],"88x88":e.preview_urls["88x88"],"656x340":e.preview_urls["656x340"],"176x176":e.preview_urls["176x176"],"116x116":e.preview_urls["116x116"],"232x232":e.preview_urls["232x232"]},status:"active",block_reason:"",is_visible:!0,copyright:{title:(null==t?void 0:t.first_name)?t.first_name:(0,r.$O)(e)?e.owner.name:"",code:s,icon:(null==t?void 0:t.image)?t.image:(0,r.$O)(e)?e.copyright.icon:""},modification_time:"date_created"in e?e.date_created:e.modification_time,creation_time:"date_created"in e?e.date_created:e.creation_time,is_main:!1}})),photos:n}}},42866:(e,t,s)=>{"use strict";s.d(t,{H:()=>c,r:()=>o});var r=s(6340),i=s(23822),a=s(82066),n=s(45827);function o(e,t,s){return{use:(r,i)=>{const[n,o,c]=d(e,r,t,s?Object.assign(Object.assign({},s),i):i);return(0,a.useQuery)(n,o,c)},prefetch:s=>{const r=t(s);return(0,n.pT)(l(r,e,s),u(r))},withQueryState:(s,r)=>{const i=t(s);return(0,n.i_)(l(i,e,s),r)},invalidate:s=>{const r=t(s);return(0,n.Dm)(l(r,e,s))},setQueryData:(s,r)=>{const i=t(s);return(0,n.bH)(l(i,e,s),r)}}}function c(e,t,s){return{use:(r,i)=>{const[n,o,c]=d(e,r,t,s?Object.assign(Object.assign({},s),i):i),l=(0,a.useInfiniteQuery)(n,o,c);return Object.assign(Object.assign({},l),{fetchNextPage:()=>l.fetchNextPage(),fetchPreviousPage:()=>l.fetchPreviousPage()})},prefetch:s=>{const r=t(s);return(0,n.pb)(l(r,e,s),u(r))},withQueryData:(s,r)=>{const i=t(s);return(0,n.zQ)(l(i,e,s),r)},invalidate:s=>{const r=t(s);return(0,n.Dm)(l(r,e,s))},setQueryData:(s,r)=>{const i=t(s);return(0,n.Ph)(l(i,e,s),r)}}}const d=(e,t,s,a)=>{const n=(0,r.Z)(),o=(0,i.S)();if(!t)return["void",()=>{throw 1},{enabled:!1}];const c=s(t),d=l(c,e,t),p=u(c);return[d,e=>p({config:n,services:o,context:e}),a]},l=(e,t,s)=>Array.isArray(e)&&e[0]?[t,e[0]]:[t,s],u=e=>"function"==typeof e?e:e[1]},45827:(e,t,s)=>{"use strict";s.d(t,{Dm:()=>n,Ph:()=>d,bH:()=>l,i_:()=>o,pT:()=>i,pb:()=>a,qg:()=>u,zQ:()=>c});var r=s(22970);const i=(e,t)=>({type:"query:prefetch",payload:(s,i)=>(0,r.mG)(void 0,void 0,void 0,(function*(){yield s.prefetchQuery(e,(e=>t(Object.assign(Object.assign({},i),{context:e}))))}))}),a=(e,t)=>({type:"query:prefetch",payload:(s,i)=>(0,r.mG)(void 0,void 0,void 0,(function*(){yield s.prefetchInfiniteQuery(e,(e=>t(Object.assign(Object.assign({},i),{context:e}))))}))}),n=e=>({type:"query:invalidate",payload:(t,s)=>(0,r.mG)(void 0,void 0,void 0,(function*(){yield t.invalidateQueries(e)}))}),o=(e,t)=>({type:"query:getQueryState",payload:s=>t(s.getQueryState(e))}),c=(e,t)=>({type:"query:getInfinityQueryData",payload:s=>t(s.getQueryData(e))}),d=(e,t)=>({type:"query:setInfinityQueryState",payload:s=>s.setQueryData(e,t)}),l=(e,t)=>({type:"query:setQueryState",payload:s=>s.setQueryData(e,t)}),u=(e,t)=>({dispatch:s})=>r=>i=>"query:getQueryState"===i.type||"query:getInfinityQueryData"===i.type?s(i.payload(e)):"query:prefetch"===i.type||"query:invalidate"===i.type?i.payload(e,t):"query:setQueryState"===i.type||"query:setInfinityQueryState"===i.type?i.payload(e):r(i)},60923:(e,t,s)=>{"use strict";s.d(t,{Rr:()=>c,d7:()=>o,hG:()=>d});var r=s(89644),i=s.n(r),a=s(72899),n=s(64693);class o{constructor(e){this.details=e}}function c(e){return e instanceof o&&((0,n.U2)(e,"details.response.status")||(0,n.U2)(e,"details.code"))||""}function d(e,t={GDPRAllowedServiceHosts:[]}){const s=function(e){if(a.sk||!e.analyticsBssEnableTestHandles)return;const t=window;return t.testHandles=t.testHandles||{},t.testHandles.XHRActive=[],t.testHandles}(e);return(r,a={})=>{const n=Object.assign(Object.assign(Object.assign({method:"get",withCredentials:!1,timeout:e.networkTimeout},a),t.headers&&{headers:Object.assign(Object.assign({},t.headers),a.headers)}),{url:l(r,{useHttps:t.useHttps,hostname:e.hostname}),httpAgent:t.httpAgent,httpsAgent:t.httpsAgent});e.enableProxy&&(n.proxy={host:e.proxyHost,port:e.proxyPort}),a.timeout&&(n.timeout=a.timeout),e.transformRequest&&(n.transformRequest=e.transformRequest),s&&s.XHRActive.push(r);return e.featureReadOnly&&!t.GDPRAllowedServiceHosts.some((e=>r.includes(e)))?Promise.reject({message:"GDPR blocked service",skipLog:!0}):i().request(n).then((e=>(u(r,s),e))).catch((e=>{throw u(r,s),new o(e)}))}}function l(e,t){const{hostname:s,useHttps:r}=t;let i=e;return a.sk&&"/"===e[0]&&"/"!==e[1]&&(i=`//${s}${i}`),a.sk&&i.startsWith("//")&&(i=`${r?"https":"http"}:${i}`),i}function u(e,t){t&&t.XHRActive.find(((s,r)=>(s===e&&t.XHRActive.splice(r,1),!1)))}},60786:(e,t,s)=>{"use strict";function r(e,t=!1,s=o){let r,i;const c=t?a:n;return(...t)=>(c(t,r,s)||(i=e(...t),r=t),i)}function i(e,t,s){return function(e,...t){return(s,i)=>{const a=e(i,...t);return r(((e,t,...r)=>{const i=s.map((s=>s(e,t,...r)));return a(...i)}))}}(r,!!s&&s.compareByFirstArgOnly)(e,t)}function a(e,t,s){return!!t&&s(e[0],t[0])}function n(e,t,s){return!(!t||t.length!==e.length)&&e.every(((e,r)=>s(e,t[r])))}function o(e,t){return e===t}s.d(t,{HP:()=>r,P1:()=>i})},42707:(e,t,s)=>{"use strict";s.d(t,{A0:()=>o,CO:()=>n,K2:()=>i,TM:()=>u,U4:()=>a,V7:()=>d,Vk:()=>p,hI:()=>c,oG:()=>l});var r=s(94958);const i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],a=["Sun","Sat"],n="HH:mm",o="h:mm a",c=r.yM,d="00:00",l=60,u=1440,p=60},58314:(e,t,s)=>{"use strict";s.d(t,{r_:()=>g,rZ:()=>i.rZ,$d:()=>m,DL:()=>i.DL,Nk:()=>h,lR:()=>p,yx:()=>d,y1:()=>l,Ci:()=>c,ku:()=>u});var r=s(42707),i=s(10722),a=s(23649),n=s(49228),o=s(64693);function c(e,t){return!d(e)&&!e[t.day]}function d(e){return e.is_24x7||!r.K2.find((t=>{const s=e[t];if(s){const e=s.working_hours[0];return!(e&&"00:00"===e.from&&"24:00"===e.to)}return!0}))}function l(e){const t=r.K2[0],s=e[t];return!d(e)&&(!!s&&(2!==s.working_hours.length&&r.K2.every((r=>{if(r===t)return!0;const i=e[r];return!!i&&(i.working_hours[0].from===s.working_hours[0].from&&i.working_hours[0].to===s.working_hours[0].to)}))))}function u(e){const t=(0,o.CE)(e,["comment","is_24x7"]),s=Object.keys(t).reduce(((t,s)=>e[s]?[...t,s]:t),[]),i=e[s[0]];return!(!i||s.length<7)&&r.K2.every((t=>{const s=e[t];return!!s&&function(e,t,s){if(e.length!==t.length)return!1;const r=[...t];return e.every((e=>{const t=r.findIndex((t=>s?s(e,t):e===t));return-1!==t&&(r.splice(t,1),!0)}))}(s.working_hours,i.working_hours,((e,t)=>e.from===t.from&&e.to===t.to))}))}function p(e,t){if(d(e))return{type:a.i8.aroundTheClock};const s=function(e,t){const s=[],a=r.K2.indexOf(t.day),o=s.concat(r.K2.slice(a),r.K2.slice(0,a+1)),c=(0,i.PE)(t.day,6),d=e[c],l=d?d.working_hours:[],u=(0,i.__)((0,i.NU)(l)),p=function(e,t){return t.map((t=>e[t])).map(((e,t)=>e?e.working_hours.map((e=>Object.assign(Object.assign({},e),{dayOffset:t}))):[])).reduce(((e,t)=>(null!=e?e:[]).concat(null!=t?t:[])))}(e,o),g=function(e,t,s){return e.reduce(((e,t)=>e.concat((0,i.__)(t))),(0,n.Z)(t)).filter((e=>e.dayOffset>0||e.time>s.time))}(p,u,t);return g.slice(0,2)}(e,t),o=s[0],c=s[1],l=(0,i.OK)(t.time,o.time,o.dayOffset);if(o.type===a.tw.close){if(l>=r.Vk)return{type:a.i8.opened};const e=c?(0,i.xm)(o,c):void 0;return l<=1?{type:void 0!==e?a.i8.willCloseInMinuteForBreak:a.i8.willCloseInMinute,breakType:e}:{type:void 0!==e?a.i8.willCloseInTimeForBreak:a.i8.willCloseInTime,breakType:e,minutesTo:l}}if(o.type===a.tw.open){const s=o.dayOffset,n=-1!==r.U4.indexOf(t.day);if(0===s){const s=m(e,t),n=(0,i.HG)(s,t.time),c=n&&(0,i.rZ)(n);return l>=r.Vk?{type:void 0!==c?a.i8.willOpenAtTimeFromBreak:a.i8.willOpenAtTime,breakType:c,time:o.time}:l<=1?{type:void 0!==c?a.i8.willOpenInMinuteFromBreak:a.i8.willOpenInMinute,breakType:c}:{type:void 0!==c?a.i8.willOpenInTimeFromBreak:a.i8.willOpenInTime,breakType:c,minutesTo:l}}return 1===s?{type:a.i8.willOpenTomorrowAtTime,time:o.time}:2!==s||n?{type:a.i8.willOpenAtDayAtTime,day:(0,i.PE)(t.day,o.dayOffset),time:o.time}:{type:a.i8.willOpenOvermorrowAtTime,day:(0,i.PE)(t.day,o.dayOffset),time:o.time}}}function g(e,t){const s=r.K2.indexOf(t.day);return r.K2.map(((t,r)=>{const a=e[t],n=a?a.working_hours:[],o=!n||!n.length,c=(0,i.DL)(n),d=(0,i.uR)(n),l=s===r;return{dayName:t,timeIntervals:c,breaks:d,breakTypes:d.map((e=>(0,i.rZ)(e))),closed:o,present:l}}))}function m(e,t){const s=e[t.day],r=s?s.working_hours:[];return(0,i.uR)(r)}function h(e){return{day:r.K2[e.getDay()],time:f(e)}}function f(e){return`${(0,i.jU)(e.getHours())}:${(0,i.jU)(e.getMinutes())}`}},23649:(e,t,s)=>{"use strict";var r,i,a;s.d(t,{CT:()=>i,i8:()=>r,tw:()=>a}),function(e){e[e.aroundTheClock=0]="aroundTheClock",e[e.opened=1]="opened",e[e.willCloseInMinuteForBreak=2]="willCloseInMinuteForBreak",e[e.willCloseInMinute=3]="willCloseInMinute",e[e.willCloseInTimeForBreak=4]="willCloseInTimeForBreak",e[e.willCloseInTime=5]="willCloseInTime",e[e.willOpenAtTime=6]="willOpenAtTime",e[e.willOpenAtDayAtTime=7]="willOpenAtDayAtTime",e[e.willOpenTomorrowAtTime=8]="willOpenTomorrowAtTime",e[e.willOpenOvermorrowAtTime=9]="willOpenOvermorrowAtTime",e[e.willOpenInMinute=10]="willOpenInMinute",e[e.willOpenInTime=11]="willOpenInTime",e[e.willOpenInMinuteFromBreak=12]="willOpenInMinuteFromBreak",e[e.willOpenInTimeFromBreak=13]="willOpenInTimeFromBreak",e[e.willOpenAtTimeFromBreak=14]="willOpenAtTimeFromBreak"}(r||(r={})),function(e){e[e.lunch=0]="lunch",e[e.rest=1]="rest"}(i||(i={})),function(e){e[e.open=0]="open",e[e.close=1]="close"}(a||(a={}))},10722:(e,t,s)=>{"use strict";s.d(t,{DL:()=>y,Eq:()=>x,HG:()=>o,NU:()=>u,OK:()=>g,PE:()=>l,Wl:()=>w,__:()=>p,jU:()=>b,rZ:()=>f,sx:()=>j,uR:()=>v,xm:()=>h});var r=s(23649),i=s(42707),a=s(98007),n=s(82228);function o(e=[],t){return e.find((e=>c(t,e)))}function c(e,t){const s=t.from,r=t.to>t.from?t.to:d(t.to);return e>=s&&e<r}function d(e){const t=e.split(":");return`${Number(t[0])+24}:${t[1]}`}function l(e,t){return i.K2[(i.K2.indexOf(e)+t)%7]}function u(e){const t=(0,a.Z)(e,(e=>e.from>e.to));if(t)return{from:i.V7,to:t.to}}function p(e){if(!e)return[];const t=e.to<e.from;return[{type:r.tw.open,time:e.from,dayOffset:e.dayOffset||0},{type:r.tw.close,time:e.to,dayOffset:(e.dayOffset||0)+Number(t)}]}function g(e,t,s){const r=m(e),a=m(t);return a.m-r.m+(a.h-r.h)*i.oG+s*i.TM}function m(e){const t=e.split(":");return{h:+t[0],m:+t[1]}}function h(e,t){if(e.dayOffset===t.dayOffset)return f({from:e.time,to:t.time})}function f(e){const t=e.to!==i.V7?e.to:d(e.to);return e.from>="12:00"&&t<="16:00"?r.CT.lunch:r.CT.rest}function v(e=[]){return e.reduce(((e,t)=>{const s=(0,n.Z)(e);return s&&(s.to=t.from),e.concat({from:t.to,to:""})}),[]).slice(0,-1)}function b(e){return e<10?`0${e}`:`${e}`}function y(e){return e.length?[e.reduce(((e,t)=>(e.from||(e.from=t.from),e.to=t.to,e)),{from:"",to:""})]:[]}function x(e,t,s,r=!0){const a=j(e,s?i.A0:i.CO),n=j(t,s?i.A0:i.CO);return s&&r?`${a} ${n}`:`${a}${i.hI}${n}`}function j(e,t){return t!==i.CO&&e?w(e):e}function w(e){const[t,s]=e.split(":").map((e=>Number(e))),r=t>=12&&t<24?"pm":"am";return`${t%12?b(t%12):12}:${s<10?b(s):s}&nbsp;${r}`}},67753:(e,t,s)=>{"use strict";s.d(t,{Dc:()=>h,Mf:()=>o,PQ:()=>u,Rh:()=>l,WC:()=>g,XJ:()=>p,Yz:()=>a,ZT:()=>m,ev:()=>i,gQ:()=>c,vP:()=>n,xJ:()=>d});var r=s(22970);const i={NAME:"__SIGNAL_NAME__"},a=e=>(...t)=>({type:"INTERNAL/ACTION_SEQUENCE",payload:t,[i.NAME]:e});function n(...e){return{type:"INTERNAL/ACTION_SEQUENCE",payload:e}}function o(...e){return{type:"INTERNAL/ACTION_PARALLEL",payload:e}}function c(e,t){return(...s)=>{return{type:"INTERNAL/SIGNAL",payload:r={name:e,params:1===s.length?s[0]:s,action:t(...s)},[i.NAME]:r.name};var r}}function d(e){return{type:"INTERNAL/ACTION_WITH_STATE",payload:e}}function l(e){return{type:"INTERNAL/ACTION_WITH_CONFIG",payload:e}}const u=e=>({type:"INTERNAL/DEFER",payload:{fn:e}});function p(e){return"undefined"!=typeof window?e:m()}function g(e){return d((t=>t.session.isSearchBot?m():e))}function m(e){return{type:"INTERNAL/NOOP",payload:e}}const h=e=>u((()=>(0,r.mG)(void 0,void 0,void 0,(function*(){return yield new Promise((t=>setTimeout(t,e)))}))))},29759:(e,t,s)=>{"use strict";s.d(t,{tO:()=>n});let r=i();function i(){return"undefined"!=typeof window?window:void 0}function a(e){return r&&function(e){try{if(e.setItem("testStorageItem","1"),"1"!==e.getItem("testStorageItem"))throw new Error;return e.removeItem("testStorageItem"),!0}catch(e){return!1}}(r[e])?r[e]:function(){const e={};return Object.defineProperty(e,"key",{value(e){return Object.keys(this)[e]}}),Object.defineProperty(e,"getItem",{value(e){return this[e]}}),Object.defineProperty(e,"setItem",{value(e,t){this[e]=t}}),Object.defineProperty(e,"removeItem",{value(e){delete this[e]}}),Object.defineProperty(e,"length",{get(){return Object.keys(this).length}}),Object.defineProperty(e,"clear",{value(){for(const e in this)this.hasOwnProperty(e)&&delete this[e]}}),Object.create(e)}()}const n={local:a("localStorage"),session:a("sessionStorage")}},86023:(e,t,s)=>{"use strict";s.d(t,{TI:()=>o,Ez:()=>p,tW:()=>c,M3:()=>l,NV:()=>r,oF:()=>i,Sf:()=>d,gs:()=>m,dL:()=>h,Y2:()=>g});const r=e=>decodeURIComponent(atob(e).split("").map((e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2))).join("")),i=e=>btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,((e,t)=>String.fromCharCode(parseInt("0x"+t,16)))));var a=s(97108),n=s.n(a);const o=e=>(n().str(e)>>>0).toString(16).padStart(8,"0").toUpperCase();function c(e){const{str:t,start:s=0,end:r=e.str.length,letterInTheEnd:i=!1}=e;if(!t)return t;const a=t.slice(s,r);return i?u(a):a}function d(e,t,s){const r=e.split(/<br\s*\/?>/);for(;r.length>0&&!r[r.length-1];)r.pop();const i=[];let a=0,n=!1;for(let e=0;e<r.length&&a<t;e++){const o=l(r[e]),c=o.replace(/&[-#0-9a-z]+;/gi," "),d=Math.ceil(c.length/s)||1;if(a+d>t){e===r.length-1&&(n=!0);const c=s*(t-a);let d=o.substring(0,c);if(/&[-#0-9a-z]*$/.test(d)){const e=o.substring(c).match(/^[-#0-9a-z]*;/);e&&(d+=e[0]||"")}i.push(d);break}i.push(o),a+=d}const o=r.length!==i.length;for(;i.length>0&&!i[i.length-1];)i.pop();return i.length?((o||n)&&(i[i.length-1]=u(i[i.length-1])+"…"),i.join("<br>")):""}function l(e){return e.replace(/<[^>]*>/g,"")}function u(e){return e.replace(/(&[-#0-9a-z]+;|[^0-9a-zа-яё])+$/i,"")}function p(e){return e.charAt(0).toUpperCase()+e.slice(1)}function g(e){return e.trim().split("\n").map((e=>e.trim())).join("\n").replace(/(\n\n\n+)/g,"\n\n\n").replace(/[^\S\n]+/g," ")}function m(e){const t=e.charAt(1);return(s=t).toUpperCase()!==s||function(e){return/^\s$/.test(e)}(t)||!t?function(e){return e.charAt(0).toLowerCase()+e.slice(1)}(e):e;var s}function h(e){return e.split("").reduce(((e,t)=>0|(e<<5)-e+t.charCodeAt(0)),0)+2147483647+1}},27665:(e,t,s)=>{"use strict";s.d(t,{iv:()=>n,mM:()=>i});var r=s(44884);const{StyleSheet:i,StyleSheetServer:a,css:n}=r.StyleSheet.extend([{selectorHandler:(e,t,s)=>-1===e.indexOf("&")?null:s(e.replace(/&/g,t))}])},19561:(e,t,s)=>{"use strict";s.d(t,{Qo:()=>i.O,Qv:()=>a,iv:()=>r.iv});var r=s(27665),i=s(80845);const a=r.mM.rehydrate},80845:(e,t,s)=>{"use strict";s.d(t,{O:()=>r,i:()=>i});const r=s(44985).default?s(44985).default:s(44985);function i(e,t){const s={};for(const i in e)e.hasOwnProperty(i)&&(s[i]=r(e[i],t||"ltr"));return s}},30445:(e,t,s)=>{"use strict";s.d(t,{Fg:()=>l,gh:()=>u,nH:()=>o});var r=s(52322),i=s(2784),a=s(85843),n=s(17151);const o=({children:e,theme:t})=>(0,r.jsx)(d.Provider,Object.assign({value:t},{children:(0,r.jsx)(c,Object.assign({rtl:t.rtl},{children:i.Children.only(e)}))})),c=({rtl:e,children:t})=>(0,r.jsx)("div",Object.assign({},a.dx.n("wat-theme"),a.dx.s(e?"rtl":"ltr"),{dir:e?"rtl":"ltr",style:{height:"100%"}},{children:t})),d=i.createContext(n.n.dgis_ltr_desktop),l=()=>i.useContext(d),u=e=>n.n[(0,n.A)("2gis"===e.brandCode?"dgis":"urbi",e.rtl?"rtl":"ltr",e.isMobileDevice?"mobile":"desktop")]},20094:(e,t,s)=>{"use strict";s.d(t,{j:()=>a});var r=s(10857),i=s(64693);function a(e,t){if(1===t)return e;const s=(0,r.o)(e);return s?function(e,[t,s,r]){return`rgba(${t}, ${s}, ${r}, ${(0,i.DB)(e,2)})`}(t,s):e}},64693:(e,t,s)=>{"use strict";s.d(t,{$K:()=>M,CE:()=>_,DB:()=>N,Ds:()=>f,Ed:()=>i,Ez:()=>u,G9:()=>T,Gg:()=>w,Kn:()=>C,P2:()=>h,Q8:()=>a,U2:()=>b,ZT:()=>l,_G:()=>m,_J:()=>g,by:()=>d,d4:()=>k,dL:()=>p,hj:()=>n,kl:()=>v,oA:()=>y,uK:()=>x,uv:()=>j,xH:()=>o,xb:()=>I});var r=s(22970);function i(e,t){for(const s in e)if(e.hasOwnProperty(s)){if(!1===t(e[s],s))break}}function a(e,t){const s={};for(const r in e)e.hasOwnProperty(r)&&(s[r]=t(e[r],r));return s}function n(e,t){const s=e.lastIndexOf(t);return s===e.length-1||-1===s?e[0]:e[s+1]}function o(e){const t=[];return e.forEach((e=>{Array.isArray(e)?t.push(...e):t.push(e)})),t}const c=s(15013);function d(){return c()}const l=()=>{};function u(e){return e.charAt(0).toUpperCase()+e.slice(1)}function p(e,t){if(!e)return"";const s=(e,s)=>t[s]||"";return e.replace(/\${(\w+)}/g,s).replace(/\$(\w+)/g,s)}const g=e=>e?e.split("_")[0]:"",m=e=>e.split("_")[1];function h(e,t){let s,r;return function(){r?s=()=>e.apply(this,arguments):(e.apply(this,arguments),r=setTimeout((()=>{r=void 0,s&&(s(),s=void 0)}),t))}}function f(e,t){let s;return function(){s&&clearTimeout(s),s=setTimeout((()=>{s=void 0,e.apply(this,arguments)}),t)}}function v(e,t){let s;return(...r)=>(s&&clearTimeout(s),new Promise((i=>{const a=new Promise((e=>{s=setTimeout(e,t)}));a.then((()=>{i(e(...r))}))})))}function b(e,t,s){if(!e)return s;return t.split(".").reduce(((e,t)=>C(e)?e[t]:Array.isArray(e)?e[+t]:void 0),e)||s}function y(e){return e.filter((e=>!!e))}function x(e,t){const s=[],r=[];for(let i=0;i<e.length;i++){const a=e[i];t(a,i)?s.push(a):r.push(a)}return[s,r]}function j(e){for(const t in e)void 0===e[t]||null===e[t]?delete e[t]:"object"==typeof e[t]&&j(e[t]);return e}function w(e){return!!e}function _(e,t){return t.reduce(((e,t)=>{const s=e,i=t;s[i];return(0,r._T)(s,["symbol"==typeof i?i:i+""])}),e)}function C(e){return null!==e&&"object"==typeof e&&!1===Array.isArray(e)}function I(e){return!e||0===Object.keys(e).length}function k(e){const t=e.split("."),s=e.split(":");return s.length>1?function(e){let t=e.join(":");8===e.length&&0===t.indexOf("0000:0000:0000:0000:0000:ffff:")&&(t=`::ffff:${t.substr(30)}`);if(0===t.indexOf("::ffff:")){const s=t.substr(7),r=s.split(".");if(4===r.length)return O(r);const i=s.split(":");if(2!==i.length)return S(e);return O(i.reduce(((e,t)=>{let s=t.split("");switch(s.length){case 3:s.unshift("0");break;case 2:s=["0",s[0],"0",s[1]];break;case 1:s.unshift("0","0","0")}return e.push(parseInt(`${s[0]}${s[1]}`,16).toString()),e.push(parseInt(`${s[2]}${s[3]}`,16).toString()),e}),[]))}if(e.length<2)return e.join(":");return S(e)}(s):4===t.length?O(t):e}function O(e){return e[3]="0",e.join(".")}function S(e){const t=`${e[0]}:${e[1]}::`;return":::"===t?"::":t}function N(e,t=6){return parseFloat(e.toFixed(t))}function M(e){return null!=e}function T(e,t,s=6){return Math.abs(e-t)<Math.pow(10,-s)}},69422:(e,t,s)=>{"use strict";s.d(t,{ze:()=>a,wX:()=>n.w});const r={sizeLimit:void 0,photoCount:void 0,maxDailyPhotoCount:void 0,maxVerticalRatio:void 0,maxHorizontalRatio:void 0,maxHeight:void 0,maxWidth:void 0,minWidth:void 0,minHeight:void 0,approvedMIMERegExpr:void 0},i={productFeedback:Object.assign(Object.assign({},r),{sizeLimit:10485760,photoCount:10,approvedMIMERegExpr:/image\/(png|gif|bmp|jp(e?)g)/}),userAvatar:Object.assign(Object.assign({},r),{sizeLimit:10485760,photoCount:1,maxVerticalRatio:5,maxHorizontalRatio:5,maxHeight:7e3,maxWidth:7e3,minWidth:170,minHeight:170,approvedMIMERegExpr:/image\/(png|webp|jp(e?)g)/}),entityPhoto:Object.assign(Object.assign({},r),{sizeLimit:10485760,photoCount:9,maxDailyPhotoCount:20,maxVerticalRatio:5,maxHorizontalRatio:5,maxHeight:7e3,maxWidth:7e3,minWidth:600,minHeight:600,approvedMIMERegExpr:/image\/(png|webp|jp(e?)g)/}),reviewPhoto:Object.assign(Object.assign({},r),{sizeLimit:10485760,photoCount:10,maxVerticalRatio:5,maxHorizontalRatio:5,maxHeight:7e3,maxWidth:7e3,minWidth:600,minHeight:600,approvedMIMERegExpr:/image\/(png|jp(e?)g)/}),typedFeedback:Object.assign(Object.assign({},r),{sizeLimit:10485760,photoCount:10,maxVerticalRatio:5,maxHorizontalRatio:5,approvedMIMERegExpr:/image\/(png|jp(e?)g)/})};function a(e){return i[e]}var n=s(19515)},19515:(e,t,s)=>{"use strict";s.d(t,{w:()=>i});var r=s(77878);function i(e,t){return new Promise(((s,i)=>{const a=function(e,t){const s=e.name.slice(2+(e.name.lastIndexOf(".")-1>>>0));if(s&&["heic","heif"].indexOf(s)>-1)return"failFormatHEIF";if(e.size>t.sizeLimit)return"failSize";if(!e.type.match(t.approvedMIMERegExpr))return"failFormat";return}(e,t);if(a)return i(a),void(0,r.H)({message:"Ошибка валидации при загрузке файла изображения",level:"info",id:"ffv510",payload:{type:"debug",subtype:"filevalidation",data:JSON.stringify({error:a,fileType:e.type,fileName:e.name,fileSize:e.size})}});const n=new FileReader;n.onload=()=>{if(!n.result)return void i("failRead");const e=new Image;e.onload=()=>{const a=function(e,t){if(t.minWidth&&e.width<t.minWidth)return"smallWidth";if(t.minHeight&&e.height<t.minHeight)return"smallHeight";if(t.maxWidth&&e.width>t.maxWidth)return"largeWidth";if(t.maxHeight&&e.height>t.maxHeight)return"largeHeight";if(t.maxHorizontalRatio&&e.width/e.height>t.maxHorizontalRatio)return"wide";if(t.maxVerticalRatio&&e.height/e.width>t.maxVerticalRatio)return"narrow";return}(e,t);if(a)return i(a),void(0,r.H)({message:"Ошибка валидации при загрузке файла изображения",level:"info",id:"dff144",payload:{type:"debug",subtype:"filevalidation",data:a}});s(e)},e.onerror=()=>{i("failRead")},e.src=n.result.toString()},n.onerror=()=>{i("failRead")},n.readAsDataURL(e)}))}},34897:(e,t,s)=>{"use strict";s.d(t,{_:()=>i,v:()=>a});var r=s(86649);const i=["sbol-review"],a={args:[{key:"subtype",isRequired:!1,formatCheck:e=>(0,r.k)(i,e)}],type:"error",name:"error",isQuery:!1}},99600:(e,t,s)=>{"use strict";s.d(t,{v:()=>i});var r=s(64693);function i(e){const[t,s]=e.split(","),i=function(e){const t=parseFloat(e);if(!Number.isNaN(t))return t>180?180:t<-180?-180:(0,r.DB)(t)}(t),a=function(e){const t=parseFloat(e);if(!Number.isNaN(t))return t>90?90:t<-90?-90:(0,r.DB)(t)}(s);if(void 0!==i&&void 0!==a&&!Number.isNaN(i)&&!Number.isNaN(a))return{lon:i,lat:a}}},45485:(e,t,s)=>{"use strict";s.d(t,{S:()=>i});var r=s(64693);function i(e){return`${(0,r.DB)(e.lon)},${(0,r.DB)(e.lat)}`}},47818:(e,t,s)=>{"use strict";s.d(t,{M:()=>W,Q:()=>q});const r={args:[{key:"id",isRequired:!0,formatCheck:/^\d+$/}],type:"region",compile:({code:e})=>e?[e]:void 0,name:"region",isQuery:!1};var i=s(64693),a=s(89636);function n(e){const t=[];return(0,i.Ed)(e,((e,s)=>{!e||"sort"===s&&"distance"===e||t.push("true"===e?s:`${s}${a.AN}${e}`)})),t.join(`${a.kp}`)}function o(e){const t={};if(!e)return t;return e.split(a.kp).forEach((e=>{const[s,r="true"]=e.split(a.AN);s&&r&&(t[s]=function(e){return/^\d+-\d+$/.test(e)?e.replace("-",a.ER):e}(r))})),t}const c={args:[{key:"query",isRequired:!0,formatCheck:/^.+$/},{key:"activeTab",name:"tab",isRequired:!1,formatCheck:/^(catalog)$/},{key:"rubricId",name:"rubricId",isRequired:!1,formatCheck:/^(\d+,)*(\d+)$/},{key:"attributeId",name:"attributeId",isRequired:!1,formatCheck:/^\d+$/},{key:"filters",name:"filters",isRequired:!1,formatCheck:/^[a-zA-Z].+$/,serialize:e=>e&&n(e),deserialize:o},{key:"page",name:"page",isRequired:!1,formatCheck:/^\d+$/,serialize:e=>e?Math.round(e).toString():"",deserialize:e=>parseInt(e,10)}],type:"search",name:"search",isQuery:!1};var d=s(62455);const l={args:[{key:"tab",name:"tab",isRequired:!1,formatCheck:/^.+$/},{key:"points",name:"points",isRequired:!1,formatCheck:/^.+$/,serialize:e=>e&&(0,d.fm)(e),deserialize:d.ZW},{key:"filters",name:"filters",isRequired:!1,formatCheck:/^[a-zA-Z].+$/,serialize:e=>e&&n(e),deserialize:o}],type:"directions",name:"directions",isQuery:!1};var u=s(45485),p=s(99600);const g={args:[{key:"entityId",isRequired:!1,formatCheck:/^[1-9]\d*$/},{key:"entityWithPoint",isRequired:!1,formatCheck:/^[1-9]\d*,(-?\d+(\.\d+)?,-?\d+(\.\d+)?)(\/|$)/,deserialize:e=>{const[t,s,r]=e.split(",");return{id:t,point:(0,p.v)(`${s},${r}`)}}},{key:"point",isRequired:!1,formatCheck:/^-?[.\d]+,-?[.\d]+$/,serialize:e=>e&&(0,u.S)(e),deserialize:p.v},{key:"tab",name:"tab",isRequired:!1,formatCheck:/^[a-z]+$/},{key:"query",name:"query",isRequired:!1,formatCheck:/^.+$/},{key:"filters",name:"filters",isRequired:!1,formatCheck:/^[a-zA-Z].+$/,serialize:e=>e&&n(e),deserialize:o},{key:"page",name:"page",isRequired:!1,formatCheck:/^\d+$/,serialize:e=>e?Math.round(e).toString():"",deserialize:e=>parseInt(e,10)},{key:"entranceId",name:"entranceId",isRequired:!1,formatCheck:/^\d+$/}],validate:e=>!!(e.entityId||e.entityWithPoint||e.point),type:"firm",name:"firm",isQuery:!1},m={args:[{key:"query",name:"query",isRequired:!1,formatCheck:/^.+$/},{key:"filters",name:"filters",isRequired:!1,formatCheck:/^[a-zA-Z].+$/,serialize:e=>e&&n(e),deserialize:o},{key:"page",name:"page",isRequired:!1,formatCheck:/^\d+$/,serialize:e=>e?Math.round(e).toString():"",deserialize:e=>parseInt(e,10)}],type:"offers",name:"offers",isQuery:!1},h={args:[{key:"buildingId",isRequired:!0,formatCheck:/^\d+$/},{key:"query",name:"query",isRequired:!1,formatCheck:/^.+$/},{key:"filters",name:"filters",isRequired:!1,formatCheck:/^[a-zA-Z].+$/,serialize:e=>e&&n(e),deserialize:o}],type:"inside",name:"inside",isQuery:!1},f=Object.assign(Object.assign({},g),{type:"geo",name:"geo"}),v=Object.assign(Object.assign({},g),{type:"route",name:"route"}),b=Object.assign(Object.assign({},g),{type:"platform",name:"platform"}),y=Object.assign(Object.assign({},g),{type:"station",name:"station"}),x=Object.assign(Object.assign({},g),{type:"stationEntrance",name:"stationEntrance"}),j={args:[{key:"productId",isRequired:!0,formatCheck:/^\S+$/},{key:"filters",name:"filters",isRequired:!1,formatCheck:/^[a-zA-Z].+$/,serialize:e=>e&&n(e),deserialize:o}],type:"product",name:"product",isQuery:!1};function w(e){return e?(Math.round(100*e)/100).toString():""}const _={args:[{key:"center",isRequired:!1,serialize:e=>void 0!==e?(0,u.S)(e):"",deserialize:e=>(0,p.v)(e),formatCheck:/^-?[.\d]+,-?[.\d]+$/},{key:"zoom",isRequired:!1,formatCheck:/^\d{1,2}(?:\.\d{1,2})?$/,serialize:w,deserialize:e=>parseFloat(e)},{key:"pitch",name:"p",isRequired:!1,formatCheck:/^\d{1,2}(?:\.\d{1,2})?$/,serialize:w,deserialize:e=>e?parseFloat(e):0},{key:"rotation",name:"r",isRequired:!1,formatCheck:/^-?\d{1,3}(?:\.\d{1,2})?$/,serialize:w,deserialize:e=>e?parseFloat(e):0}],type:"mapview",name:"m",isQuery:!0},C={args:[{key:"value",formatCheck:/^\d+$/,serialize:e=>void 0===e?"0":String(e),deserialize:e=>{const t=parseInt(e,10);return Number.isNaN(t)?0:t},isRequired:!1}],isQuery:!0,type:"floor",name:"floor"},I=["source","medium","term","content","campaign"].map((e=>({args:[{key:"value",isRequired:!0}],type:e,name:`utm_${e}`,isQuery:!0}))),k={args:[{key:"orgId",isRequired:!0,formatCheck:/^\d+$/},{key:"filters",name:"filters",isRequired:!1,formatCheck:/^[a-zA-Z].+$/,serialize:e=>e&&n(e),deserialize:o}],type:"branches",name:"branches",isQuery:!1},O={args:[{key:"rubricId",isRequired:!0,formatCheck:/^\d+$/},{key:"filters",name:"filters",isRequired:!1,formatCheck:/^[a-zA-Z].+$/,serialize:e=>e&&n(e),deserialize:o},{key:"page",name:"page",isRequired:!1,formatCheck:/^\d+$/,serialize:e=>e?Math.round(e).toString():"",deserialize:e=>parseInt(e,10)}],type:"rubric",name:"rubric",isQuery:!1};function S(e){return e.map((e=>(0,i.DB)(e))).join(",")}function N(e){const t=(0,p.v)(e);return t?[t.lon,t.lat]:void 0}const M={args:[{key:"points",isRequired:!1,formatCheck:/^.+$/,serialize:e=>e&&e.map(S).join("|"),deserialize:e=>(0,i.oA)(e.split("|").map(N))}],type:"ruler",name:"ruler",isQuery:!0};function T(e){const t=e.split("|"),s=(0,p.v)(t[0]);if(s)return{type:"point",lonLat:s,entityId:t[2]}}const P=[{args:[{key:"rsType",name:"rsType",isRequired:!1},{key:"from",name:"from",isRequired:!1,formatCheck:/^.+$/,deserialize:T},{key:"to",name:"to",isRequired:!1,formatCheck:/^.+$/,deserialize:T}],type:"online4RouteSearch",name:"routeSearch",isQuery:!1},{args:[{key:"point",isRequired:!0,deserialize:T}],type:"online4From",name:"from",isQuery:!1},{args:[{key:"point",isRequired:!0,deserialize:T}],type:"online4To",name:"to",isQuery:!1},{args:[{key:"value",isRequired:!0}],type:"online4RsType",name:"rsType",isQuery:!1},{args:[],type:"online4Collections",name:"collections",isQuery:!1},{args:[{key:"entityId",isRequired:!0,formatCheck:/^\d+$/},{key:"innerFirmId",name:"firm",isRequired:!1,formatCheck:/^\d+$/}],type:"online4Floors",name:"floors",isQuery:!1},{args:[{key:"stopId",isRequired:!0}],type:"online4Stop",name:"stop",isQuery:!1},{args:[{key:"entityId",isRequired:!0,formatCheck:/^\d+$/}],type:"online4Reviews",name:"reviews",isQuery:!1},{args:[{key:"tab",isRequired:!0,deserialize:e=>{switch(e){case"discount":return"discounts";case"reviews":return"reviews";case"photos":return"photos";default:return"contacts"}}}],type:"online4MediaTab",name:"mediaTab",isQuery:!1},{args:[{key:"entityId",isRequired:!0}],type:"online4Discounts",name:"discounts",isQuery:!1},{args:[{key:"entityId",isRequired:!0},{key:"tab",name:"group",isRequired:!1,deserialize:e=>"internet"===e?"providers":"services"}],type:"online4Service",name:"service",isQuery:!1},{args:[{key:"entityId",isRequired:!0}],type:"online4Inside",name:"inside",isQuery:!1},{args:[],type:"online4Feedback",name:"feedback",isQuery:!1},{args:[],type:"online4AddOrg",name:"addOrg",isQuery:!1},{args:[{key:"entityId",isRequired:!0}],type:"online4Article",name:"article",isQuery:!1},{args:[{key:"id",isRequired:!0,formatCheck:/^\d+$/}],type:"online4City",name:"city",isQuery:!1},{args:[{key:"id",isRequired:!0,formatCheck:/^(geo-|firms-)\d+$/,deserialize:e=>e.replace(/(geo-|firms-)/g,"")}],type:"online4Callout",name:"callout",isQuery:!1},{args:[{key:"lang",isRequired:!0}],type:"online4Lang",name:"lang",isQuery:!1},{args:[{key:"center",isRequired:!0,deserialize:e=>(0,p.v)(e),formatCheck:/^-?[.\d]+[,╎]-?[.\d]+$/}],type:"online4Center",name:"center",isQuery:!1},{args:[{key:"zoom",isRequired:!0,formatCheck:/^\d{1,2}(?:\.\d{1,2})?$/,deserialize:e=>parseFloat(e)}],type:"online4Zoom",name:"zoom",isQuery:!1}],E={args:[{key:"adsIds",isRequired:!0,formatCheck:/^\d+(,\d+)*$/},{key:"page",name:"page",isRequired:!1,formatCheck:/^\d+$/,serialize:e=>e?Math.round(e).toString():"",deserialize:e=>parseInt(e,10)},{key:"filters",name:"filters",isRequired:!1,formatCheck:/^[a-zA-Z].+$/,serialize:e=>e&&n(e),deserialize:o}],type:"buyHere",name:"buyHere",isQuery:!1},L={args:[{key:"adsIds",isRequired:!0,formatCheck:/^\d+(,\d+)*$/},{key:"page",name:"page",isRequired:!1,formatCheck:/^\d+$/,serialize:e=>e?Math.round(e).toString():"",deserialize:e=>parseInt(e,10)},{key:"filters",name:"filters",isRequired:!1,formatCheck:/^[a-zA-Z].+$/,serialize:e=>e&&n(e),deserialize:o}],type:"fmcg",name:"fmcg",isQuery:!1},R={args:[{key:"calc",name:"calc",isRequired:!1,formatCheck:/^[a-zA-Z].+$/,serialize:e=>e?Object.entries(e).filter((e=>!!e[1])).map((e=>`${e[0]}=${e[1]}`)).join(";"):"",deserialize:e=>{if(!e)return;const t=e.split(";").map((e=>e.split("="))).reduce(((e,[t,s])=>Object.assign(Object.assign({},e),{[t]:s})),{}),s=(null==t?void 0:t.volume)?parseInt(t.volume,10):void 0;return{action:(null==t?void 0:t.action)?t.action:void 0,currencyCode:null==t?void 0:t.currencyCode,volume:s&&s>0?s:void 0}}},{key:"filters",name:"filters",isRequired:!1,formatCheck:/^[a-zA-Z].+$/,serialize:e=>e&&n(e),deserialize:o},{key:"page",name:"page",isRequired:!1,formatCheck:/^\d+$/,serialize:e=>e?Math.round(e).toString():"",deserialize:e=>parseInt(e,10)}],isQuery:!1,type:"exchange",name:"exchange"},z={args:[{key:"category",isRequired:!1,formatCheck:/^(sale|rent|daily|saleCommercial|rentCommercial)$/},{key:"at",name:"at",isRequired:!1,formatCheck:/^\d+$/},{key:"filters",name:"filters",isRequired:!1,formatCheck:/^[a-zA-Z].+$/,serialize:e=>e&&n(e),deserialize:o}],isQuery:!1,type:"realty",name:"realty"};var A=s(34897);const F={args:[{key:"value",formatCheck:/^[1-5]$/,deserialize:Number,isRequired:!1}],isQuery:!0,type:"reviewRating",name:"rating"},B={args:[{key:"value",isRequired:!0,serialize:e=>void 0!==e?(0,u.S)(e):"",deserialize:e=>(0,p.v)(e),formatCheck:/^-?[.\d]+,-?[.\d]+$/}],isQuery:!0,type:"previousMapView",name:"pmv"},Z={slugs:[r,{args:[],type:"rubrics",name:"rubrics",isQuery:!1},{args:[{key:"parentId",isRequired:!0,formatCheck:/^\d+$/}],type:"subrubrics",name:"subrubrics",isQuery:!1},c,O,{args:[{key:"stub",isRequired:!0,formatCheck:/^metro$/}],type:"metroScheme",name:"directions",isQuery:!1},l,{args:[{key:"branchId",isRequired:!0,formatCheck:/^\d+$/},{key:"categoryId",name:"categoryId",isRequired:!1,formatCheck:/^\d+$/}],type:"prices",name:"prices",isQuery:!1},{args:[{key:"profileTab",isRequired:!0,formatCheck:/^[a-zA-Z].+$/}],type:"my",name:"my",isQuery:!1},{args:[{key:"userId",isRequired:!0,formatCheck:/^[a-zA-Z0-9].+$/}],type:"user",name:"user",isQuery:!1},{args:[{key:"page",isRequired:!0,formatCheck:/^(invite|tab)$/},{key:"userId",isRequired:!1,formatCheck:/^[a-zA-Z0-9].+$/}],type:"mapfriends",name:"mapfriends",isQuery:!1},{args:[],type:"friendsList",name:"friendsList",isQuery:!1},{args:[{key:"entityId",isRequired:!0,formatCheck:/^\d+$/}],type:"friends",name:"friends",isQuery:!1},{args:[{key:"group",isRequired:!1,formatCheck:/^[a-zA-Z].+$/}],type:"achievements",name:"achievementsGroup",isQuery:!1},m,{args:[{key:"productId",isRequired:!0,formatCheck:/^\S+$/}],type:"offer",name:"offer",isQuery:!1},g,h,f,v,b,y,x,j,{args:[{key:"entityType",isRequired:!0,formatCheck:/^\w+$/},{key:"entityId",isRequired:!0,formatCheck:/^\d+$/},{key:"photoId",name:"photoId",isRequired:!1}],type:"gallery",name:"gallery",isQuery:!1},k,C,{args:[{key:"OLD_ONLINE_4_PUBLIC_FAVORITE_ID",isRequired:!1}],type:"favorites",name:"favorites",isQuery:!1},{args:[],type:"interesting",name:"interesting",isQuery:!1},{args:[],type:"guidebook",name:"guidebook",isQuery:!1},{args:[{key:"collectionId",isRequired:!0}],type:"collection",name:"collection",isQuery:!1},{args:[{key:"collectionId",isRequired:!0}],type:"private",name:"private",isQuery:!1},_,{args:[{key:"lang",isRequired:!0}],isQuery:!1,compile:e=>[e.lang],type:"lang",name:""},{args:[],type:"addreview",name:"addreview",isQuery:!1},{args:[{key:"source",name:"source",isRequired:!1}],type:"writeReview",name:"writeReview",isQuery:!0},{args:[{key:"value",isRequired:!0}],type:"stat",name:"stat",isQuery:!0},M,{args:[{key:"value",formatCheck:/^[a-zA-Z0-9].+$/,isRequired:!0}],isQuery:!0,type:"layer",name:"layer"},{args:[{key:"value",formatCheck:/^[a-zA-Z0-9].+$/,isRequired:!0}],isQuery:!0,type:"sublayer",name:"sublayer"},{args:[],type:"feedback",name:"feedback",isQuery:!0},{args:[],type:"addOrg",name:"addOrg",isQuery:!0},{args:[],type:"traffic",name:"traffic",isQuery:!0},{args:[{key:"status",isRequired:!0,formatCheck:/^[a-zA-Z].+$/}],type:"auth",name:"auth",isQuery:!1},{args:[],type:"award2019",name:"award2019",isQuery:!1},E,L,R,z,{args:[{key:"id",isRequired:!0},{key:"tab",name:"tab",isRequired:!1}],isQuery:!1,type:"realtyAd",name:"ad"},{args:[{key:"profileTab",isRequired:!1,formatCheck:/^[a-zA-Z].+$/}],type:"profile",name:"profile",isQuery:!1},A.v,{args:[],type:"new_year_promo",name:"new_year_promo",isQuery:!1},{args:[{key:"intensity",isRequired:!1}],type:"snow",name:"snow",isQuery:!1},{args:[{key:"storyId",isRequired:!0,formatCheck:/^[a-zA-Z0-9].+$/}],type:"story",name:"story",isQuery:!1},{args:[],type:"preferences",name:"preferences",isQuery:!1},{args:[{key:"storyId",isRequired:!0,formatCheck:/^[a-zA-Z0-9].+$/}],type:"firmStory",name:"firmStory",isQuery:!1},{args:[{key:"storyId",isRequired:!0,formatCheck:/^[a-zA-Z0-9].+$/}],type:"fmcgStory",name:"fmcgStory",isQuery:!1},F,{args:[{key:"storyId",isRequired:!0,formatCheck:/^[a-zA-Z0-9].+$/}],type:"discoveryStory",name:"discoveryStory",isQuery:!1},B,{args:[{key:"sessionId",isRequired:!0,formatCheck:/^[a-zA-Z0-9].+$/}],type:"geolocation",name:"geolocation",isQuery:!1},{args:[{key:"state",isRequired:!0}],type:"immersive",name:"immersive",isQuery:!0},{args:[],type:"immersivePromo",name:"immersive-promo",isQuery:!1},...I,...P]};var U=s(10232);const H=["ru","en","es","cs","ar","az","uz"];function D(e,t,s){const r={};if(e.args.every((e=>{let i=t.shift();if(!i)return!1;if(e.name&&e.name!==i)return t.unshift(i),!0;const a=s.slugs.some((e=>e.name===i));return!e.isRequired&&a?(t.unshift(i),!1):!(e.name&&e.name===i&&(i=t.shift(),!i))&&(function(e,t){const s=e.formatCheck;return!s||(s instanceof RegExp?!!t.match(s):s(t))}(e,i)?(r[e.key]=function(e,t){return e.deserialize?e.deserialize(t):t}(e,i),!0):(t.unshift(i),!e.isRequired))})),e.validate&&!e.validate(r))return;return e.args.every((e=>!e.isRequired||!!r[e.key]))?r:void 0}function $(e,t){const s={},r=[...e],i=[],a=[];let n=-1;for(;r.length;){const e=r.shift();if(n+=1,!e)continue;let o,c;for(const s of t.slugs){if(s.name!==e||s.isQuery)continue;o=s;const i=r.length;c=D(o,r,t);const a=r.length;if(c){n+=i-a;break}}o?c?s[o.type]=Object.assign({type:o.type},c):(a.push({name:e,value:[],position:n,isQuery:!1}),r.shift()):i.push({name:e,value:[],position:n,isQuery:!1})}return{payload:s,unknown:i,invalid:a}}function V(e,t){const s={},r=[],i=[];for(;e.length;){const a=e.shift();if(!a)continue;const[n,o]=a,c=t.slugs.find((e=>e.name===n&&e.isQuery));if(!c){r.push({name:n,value:o,isQuery:!0});continue}const d=D(c,o,t);d?s[c.type]=Object.assign({type:c.type},d):i.push({name:n,value:o,isQuery:!0})}return{payload:s,unknown:r,invalid:i}}function q(e,t=Z){const{path:s,query:r}=(0,U.Qc)(e),i=$(s,t),a=V(r,t);return function(e){const t=Object.assign({},e.payload),s=[...e.unknown];s[0]&&s[0].name&&0===s[0].position&&H.includes(s[0].name)&&(t.lang={type:"lang",lang:s[0].name},s.shift());s[0]&&s[0].name&&(0===s[0].position||1===s[0].position)&&(t.region={type:"region",code:s[0].name},s.shift());return Object.assign(Object.assign({},e),{payload:t,unknown:s})}({payload:Object.assign(Object.assign({},i.payload),a.payload),unknown:[...i.unknown,...a.unknown],invalid:[...i.invalid,...a.invalid]})}function G(e,t){return(0,i.oA)(t.reduce(((t,{key:s,name:r,serialize:i})=>{const a=i?i(e[s]):e[s];return a?r?[...t,r,a]:[...t,a]:t}),[]))}function W(e,t=Z){return(0,U.MY)((s=e,r=t.slugs,s.reduce(((e,t)=>{const s=r.find((e=>e.type===t.type));if(!s)return e;const i=s.compile&&s.compile(t),a=i&&i.length>0?i:[s.name,...G(t,s.args)];if(s.isQuery){const[t,...s]=a;return Object.assign(Object.assign({},e),{query:[...e.query,[t,s]]})}return Object.assign(Object.assign({},e),{path:[...e.path,...a]})}),{path:[],query:[]})));var s,r}},10232:(e,t,s)=>{"use strict";s.d(t,{MY:()=>c,Qc:()=>a,NL:()=>d});var r=s(64693);const i=e=>{try{return decodeURIComponent(e)}catch(e){return""}},a=e=>{const[t,s=""]=e.split("?");return{path:n(t),query:o(s.split("#")[0])}};function n(e){return"/"===e?[]:(0,r.oA)(e.split("/")).map(i)}function o(e){if(""===e)return[];const t=e.split("&");return(0,r.oA)(t.map((e=>{if(!e)return;const[t,s]=e.split("=");if(!t)return;if(!s)return[t,[]];return[t,(0,r.oA)(i(s).split("/"))]})))}const c=e=>{const t=function(e){return"/"+d(...e.map((e=>encodeURIComponent(e))))}(e.path),s=function(e){return(0,r.oA)(e.map((([e,t])=>{if(""===e)return;const s=encodeURIComponent((0,r.oA)(t).join("/"));return""===s?e:`${e}=${s}`}))).join("&")}(e.query);return s?`${t}?${s}`:t};function d(...e){return e.slice(1).reduce(((e,t)=>t?(e.endsWith("/")||""===e?e+=t.startsWith("/")?t.slice(1):t:e+=t.startsWith("/")?t:"/"+t,e):e),e[0]||"")}},14707:(e,t,s)=>{"use strict";s.d(t,{V:()=>i});var r=s(2784);const i=e=>{const t=(e=>{const[,t]=(0,r.useReducer)((e=>e+1),0),s=(0,r.useRef)(null),{replace:i,append:a}=e,n=i?i(e.format(e.value)):e.format(e.value),o=(0,r.useRef)(!1);return(0,r.useLayoutEffect)((()=>{if(null==s.current)return;const[,r,o,c,d]=s.current;let l=s.current[0];s.current=null;const u=c&&d,p="number"==typeof r.selectionStart?r.selectionStart:void 0,g=l.slice(p).search(e.accept||/\d/g),m=-1!==g?g:0,h=t=>(t.match(e.accept||/\d/g)||[]).join(""),f=h(l.substr(0,p)),v=e=>{let t=0,s=0;for(let r=0;r!==f.length;++r){let i=e.indexOf(f[r],t)+1,a=h(e).indexOf(f[r],s)+1;a-s>1&&(i=t,a=s),s=Math.max(a,s),t=Math.max(t,i)}return t};if(!0===e.mask&&o&&!d){let e=v(l);const t=h(l.substr(e))[0];e=l.indexOf(t,e),l=`${l.substr(0,e)}${l.substr(e+1)}`}let b=e.format(l);null==a||r.selectionStart!==l.length||d||(o?b=a(b):""===h(b.slice(-1))&&(b=b.slice(0,-1)));const y=i?i(b):b;return n===y?t():e.onChange(y),()=>{let t=v(b);if(null!=e.mask&&(o||c&&!u))for(;b[t]&&""===h(b[t]);)t+=1;r.selectionStart=r.selectionEnd=t+(u?1+m:0)}})),(0,r.useEffect)((()=>{const e=e=>{"Delete"===e.code&&(o.current=!0)},t=e=>{"Delete"===e.code&&(o.current=!1)};return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}}),[]),{value:null!=s.current?s.current[0]:n,onChange:r=>{const i=r.target.value;s.current=[i,r.target,i.length>n.length,o.current,n===e.format(i)],t()}}})(e);return e.children(t)}},89679:(e,t,s)=>{"use strict";s.d(t,{$W:()=>n,DF:()=>f,h_:()=>d,rx:()=>o});var r=s(64693),i=s(62662);const a=/^[A-Z]+\((.+)\)/.source;function n(e){const t=h(e);if(t)switch(t){case"POINT":return{type:"point",geometry:o(e)};case"MULTIPOINT":return{type:"points",geometry:c(e)};case"LINESTRING":return{type:"polyline",geometry:d(e)};case"POLYGON":return{type:"polygon",geometry:l(e)};case"MULTILINESTRING":return{type:"polyline",geometry:u(e)};case"MULTIPOLYGON":return{type:"polygon",geometry:p(e)}}}function o(e){const t=m(e);if("POINT"!==h(t))return;const s=new RegExp(a).exec(t);if(!s)return;const[r,i]=s[1].split(" ");return void 0!==r&&void 0!==i?{lon:parseFloat(r),lat:parseFloat(i)}:void 0}function c(e){const t=m(e);if("MULTIPOINT"!==h(t))return;const s=new RegExp(a).exec(t);return s?g(s[1].split(",")):void 0}function d(e){const t=m(e);if("LINESTRING"!==h(t))return;const s=new RegExp(a).exec(t);return s?g(s[1].split(",")):void 0}function l(e){const t=m(e);if("POLYGON"!==h(t))return;const s=new RegExp(a).exec(t);if(!s)return;const r=[],i=/\((.*?)\)/g;let n;for(;n=i.exec(s[1]);)r.push(g(n[1].split(",")));return r}function u(e){const t=m(e);if("MULTILINESTRING"!==h(t))return;const s=new RegExp(a).exec(t);if(!s)return;const r=[],i=/\((.*?)\)/g;let n;for(;n=i.exec(s[1]);)r.push(g(n[1].split(",")));return r}function p(e){const t=m(e);if("MULTIPOLYGON"!==h(t))return;const s=new RegExp(a).exec(t);if(!s)return;return s[1].split(")),((").map((e=>`POLYGON((${e.replace("((","").replace("))","")}))`)).map(l).filter(r.Gg).reduce(((e,t)=>(e.push(...t),e)),[])}function g(e){return e.reduce(((e,t)=>{const[s,r]=t.replace(/\(|\)/g,"").split(" ");return e.push({lon:parseFloat(s),lat:parseFloat(r)}),e}),[])}function m(e){return e.replace(/\s*([\s(),])\s*/g,"$1")}function h(e){const t=/((MULTI)?(POINT|LINESTRING|POLYGON)).+/.exec(e);return t&&t[1]?t[1]:void 0}function f(e){if(e&&(0,i.S)(e))return`POINT(${(0,r.DB)(e.lon,7)} ${(0,r.DB)(e.lat,7)})`}},65120:(e,t,s)=>{"use strict";s.d(t,{Hg:()=>o,Nm:()=>i,eM:()=>r,mC:()=>a,qN:()=>n});s(24973);const r=0,i=50,a=180,n=-180;function o(e){return e.reduce(((e,t)=>[[Math.max(t[0],e[0][0]),Math.max(t[1],e[0][1])],[Math.min(t[0],e[1][0]),Math.min(t[1],e[1][1])]]),[[-180,-90],[180,90]])}},36928:(e,t,s)=>{"use strict";s.d(t,{v:()=>n,V:()=>a});var r=s(64693);function i(e){return(t,s)=>({id:s||(0,r.by)(),type:e,payload:t})}const a=i("success"),n=i("error")},87627:(e,t,s)=>{"use strict";s.d(t,{_f:()=>S,Q6:()=>I,lh:()=>N,GM:()=>_,Ec:()=>T,Fx:()=>M,Uz:()=>w});var r=s(60786),i=s(70021),a=s(97825),n=s(69742),o=s(9911);function c(e){var t,s;return"links"in e&&(null===(s=null===(t=e.links)||void 0===t?void 0:t.branches)||void 0===s?void 0:s.count)||0}var d=s(93524),l=s(81416),u=s(10484),p=s(42693),g=s(874),m=s(65741),h=s(25717),f=s(85916);var v=s(13130);function b(e){return(0,v.J)(e)&&!(0,h.V)(e)&&(t=e.rubrics,!!(0,f.a)(t));var t}var y=s(64693),x=s(31481),j=s(3797);const w=(0,r.P1)([e=>(0,i.nM)(e)],(e=>{if(!e||!e.data)return!1;const t=c(e.data);return!!t&&t>a.p4})),_=(0,r.P1)([({state:e,entityId:t})=>(0,i.nM)({state:e,entityId:t}),({state:e,entityReviewsSearchId:t})=>(0,i.AE)({state:e,searchId:t||""}),({state:e,orgReviewsSearchId:t})=>(0,i.AE)({state:e,searchId:t||""})],((e,t,s)=>C(e,t,s)));function C(e,t,s){const r=e&&e.data,i=r&&(0,v.J)(r)&&r.reviews&&r.reviews.org_review_count||0,a=r&&"reviews"in r&&r.reviews&&r.reviews.general_review_count||0,n=t&&t.data&&t.data.total,o=s&&s.data&&s.data.total;return{entityCount:void 0!==n?n:a,orgCount:void 0!==o?o:i}}const I=(0,r.P1)([e=>(0,i.nM)(e),e=>_(e),({state:e,entityId:t})=>(0,u.Ks)(e.appContext.frames,t),({state:e,entityId:t})=>(0,i.BD)({state:e,entityId:t}),({state:e})=>"realty"===e.appContext.activeLayer,e=>e.featureReadOnly,({state:e})=>e.config.featureMenu,e=>e.photosCount,e=>e.menuPhotosCount,e=>e.offersCount,e=>e.realtyCount],((e,t,s,r,i,a,n,o,c,d,l)=>k({profile:e,reviewsCount:t,discountsTotal:r.data?r.data.total:0,frame:s,isRealtyLayer:i,isReadOnly:a,featureMenu:n,photosCount:o,offersCount:d,menuPhotosCount:c,realtyCount:l})));function k(e){const{profile:t,reviewsCount:s,discountsTotal:r,frame:i,offersCount:a,isRealtyLayer:u,isReadOnly:g,featureMenu:m,photosCount:f,menuPhotosCount:y,realtyCount:x}=e,w=t&&t.data;if(!w)return[];const _=(0,n.R)(w).reduce(((e,t)=>{var n,_,C,I;let k;switch(t){case"contacts":case"info":k={tab:t};break;case"inside":const e=c(w);k=0===e?void 0:{tab:t,count:e};break;case"photos":k=g||"__empty"===w.id?void 0:{tab:t,count:f};break;case"menu":k=!g&&m&&b(w)?{tab:t,count:y}:void 0;break;case"prices":const O=(0,v.J)(w)&&a?a:0;k=(0,h.V)(w)?{tab:t,count:O}:void 0;break;case"realty":const S="entity"===(null==i?void 0:i.type)&&((null===(n=i.tabRealty)||void 0===n?void 0:n.currentCategoryValue)||(null===(I=(null===(_=i.tabRealty)||void 0===_?void 0:_.currentFiltersValues)&&Object.keys(null===(C=i.tabRealty)||void 0===C?void 0:C.currentFiltersValues))||void 0===I?void 0:I.length));k=("has_realty"in w&&w.has_realty||(0,j.J)(w)&&(x||S))&&!u?{tab:t,count:x}:void 0;break;case"services":{const e=(0,d.F)(w);e&&(k={tab:t,count:e});break}case"providers":{const e=(0,l.k)(w);e&&(k={tab:t,count:e});break}case"discounts":k=r?{tab:t,count:r}:void 0;break;case"reviews":{if((0,p.t)(w)||g||!(0,o.s)(w))break;const e=i&&"entity"===i.type&&i.tabReviews,r=(0,v.J)(w)&&w.reviews&&w.reviews.is_org_reviews;if(e){k={tab:t,count:e.isOrg?s.orgCount:s.entityCount}}else{k={tab:t,count:r?s.orgCount:s.entityCount}}}}return k?e.concat([k]):e}),[]);return _.length,_}const O=(0,r.HP)((e=>e),!1,m.Z),S=(0,r.P1)([({state:e,entityId:t,searchId:s})=>{const r=(0,i.wj)({state:e,entityId:t,searchId:s}).data;return r&&"links"in r&&r.links&&r.links.database_entrances?O(r.links.database_entrances):g.LZ},({state:e,entityId:t,searchId:s})=>{var r,a,n;return null===(n=null===(a=null===(r=(0,i.wj)({state:e,entityId:t,searchId:s}))||void 0===r?void 0:r.data)||void 0===a?void 0:a.context)||void 0===n?void 0:n.entrance_id},({entranceId:e})=>e],((e,t,s)=>{const r=t||s;if(r){const t=e.find((e=>e.id===r));if(t)return{vectors:t.geometry.vectors,points:t.geometry.points}}return e.reduce(((e,t)=>t&&t.is_visible_on_map?{vectors:e.vectors.concat(t.geometry&&t.geometry.vectors||[]),points:e.points.concat(t.geometry&&t.geometry.points||[])}:e),{vectors:[],points:[]})})),N=e=>t=>(0,i.nM)({state:t,entityId:e||""}),M=(0,r.P1)([({state:e})=>{const t=(0,u.Di)(e.appContext.frames);return t?(0,x.fb)({state:e,props:{frame:t}}):void 0}],(e=>{if(!(null==e?void 0:e.length))return;return(0,y.oA)(e.map((({id:e,search_attributes:t})=>(null==t?void 0:t.best_keyword)?`${e}:${t.best_keyword}`:void 0))).join(",")})),T=e=>t=>{var s,r;if(e)return null===(r=null===(s=(0,i.nM)({state:t,entityId:e}).data)||void 0===s?void 0:s.search_attributes)||void 0===r?void 0:r.best_keyword}},28098:(e,t,s)=>{"use strict";s.d(t,{Ef:()=>b,R_:()=>h,X$:()=>g,gS:()=>m,oo:()=>y,vE:()=>p});var r=s(96160),i=s(64693),a=s(1184),n=s(70021),o=s(66030),c=s(26287),d=s(60786),l=s(89509),u=s(874);const p=e=>(0,d.P1)([t=>(0,o.Or)(t)[e],c.yH],((e,t)=>e?(0,l.a)(e,t):u.LZ)),g=()=>(0,d.P1)([e=>(0,o.tV)(e)],(e=>(0,a.s0)(e).filter((t=>{const s=t&&t.collection_id?e[null==t?void 0:t.collection_id]:void 0;return(0,o.N5)(t)&&(0,o.jV)(s)&&s.is_visible_on_map})))),m=(0,d.P1)([o.tV,c.yH],((e,t)=>(0,l.a)((0,a.s0)(e).filter(o.jV),t))),h=e=>{const t=(0,i.oA)((0,a.s0)((0,r.Y4)(e))),s=t.find((({place_type:e})=>"home"===e)),n=t.find((({place_type:e})=>"work"===e));return[{type:"home",place:s,entity:x(e,s)},{type:"work",place:n,entity:x(e,n)}]},f=(0,n.T3)(),v=(0,n.T3)(),b=(0,d.P1)([r.eb,e=>{const t=(0,r.eb)(e);if(t&&t.object_id)return f({state:e,entityId:t.object_id})}],((e,t)=>{if(e&&e.object_id)return{type:"home",place:e,entity:t}})),y=(0,d.P1)([r.M6,e=>{const t=(0,r.M6)(e);if(t&&t.object_id)return v({state:e,entityId:t.object_id})}],((e,t)=>{if(e&&e.object_id)return{type:"work",place:e,entity:t}}));function x(e,t){if(t&&t.object_id)return(0,n.wj)({state:e,entityId:t.object_id})}},45681:(e,t,s)=>{"use strict";s.d(t,{w:()=>i});var r=s(26287);function i(e){const t=(0,r.kL)(e);return{lang:e.appContext.lang,product:"online5",userId:e.session.userId,sessionId:e.config.sessionId,screen:e.session.screen,city:t&&t.code||"unknown",mapType:e.session.is3dEnabled?"3d":"2d",source:"what is source"}}},70878:(e,t,s)=>{"use strict";s.d(t,{H:()=>n});var r=s(10484),i=s(9608),a=s(72443);const n=e=>t=>{var s;if(!(0,i.G)(e)(t))return!1;const n=(0,r.iF)((0,a.T)(t),e),o=n&&"filterPanelState"in n?n.filterPanelState:void 0;if(!o)return!1;const c="realty"===(null==n?void 0:n.type)&&"building"===(null===(s=n.entity)||void 0===s?void 0:s.type);return("auto"!==o||!t.config.isMobileDevice)&&("auto"===o?1===t.appContext.frames.length&&!c:"manuallyOpened"===o)}},9608:(e,t,s)=>{"use strict";s.d(t,{G:()=>a});var r=s(10484),i=s(72443);const a=e=>t=>{const s=(0,r.iF)((0,i.T)(t),e);if(!s)return!1;switch(s.type){case"search":case"product":case"realty":case"exchange":return!0;case"directions":switch(s.tab){case"bus":return!0;case"car":case"truck":return(e=>{const t=(0,r.t0)(e.appContext.frames,"directions");return!!t&&!!t.isPpngFiltersAvailable})(t);default:return!1}default:return!1}}},72443:(e,t,s)=>{"use strict";s.d(t,{T:()=>r});const r=(0,s(60786).P1)([e=>e.appContext.frames,e=>e.appContext.staticFrames.dashboard.id],((e,t)=>e.length?e:[{id:t,type:"dashboard"}]))},4213:(e,t,s)=>{"use strict";s.d(t,{w:()=>n});var r=s(72443),i=s(5924),a=s(5);const n=e=>{if(e.appContext.isDataViewerMinimized)return 0;if(e.config.isMobileDevice)return 0;const t=(0,r.T)(e);return a.M.width+t.reduce(((t,s)=>t+(0,i.L)(s.id)(e)),0)}},54015:(e,t,s)=>{"use strict";s.d(t,{b:()=>o});var r=s(60786),i=s(9608),a=s(70878),n=s(72443);const o=()=>(0,r.P1)([({state:e,frameId:t})=>c(t)(e),({state:e,frameId:t})=>d(t)(e),({state:e,frameId:t})=>(0,i.G)(t)(e),({state:e,frameId:t})=>(0,a.H)(t)(e)],((e,t,s,r)=>s?{isLeftMost:e,isRightMost:t,hasFilters:s,areFiltersOpened:r}:{isLeftMost:e,isRightMost:t,hasFilters:s})),c=e=>t=>{if(t.config.isMobileDevice)return!0;const s=(0,n.T)(t);return s[s.length-1].id===e},d=e=>t=>{if(t.config.isMobileDevice)return!0;return(0,n.T)(t)[0].id===e}},5924:(e,t,s)=>{"use strict";s.d(t,{L:()=>u});var r=s(10484),i=s(35253),a=s(9608),n=s(70878),o=s(72443),c=s(45544);const d="wideCard",l="withWideCard",u=((0,c.w)({name:d,percentRange:[0,0],groups:["controlGroup",l],forHumanFromSeo:!0}),e=>t=>{const s=(0,r.iF)((0,o.T)(t),e),u="entity"===(null==s?void 0:s.type)||"pending"===(null==s?void 0:s.type);return(0,c.c)(d,t.config.experiments)===l&&u?640:s&&(0,a.G)(e)(t)&&(0,n.H)(e)(t)?i.dp.wideFrameWidth:i.dp.standardFrameWidth})},18869:(e,t,s)=>{"use strict";s.d(t,{J:()=>a});var r=s(57695),i=s(10484);const a=e=>{var t,s,a,n;const o=e.appContext.frames[0];if("gallery"===(null==o?void 0:o.type)){const i=o.searchId;return null===(s=null===(t=(0,r.rO)({state:e,searchId:i}).data)||void 0===t?void 0:t.searchAttributes)||void 0===s?void 0:s.query_context}const c=(0,i.t0)(e.appContext.frames,"search");if(("query"!==(null==c?void 0:c.searchType)||"catalog"!==c.tab)&&"filials"!==(null==c?void 0:c.searchType))return;const d=(0,i.QB)(c,"actual");return null===(n=null===(a=(0,r.rO)({state:e,searchId:d}).data)||void 0===a?void 0:a.searchAttributes)||void 0===n?void 0:n.query_context}},74246:(e,t,s)=>{"use strict";s.d(t,{n:()=>i});var r=s(10484);const i=e=>e.appContext.showTrafficOnMap||!!(0,r.t0)(e.appContext.frames,"directions")||!e.session.is3dEnabled},65649:(e,t,s)=>{"use strict";s.d(t,{O:()=>i});const r={RU:["ru_RU"],KZ:["ru_KZ","kk_KZ"],AE:["en_AE","ar_AE"],IQ:["en_IQ","ar_IQ"],SA:["en_SA","ar_SA"],EG:["en_EG","ar_EG"],CY:["en_CY"],CZ:["cs_CZ"],IT:["it_IT"],CL:["es_CL"],KG:["ru_KG"],UZ:["ru_UZ","uz_UZ"],AZ:["az_AZ","ru_AZ"],BY:["ru_BY"],OM:["en_OM","ar_OM"],BH:["en_BH","ar_BH"],QA:["en_QA","ar_QA"],KW:["en_KW","ar_KW"],MA:["en_MA","ar_MA"],AM:["ru_AM","hy_AM"],GE:["ru_GE","ka_GE"]};const i=(0,s(60786).P1)([e=>e.config,e=>e.appContext.lang,e=>e.appContext.defaultLocale],((e,t,s)=>function(e){const{lang:t,availableLocales:s,defaultLocale:r}=e,i=t.replace("-","_"),a=i.split("_")[0],n=r.split("_")[1];return s.find((e=>e===i))||s.find((e=>e.startsWith(`${a.toLowerCase()}_`)))||s.find((e=>e.endsWith(`_${n.toUpperCase()}`)))||r}({lang:t,availableLocales:r[e.defaultCountryCode]||[],defaultLocale:s})))},42313:(e,t,s)=>{"use strict";s.d(t,{C8:()=>U,H3:()=>V,xl:()=>H,WK:()=>W,oB:()=>D,Id:()=>A,ls:()=>B,Hr:()=>T,Si:()=>J,HA:()=>F,SC:()=>Z,Wr:()=>G,Z1:()=>z,S:()=>q,sH:()=>K,dz:()=>$,v9:()=>L,Wf:()=>E,hC:()=>R,R9:()=>Y});var r=s(10484),i=s(51604),a=s(49013),n=s(66842),o=s(60786);var c=s(56900),d=s(64693),l=s(20072),u=s(66679),p=s(89251),g=s(45386),m=s(89679),h=s(874),f=s(4213),v=s(28098),b=s(57695),y=s(15692),x=s(40464),j=s(63174);const w=e=>{var t,s,r,i,a,n,o,c;return(null===(r=null===(s=null===(t=e.ads)||void 0===t?void 0:t.options)||void 0===s?void 0:s.marker_logo)||void 0===r?void 0:r.url)&&-1!==(null===(a=null===(i=e.ads)||void 0===i?void 0:i.options)||void 0===a?void 0:a.marker_logo.url.indexOf(".png"))?(0,x.W)(e.ads.options.marker_logo.url,`${j.Cb}x${j.Cb}`):null===(c=null===(o=null===(n=e.ads)||void 0===n?void 0:n.options)||void 0===o?void 0:o.marker_logo)||void 0===c?void 0:c.url};var _=s(21683),C=s(29542),I=s(24604),k=s(32668);var O=s(18610),S=s(45544),N=s(5),M=s(88330);const T=e=>e.appContext.zoom,P={top:56,left:0,right:0,bottom:0,bigTop:100,bigLeft:100,bigRight:100,bigBottom:100},E=(0,o.P1)([f.w,e=>e.appContext.lang],((e,t)=>{const{bigTop:s,bigLeft:r,bigRight:i,bigBottom:a}=P;return"ar"===t?{topLeft:[i,s],bottomRight:[e+r,a]}:{topLeft:[e+r,s],bottomRight:[i,a]}})),L=(0,o.P1)([f.w,e=>e.appContext.lang,e=>e.appContext.isDataViewerMinimized,e=>e.config.isMobileDevice],((e,t,s,r)=>{const{top:i,left:a,right:n,bottom:o}=P,c=i,d=a,l=n,u=o;return r?"ar"===t?{topLeft:[l,c],bottomRight:[d,u+N.M.height]}:{topLeft:[d,c],bottomRight:[l,u+N.M.height]}:"ar"===t?{topLeft:[l,c],bottomRight:[s?N.M.width+d:e+d,u]}:{topLeft:[s?N.M.width+d:e+d,c],bottomRight:[l,u]}})),R=(0,o.P1)([L,e=>e.session.screen],((e,t)=>(0,a.o)(t,e))),z=(0,o.P1)([e=>e.appContext.center,e=>e.appContext.zoom,e=>e.appContext.pitch,e=>e.appContext.rotation],((e,t,s,r)=>({center:e,zoom:t,pitch:s,rotation:r}))),A=(0,o.P1)([e=>B(e)],(e=>{const[t,,s]=e;return[t,s]})),F=({ratio:e})=>(0,o.P1)([e=>A(e)],(t=>(0,M.Z)(t,e))),B=(0,o.P1)([L,e=>e.session.screen,z],((e,t,s)=>{const{center:r}=s,i=(0,a.o)(t,e);if(0===i.width||0===i.height)return[r,r,r,r];const o=(0,n.Dd)(Object.assign({mapSize:i},s)),[,,c,d]=o.map((e=>({lon:e[0],lat:e[1]}))),l=function(e,t){return e.map((e=>{const s=t.lat+(t.lat-e.lat),r=Math.abs(s)>90?2*Math.sign(s)*90-s:s;return{lon:t.lon+(t.lon-e.lon),lat:r}}))}([c,d],r);return function(e){let t={minLon:-180,maxLat:90,maxLon:180,minLat:-90};return e.length>1&&(t=e.reduce(((e,t)=>{const{lon:s,lat:r}=t;return{minLon:Math.min(e.minLon,s),maxLat:Math.max(e.maxLat,r),maxLon:Math.max(e.maxLon,s),minLat:Math.min(e.minLat,r)}}),{minLon:180,maxLat:-90,maxLon:-180,minLat:90})),[{lon:t.minLon,lat:t.maxLat},{lon:t.minLon,lat:t.minLat},{lon:t.maxLon,lat:t.minLat},{lon:t.maxLon,lat:t.maxLat}]}([...l,c,d])}));function Z(e){const t=(0,r.WZ)(e.appContext.frames,["collection"]);if(t)return"collection"===t.type?(0,i.Ue)(t.collectionId):void 0}const U=e=>{const t=H(e);if(!t)return;const s=(0,b.Aw)({searchId:t,state:e});return s&&s.data};function H(e){const t=(0,r.Di)(e.appContext.frames);if(t)return e.appContext.weak.markers.catalog[t.id]}const D=(0,o.P1)([_.k,({state:e})=>$(e),({state:e})=>V(e),({state:e})=>e.config],((e,t,s,r)=>(null==s||s.markers.forEach((s=>{s.icon=function(e){var t,s;const{marker:r,settings:i,group:a,inRubricIconExperiment:n,inBrandColorExperiment:o}=e,c=(null===(t=i[a])||void 0===t?void 0:t.icons)||i.default.icons;return r.is_deleted?(0,C.M)(c,"deleted","deleted_hover"):r.rubr&&n&&!r.logo_url?(0,I.Ry)({marker:r,icons:null===(s=i._rubric)||void 0===s?void 0:s.icons}):["commercial","smallbullet","middlebullet","bigbullet"].reduce(((e,t)=>{var s,i;const a="commercial"===t&&r.logo_url?c.commercial_logo:c[t],n=o&&!!r.logo_url&&!!(null===(i=null===(s=r.ads)||void 0===s?void 0:s.options)||void 0===i?void 0:i.color);return e[t]=(0,k.Y)({marker:r,styles:a,iconType:t,isBrandColorMarker:n}),e}),{})}({marker:s.data,settings:e.styles,group:t,inRubricIconExperiment:false,inBrandColorExperiment:false})})),s))),$=(0,o.P1)([U,e=>(0,_.k)({state:e}),e=>e.config],((e,t,s)=>{const r=s.markersExperiment&&(0,S.c)(s.markersExperiment,s.experiments);if(r&&"controlGroup"!==r){const e=`experiment${(0,d.Ez)(r)}`;if(t.styles[e])return e}if(200===(null==e?void 0:e.code)){if(e.items.reduce(((e,t)=>e+(t.cluster?t.cluster.count:1)),0)<20)return"fewmarkers"}return"default"})),V=(0,o.P1)([U,H],((e,t)=>{if(!e||200!==e.code||!t)return;const s={},r=e.items.map(((e,r)=>{const i=w(e),a={id:e.id,key:(0,d._J)(e.id),lonLat:[e.lon,e.lat],type:e.is_advertising||i?"commercial":"bigbullet",buildingId:e.geometry_id,data:{source:"catalog",searchId:t,type:(0,y.j)(e.type),match_type:e.match_type,rubr:e.rubr,source_type:e.source_type,vital:e.vital,is_advertising:e.is_advertising,name:[e.name,e.name_back].filter(d.Gg).join(" / "),name_ex:e.name_ex,schedule:e.schedule,context:e.context,reviews:e.reviews,ads:e.ads,cluster:e.cluster,timezone_offset:e.timezone_offset,temporary_unavailable_atm_services:e.temporary_unavailable_atm_services,flags:e.flags,is_deleted:e.is_deleted,logo_url:i,friends:e.friends}};return s[(0,d._J)(e.id)]=r,a}));return{indexHashMap:s,markers:r}})),q=(0,o.P1)([e=>e.appContext.weak.floors,V],c.e);function G(e){const t=e.appContext.frames.find(u.n);return t&&t.originalSearchId}function W(e){const t=G(e);if(t)return t;const s=e.appContext.frames.find(l.E)||e.appContext.frames.find(p.Y)||e.appContext.frames.find(u.n);return s&&(0,r.QB)(s)}const Q=e=>{var t,s;const r=null===(t=e.entity)||void 0===t?void 0:t.data,i=null===(s=e.place)||void 0===s?void 0:s.point;if(!r||!i)return;const a="branch"===r.type?r.name_ex.primary:"name"in r&&r.name||"";return{id:r.id,point:[i.lon,i.lat],name:a,classId:"home"===e.type?1:2,humanReadableClassId:"home"===e.type?"personal_poi_home":"personal_poi_work"}},K=(0,o.P1)([g.n,v.Ef,v.oo],((e,t,s)=>{const r=[];if(!e.data&&!t&&!s)return h.LZ;e.data.suggestLastObjects.slice(0,10).forEach((e=>{if(e.entity&&e.entity.id){const t=e.entity,s=t.geometry&&t.geometry.centroid?(0,m.rx)(t.geometry.centroid):t.point;s&&r.push({id:t.id,point:[s.lon,s.lat],name:"name_ex"in t&&t.name_ex?t.name_ex.primary:t.name,classId:t.class_id||0,humanReadableClassId:t.human_readable_class_id})}}));const i=t?Q(t):void 0;i&&r.push(i);const a=s?Q(s):void 0;return a&&r.push(a),0!==r.length?r:h.LZ})),J=({state:e})=>{const t=(0,O.I)({state:e});if(t&&("entity"===t.type||"pending"===t.type))return t.isCommercial?t.entityIcon:void 0},Y=({state:e})=>{const t=(0,O.I)({state:e});return!(!t||"entity"!==t.type&&"pending"!==t.type)&&Boolean(t.isCommercial)}},27826:(e,t,s)=>{"use strict";s.d(t,{Q:()=>o});var r=s(10484),i=s(5809),a=s(36130);const n=(e,t=!0)=>{var s,r,i;if((e=>void 0!==e&&"branch"===e.type)(e))return t&&(null===(i=null===(r=null===(s=e.ads)||void 0===s?void 0:s.options)||void 0===r?void 0:r.poi)||void 0===i?void 0:i.is_premium)?void 0:e.poi_category};function o(e,{checkPremium:t}={checkPremium:!0}){const s=(0,r.Fq)(e.appContext.frames,e.appContext.graveyard),o=(0,r.t0)(e.appContext.frames,"search");return(()=>{var r;if(s){if(o){const{profile:t}=(0,i.v)(e,o);if(1!==(null===(r=null==t?void 0:t.data)||void 0===r?void 0:r.searchType))return}return n((0,a.f)(e,s),t)}})()||(()=>{if(o)return n((0,a.D)(e,o),t)})()}},36130:(e,t,s)=>{"use strict";s.d(t,{D:()=>n,f:()=>o});var r=s(70021),i=s(57695),a=s(5809);const n=(e,t)=>{var s,n;const{profile:o,searchId:c}=(0,a.v)(e,t);if(1!==(null===(s=null==o?void 0:o.data)||void 0===s?void 0:s.searchType)||!c)return;const d=null===(n=(0,i.gQ)({searchId:c,page:1,state:e}))||void 0===n?void 0:n.data[0];return d?(0,r.wj)({state:e,entityId:d,searchId:c}).data:void 0},o=(e,t)=>(0,r.wj)({state:e,entityId:t.entityId,searchId:t.searchId}).data},80207:(e,t,s)=>{"use strict";s.d(t,{X:()=>o});var r=s(97698),i=s(4213);const a=(0,r.P1)((e=>e.appContext.center.lon),(e=>e.appContext.center.lat),((e,t)=>[e,t])),n=(0,r.P1)((e=>e.session.screen.width-(0,i.w)(e)),(e=>e.session.screen.height),((e,t)=>[e,t])),o=(0,r.zB)({zoom:e=>e.appContext.zoom,center:a,pitch:e=>e.appContext.pitch,rotation:e=>e.appContext.rotation,mapSize:n})},55198:(e,t,s)=>{"use strict";s.d(t,{w:()=>r});const r=(0,s(60786).P1)([({state:e})=>e.config,({state:e})=>e.appContext.activeLayer,({state:e})=>!!e.appContext.activeSublayer,({state:e})=>e.appContext.showSnow.allowSnowStyle],((e,t,s,r)=>{let i;return s?i=e.grayMapStyleId:"realty"===t&&e.realtyMapStyleId?i=e.realtyMapStyleId:"metro"===t?i="4bf19781-6fa2-4a43-8386-db596f51db8d":"backTo2004"===t?i="9e75a94c-36f7-4254-8101-90139ead38ad":"roadAccident"===t?i="fd6c509e-855c-4b40-b8b6-b90945c95d55":"tourism"===t?i="ca89ab0b-ceb6-4900-ab22-ad4651736837":r?i="26015706-6204-4b41-bae9-c84dcd126160":e.isMobileDevice?i="9451a385-750a-4f28-ac7a-ddc7922db9b6":e.customMapStyleId&&(i=e.customMapStyleId),i}))},21683:(e,t,s)=>{"use strict";s.d(t,{k:()=>c});var r=s(60786),i=s(63174),a=s(55198);const n={styles:{},generalization:{}},o=new Map,c=(0,r.P1)([a.w],(e=>function(e){if(o.has(e))return o.get(e);let t=(0,i.HD)(e);t&&0!==Object.keys(t.styles).length||(t=(0,i.HD)("default"));t&&o.set(e,t);return t}(!e||e.includes("//")?"default":e)||n))},5809:(e,t,s)=>{"use strict";s.d(t,{v:()=>a});var r=s(57695),i=s(10484);const a=(e,t)=>{if(("query"!==(null==t?void 0:t.searchType)||"catalog"!==t.tab)&&"filials"!==(null==t?void 0:t.searchType))return{};const s=(0,i.QB)(t,"actual");return{profile:(0,r.rO)({state:e,searchId:s}),searchId:s}}},98224:(e,t,s)=>{"use strict";s.d(t,{IV:()=>d,Kv:()=>u,fE:()=>g,py:()=>p});var r=s(72965),i=s(60786),a=s(70021),n=s(10982),o=s(10484);const c=[],d=(0,i.P1)([e=>e.appContext.popup],(e=>e&&"photoUploader"===e.type?{photos:e.photoTemporaryIds||c}:{photos:c})),l=[],u=(0,i.P1)([e=>d(e).photos,e=>e.data.photo],((e,t)=>e===c?{photos:l}:{photos:e.map((e=>t[e]||n.Y))})),p=e=>{var t;const{frameId:s,state:r}=e,i=(0,o.iF)(r.appContext.frames,s);if(!i||"entity"!==i.type&&"gallery"!==i.type)return;return"entity"===i.type?null===(t=i.tabPhoto)||void 0===t?void 0:t.photoAlbum:i.photoAlbum},g=({state:e,frameId:t,photo:s})=>{const i=(0,o.iF)(e.appContext.frames,t),n=i&&"entityId"in i&&i.entityId?(0,a.nM)({entityId:i.entityId,state:e}).data:void 0,c=p({state:e,frameId:t});return{photoPayload:(0,r.N)({photo:s,tag:null==c?void 0:c.id,orgId:"branch"===(null==n?void 0:n.type)?n.org.id:void 0,entityId:null==n?void 0:n.id,entityType:null==n?void 0:n.type}),entity:n,selectedAlbum:c}}},26287:(e,t,s)=>{"use strict";s.d(t,{mN:()=>S,Z_:()=>f,g2:()=>b,kL:()=>x,yH:()=>y,SJ:()=>w,fq:()=>j,eT:()=>v,E5:()=>O,mI:()=>k,kG:()=>C,k2:()=>I});var r=s(11447),i=s(10982),a=s(71955),n=s(874);function o(e,t){if("ge"!==t)return e.endsWith(".web-staging.2gis.ru")?function(e,t){const s=e.match(/([^.]+)\.?(.*)\.web-staging\.2gis\.ru/);if(!s)return;const r=s[1],i=s[2];if(!i&&"ru"===t)return;const a=c(i||"2gis.ru",t);if(!a)return;return`${r}.${a}.web-staging.2gis.ru`}(e,t):c(e,t)}function c(e,t){if("sa"===t&&!/urbi-sa\.(com|4geo\.info)$/.test(e))return"urbi-sa.com";if("iq"===t&&!/urbi-iq\.(com|4geo\.info)$/.test(e))return"urbi-iq.com";if("eg"===t&&!/urbi-eg\.(com|4geo\.info)$/.test(e))return"urbi-eg.com";if("om"===t&&!/urbi-om\.(com|4geo\.info)$/.test(e))return"urbi-om.com";if("bh"===t&&!/urbi-bh\.4geo\.info$/.test(e)&&!/urbi\.bh$/.test(e))return"urbi.bh";if("qa"===t&&!/urbi-qa\.4geo\.info$/.test(e)&&!/urbi\.qa$/.test(e))return"urbi.qa";if("kw"===t&&!/urbi-kw\.(com|4geo\.info)$/.test(e))return"urbi-kw.com";if("ma"===t&&!/urbi-ma\.4geo\.info$/.test(e)&&!/urbi\.ma$/.test(e))return"urbi.ma";if("ae"===t&&/urbi-ae\.4geo\.info$/.test(e))return;const s=e.replace(/(^|\.)urbi\.ae$/,"$12gis.ae"),r=(0,a.X)(s),i=n.wp[t];if(!r||!i||r===i)return;const o=s.lastIndexOf(r);return-1!==o?s.substr(0,o)+i:void 0}var d=s(1184),l=s(10484),u=(s(70021),s(62830)),p=s(41148),g=s(28167);var m=s(6113);const h={admDiv:i.Y,project:i.Y},f=e=>{const t=C(e);if(!t||!t.data)return h;if("universe"===t.data.type)return h;return{admDiv:t,project:t.data.regionId&&(0,r.D4)({state:e,id:t.data.regionId})||i.Y}},v=e=>{var t,s;return null===(s=null===(t=C(e))||void 0===t?void 0:t.data)||void 0===s?void 0:s.segmentId},b=(e,t,s)=>{const r=C(e);if(s&&r&&r.data&&r.data.allowChangeDomain&&m.Qd.includes(r.data.countryCode))return o(t,r.data.countryCode)},y=e=>{const t=f(e).admDiv.data;return(0,p.Y)(t)},x=e=>{var t;const s=y(e);if(void 0!==s)return null===(t=(0,r.D4)({state:e,id:s}))||void 0===t?void 0:t.data};function j(e){const t=x(e);return t&&t.id||"0"}function w(e){const t=x(e);return t&&t.code}const _={data:{name:"",type:"universe",id:"",countryCode:"ru",overlapRegionId:"0",allowChangeDomain:!0},meta:{code:200,status:"success"}},C=e=>(0,g.e)(e.appContext.zoom)?_:(0,r.zQ)({state:e,id:n.Iv}),I=e=>{var t;const s=(0,r.zQ)({state:e,id:n.Iv});return null===(t=null==s?void 0:s.data)||void 0===t?void 0:t.id};function k({state:e,code:t}){const s=[];return(0,d.s0)(e.data.region.profile).forEach((e=>{(null==e?void 0:e.data)&&s.push(e.data)})),function(e,t){return t.find((t=>{var s;return t.uri_code===e||(null===(s=t.uri_aliases)||void 0===s?void 0:s.includes(e))}))}(t,s)}function O(e){var t;const s=I(e),r=s&&(null===(t=e.data.entity.profile[s])||void 0===t?void 0:t.data),i=r&&"adm_div"in r?r.adm_div:void 0,a=null==i?void 0:i.find((e=>"region"===e.type));return null==a?void 0:a.id}function S(e){const t=(0,l.t0)(e.appContext.frames,"entity")||(0,l.t0)(e.appContext.frames,"gallery");if(t)return t.entityId;const s=(0,l.t0)(e.appContext.frames,"search");if(s)switch(s.searchType){case"inbuilding":return s.buildingId;case"filials":{const t=(0,u.r)(s);if(!t)return;const r=e.data.search.pagination[t];if(!r)return;const i=r[1];if(!i)return;return i.data[0]}default:return}}},25057:(e,t,s)=>{"use strict";s.d(t,{Do:()=>g,Mw:()=>m,QV:()=>f,Te:()=>p,eq:()=>l,iE:()=>h,mg:()=>v,vt:()=>y,yw:()=>b});var r=s(97698),i=s(51604),a=s(7806),n=s(55158),o=s(10982),c=s(45386),d=s(82358);function l(e,t){return e.appContext.weak.suggests[t]}function u(e,t){const s=l(e,t);if(s&&s.suggestId)return(0,i.Gp)(s.suggestId)}function p(e){const t=u(e,"products");if(t){const s=(0,n.Te)({state:e,searchId:t});return s&&s.data&&s.data.items}}function g(e){var t;const s=u(e,"products");if(s){const r=(0,n.Te)({state:e,searchId:s});return null===(t=null==r?void 0:r.data)||void 0===t?void 0:t.bss}}function m(e){const t=l(e,"primary");if(t&&t.suggestId){const s=(0,a.m)({state:e,searchId:(0,i.sG)(t.suggestId)});if(s&&s.data&&s.data.query)return!1}return!0}const h=(0,r.P1)([e=>m(e),e=>v(e,"primary"),e=>(0,c.n)(e)],((e,t,s)=>e?function(e){if(e)return e.searches.slice(0,d.vT)}(s&&s.data):t));function f(e,t){if("products"===t)return o.Y;const s=u(e,t);return s?(0,a.m)({state:e,searchId:s}):o.Y}function v(e,t){const{data:s}=f(e,t);return s&&s.items}function b(e,t){const{data:s}=f(e,t);return s&&s.searchAttributes}function y(e,t){switch(t){case"products":return p(e);case"primary":case"inbuilding":return h(e);default:return v(e,t)}}},8476:(e,t,s)=>{"use strict";function r(e){return e.session.userId}s.d(t,{r:()=>r})},13876:(e,t,s)=>{"use strict";s.d(t,{q:()=>i});var r=s(98584);const i={innerBorderFilter:`inset 0 0 0 1px ${r.O.yellow_ffb81c}`,innerBorderNonContrastHovered:`inset 0 0 0 1px ${r.O.blue_82bceb}`,innerBorderWithoutColor:"inset 0 0 0 1px"}},83575:(e,t,s)=>{"use strict";s.d(t,{C:()=>i,a:()=>a});var r=s(67753);const i=e=>e?(0,r.Rh)((t=>!t.isMobileDevice&&e)):(0,r.ZT)(),a=e=>e?(0,r.Rh)((t=>t.isMobileDevice&&e)):(0,r.ZT)()},18337:(e,t,s)=>{"use strict";s.d(t,{R:()=>i});var r=s(67753);const i=(e,t)=>{return window.confirm(e||void 0)?t():(0,r.ZT)()}},63546:(e,t,s)=>{"use strict";s.d(t,{c:()=>u});var r=s(67753),i=s(89594),a=s(354),n=s(26287),o=s(52981),c=s(66204),d=s(75293),l=s(20793);const u=e=>{const{actionType:t,value:s,entityId:u,ctaOwner:g}=e;switch(t){case"order":{if(!u)return(0,r.ZT)();const e=p(g);return(0,d.f)({entityId:u,source:e})}case"search_by_org":return(0,r.vP)((0,c.xU)({suggesterKey:"primary",query:""}),(0,i.QR)({orgId:s}));case"search_buy_here":return(0,l.J)({adsIds:s});case"search_by_query":return(0,r.vP)((0,c.xU)({suggesterKey:"primary",query:s}),(0,a.zh)((e=>(0,i.gB)({query:s,viewpoint:e}))));case"search_by_rubric":return(0,r.vP)((0,c.xU)({suggesterKey:"primary",query:""}),(0,r.xJ)((e=>(0,a.zh)((t=>(0,i.gB)({viewpoint:t,rubricId:s,query:"",regionId:(0,n.fq)(e)}))))));case"open_card":return(0,o.xo)({id:s,type:"branch"});default:return(0,r.ZT)()}},p=e=>{switch(e){case"mapMarker":return"marker";case"placeCardFull":return"entityCard";case"placeCardMini":return"entityMinicard";case"adsBanner":return"banner"}return"entityCard"}},7262:(e,t,s)=>{"use strict";function r(e,t="ru_RU"){return`${e}_${t}`}s.d(t,{HT:()=>I,yq:()=>O,Mh:()=>S,Oc:()=>C});var i=s(56104),a=s(26287),n=s(67753),o=s(51604),c=s(70021),d=s(65649),l=s(52981),u=s(10694),p=s(87324),g=s(80186),m=s(29600),h=s(95359),f=s(69088),v=s(76497),b=s(66204),y=s(76409),x=s(62784),j=s(2234),w=s(42313),_=s(64693);const C=(0,n.gQ)("updateDashboardDataIfNeeded",(()=>(0,n.xJ)((e=>0===e.appContext.frames.length&&(0,n.Mf)(I(),k())))));const I=(0,n.gQ)("fetchMetarubricsIfNeeded",(e=>(0,n.xJ)((t=>{const s=t.appContext.weak.dashboard.transitions.rubricsId,c=function(e,t){const s=(0,d.O)(e),i=(0,a.fq)(e),n=[(t?(0,_.by)():(0,o.Gp)(e.appContext.weak.dashboard.transitions.rubricsId)).split(":")[0],r(i,s)].join(":");return(0,o.gg)(e.appContext.weak.dashboard.transitions.rubricsId,n)}(t,e);return c===s?(0,n.ZT)():(0,n.vP)((0,i.jP)(c),(0,n.xJ)((e=>{const t=(0,o.sG)(e.appContext.weak.dashboard.transitions.rubricsId),s=(0,x.l)({state:e,dashboardId:t});if((0,j.G)(s)&&t){const s=(0,d.O)(e),r=(0,a.fq)(e),i=(0,w.Id)(e);return(0,y.A)({dashboardId:t,regionId:r,locale:s,viewpoint:i})}})),(0,n.xJ)((e=>{const t=e.appContext.weak.dashboard.transitions.rubricsId;if((0,o.sG)(c)===(0,o.sG)(t))return(0,i.jP)((0,o._e)(t))})))})))),k=(0,n.gQ)("fetchDashboardEntityIfNeeded",(()=>(0,n.xJ)((e=>{const t=(0,a.Z_)(e).admDiv.data;if(!t)return(0,n.ZT)();const s=t.id;if(!s)return(0,n.ZT)();return(0,c.wj)({state:e,entityId:s}).data?(0,n.ZT)():(0,l.DZ)({id:s,searchId:void 0})})))),O=(0,n.gQ)("openDashboardFromMinicard",(e=>(0,n.vP)(e.skipHistoryPush?(0,n.ZT)():(0,m.BN)(),(0,h.IW)(),(0,b.xU)({suggesterKey:"primary",query:void 0}),(0,u.wN)({entityId:e.entityId},(t=>t.data?(0,n.ZT)():(0,l.DZ)({id:e.entityId,searchId:void 0}))),(0,f.vr)({entityId:e.entityId}))));function S(e){return(0,n.XJ)((0,n.Rh)((t=>(0,n.xJ)((s=>{if(0!==s.appContext.frames.length)return;const r=(0,a.Z_)(s).admDiv.data;if(!r||!(0,v.f)(e,r)||"adm_div.city"!==r.type)return;const i=r.id;if(!i)return;const n=(0,c.wj)({state:s,entityId:i}).data;if(!n)return;const o=(0,p.B)({entity:n,state:s});if(!o)return;return(0,a.g2)(s,window.location.hostname,t.isCountryRedirectsEnabled)?void 0:(0,g.ly)(o)})))))}},2267:(e,t,s)=>{"use strict";s.d(t,{lB:()=>g,tb:()=>p,HP:()=>m});var r=s(22970),i=s(95359),a=s(10694),n=s(51919),o=s(57789),c=s(64693);let d;const l=["offline","navigator"];function u(){return d=(0,c.hj)(l,d),d}s(10737),s(67753),s(18610),s(39911);function p(e){const{id:t,frameId:s,type:r,point:a,tab:n,statusId:o,searchId:c,gtaId:d,query:l,victimsId:p,routeId:g,activeDirectionId:m,entranceId:h,isOpenedFromMap:f,entityIcon:v,isCommercial:b}=e;return(0,i.Jt)({id:s,type:"entity",entityType:r,entityId:t,tab:n,isShowEntrance:!0,point:a,statusId:o,searchId:c,gtaId:d,query:l,victimsId:p,routeId:g,activeDirectionId:m,entranceId:h,promoType:u(),isOpenedFromMap:f,entityIcon:v,isCommercial:b})}function g(e){return(0,a.wN)({entityId:e.entityId},(t=>(0,n.me)(e.frameId,(e=>{const s=t&&t.data;if(!s)return e;const r=(0,o.m)(s);if(r&&e.entityId!==r.id)return Object.assign(Object.assign({},e),{entityId:r.id,entityType:r.type});const i=s.type;return e.entityType===i?e:Object.assign(Object.assign({},e),{entityType:i})}))))}function m(e){const{frameId:t}=e,s=(0,r._T)(e,["frameId"]);return(0,i.Jt)(Object.assign(Object.assign({},s),{id:t,type:"pending",subtype:"entity",promoType:u()}))}},52981:(e,t,s)=>{"use strict";s.d(t,{DZ:()=>_,wk:()=>Z,H3:()=>U,xo:()=>O,ko:()=>L,WZ:()=>F});var r=s(67753),i=s(64693),a=s(874),n=s(29600),o=s(2267),c=s(69088),d=s(82680),l=s(10694),u=s(85585);function p({id:e,searchId:t}){return(0,l.wN)({entityId:e,searchId:t},(t=>{const s=t.data;return s&&"branch"===s.type&&(0,u.e)(s)?(0,d.z)({id:e}):(0,r.ZT)()}))}var g=s(24947),m=s(60750),h=s(10559),f=s(354),v=s(78059),b=s(57695),y=s(42313),x=s(18869),j=s(71686),w=s(2234);const _=(0,r.gQ)("fetchEntityProfileWithCurrentViewpoint",(e=>(0,l.wN)({entityId:e.id},(t=>e.ifMissingOnly&&!(0,w.G)(t)?(0,r.ZT)():(0,f.gF)({viewpoint:y.Id,searchProfile:t=>(0,b.rO)({state:t,searchId:e.searchId}),searchQueryContext:e=>(0,x.J)(e)},(({viewpoint:t,searchProfile:s,searchQueryContext:r})=>{var i;const a=(0,j.Jn)(r);return(0,v.Dz)({id:e.id,searchId:e.searchId,hash:e.hash,gtaId:e.gtaId,clickPoint:e.clickPoint,viewpoint:t,contextRubrics:null===(i=s.data)||void 0===i?void 0:i.contextRubrics,adsId:e.adsId,mapAdsId:e.mapAdsId,searchCtx:a})}))))));var C=s(57789);function I(e){return(0,r.Yz)("fetchProfileCheckGroup")(_({id:e.id,searchId:e.searchId,hash:e.hash,gtaId:e.gtaId,clickPoint:e.clickPoint,adsId:e.adsId,mapAdsId:e.mapAdsId,ifMissingOnly:e.ifMissingOnly}),(0,l.wN)({entityId:e.id},(t=>{if(!t.data||"branch"===t.data.type)return;const s=(0,C.m)(t.data);return s?_({id:s.id,searchId:e.searchId,gtaId:e.gtaId,clickPoint:e.clickPoint,adsId:e.adsId,mapAdsId:e.mapAdsId,ifMissingOnly:e.ifMissingOnly}):void 0})))}var k=s(6872);const O=(0,r.gQ)("openEntityCard",(e=>{const t=(0,i.by)(),s=(0,i.by)(),d=(0,i.by)(),l=(0,i.by)(),u=(0,i.by)(),f=(0,i.by)(),v=(0,i.by)(),b=e.searchId?e.searchId:a.Mt,y=Object.assign(Object.assign({},e),{statusId:s,searchId:b,frameId:t,entityReviewsSearchId:d,orgReviewsSearchId:l,gtaId:u,unconfirmedEntityReviewsSearchId:f,unconfirmedOrgReviewsSearchId:v});const x=(0,k._V)({objectId:y.id});return(0,r.vP)(e.skipHistoryPush?(0,r.ZT)():(0,n.BN)(),(0,o.tb)(y),I(y),x,e.shouldFitEntityInMapView?(0,c.vr)({entityId:e.id}):void 0,(0,o.lB)({frameId:t,entityId:y.id}),p({id:y.id,searchId:b}),(0,g.Uh)(y),(0,r.Mf)((0,m.eY)(y),(0,h.A)(y)))}));var S=s(7262),N=s(95328),M=s(70021),T=s(10484),P=s(95149),E=s(10737);const L=(0,r.gQ)("openEntityCardFromMinicard",(e=>(0,f.gF)({entityProfile:t=>(0,M.wj)({state:t,entityId:e.id,searchId:e.searchId}),searchFrame:e=>(0,T.Di)(e.appContext.frames),isMobile:e=>e.config.isMobileDevice},(({entityProfile:t,searchFrame:s,isMobile:r})=>{var i,a,n,o,c,d,l,u;const{id:p,searchId:g,type:m,skipHistoryPush:h}=e,f=t.data,v=r,b=(null===(n=null===(a=null===(i=null==f?void 0:f.ads)||void 0===i?void 0:i.options)||void 0===a?void 0:a.marker_logo)||void 0===n?void 0:n.url)?(0,E.X)(null===(c=null===(o=null==f?void 0:f.ads)||void 0===o?void 0:o.options)||void 0===c?void 0:c.marker_logo.url):void 0,y=Boolean(null===(l=null===(d=null==f?void 0:f.ads)||void 0===d?void 0:d.options)||void 0===l?void 0:l.marker_logo);return f?function(e){return"adm_div"===e.type&&["city","settlement"].includes(e.subtype)&&!e.geocoded_by}(f)?(0,S.yq)({entityId:p,skipHistoryPush:h}):"point"===f.type?(0,N.W)({point:f.geocoded_by||f.point,shouldCenterMap:!0}):O({id:p,searchId:g,hash:f.hash,type:f.type,skipHistoryPush:h,entranceId:null===(u=f.context)||void 0===u?void 0:u.entrance_id,adsId:(0,P.J)(s),point:"geocoded_by"in f&&f.geocoded_by||"point"in f&&f.point||void 0,shouldFitEntityInMapView:v,entityIcon:b,isCommercial:y}):O({id:p,searchId:g,type:m,skipHistoryPush:h,hash:void 0,shouldFitEntityInMapView:v})}))));var R=s(43001),z=s(95359),A=s(69742);const F=(0,r.gQ)("openEntityCardFromPending",(e=>{const{entityId:t,frameId:s,isOpenedFromMap:a,statusId:n,searchId:o,clickPoint:c,gtaId:d,skipFetchEntity:u,trackBssOnLoading:g}=e;return(0,r.vP)((0,f.Mb)(s,(s=>!u&&s&&I({id:t,statusId:n,searchId:o,clickPoint:c,gtaId:(0,R.n)(s),adsId:e.adsId,mapAdsId:e.mapAdsId}))),(0,l.wN)({entityId:t,searchId:o},(n=>{if(!n.data)return;const c=n.data,u=(0,C.m)(c),v=u?u.id:t,b=u?u.type:c.type;return(0,f.Mb)(s,(t=>t&&(0,r.vP)(g&&g(c),(0,l.wN)({entityId:v},(t=>(0,z.d3)(s,(s=>({id:s.id,searchId:e.searchId,statusId:e.statusId,point:s.point,gtaId:d,type:"entity",entityId:v,entityType:b,tab:(0,A.R)(t.data||c)[0],isShowEntrance:!0,victimsId:s.victimsId,entranceId:s.entranceId,isOpenedFromMap:a,entityIcon:s.entityIcon,isCommercial:s.isCommercial}))))),(0,r.Mf)((0,m.eY)({id:v,type:b,searchId:o,frameId:s,entityReviewsSearchId:(0,i.by)(),orgReviewsSearchId:(0,i.by)(),unconfirmedOrgReviewsSearchId:(0,i.by)(),unconfirmedEntityReviewsSearchId:(0,i.by)()}),(0,h.A)({id:v,searchId:o}),p({id:v,searchId:o})))))})))}));var B=s(40262);const Z=(0,r.gQ)("fetchEntityProfileWithCurrentViewpointIfNeeded",(e=>(0,B.D)((t=>(0,M.nM)({state:t,entityId:e.id})),_(e)))),U=(0,r.gQ)("fetchMultipleEntityProfileWithCurrentViewpoint",(e=>(0,f.zh)((t=>{if(!e.ids)return(0,r.ZT)();if(!e.experimentalPagination||e.ids.length<=100)return(0,v.py)({ids:e.ids,searchId:e.searchId,viewpoint:t,hash:e.hash});const s=[...e.ids],i=[];for(;s.length>0;)i.push(s.splice(0,100));return(0,r.Mf)(...i.map((s=>(0,v.py)({ids:s,searchId:e.searchId,viewpoint:t,hash:e.hash}))))}))))},60567:(e,t,s)=>{"use strict";s.d(t,{K:()=>o});var r=s(67753),i=s(95359),a=s(51919),n=s(10484);const o=(0,r.gQ)("setPhotoAlbum",(e=>(0,r.xJ)((t=>{const{frameId:s,selectedAlbum:o}=e,c=(0,n.iF)(t.appContext.frames,s);switch(null==c?void 0:c.type){case"entity":return(0,a.me)(s,(e=>Object.assign(Object.assign({},e),{tabPhoto:{photoAlbum:o}})));case"gallery":return(0,i.D_)(s,(e=>Object.assign(Object.assign({},e),{photoAlbum:o})));default:return(0,r.ZT)()}}))))},24947:(e,t,s)=>{"use strict";s.d(t,{Sb:()=>w,Uh:()=>j,dY:()=>k,ls:()=>I});var r=s(67753),i=s(64693),a=s(62377),n=s(89594),o=s(60067),c=s(31763),d=s(51919),l=s(96481),u=s(70021),p=s(70258),g=s(87627),m=s(354),h=s(65649),f=s(10484),v=s(55158),b=s(60750),y=s(88288),x=s(3797);function j({id:e,tab:t,tabQuery:s,filterValues:i={},frameId:a,entityReviewsSearchId:n,orgReviewsSearchId:o}){return(0,r.Rh)((({featureReadOnly:c})=>(0,r.xJ)((r=>{const d=(0,u.nM)({state:r,entityId:e}),m=(0,f.iF)(r.appContext.frames,a),h=d&&d.data;if(!h)return;if(!m)return;if("entity"!==m.type)return;const v=(0,g.Q6)({state:r,entityId:e,entityReviewsSearchId:n,orgReviewsSearchId:o,featureReadOnly:c}),b="realty"===t&&(0,x.J)(h)?t:(0,l.d)(v,t||m.tab);return b?w({entityId:e,frameId:a,tab:b,buildingId:(0,p.V)(h),tabQuery:s,filterValues:i}):void 0}))))}const w=(0,r.gQ)("setEntityTab",(e=>{const{frameId:t,entityId:s,buildingId:o,tab:c,tabQuery:l="",filterValues:p={}}=e,g=!e.searchId;switch(c){case"inside":return o?g?(0,n.ZS)({frameId:t,buildingId:o,filterValues:p,query:l}):(0,d.me)(t,(e=>e.tabInside?Object.assign(Object.assign({},e),{tab:c,tabInside:Object.assign(Object.assign({},e.tabInside),{tabQuery:e.tabInside.query})}):e)):(0,r.ZT)();case"prices":{const e=s;return(0,r.Mf)((0,d.me)(t,(t=>Object.assign(Object.assign({},t),{tab:c,tabPrices:{searchId:e}}))),(0,m.gF)({categories:e=>(0,v.ch)({state:e,id:s})},(({categories:t})=>!t.meta&&(0,m._N)(h.O,(t=>(0,a.X)({branchId:s,offersSearchId:e,locale:t}))))))}case"realty":return(0,m.gF)({entity:e=>(0,u.nM)({state:e,entityId:s}).data},(({entity:e})=>{var i,a;const n="branch"===(null==e?void 0:e.type)&&(null===(a=null===(i=null==e?void 0:e.group)||void 0===i?void 0:i.find((e=>"building"===e.type)))||void 0===a?void 0:a.id)||s;return(0,r.Mf)((0,d.me)(t,(e=>Object.assign(Object.assign({},e),{tab:c,tabRealty:Object.assign(Object.assign({},e.tabRealty),{geoId:n})}))),(0,m._N)(y.hp,(e=>e&&(0,y.pm)(e))))}));case"services":return o?g?_(t,o):(0,d.me)(t,(e=>{const t=e.tabServices?Object.assign(Object.assign({},e.tabServices),{page:1}):void 0;return Object.assign(Object.assign({},e),{tab:c,tabServices:t})})):(0,r.ZT)();case"providers":return o?g?C(t,o):(0,d.me)(t,(e=>{const t=e.tabProviders?Object.assign(Object.assign({},e.tabProviders),{page:1}):void 0;return Object.assign(Object.assign({},e),{tab:c,tabProviders:t})})):(0,r.ZT)();case"reviews":return(0,m.WW)(t,(e=>"entity"===e.type),(e=>{const a=!e.tabReviews;return(0,r.Mf)(a?(0,b.ah)({frameId:t,id:s,searchId:e.searchId,entityReviewsSearchId:(0,i.by)(),orgReviewsSearchId:(0,i.by)(),unconfirmedEntityReviewsSearchId:(0,i.by)(),unconfirmedOrgReviewsSearchId:(0,i.by)(),type:e.entityType}):(0,r.ZT)(),(0,d.me)(t,(e=>Object.assign(Object.assign({},e),{tab:c}))))}));default:return(0,d.me)(t,(e=>Object.assign(Object.assign({},e),{tab:c})))}})),_=(e,t)=>{const s=(0,i.by)(),a=(0,i.by)();return(0,r.vP)((0,d.me)(e,(e=>Object.assign(Object.assign({},e),{tab:"services",tabServices:Object.assign(Object.assign({},e.tabServices),{searchId:s,gtaId:a,page:1})}))),k({buildingId:t,searchId:s,gtaId:a,page:1,withStandardPageSize:!0}))},C=(e,t)=>{const s=(0,i.by)(),a=(0,i.by)();return(0,r.vP)((0,d.me)(e,(e=>Object.assign(Object.assign({},e),{tab:"providers",tabProviders:Object.assign(Object.assign({},e.tabProviders),{searchId:s,gtaId:a,page:1})}))),I({buildingId:t,searchId:s,gtaId:a,page:1,withStandardPageSize:!0}))},I=(0,r.gQ)("fetchFirmsProvidersWithCurrentViewpoint",(e=>(0,m.zh)((t=>(0,c.I)({buildingId:e.buildingId,searchId:e.searchId,gtaId:e.gtaId,more:e.more,withStandardPageSize:e.withStandardPageSize,page:e.page,viewpoint:t}))))),k=(0,r.gQ)("fetchFirmsMaintainersWithCurrentViewpoint",(e=>(0,m.zh)((t=>(0,o.r)({buildingId:e.buildingId,searchId:e.searchId,gtaId:e.gtaId,more:e.more,withStandardPageSize:e.withStandardPageSize,page:e.page,viewpoint:t})))))},60750:(e,t,s)=>{"use strict";s.d(t,{ah:()=>_,eY:()=>j,fE:()=>w});var r=s(67753),i=s(10694),a=s(28026),n=s(9911),o=s(51919),c=s(51604),d=s(13130),l=s(354),u=s(87203),p=s(70021),g=s(24777),m=s(65590),h=s(40262),f=s(68276),v=s(97825),b=s(18869),y=s(71686),x=s(87627);function j(e){const{id:t}=e;return(0,r.xJ)((s=>{const i=(0,b.J)(s),a=(0,y.Jn)(i),n=(0,x.Ec)(t)(s);return(0,r.Rh)((({featureReadOnly:s})=>s?(0,r.ZT)():(0,r.Mf)(_(e),(0,r.XJ)((0,f.DV)({id:t,albumId:v.n4,searchCtx:a,searchKeyword:n})))))}))}function w(e,t,s,i,o,c){return(0,r.xJ)((l=>{var f,v;const b=(0,p.wj)({state:l,entityId:e,searchId:s});if(!b||!b.data||!(0,n.s)(b.data))return;const y=b.data,x=i.isOrg?"org":(0,d.J)(y)?"branch":"geo",j="org"===x&&(0,d.J)(y)?y.org.id:y.id,w=!!(null===(v=null===(f=y.ads)||void 0===f?void 0:f.options)||void 0===v?void 0:v.review),_=!!i.onlyAnswered||void 0;return(0,r.Mf)((0,a.B)({type:x,id:j,searchId:t,isAdvertiser:w,withAnswer:_,ratings:i.ratings,facts:c}),"geo"!==x&&(0,h.D)((0,g.UB)(j),(0,u.J)({id:j,isAdvertiser:w,type:x})),(0,m.WT)({entityId:e,frameId:o,orgId:i.isOrg?j:void 0}))}))}function _(e){const{id:t,searchId:s,frameId:u,entityReviewsSearchId:p,orgReviewsSearchId:g,unconfirmedOrgReviewsSearchId:h,unconfirmedEntityReviewsSearchId:f}=e;return(0,i.wN)({entityId:t,searchId:s},(e=>{var s,i,v;const b=e&&e.data;if(!b||!(0,n.s)(b))return;const y=(0,d.J)(b)&&!!(null===(s=b.reviews)||void 0===s?void 0:s.is_org_reviews)&&b.org.branch_count>1,x={entityReviewsSearchId:(0,c.Ue)(p),orgReviewsSearchId:(0,c.Ue)(g),unconfirmedOrgReviewsSearchId:h,unconfirmedEntityReviewsSearchId:f,isOrg:y,onlyAnswered:!1},j=(0,d.J)(b),w=(0,d.J)(b)?b.org.id:void 0,_=y&&w?"org":j?"branch":"geo",C=y?w:t,I=!!(null===(v=null===(i=b.ads)||void 0===i?void 0:i.options)||void 0===v?void 0:v.review),k="org"===_?g:p;return C?(0,r.Mf)((0,o.me)(u,(e=>Object.assign(Object.assign({},e),{tabReviews:x}))),(0,r.vP)((0,a.B)({id:C,type:_,isAdvertiser:I,searchId:k}),(0,l._N)((e=>{var t,s;return null===(s=null===(t=e.data.reviewSearch[k])||void 0===t?void 0:t.data)||void 0===s?void 0:s.total}),(e=>"branch"===_&&!e&&w?(0,a.B)({id:w,type:"org",isAdvertiser:I,searchId:g}):(0,r.ZT)()))),(0,m.Bf)({entityId:t})):void 0}))}},10559:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var r=s(10694),i=s(67753),a=s(85950);function n({id:e,searchId:t}){return(0,r.wN)({entityId:e,searchId:t},(t=>{var s,r,n,o,c,d,l;const u=t.data;if(!u||"branch"!==u.type)return(0,i.ZT)();const p=null===(n=null===(r=null===(s=null==u?void 0:u.ads)||void 0===s?void 0:s.options)||void 0===r?void 0:r.videos)||void 0===n?void 0:n[0],g=null===(d=null===(c=null===(o=null==u?void 0:u.ads)||void 0===o?void 0:o.options)||void 0===c?void 0:c.fmcg)||void 0===d?void 0:d[0],m=(null===(l=null==g?void 0:g.videos)||void 0===l?void 0:l[0])||p;return m?(0,a.o)({id:e,videoUrl:m.resources_description_url}):(0,i.ZT)()}))}},34079:(e,t,s)=>{"use strict";s.d(t,{L:()=>h});var r=s(67753),i=s(354),a=s(66030),n=s(31559),o=s(52981),c=s(29600),d=s(95328),l=s(2267),u=s(64693),p=s(69088),g=s(10694),m=s(57789);const h=(0,r.gQ)("openFavoriteItem",(e=>{const{type:t,favoriteId:s,shouldCenterMap:h=!0,isOpenedFromMap:f}=e,v="private"===t?a.PP:n.jM;return(0,i._N)(v(s),(e=>{if(!e)return(0,r.ZT)();const t=e.point||e.source_point;if(e.object_id&&e.object_type){const s=(0,u.by)(),i=(0,u.by)(),a=(0,u.by)(),n=(0,u.by)(),c=e.object_id;return(0,g.wN)({entityId:c},(d=>{var u,g;const v=(0,m.m)(d.data);return!d.data||v&&v.id!==c?(0,r.vP)((0,l.HP)({frameId:s,gtaId:i,point:t,searchId:a,statusId:n}),(0,o.WZ)({entityId:c,frameId:s,statusId:n,searchId:a,gtaId:i,isOpenedFromMap:f}),h&&(0,p.vr)({entityId:c})):(0,o.xo)({id:null!==(u=null==v?void 0:v.id)&&void 0!==u?u:c,type:null!==(g=null==v?void 0:v.type)&&void 0!==g?g:e.object_type,shouldFitEntityInMapView:h,point:t,isOpenedFromMap:f})}))}return t?(0,r.vP)((0,c.BN)(),(0,d.W)({point:t,shouldCenterMap:h})):(0,r.ZT)()}))}))},23248:(e,t,s)=>{"use strict";s.d(t,{B:()=>l});var r=s(67753),i=s(45717),a=s(9297),n=s(354),o=s(26287),c=s(95914),d=s(64693);const l=(0,r.gQ)("createCollection",(e=>{const{title:t,color:s,collectionId:l=(0,d.by)(),skipSync:u,isDefault:p,order:g}=e;return(0,n._N)(o.Z_,(e=>{const n=e.admDiv.data,o=e.project.data,d=n&&n.regionId||o&&o.id,m=n&&n.segmentId,h=(0,c.g)(d,m),f={id:l,type:"collection",color:s,collection_id:l,title:t,project_id:[h],is_default:p,order:g};return(0,r.vP)((0,i.D)({[l]:f}),u?(0,r.ZT)():(0,a.K)())}))}))},92398:(e,t,s)=>{"use strict";s.d(t,{d:()=>m});var r=s(10694),i=s(45717),a=s(64693),n=s(67753),o=s(354),c=s(874),d=s(95914),l=s(79876),u=s(28098),p=s(52981),g=s(51313);const m=(0,n.gQ)("createItemInCollection",(e=>{const{collectionId:t,item:s}=e;return(0,n.vP)((0,p.wk)({id:s.object_id,searchId:void 0}),(0,o._N)((0,u.vE)(t),(e=>{if(e.find((e=>(0,l.G)(e,s))))return(0,n.ZT)();const o=(0,a.by)();return"point"===s.object_type?(0,i.D)({[o]:h({itemId:o,collectionId:t,entity:{type:"point",point:s.point},point:s.point})}):(0,r.wN)({entityId:s.object_id},(e=>{const r=e.data;return r?(0,i.D)({[o]:h({itemId:o,collectionId:t,entity:r,point:s.point})}):(0,n.ZT)()}))})))}));function h(e){const{itemId:t,collectionId:s,entity:r,point:i}=e;return"point"===r.type?{id:t,collection_id:s,type:"favorite",project_id:[c.bw],point:i,source_point:i}:{id:t,collection_id:s,type:"favorite",object_id:r.id,object_type:r.type,project_id:[(0,d.g)(r.region_id,r.segment_id)],point:i,source_data:JSON.stringify((0,g.q)(r)),source_point:i,system_create_time:String(Date.now())}}},45717:(e,t,s)=>{"use strict";s.d(t,{D:()=>a});var r=s(354),i=s(34072);function a(e){return(0,r._N)((e=>e.data.favoritesPersonal.sync),(t=>(0,i.D)({sync:t,objects:e})))}},9297:(e,t,s)=>{"use strict";s.d(t,{K:()=>d});var r=s(52839),i=s(354),a=s(67753),n=s(76517),o=s(99107),c=s(14169);function d(){return(0,i._N)((e=>e.data.favoritesPersonal.sync),(e=>(0,c.M)((0,a.vP)((0,r.K)({sync:e}),(0,a.xJ)((e=>{const t=e.appContext.frames.find(n.f);return t?(0,o.R)(t.subtype,t.collectionId,t.visibleItemsLimit):(0,a.ZT)()}))))))}},53545:(e,t,s)=>{"use strict";s.d(t,{s:()=>l});var r=s(51453),i=s(354),a=s(67753),n=s(1184),o=s(10694),c=s(2234),d=s(52981);function l(){return(0,i._N)((e=>e.data.favoritesPlaces.sync),(e=>(0,a.vP)((0,r.s)({sync:e}),(0,a.xJ)((e=>{const t=e.data.favoritesPlaces.objects,s=(0,n.s0)(t).map((e=>e&&e.object_id));if(0===s.length)return(0,a.ZT)();const r=s.map((e=>e?(0,o.wN)({entityId:e},(t=>(0,c.G)(t)?(0,d.DZ)({id:e,searchId:void 0}):(0,a.ZT)())):(0,a.ZT)()));return r.length>0?(0,a.Mf)(...r):(0,a.ZT)()})))))}},47963:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var r=s(354),i=s(26287),a=s(45843),n=s(67753);function o(){return(0,r.gF)({projectId:i.yH,countryCode:e=>e.config.defaultCountryCode.toLowerCase(),sync:e=>e.data.favoritesPublic.sync},(({projectId:e,countryCode:t,sync:s})=>e?(0,a.gM)({projectId:e,countryCode:t,sync:s}):(0,n.ZT)()))}},51313:(e,t,s)=>{"use strict";s.d(t,{q:()=>i});var r=s(1184);function i(e){if("type"in e)return Object.assign(Object.assign({},(0,r.ei)(e,["access_comment","access","address_comment","address","adm_div","authors","barrier","building_name","capacity","comment","contact_groups","dates","description","floors","from_name","group","is_incentive","is_paid","level_count","name_ex","name","purpose_name","purpose","rubrics","subtype_specification","subtype","to_name","type"])),"org"in e?{org:{id:e.org.id}}:{})}},80837:(e,t,s)=>{"use strict";s.d(t,{$:()=>o});var r=s(67753),i=s(40262),a=s(78059),n=s(87627);const o=(0,r.gQ)("fetchEntityProfileByIdIfNeeded",(e=>{const{id:t,searchId:s}=e;return t?(0,i.D)((0,n.lh)(t),(0,a.Dz)({id:t,searchId:s})):(0,r.ZT)()}))},40262:(e,t,s)=>{"use strict";s.d(t,{D:()=>a});var r=s(67753),i=s(2234);const a=(0,r.gQ)("fetchIfMissing",((e,t)=>(0,r.xJ)((s=>(0,i.G)(e(s))?t:(0,r.ZT)()))))},21547:(e,t,s)=>{"use strict";s.d(t,{_:()=>i});var r=s(23150);function i(){return(0,r.Kn)({type:"map:hint",event:void 0})}},29600:(e,t,s)=>{"use strict";s.d(t,{BJ:()=>h,BN:()=>g,dc:()=>m});var r=s(2878),i=s(47818),a=s(67753),n=s(52138),o=s(80186),c=s(24306),d=s(44154),l=s(66204),u=s(26287);function p(e){return{appContext:Object.assign(Object.assign({},e.appContext),{weak:void 0})}}const g=e=>{const t=(0,a.xJ)((e=>(0,r.O8)({url:(0,i.M)((0,n.V)(e)),state:p(e)})));return e?(0,a.vP)(t,e):t},m=e=>(0,a.xJ)((t=>(0,a.vP)((0,r.lO)({appContext:Object.assign(Object.assign({},e.appContext),{weak:t.appContext.weak})}),(0,l.xU)({suggesterKey:"primary",query:void 0}),(0,l.xU)({suggesterKey:"inbuilding",query:void 0}),(0,a.Mf)((0,c.G)(),(0,o.en)()))));function h(e,t){var s;const r=p(e);return"pending"===(null===(s=r.appContext.frames[0])||void 0===s?void 0:s.type)||t&&(0,d.w)(r.appContext,p(t).appContext)&&(0,u.k2)(e)===(0,u.k2)(t)&&t.appContext.weak.showSlugsNeededOnlyForStartup===e.appContext.weak.showSlugsNeededOnlyForStartup?{url:void 0,historyState:void 0}:{url:(0,i.M)((0,n.V)(e)),historyState:r}}},13754:(e,t,s)=>{"use strict";s.d(t,{zG:()=>x,tj:()=>y,v0:()=>j});var r=s(69088),i=s(67753),a=s(66071),n=s(95359),o=s(354),c=s(3454),d=s(50922),l=s(29600),u=s(66204),p=s(33752),g=s(14169),m=s(74246),h=s(26287),f=s(78059),v=s(10484);const b=e=>{const t=e.appContext.frames;return!!(0,v.t0)(t,"friendsList")||!!(0,v.t0)(t,"userPublicProfile")},y=(0,i.gQ)("updateLayer",(e=>{const{newLayer:t,manual:s}=e;return(0,g.M)((0,o._N)((e=>e.appContext.activeLayer),(e=>e===t?(0,i.ZT)():(0,i.Rh)((r=>{if("realty"!==t||r.featureRealty)return(0,i.vP)(x({layer:e}),function(e){const{layer:t,manual:s}=e;switch(t){case"realty":return(0,a.T)();case"exchange":return(0,p.E)();case"metro":case"photos":case"eta":case"parkings":case"tourism":return(0,i.vP)(j(t),(0,c.t9)(t),(0,l.BN)(),(0,i.XJ)((0,d.D_)()));case"friends":return(0,i.vP)(s?(0,n.xO)():(0,i.ZT)(),(0,c.t9)(t),(0,l.BN)(),(0,i.XJ)((0,d.D_)()));case"backTo2004":return(0,o._N)(m.n,(e=>e?(0,i.ZT)():(0,i.vP)((0,c.t9)("backTo2004"),(0,l.BN)(),(0,i.XJ)((0,d.D_)()))));case"roadAccident":return(0,o._N)(h.k2,(e=>e?(0,i.vP)((0,f.Dz)({id:e,searchId:void 0}),(0,c.t9)(t),(0,i.XJ)((0,d.D_)())):(0,i.vP)((0,c.t9)(t),(0,i.XJ)((0,d.D_)()))));default:return void 0}}({layer:t,manual:s}))})))))})),x=(0,i.gQ)("switchOff",(e=>{const{layer:t}=e;if(!t)return(0,i.ZT)();switch(t){case"eta":case"metro":case"photos":case"parkings":case"backTo2004":case"roadAccident":case"tourism":return(0,c.u$)();case"exchange":case"realty":return(0,i.vP)((0,n.xO)(),(0,i.Mf)((0,u.xU)({suggesterKey:"primary",query:void 0}),(0,u.xU)({suggesterKey:"inbuilding",query:void 0})));case"friends":return(0,i.vP)((0,c.u$)(),(0,o._N)(b,(e=>e?(0,n.xO)():(0,i.ZT)())));default:return(0,i.ZT)()}}));const j=e=>"parkings"===e?(0,i.XJ)("parkings"===e?(0,o._N)((e=>e.appContext.zoom),(e=>e<15.5?(0,r.Nr)({zoom:15.5}):(0,i.ZT)())):(0,i.ZT)()):(0,i.ZT)()},41198:(e,t,s)=>{"use strict";s.d(t,{k:()=>d});var r=s(67753),i=s(36546),a=s(47487),n=s(65590),o=s(15197),c=s(54181);const d=(0,r.gQ)("logout",(()=>(0,r.vP)((0,r.Mf)((0,i.I)(),(0,o.Y)(),(0,c.s)(),(0,a.K)({}),(0,n.A0)()),(0,r.PQ)((()=>{var e;"undefined"!=typeof window&&(null===(e=window.sdk)||void 0===e||e.logout({reload:!0}))})))))},69088:(e,t,s)=>{"use strict";s.d(t,{k2:()=>E,vr:()=>S,KO:()=>M,_4:()=>k,E2:()=>P,$x:()=>N,Nr:()=>O});var r=s(56238),i=s(67753),a=s(80186),n=s(29600),o=s(10694),c=s(354),d=s(42313),l=s(24864),u=s(56104),p=s(93011),g=s(24973),m=s(49013),h=s(10484),f=s(26287),v=s(7262),b=s(2421),y=s(52981);var x=s(11447),j=s(87324),w=s(39628),_=s(11473),C=s(64693),I=s(17818);function k(e){return(0,i.Yz)("setMapViewManually")((0,n.BN)(),O(e))}function O(e){return(0,i.Yz)("updateMapView")((0,r.xN)({center:e.lon&&e.lat?[e.lon,e.lat]:void 0,zoom:e.zoom,rotation:e.rotation,pitch:e.pitch,duration:e.duration,easing:e.easing,animate:e.animate}))}const S=(0,i.gQ)("fitEntityInMapView",(e=>(0,i.vP)((0,y.wk)({id:e.entityId,searchId:void 0}),(0,u.yy)({dontUpdateResultsOnNextMapMove:!0}),(0,o.wN)({entityId:e.entityId},((t,s)=>{const r=t.data;if(r)return function(e){var t;return"adm_div"===e.type&&"city"===e.subtype&&(null===(t=e.flags)||void 0===t?void 0:t.is_default)}(r)?(0,i.vP)((0,a.sz)(s,r.region_id),(0,i.xJ)((e=>{const t=(0,x.D4)({state:e,id:r.region_id}),s=t&&t.data?t.data.default_pos:void 0;return s?O(s):(0,i.ZT)()}))):(0,c.gF)({viewpoint:d.Id},(({viewpoint:t})=>{if(e.onlyIfOutOfViewpoint&&(({entity:e,viewpoint:t})=>{if(!(0,w.V)(e))return!1;const s=(0,_.Y)(e);return!!s&&!(Array.isArray(s)?(0,C.xH)(s):[s]).find((e=>!(0,I.n)({point:e,viewpoint:t,margin:0})))})({entity:r,viewpoint:t}))return(0,i.ZT)();const a=(0,j.B)({entity:r,state:s});return a?O(a):(0,i.ZT)()}))}))))),N=(0,i.gQ)("updateAfterMapViewChange",(({center:e=[],rotation:t,pitch:s,zoom:n})=>(0,c._N)(d.Hr,(o=>(0,i.vP)(M(),(0,r.xn)({lon:e[0],lat:e[1],zoom:n,rotation:t,pitch:s}),(0,c.gF)({dontUpdateResultsOnNextMapMove:e=>e.appContext.weak.dontUpdateResultsOnNextMapMove,regionId:f.k2},(({dontUpdateResultsOnNextMapMove:e,regionId:t})=>e?(0,i.vP)((0,u.yy)({dontUpdateResultsOnNextMapMove:!1}),(0,i.XJ)((0,i.vP)((0,b.l)({update:!0}),P()))):(0,i.Mf)((0,l.t)({prevZoom:o,afterMapViewChange:!0}),(0,u.yy)({realtyListRegionId:t})))),(0,c._N)((e=>(0,f.Z_)(e).admDiv.data),(e=>(0,i.vP)((0,a.en)(),(0,v.Mh)(e)))),(0,r.og)()))))),M=(0,i.gQ)("onceMapInteractionStart",(()=>(0,i.XJ)((0,i.xJ)((e=>e.appContext.weak.mapInteractionStarted?(0,i.ZT)():(0,u.QT)()))))),T=(0,i.gQ)("setMapViewToMarkersOnFloor",(e=>(0,c.gF)({currentZoom:e=>e.appContext.zoom,rotation:e=>e.appContext.rotation,offset:d.v9,screen:e=>e.session.screen,searchFrame:e=>(0,h.Di)(e.appContext.frames)},(({currentZoom:t,rotation:s,offset:a,screen:n,searchFrame:o})=>{if(!o||"inbuilding"!==o.searchType)return(0,i.ZT)();const c=(0,m.o)(n,a),d=(0,g.getCenterZoomByPoints)(e.map((e=>e.point)),s,[c.width,c.height]);if(!d)return(0,i.ZT)();const{center:l,zoom:u}=d;return(0,r.xN)({center:l,zoom:u<t&&u>=17?u:t})})))),P=(0,i.gQ)("switchFloorIfNoMarkersOnCurrent",(()=>(0,c.gF)({markersOnFloors:d.S,currentFloor:e=>e.appContext.floors&&e.appContext.floors.currentFloor,isManuallySelected:e=>{var t;return null===(t=e.appContext.floors)||void 0===t?void 0:t.isManuallySelected}},(({markersOnFloors:e,currentFloor:t,isManuallySelected:s})=>{if(!e)return(0,i.ZT)();if(void 0!==t&&e[t]&&e[t].length>0)return T(e[t]);if(s)return(0,i.ZT)();const a=(0,p.M)(e);return void 0!==a?(0,i.vP)((0,r.EL)({floorIndex:a,isManuallySelected:!1}),T(e[a])):(0,i.ZT)()})))),E=(0,i.gQ)("clearHoveredMarker",(()=>(0,c.gF)({hoveredId:e=>e.appContext.weak.hoveredId},(({hoveredId:e})=>e?(0,u.yy)({hoveredId:void 0}):(0,i.ZT)()))))},60909:(e,t,s)=>{"use strict";s.d(t,{t:()=>l});var r=s(67753),i=s(49013),a=s(24973),n=s(56238),o=s(354),c=s(42313),d=s(97825);const l=(0,r.gQ)("centerMapByPoints",(e=>(0,o.gF)({rotation:e=>e.appContext.rotation,screen:e=>e.session.screen,offset:c.v9},(({rotation:t,screen:s,offset:r})=>{const o=(0,i.o)(s,r),c=(0,a.getCenterZoomByPoints)([...e.map((e=>[e.lon,e.lat]))],t,[o.width,o.height]);if(!c)return;const{center:l,zoom:u}=c;return(0,n.xN)({center:l,zoom:u-d.Tj})}))))},90257:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var r=s(67753),i=s(92141),a=s(83575),n=s(354);const o=(0,r.gQ)("minimizeDataViewerIfNotDashboard",(()=>(0,a.a)((0,n._N)((e=>0===e.appContext.frames.length),(e=>!e&&(0,i.kG)({isMinimized:!0}))))))},2701:(e,t,s)=>{"use strict";s.d(t,{O:()=>n});var r=s(354),i=s(18337),a=s(7763);const n=e=>(0,r._N)((e=>{var t;return!(!(null===(t=e.appContext)||void 0===t?void 0:t.popup)||!("requireConfirmationOnClose"in e.appContext.popup))&&!!e.appContext.popup.requireConfirmationOnClose}),(t=>t?(0,a.$0)((t=>(0,i.R)(t.tp._t("Закрыть окно? Ваши изменения не сохранятся"),e))):e()))},71384:(e,t,s)=>{"use strict";s.d(t,{X:()=>d});var r=s(67753),i=s(78059),a=s(354),n=s(52981),o=s(10484),c=s(64693);const d=(0,r.gQ)("openEntityProfileCardNoType",(({id:e,shouldFitEntityInMapView:t})=>(0,a._N)((e=>{var t;return null===(t=(0,o.t0)(e.appContext.frames,"userProfile"))||void 0===t?void 0:t.searchId}),(s=>(0,r.vP)((0,i.Dz)({id:e,searchId:s||(0,c.by)()}),(0,a._N)((t=>{var s,r;return null===(r=null===(s=t.data.entity.profile[e])||void 0===s?void 0:s.data)||void 0===r?void 0:r.type}),(s=>s?(0,n.xo)({id:e,type:s,shouldFitEntityInMapView:t}):(0,r.ZT)())))))))},12759:(e,t,s)=>{"use strict";s.d(t,{a:()=>g});var r=s(67753),i=s(64693),a=s(33451),n=s(97825),o=s(354),c=s(18869),d=s(71686),l=s(87627),u=s(42011),p=s(68276);const g=(0,r.gQ)("openMediaComplaintPopup",(e=>(0,o.gF)({frame:e=>e.appContext.frames[0],queryContext:e=>(0,c.J)(e)},(({frame:t,queryContext:s})=>{const c="gallery"===t.type?t.entityId:void 0,g="gallery"===t.type?t.photoAlbum:void 0,m=(0,d.Jn)(s);return c?(0,o.gF)({searchKeyword:(0,l.Ec)(c),featureVideoInGallery:e=>e.config.featureVideoInGallery},(({searchKeyword:t,featureVideoInGallery:s})=>{var o,d;return s?(0,u.withMediaAlbum)({objectId:c,albumId:null!==(o=null==g?void 0:g.id)&&void 0!==o?o:n.n4,searchCtx:m,searchKeyword:t},(t=>{const s=null==t?void 0:t.pages.flatMap((e=>e.items)).find((t=>t.id===e));return s?(0,a.Mw)({id:(0,i.by)(),type:"complaint",subtype:"media",itemId:e,objectId:c,objectType:s.real_object_type}):(0,r.ZT)()})):(0,p.EU)({id:c,albumId:null!==(d=null==g?void 0:g.id)&&void 0!==d?d:n.n4,searchCtx:m,searchKeyword:t},(t=>{const s=null==t?void 0:t.pages.flatMap((e=>e.items)).find((t=>t.id===e));return s?(0,a.Mw)({id:(0,i.by)(),type:"complaint",subtype:"photo",itemId:e,objectId:c,objectType:s.real_object_type}):(0,r.ZT)()}))})):(0,r.ZT)()}))))},59254:(e,t,s)=>{"use strict";s.d(t,{C:()=>a});var r=s(67753),i=s(27516);const a=(0,r.gQ)("openComplaintPopup",(e=>(0,i.mk)("openReviewComplaint",{reviewId:e})))},62230:(e,t,s)=>{"use strict";s.d(t,{i:()=>w});var r=s(67753),i=s(55476),a=s(354),n=s(29759);const o="dg5_numberOfReviewsSent",c="dg5_previousShowTimeThanks",d="dg5_previousShowTimePhone",l=864e5,u="dg5_numberOfPhonePopupShows",p=(e,t)=>e%5==0&&(!t||Date.now()-t>=l),g=(e,t,s,r)=>{const i=(t||[]).reduce(((e,t)=>"checkin"!==t.type?e+t.count:e),0);if(e||t&&i<=10)return!1;const a=+n.tO.local.getItem(u)||0;return!(a>=3||s%3!=0||r&&Date.now()-r<l)&&(n.tO.local.setItem(u,a+1),!0)};var m=s(33021),h=s(64693),f=s(33451);var v=s(76171),b=s(36928),y=s(17774),x=s(77878),j=s(7763);const w=(0,r.gQ)("openEngagingPopup",(e=>{const{contentType:t,isPlacesTab:s}=e;return s?(0,r.ZT)():(0,r.Rh)((({featurePhone:s})=>(0,a.gF)({hasConfirmedPhone:i.DK,activities:i.Ue},(({hasConfirmedPhone:i,activities:a})=>{switch((e=>{const t=+n.tO.local.getItem(o)||0;n.tO.local.setItem(o,t+1);const s=+n.tO.local.getItem(c),r=+n.tO.local.getItem(d),i=p(t,s);return(null==e?void 0:e.featurePhone)&&g(null==e?void 0:e.hasConfirmedPhone,null==e?void 0:e.activities,t,r)?(n.tO.local.setItem(d,Date.now()),"phonePopup"):i?(n.tO.local.setItem(c,Date.now()),"thanksPopup"):void 0})({hasConfirmedPhone:i,featurePhone:s,activities:a})){case"phonePopup":return(0,m.i)();case"thanksPopup":switch(t){case"photo":return(0,f.Mw)({id:(0,h.by)(),type:"thanksForPhoto"});case"review":return(0,f.Mw)({id:(0,h.by)(),type:"thanksForReview"})}default:switch(t){case"photo":return(0,j.$0)((({tp:e})=>(0,v.c)((0,b.V)({title:e._t("Все фотографии успешно загружены"),message:""}))));case"review":const t=(0,y.H)({review:e.review});return t?(0,j.$0)((({tp:s})=>(0,v.c)((0,b.V)({title:s._t("Готово"),message:s._t("Спасибо за отзыв!"),bssName:"addReviewSuccess",payload:{reviewItem:Object.assign(Object.assign({},t),{progressBar:e.progressBar})}})))):((0,x.H)({message:"Не удалось сформировать payload.reviewItem для сообщения об успешном добавлении отзыва",level:"error",id:"fjhd90",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify(e.review)}}),(0,r.ZT)())}}}))))}))},64498:(e,t,s)=>{"use strict";s.d(t,{d:()=>l});var r=s(67753),i=s(60233),a=s(33451),n=s(70021),o=s(9911),c=s(64693),d=s(24947);const l=({source:e}={})=>(0,r.xJ)((t=>{const s=t.appContext.frames.find((e=>"entity"===e.type));if(!s||"entity"!==s.type)return(0,r.ZT)();const{entityId:l,searchId:u}=(0,i.G)(s,t);if(!l)return(0,r.ZT)();const p=(0,n.wj)({entityId:l,state:t,searchId:u});return p&&p.data&&(0,o.s)(p.data)?(0,r.Mf)((0,d.Sb)({frameId:s.id,entityId:l,tab:"reviews"}),(0,a.Mw)({id:(0,c.by)(),type:"createReview",entityId:l,searchId:s.searchId,sourceId:e})):(0,r.ZT)()}))},25449:(e,t,s)=>{"use strict";s.d(t,{hy:()=>z,oV:()=>R,L:()=>P,Nm:()=>E,Lo:()=>L,hz:()=>Z,LF:()=>F,Qu:()=>B,G4:()=>A});var r=s(27516),i=s(67753),a=s(10694),n=s(76171),o=s(36928);function c(e){switch(e){case"branch":case"geo":case"profile":return e;default:return"geo"}}var d=s(354),l=s(55476),u=s(51436),p=s(10484),g=s(83709),m=s(68276),h=s(6872),f=s(97825);const v=(e,t,s)=>{const r=null==s?void 0:s.find((e=>e.id===f.n4));return r&&1===r.count&&-1===t?[Object.assign(Object.assign({},r),{count:0})]:(null==s?void 0:s.length)?s.map((s=>s.id===f.n4||s.id===e&&s.id!==f.n4&&t<0?Object.assign(Object.assign({},s),{count:s.count+t}):s)):[{id:f.n4,name:"Все",count:t>0?t:0}]},b=({oldData:e,albumId:t,photos:s})=>{const r=null==e?void 0:e.pages.slice(1),i=(null==e?void 0:e.pages.length)?Object.assign(Object.assign({},e.pages[0]),{items:e.pages[0].items.length?[...s,...e.pages[0].items]:[...s],albums:v(t,s.length,e.pages[0].albums)}):{items:[...s],albums:v(t,s.length,null==e?void 0:e.pages[0].albums)};return Object.assign(Object.assign({pageParams:[]},e),{pages:(null==r?void 0:r.length)?[i,...r]:[i]})},y=({oldData:e,albumId:t,media:s})=>{const r=null==e?void 0:e.pages.slice(1),i=(null==e?void 0:e.pages.length)?Object.assign(Object.assign({},e.pages[0]),{items:e.pages[0].items.length?[...s,...e.pages[0].items]:[...s],albums:v(t,s.length,e.pages[0].albums)}):{items:[...s],albums:v(t,s.length,null==e?void 0:e.pages[0].albums)};return Object.assign(Object.assign({pageParams:[]},e),{pages:(null==r?void 0:r.length)?[i,...r]:[i]})},x=({oldData:e,albumId:t,photos:s})=>{const r=(null==e?void 0:e.pages.length)?null==e?void 0:e.pages.map((e=>Object.assign(Object.assign({},e),{items:e.items.filter((e=>!s.some((t=>t.id===e.id)))),albums:v(t,0-s.length,e.albums)}))):[{items:[],albums:[{id:f.n4,name:"Все",count:0}]}];return Object.assign(Object.assign({pageParams:[]},e),{pages:r})},j=({oldData:e,albumId:t,media:s})=>{var r;const i=(null==e?void 0:e.pages.length)?null==e?void 0:e.pages.map((e=>Object.assign(Object.assign({},e),{items:e.items.filter((e=>!s.some((t=>t.id===e.id)))),albums:v(t,0-s.length,e.albums)}))):[{items:[],albums:[{id:f.n4,name:"Все",count:0}],error:{type:void 0,message:void 0},meta:void 0,next_page_token:null===(r=null==e?void 0:e.pages[0])||void 0===r?void 0:r.next_page_token}];return{pageParams:(null==e?void 0:e.pageParams)||[],pages:i}},w=({oldData:e,albumId:t,diffs:s})=>{var r;return Object.assign(Object.assign({},e),{albums:v(t,s,null==e?void 0:e.albums),code:null!==(r=null==e?void 0:e.code)&&void 0!==r?r:200})};var _=s(60567),C=s(70021),I=s(95359),k=s(7763),O=s(18869),S=s(71686),N=s(72899),M=s(16617),T=s(87627);function P(e){return(0,r.mk)("openPhotoUploaderPopup",e)}const E=(0,i.gQ)("removePhoto",(e=>(0,d.gF)({userId:l.b1,oldPhoto:t=>(0,u.h)({state:t,id:e})},(({userId:t,oldPhoto:s})=>{if(!s.data||s.data.temporary)return(0,i.ZT)();const r=s.data.object;return r&&"profile"!==r.type?(0,i.vP)((0,g.z)({entityId:r.id,entityType:c(r.type),photoId:e,userId:t}),(0,a.KM)(e,(e=>e.data?(0,k.$0)((({tp:e})=>(0,n.c)((0,o.v)({title:e._t("Что-то пошло не так"),message:e._t("Фотография не удалилась")})))):void 0))):(0,i.ZT)()})))),L=(0,i.gQ)("removePhotoV3",(e=>{const{photo:t,entityId:s,albumId:r}=e;return(0,d.gF)({userId:l.b1,entity:e=>(0,C.nM)({state:e,entityId:s}).data,queryContext:e=>(0,O.J)(e),searchKeyword:(0,T.Ec)(e.entityId)},(({userId:d,entity:l,queryContext:u,searchKeyword:p})=>{if(!l)return(0,i.ZT)();const h=(0,S.Jn)(u);return(0,i.vP)(B({albumId:e.albumId,diffs:-1,entityId:e.entityId}),A({albumId:e.albumId,entityId:e.entityId,actionType:"remove"},[t]),e.albumId!==f.n4&&A({albumId:f.n4,entityId:e.entityId,actionType:"remove"},[t]),(0,g.z)({entityId:l.id,entityType:c(l.type),photoId:t.id,userId:d}),(0,a.KM)(t.id,(e=>e.data?(0,k.$0)((({tp:e})=>(0,n.c)((0,o.v)({title:e._t("Что-то пошло не так"),message:e._t("Фотография не удалилась")})))):(0,i.ZT)())),(0,m.EU)({id:s,albumId:r,searchCtx:h,searchKeyword:p},(e=>{const s=null==e?void 0:e.pages.reduce(((e,t)=>Object.assign(Object.assign({},e),{items:[...e.items,...t.items]}))).items;return(null==s?void 0:s.some((e=>e.id===t.id)))?(0,k.$0)((({tp:e})=>(0,n.c)((0,o.v)({title:e._t("Что-то пошло не так"),message:e._t("Фотография не удалилась")})))):(0,i.ZT)()})))}))}));function R(e){return(0,d.gF)({entityFrame:e=>(0,p.t0)(e.appContext.frames,"entity"),queryContext:e=>(0,O.J)(e)},(({entityFrame:t,queryContext:s})=>{const r=(0,S.Jn)(s),a=e.entityId||(null==t?void 0:t.id);return(0,d.gF)({searchKeyword:(0,T.Ec)(a)},(({searchKeyword:t})=>a&&!N.sk?(0,m.sv)({id:a,albumId:e.albumId,searchCtx:r,searchKeyword:t}):(0,i.ZT)()))}))}function z(e){return(0,d.gF)({entityFrame:e=>(0,p.t0)(e.appContext.frames,"entity")},(({entityFrame:t})=>{const s=e||(null==t?void 0:t.id);return s?(0,h.R7)({objectId:s}):(0,i.ZT)()}))}function A(e,t){return(0,d.gF)({entityFrame:e=>(0,p.t0)(e.appContext.frames,"entity"),queryContext:e=>(0,O.J)(e)},(({entityFrame:s,queryContext:r})=>{const a=e.entityId||(null==s?void 0:s.id),n=(0,S.Jn)(r);return(0,d.gF)({searchKeyword:(0,T.Ec)(a)},(({searchKeyword:s})=>a?(0,m.oD)({id:a,albumId:e.albumId,searchCtx:n,searchKeyword:s},(s=>"add"===e.actionType?b({oldData:s,albumId:e.albumId,photos:t}):x({oldData:s,albumId:e.albumId,photos:t}))):(0,i.ZT)()))}))}function F(e,t){return(0,d.gF)({entityFrame:e=>(0,p.t0)(e.appContext.frames,"entity"),queryContext:e=>(0,O.J)(e)},(({entityFrame:s,queryContext:r})=>{const a=e.entityId||(null==s?void 0:s.id),n=(0,S.Jn)(r);return(0,d.gF)({searchKeyword:(0,T.Ec)(a)},(({searchKeyword:s})=>a?M.cY.setAlbum({objectId:a,albumId:e.albumId,searchCtx:n,searchKeyword:s},(s=>"add"===e.actionType?y({oldData:s,albumId:e.albumId,media:t}):j({oldData:s,albumId:e.albumId,media:t}))):(0,i.ZT)()))}))}function B(e){return(0,d.gF)({frame:e=>e.appContext.frames[0]},(({frame:t})=>{var s;if("entity"===t.type||"gallery"===t.type){const r=e.entityId||t.entityId,a="entity"===t.type?null===(s=null==t?void 0:t.tabPhoto)||void 0===s?void 0:s.photoAlbum:t.photoAlbum;return r?(0,i.vP)((0,h.MS)({objectId:r},(t=>w({oldData:t,albumId:e.albumId,diffs:e.diffs}))),a&&(0,_.K)({frameId:t.id,selectedAlbum:Object.assign(Object.assign({},a),{count:a.count+e.diffs})})):(0,i.ZT)()}return(0,i.ZT)()}))}const Z=(0,i.gQ)("setCurrentPhotoId",(e=>{const{frameId:t,photoId:s}=e;return(0,I.D_)(t,(e=>{if("gallery"===e.type)return Object.assign(Object.assign({},e),{photoId:s})}))}))},72484:(e,t,s)=>{"use strict";s.d(t,{U:()=>o});var r=s(67753),i=s(29600),a=s(33451),n=s(64693);function o(e,t){return(0,r.Mf)((0,i.BN)(),(0,a.Mw)({id:(0,n.by)(),type:"feedback",subtype:e,rating:t}))}},41582:(e,t,s)=>{"use strict";s.d(t,{h:()=>f});var r=s(67753),i=s(354),a=s(17803),n=s(43854),o=s(95359),c=s(29600),d=s(66071),l=s(83575),u=s(10694),p=s(26483),g=s(76329),m=s(12551),h=s(10484);const f=(0,r.gQ)("closeRealtyFrames",(()=>(0,i.gF)({frame:e=>e.appContext.frames[0],realtyFrame:e=>(0,h.t0)(e.appContext.frames,"realty")},(({frame:e,realtyFrame:t})=>t?(0,a.yb)(e)?(0,r.vP)((0,o.t7)({id:e.id}),(0,l.C)((0,n.nv)((e=>(null==e?void 0:e.entity)&&"building"===e.entity.type?e.suggestId?(0,u.wN)({entityId:e.suggestId},(t=>!(null==t?void 0:t.data)||(0,p.N)(t.data)?(0,d.T)():(0,d.T)({entity:{id:t.data.id,type:t.data.type},suggestId:null==e?void 0:e.suggestId}))):(0,d.T)():(0,r.ZT)())))):(0,g.B)(e)&&t.previousRealtyId?(0,m.i)({realtyId:t.previousRealtyId}):(0,n.Bg)(e)?e.entity&&"building"===e.entity.type?(0,d.T)():(0,c.BN)((0,o.xO)()):(0,c.BN)((0,o.t7)({id:e.id})):(0,l.a)((0,d.T)())))))},80186:(e,t,s)=>{"use strict";s.d(t,{en:()=>P,sz:()=>N,ly:()=>E});var r=s(67753),i=s(35125);(0,r.gQ)("setRegionDetector",((e,t)=>{const s=t?t.region_id:e.id;return(0,i.k8)({id:null==t?void 0:t.id,name:(null==t?void 0:t.name)||e.name,regionId:s,type:"adm_div.city",countryCode:e.country_code,overlapRegionId:s,allowChangeDomain:!0})}));var a=s(11447),n=s(66842),o=s(26287),c=s(49013),d=s(28564),l=s(7262),u=s(54400),p=s(354),g=s(32712),m=s(65649),h=s(76497);const f=(0,r.gQ)("trackAudienceCounter",(e=>(0,r.XJ)((0,p._N)(m.O,(t=>(0,g.u9)({payload:{audienceCounter:{counterType:"launch",link:window.location.href,referrer:"2gis",segmentInfo:{segmentId:e,baseLocale:"0"===e?void 0:t}}}}))))));var v=s(52138),b=s(47818),y=s(57953),x=s(42313),j=s(64693),w=s(52443),_=s(47963),C=s(28167);var I=s(874),k=s(50922),O=s(8082);function S(){return(0,r.xJ)((e=>{const t=(0,o.Z_)(e).admDiv;if((0,C.e)(e.appContext.zoom))return(0,i.HV)();const s=e.appContext.center,a=(0,x.v9)(e),d=(0,c.o)(e.session.screen,a);if(0===d.width||0===d.height)return(0,r.ZT)();const l=e.appContext.pitch,u=e.appContext.rotation,p={width:Math.round(d.width/2),height:Math.round(d.height/2)},g=Math.round(e.appContext.zoom),m=(0,n.ds)({center:s,zoom:g,mapSize:p,pitch:l,rotation:u});return(0,r.vP)((0,i.R)({geometry:m,searchId:I.Iv,zoomLevel:g}),(0,r.xJ)((e=>{const s=(0,o.kG)(e),r=s&&s.data;if(r&&(!t.data||t.data.id!==r.id))return N(e,r.regionId)})))}))}function N(e,t){if(t&&!(0,a.D4)({id:t,state:e}))return(0,i.TU)({id:t})}const M=["mapview","layer","previousMapView","user","geolocation"],T=(0,r.gQ)("countryDomainRedirectOnClient",(()=>(0,r.XJ)((0,r.Rh)((e=>(0,p._N)((t=>(0,o.g2)(t,window.location.hostname,e.isCountryRedirectsEnabled)),(e=>e?(0,p._N)((e=>(0,b.M)((0,v.V)(e).filter((e=>M.includes(e.type))))),(t=>(0,y.k)({url:`${e}${t}`,name:"_self"}))):O.Z.cleanFriendInOtherDomainModel()))))))),P=(0,r.gQ)("detectRegionWithPostEffects",(()=>(0,p._N)((e=>(0,o.Z_)(e).admDiv.data),(e=>(0,r.vP)(S(),T(),(0,l.Oc)(),(0,u.VV)(),(0,u.Du)(),(0,p._N)((e=>(0,o.Z_)(e).admDiv.data),(t=>function(e,t){return t?(0,h.f)(e,t,"overlapRegionId")?f(t.overlapRegionId):(0,r.ZT)():e&&"0"!==e.overlapRegionId?f("0"):(0,r.ZT)()}(e,t))),(0,w.k)(),(0,p._N)((e=>(0,o.yH)(e)),(t=>(!e||e.regionId!==t)&&(0,r.Mf)((0,_.A)(),t?(0,k.Cy)({projectId:t}):(0,r.ZT)())))))))),E=(0,r.gQ)("savePositionToCookie",(({lon:e,lat:t,zoom:s})=>(0,d.d)({name:"pos",value:[(0,j.DB)(e),(0,j.DB)(t),(0,j.DB)(s,2)].join(";")})))},27516:(e,t,s)=>{"use strict";s.d(t,{HK:()=>ne,u$:()=>ie,gF:()=>ae,mk:()=>re});var r=s(67753),i=s(354),a=s(55476),n=s(29759),o=s(77878),c=s(29600),d=s(67817),l=s(64693),u=s(33451),p=s(10484),g=s(69367),m=s(24777),h=s(62808),f=s(54488),v=s(50922),b=s(76171),y=s(36928),x=s(65590);function j(e,t){return"FORBIDDEN_YOU_HAVE_BUSINESS_ACCOUNT"===t.error.name?e._t("Представители компании не могут писать отзывы о своей компании"):403===t.code?e._t("Кажется, вы уже писали мнение об этой компании. Вернитесь к списку отзывов, и мы найдем ваш отзыв для редактирования"):e._t("Не получилось отправить отзыв. Повторите попытку.")}var w=s(94361),_=s(17774),C=s(49564);var I=s(64498),k=s(90740),O=s(75754),S=s(50237),N=s(33021),M=s(62230),T=s(77390),P=s(84670),E=s(92405),L=s(7763),R=s(66733);const z=(0,r.gQ)("sendCreateReview",(e=>{const{reviewData:t}=e;return(0,r.Mf)((0,u.BW)((e=>Object.assign(Object.assign({},e),{temporaryId:t.temporaryId}))),(0,r.vP)((0,f.X)(t),(0,r.xJ)((s=>{var i,a,n;if(e.skipNotify)return(0,r.Mf)((0,x.rQ)(t.entityId),(0,R.ij)(e.entity.id));const o=(0,m.Tt)({state:s,id:t.temporaryId});if("error"===(null===(i=o.meta)||void 0===i?void 0:i.status)){if("error"in o.meta&&(0,w.Y_)(o.meta.error.data)){const e=null===(a=o.meta.error)||void 0===a?void 0:a.data;return(0,u.BW)((t=>Object.assign(Object.assign({},t),{isBadWordsWarningVisible:!0,badWords:e})))}return function(e){const t=e.code;return(0,r.vP)((0,L.$0)((({tp:t})=>(0,b.c)((0,y.v)({title:t._t("Что-то пошло не так"),message:j(t,e),bssName:"addReviewError"})))),(0,u.BW)((e=>Object.assign(Object.assign({},e),{temporaryId:void 0}))),403===t&&(0,v.nc)(["UGC","CreateReviewError",t]))}(o.meta)}const c="profileTab"in s.appContext.frames[0]&&"places"===(null===(n=s.appContext.frames[0])||void 0===n?void 0:n.profileTab),{text:d="",rating:l,photos:p}=o.data;return(0,r.Mf)((0,u.j4)(),(0,x.rQ)(t.entityId),(0,M.i)({contentType:"review",isPlacesTab:c,review:o.data,progressBar:(0,P.tF)({textScore:(0,E.$)(d),hasRating:Boolean(l),hasPhotos:Boolean(null==p?void 0:p.length)})}),(0,T.O)({type:"review",entityId:e.entity.id}),(0,R.ij)(e.entity.id))}))))})),A=(0,r.gQ)("sendEditReview",(e=>{const{reviewData:t}=e,{id:s,entityId:i}=t;return(0,r.vP)((0,h.k)(t),(0,r.xJ)((t=>{const a=(0,m.Tt)({state:t,id:s});if(a.meta&&"success"!==a.meta.status){if("error"in a.meta&&(0,w.Y_)(a.meta.error.data)){const e=a.meta.error.data;return(0,u.BW)((t=>Object.assign(Object.assign({},t),{isBadWordsWarningVisible:!0,badWords:e})))}return(0,L.$0)((({tp:e})=>(0,b.c)((0,y.v)({title:e._t("Что-то пошло не так"),message:e._t("Не получилось отправить отзыв. Повторите попытку.")}))))}const n=a.data,c=(0,_.H)({review:n});if(!c)return void(0,o.H)({message:"Не удалось сформировать payload.reviewItem для редактирования отзыва",level:"error",id:"jdbm89",payload:{type:"debug",subtype:"BssTrackerV3",data:JSON.stringify(n)}});const{text:d="",rating:l,photos:p}=n;return(0,r.Mf)((0,L.$0)((({tp:e})=>(0,b.c)((0,y.V)({title:e._t("Готово"),message:e._t("Ваш отзыв отредактирован"),bssName:"editReviewSuccess",payload:{reviewItem:Object.assign(Object.assign({},c),{progressBar:(0,P.tF)({textScore:(0,E.$)(d),hasRating:Boolean(l),hasPhotos:Boolean(null==p?void 0:p.length)})})}})))),(0,u.j4)(),(0,x.rQ)(i),(0,T.O)({type:"review",entityId:e.entity.id}),(0,R.ij)(e.entity.id))})))}));const F=(0,r.gQ)("sendReviewSafely",((e,t)=>{const s=t?(({reviewId:e,entityId:t,searchId:s})=>(0,u.Mw)({id:(0,l.by)(),type:"editReview",reviewId:e,entityId:t,searchId:s}))({reviewId:e.reviewData.id,entityId:e.reviewData.entityId}):(0,I.d)(),n=t?A(e):z(e);return(0,r.Rh)((({featurePersonalDataAgreement:t,featurePhoneLaw:r})=>(0,i.gF)({hasPhone:a.DK,status:e=>(0,k.I)(e,t)},(({hasPhone:t,status:i})=>{const a=r&&!t;return a||"idle"===i?(0,O.L)({after:t=>(a?!t:null===t)?((0,C.z)(Object.assign(Object.assign({},e.reviewData),{photos:e.photos})),s):n,openPopup:a?()=>(0,N.p)():()=>(0,S.I)(!1)}):n}))))}));var B=s(96389),Z=s(13829),U=s(66030),H=s(97698),D=s(1184);const $=(0,H.P1)(U.tV,(e=>{const t=(0,D.s0)(e).find((e=>!(!e||"collection"!==e.type||!e.is_default)));return t&&t.id}));var V=s(64516),q=s(92398),G=s(9297),W=s(23248),Q=s(22941),K=s(326),J=s(91690),Y=s(44344),X=s(42714),ee=s(25488);const te="dg5_after_action",se=3e5;function re(e,t,s="auto"){return"undefined"==typeof window?(0,r.ZT)():(0,i.gF)({isLoggedIn:a.Pc,time:e=>e.session.time},(({isLoggedIn:i,time:a})=>{if(i){if(!e)return(0,r.ZT)();return(0,oe[e])(t)}e&&n.tO.local.setItem(te,JSON.stringify({key:e,data:t,ts:a,runningAfterAuth:s}));const o=new URL(window.location.href);return o.pathname="/authorize"+o.pathname,(0,r.PQ)((()=>window.sdk.ui({type:"current",redirectUrl:o.toString()})))}))}const ie=(0,r.gQ)("cleanUpActionAfterLogout",(()=>(0,r.PQ)((()=>{n.tO.local.removeItem(te)})))),ae=()=>{try{const e=n.tO.local.getItem(te);if(!e)return null;return JSON.parse(e)}catch(e){return null}},ne=(0,r.gQ)("actionAfterLogin",(()=>(0,i._N)((e=>e.session.time),(e=>{const t=n.tO.local.getItem(te);if(!t)return(0,r.ZT)();n.tO.local.removeItem(te);try{const{key:s,data:i,ts:a}=JSON.parse(t),n=oe[s];if(!n)return(0,r.ZT)();const c=e-a;return Number.isNaN(c)||c<0||c>se?((0,o.H)({id:"sfomn",message:"expired action",level:"warn",payload:{type:"debug",subtype:"AfterInitError",data:JSON.stringify({data:i,time:e})}}),(0,r.ZT)()):n(i)}catch(e){return(0,o.H)({id:"sfomn",message:null==e?void 0:e.message,level:"error",payload:{type:"exception",subtype:"AfterInitError",data:t,stack:null==e?void 0:e.stack}}),(0,r.ZT)()}})))),oe={openFavorites:()=>(0,c.BN)((0,d.D)("favorites")),openSharingPopup:()=>(0,i._N)((e=>(0,p.t0)(e.appContext.frames,"entity")),(e=>(0,g.q)({frameId:null==e?void 0:e.id}))),sendReviewSafely:e=>F(e.params,e.isEdit),openSendOrderPopup:e=>(0,B.x)(e),handleBookmarkClick:({item:e,isAdded:t,targetBoundingClientRect:s})=>(0,r.xJ)((i=>{if(t)return(0,r.vP)((0,c.BN)(),(0,Z.b)(e));const a=(e=>{const t=e.appContext.weak.temporaryDefaultCollectionId;return t&&(0,U.tV)(e)[t]?t:$(e)})(i),n=a||(0,l.by)(),o=(0,Q._p)(n);return(0,r.vP)(!a&&(0,W.B)({title:"",collectionId:n,isDefault:!0,skipSync:!0,color:o}),(0,q.d)({collectionId:n,item:e}),(0,V.Y)({collectionId:n,item:e,targetBoundingClientRect:s}),(0,G.K)())})),handleReviewLike:e=>(0,r.xJ)((t=>{var s;const i=null===(s=(0,m.Tt)({state:t,id:e.reviewId}))||void 0===s?void 0:s.data;if(!(0,K.d)(i))return(0,r.ZT)();const a=!i.temporary&&!!i.user.public_id,n=i.additional_data.is_liked;return(0,r.vP)((0,J.T)({id:i.id,value:!n}),a&&ee.j.updatePublicProfileFeedCacheAfterLike({isLiked:!!n,reviewId:i.id,publicUserId:i.user.public_id}))})),handlePublicProfileReviewLike:({reviewId:e,isLiked:t,userId:s})=>ee.j.changeReviewLike({reviewId:e,isLiked:t,publicUserId:s}),openPhotoUploaderPopup:e=>(0,u.Mw)({id:(0,l.by)(),type:"photoUploader",entityId:e.entityId,searchId:e.searchId,isMenuPhoto:e.isMenuPhoto}),openReviewComplaint:({reviewId:e})=>(0,u.Mw)({id:(0,l.by)(),type:"complaint",subtype:"review",itemId:e}),openUserProfile:({userId:e})=>(0,r.vP)(X.m.openFriendsList(Y.i.openPublicProfile),Y.i.openPublicProfile({userId:e})),subscribeToUser:()=>(0,r.ZT)()}},65590:(e,t,s)=>{"use strict";s.d(t,{kP:()=>E,Ir:()=>A,rQ:()=>P,WT:()=>F,Bf:()=>z,A0:()=>Z,PN:()=>R,fL:()=>L});var r=s(10694),i=s(31389),a=s(76171),n=s(36928),o=s(18337),c=s(67753),d=s(64693),l=s(95359),u=s(3767),p=s(33451),g=s(52981),m=s(354),h=s(10484),f=s(55476),v=s(68428),b=s(44514),y=s(2234),x=s(70021),j=s(9911),w=s(51919),_=s(51604),C=s(28026),I=s(13130);function k(e){return"unconfirmedReviews"===e.type}var O=s(40262),S=s(76329),N=s(54833),M=s(7763),T=s(66733);const P=(0,c.gQ)("fetchPinnedUserReviewsByEntityId",(e=>(0,m._N)(f.b1,(t=>t?(0,b.r)({userId:t,entityId:e}):(0,c.ZT)())))),E=(0,c.gQ)("editReview",(e=>{const{reviewId:t,searchId:s}=e;return(0,r.f3)(t,(e=>{var r,i;const a=!(null===(r=e.data)||void 0===r?void 0:r.temporary)&&(null===(i=e.data)||void 0===i?void 0:i.object.id);return a?(0,c.vP)((0,g.wk)({id:a,searchId:s}),(0,p.Mw)({id:(0,d.by)(),type:"editReview",entityId:a,searchId:s,reviewId:t})):(0,c.ZT)()}))})),L=(0,c.gQ)("removeReview",(e=>(0,r.f3)(e,(t=>{const s=null==t?void 0:t.data;return s?(0,m.gF)({removableFrameId:e=>{var t;return null===(t=(0,h.t0)(e.appContext.frames,"currentReview"))||void 0===t?void 0:t.id},userId:e=>(0,f.b1)(e),frameEntity:e=>(0,h.t0)(e.appContext.frames,"entity"),frameRealtyCard:e=>(0,h.t0)(e.appContext.frames,"realtyCard")},(({removableFrameId:t,userId:u,frameEntity:p,frameRealtyCard:g})=>{const m=p?(0,v.l)(p,"reviews","actual"):null==g?void 0:g.reviewSearchId;return u?(0,M.$0)((({tp:p})=>(0,o.R)(p._t("Удалить отзыв? Это действие нельзя отменить."),(()=>{const o=(0,d.by)(),g=s.temporary?void 0:s.object.id;return(0,c.vP)((0,i.Hg)({id:e,userId:u,statusId:o,searchId:m,entityId:g}),(0,r.$c)(o,(e=>e&&"success"===e.meta.status?(0,c.vP)((0,a.c)((0,n.V)({title:p._t("Готово"),message:p._t("Отзыв удалён!")})),!!t&&(0,l.t7)({id:t}),!!g&&P(g),!!g&&(0,T.ij)(g)):(0,a.c)((0,n.v)({title:p._t("Что-то пошло не так"),message:p._t("Не удалось удалить отзыв, попробуйте позднее.")})))))})))):(0,c.ZT)()})):(0,c.ZT)()})))),R=(0,c.gQ)("removeComment",(e=>{const{commentId:t,reviewId:s}=e;return(0,M.$0)((({tp:e})=>(0,o.R)(e._t("Удалить комментарий к отзыву? Это действие нельзя отменить."),(()=>{const i=(0,d.by)();return(0,c.vP)((0,u.VM)({id:t,reviewId:s,statusId:i}),(0,r.$c)(i,(t=>t&&"success"===t.meta.status?(0,a.c)((0,n.V)({title:e._t("Готово"),message:e._t("Комментарий к отзыву удалён!")})):(0,a.c)((0,n.v)({title:e._t("Что-то пошло не так"),message:e._t("Не удалось удалить комментарий к отзыву, попробуйте позднее.")})))))}))))})),z=(0,c.gQ)("fetchUserPinnedReviewsIfNeeded",(e=>(0,c.XJ)((0,m.gF)({userId:f.b1,entity:t=>(0,x.nM)({state:t,entityId:e.entityId})},(({userId:t,entity:s})=>s.data&&(0,j.s)(s.data)&&t?(0,O.D)((0,f.Mq)(e.entityId),(0,b.r)({entityId:e.entityId,userId:t})):(0,c.ZT)()))))),A=(0,c.gQ)("ensureUnconfirmedReviews",(e=>(0,c.XJ)((0,c.xJ)((t=>{const{entityId:s,searchId:r,frameId:i,orgId:a}=e,n=(0,h.t0)(t.appContext.frames,"entity"),o=r?t.data.reviewSearch[r]:void 0;return(0,y.G)(o)&&n&&"reviews"===n.tab&&"branch"===n.entityType&&F({entityId:s,frameId:i,orgId:a})}))))),F=(0,c.gQ)("fetchUnconfirmedReviewsOnClient",(e=>{const{entityId:t,frameId:s,orgId:i}=e;return(0,c.xJ)((e=>{var a,n,o;const l=(0,h.iF)(e.appContext.frames,s);if(l&&(0,S.B)(l)){const u=(null===(a=l.tabReviews)||void 0===a?void 0:a.unconfirmedEntityReviewsSearchId)||(0,d.by)(),p=(null===(n=l.tabReviews)||void 0===n?void 0:n.unconfirmedOrgReviewsSearchId)||(0,d.by)(),g=i?p:u;return(g?null===(o=e.data.reviewSearch[g])||void 0===o?void 0:o.data:void 0)?(0,c.xJ)((e=>{const t=(0,h.t0)(e.appContext.frames,"unconfirmedReviews");if(t)return(0,w.Yq)(t.id,k,(e=>Object.assign(Object.assign({},e),{searchId:g})))})):(0,r.wN)({entityId:t},(e=>{const r=null==e?void 0:e.data;if(r&&(0,I.J)(r))return(0,c.vP)((0,w.me)(s,(e=>Object.assign(Object.assign({},e),{tabReviews:e.tabReviews?Object.assign(Object.assign({},e.tabReviews),{unconfirmedEntityReviewsSearchId:u,unconfirmedOrgReviewsSearchId:p}):void 0}))),(0,c.xJ)((e=>{const t=(0,h.t0)(e.appContext.frames,"unconfirmedReviews");if(t)return(0,w.Yq)(t.id,k,(e=>Object.assign(Object.assign({},e),{searchId:g})))})),(0,C.B)({id:i||t,type:i?"org":"branch",searchId:g,unconfirmed:!0}))}))}return(0,c.ZT)()}))})),B=(0,c.gQ)("refetchReviewsOnClientIfUserLoggedIn",(e=>(0,r.wN)({entityId:e.entityId,searchId:e.searchId},(t=>{var s,r;if(!t.data||!(0,j.s)(t.data))return(0,c.ZT)();const i=(0,d.by)();return(0,c.vP)((0,w.me)(e.frameId,(e=>Object.assign(Object.assign({},e),{tabReviews:e.tabReviews?Object.assign(Object.assign({},e.tabReviews),{entityReviewsSearchId:(0,_.Ue)(i)}):void 0}))),(0,C.B)({id:t.data.id,type:"branch"!==t.data.type?"geo":"branch",isAdvertiser:!!(null===(r=null===(s=t.data.ads)||void 0===s?void 0:s.options)||void 0===r?void 0:r.review),searchId:i}))}))));function Z(){return(0,m.gF)({entityFrame:e=>(0,h.t0)(e.appContext.frames,"entity"),realtyFrame:e=>(0,h.t0)(e.appContext.frames,"realtyCard")},(({entityFrame:e,realtyFrame:t})=>{if(e)return(0,c.vP)((0,c.Dc)(1e3),(0,c.Mf)(B({entityId:e.entityId,frameId:e.id,searchId:e.searchId}),z({entityId:e.entityId}),A({entityId:e.entityId,frameId:e.id})));const s=(0,N.ux)(t);return t&&s?(0,c.vP)((0,c.Dc)(1e3),(0,N.VX)(s,(e=>{var s;const r=null===(s=null==e?void 0:e.data)||void 0===s?void 0:s.building.id;return r?(0,c.Mf)(B({entityId:r,frameId:t.id,searchId:t.reviewSearchId}),z({entityId:r}),A({entityId:r,frameId:t.id})):(0,c.ZT)()}))):(0,c.ZT)()}))}},54400:(e,t,s)=>{"use strict";s.d(t,{$l:()=>C,Du:()=>j,Eu:()=>I,HL:()=>w,VV:()=>x,dl:()=>_});var r=s(56104),i=s(26287),a=s(67753),n=s(51604),o=s(65649),c=s(57523),d=s(68149),l=s(78930),u=s(89211),p=s(89594),g=s(354),m=s(63546),h=s(95359),f=s(11447),v=s(35125),b=s(10484),y=s(42313);function x(){return _()}function j(){return(0,a.xJ)((e=>{const t=(0,b.t0)(e.appContext.frames,"rubric");return t&&"rubric"===t.type?w(t.parentId):(0,a.ZT)()}))}function w(e){return(0,a.xJ)((t=>{const s=(0,o.O)(t),i=(0,b.t0)(t.appContext.frames,"rubricator");if(!i||"rubricator"!==i.type)return(0,a.ZT)();const p=i.regionId,g=(0,c.J)(p,s,e);if((0,n.Gp)(t.appContext.weak.rubric.transition)===g)return(0,a.ZT)();const m=(0,u.of)(e)(t),h=(0,u.r1)(g)(t),f=(0,n.gg)(t.appContext.weak.rubric.transition,g);if(m&&h&&"success"===h.meta.status&&h.data&&h.data.length)return(0,r.Vj)((0,n._e)(f));const v=(0,y.Id)(t);return(0,a.vP)(m?(0,a.ZT)():(0,d.b)({regionId:p,locale:s,id:e}),(0,r.Vj)(f),(0,l.F)({key:g,regionId:p,viewpoint:v,locale:s,parentId:e}),(0,r.Vj)((0,n._e)(f)))}))}function _(){return(0,a.xJ)((e=>{const t=(0,o.O)(e),s=(0,i.yH)(e),d=(0,b.t0)(e.appContext.frames,"rubricator");if(!s||!d||"rubricator"!==d.type)return(0,a.ZT)();const p=`${d.id}_${(0,c.J)(s,t)}`;if((0,n.Gp)(e.appContext.weak.rubricator.transition)===p)return(0,a.ZT)();const g=(0,u.r1)(p)(e),m=(0,n.gg)(e.appContext.weak.rubricator.transition,p),x=(0,f.D4)({state:e,id:s});if(g&&"success"===g.meta.status&&g.data&&g.data.length)return(0,a.vP)((0,r.KK)((0,n._e)(m)),(0,h.D_)(d.id,(e=>Object.assign(Object.assign({},e),{regionId:s}))),x?(0,a.ZT)():(0,v.TU)({id:s}));const j=(0,y.Id)(e);return(0,a.vP)((0,r.KK)(m),(0,h.D_)(d.id,(e=>Object.assign(Object.assign({},e),{regionId:s}))),(0,l.F)({key:p,regionId:s,viewpoint:j,locale:t}),x?(0,a.ZT)():(0,v.TU)({id:s}),(0,r.KK)((0,n._e)(m)))}))}const C=(0,a.gQ)("onPseudorubricClick",(e=>(0,m.c)({actionType:e.item.action.type,value:e.item.action.value,caption:e.item.caption}))),I=(0,a.gQ)("onRubricClick",(e=>(0,g.zh)((t=>(0,p.gB)({viewpoint:t,query:e.item.caption,rubricId:e.item.id})))))},86590:(e,t,s)=>{"use strict";s.d(t,{K:()=>g,q:()=>p});var r=s(67753),i=s(29600),a=s(51919),n=s(51604),o=s(60284),c=s(354),d=s(87607),l=s(64693),u=s(2421);const p=(0,r.gQ)("searchBuyHereMoreResult",(({frameId:e,page:t,adsIds:s,searchId:u,filters:p,filtersId:g})=>(0,r.vP)((0,r.Mf)((0,i.BN)((0,a.D$)(e,(e=>Object.assign(Object.assign({},e),{page:(0,n.gg)(e.page,t)})))),(0,c._N)((e=>e.session.geolocation.position),(e=>(0,c.zh)((r=>(0,o.Hq)({query:"",searchId:u,page:t,viewpoint:r,adsIds:s,filters:p,filtersId:g,sortPoint:e})))))),(0,c.WW)(e,d.o,(r=>(0,n.sG)(r.page)===t&&(0,a.D$)(e,(e=>Object.assign(Object.assign({},e),{adsIds:s,page:(0,n._e)(e.page),scrollIdHash:(0,l.by)()}))))))));function g(e){const{frame:t,filterValues:s,isViewportChanged:d}=e,p=(0,l.by)();return(0,r.vP)((0,i.BN)((0,a.D$)(t.id,(e=>Object.assign(Object.assign({},e),{filterValues:s,searchId:(0,n.gg)(e.searchId,p),page:(0,n.Ue)(1)})))),(0,c._N)((e=>e.session.geolocation.position),(e=>(0,c.zh)((r=>(0,o.Hq)({query:"",searchId:p,page:1,viewpoint:r,adsIds:t.adsIds,filters:s,filtersId:(0,l.by)(),sortPoint:e}))))),(0,a.D$)(t.id,(e=>Object.assign(Object.assign({},e),{searchId:(0,n._e)(e.searchId)}))),(0,u.l)({update:!0,isViewportChanged:d}))}},30834:(e,t,s)=>{"use strict";s.d(t,{Nl:()=>S,ZS:()=>k,h0:()=>_,kC:()=>I,lX:()=>N,pn:()=>C,xu:()=>O});var r=s(67753),i=s(64693),a=s(10694),n=s(95359),o=s(29600),c=s(10484),d=s(87627),l=s(53328),u=s(51919),p=s(52981),g=s(354),m=s(69088),h=s(51604),f=s(66679),v=s(76329),b=s(20072),y=s(66204),x=s(2421);const j=(0,r.gQ)("searchByBuildingIdWithCurrentViewpoint",(e=>(0,g.zh)((t=>(0,l.Z)({buildingId:e.buildingId,page:e.page,more:e.more,searchId:e.searchId,gtaId:e.gtaId,filters:e.filters,viewpoint:t}))))),w=(0,r.gQ)("searchInBuildingByQueryWithCurrentViewpoint",(e=>(0,g._N)((e=>e.session.geolocation.position),(t=>(0,g.zh)((s=>(0,l.a)({buildingId:e.buildingId,query:e.query,page:e.page,searchId:e.searchId,more:e.more,gtaId:e.gtaId,filters:e.filters,viewpoint:s,sortPoint:t}))))))),_=({buildingId:e,query:t="",filterValues:s,gtaId:l=(0,i.by)(),loadedSearchId:u})=>{const m=u||(0,i.by)(),v=(0,i.by)();return(0,r.vP)((0,o.BN)(),(0,a.wN)({entityId:e},(t=>!t.data&&(0,p.DZ)({id:e,searchId:void 0}))),(0,g.gF)({hasSearchControls:t=>(0,d.Uz)({state:t,entityId:e}),frame:e=>(0,c.t0)(e.appContext.frames,"search")},(({hasSearchControls:a,frame:o})=>{let c;return o&&((0,b.E)(o)&&(c=o.query),(0,f.n)(o)&&(c=o.parentSearchQuery)),(0,r.Mf)((0,n.Jt)({id:(0,i.by)(),type:"search",searchType:"inbuilding",buildingId:e,searchId:(0,h.Ue)(m),page:(0,h.Ue)(1),gtaId:l,statusId:v,query:a?t:"",parentSearchQuery:c,filterPanelState:a?"auto":"manuallyClosed",filterValues:a?s:{},filtersId:(0,i.by)()}),N({buildingId:e,gtaId:l,page:1,query:t,searchId:m,filterValues:s,hasSearchControls:a,shouldNotFetchBranches:!!u}))})),(0,r.XJ)((0,x.l)()))},C=(0,r.gQ)("searchInBuildingApplyFilterAndQuery",(({frameId:e,gtaId:t=(0,i.by)(),buildingId:s,filterValues:a,query:n=""})=>{const c=(0,i.by)(),l=(0,i.by)();return(0,r.vP)((0,o.BN)(),(0,g._N)((e=>(0,d.Uz)({state:e,entityId:s})),(i=>(0,r.vP)((0,u.Ol)(e,(e=>Object.assign(Object.assign({},e),{searchId:(0,h.gg)(e.searchId,c),statusId:l,page:(0,h.Ue)(1),query:i?n:"",filterValues:i?a:{},buildingId:s,gtaId:t}))),N({buildingId:s,gtaId:t,page:1,query:n,searchId:c,filterValues:a,hasSearchControls:i}),(0,u.Ol)(e,(e=>Object.assign(Object.assign({},e),{searchId:(0,h._e)(e.searchId)})))))),(0,r.XJ)((0,x.l)()))})),I=({frameId:e,page:t,buildingId:s,query:a,searchId:n,filterValues:o={}})=>(0,r.vP)((0,u.Ol)(e,(e=>Object.assign(Object.assign({},e),{page:(0,h.gg)(e.page,t),statusId:(0,i.by)()}))),(0,g._N)((e=>(0,d.Uz)({state:e,entityId:s})),(e=>N({buildingId:s,searchId:n,page:t,query:a,filterValues:o,hasSearchControls:e,shouldNotFetchMarkers:!0,more:!0}))),(0,g.WW)(e,f.n,(s=>(0,h.sG)(s.page)===t&&(0,u.Ol)(e,(e=>Object.assign(Object.assign({},e),{page:(0,h._e)(e.page)})))))),k=({frameId:e,buildingId:t,filterValues:s,query:n=""})=>{const c=(0,i.by)(),l=(0,i.by)(),m=(0,i.by)();return(0,r.Mf)((0,o.BN)(),(0,a.wN)({entityId:t},(e=>!e.data&&(0,p.DZ)({id:t,searchId:void 0}))),(0,g._N)((e=>(0,d.Uz)({state:e,entityId:t})),(i=>(0,r.Mf)((0,u.me)(e,(e=>Object.assign(Object.assign({},e),{tab:"inside",statusId:l,tabInside:{searchId:(0,h.Ue)(c),page:(0,h.Ue)(1),buildingId:t,gtaId:m,query:i?n:"",filterValues:i?s:void 0}}))),N({buildingId:t,searchId:c,page:1,gtaId:m,query:n,filterValues:s,hasSearchControls:i,shouldNotFetchMarkers:!0})))))},O=({frameId:e,searchId:t,buildingId:s,query:a,filterValues:n={},page:o})=>(0,r.vP)((0,u.me)(e,(e=>e.tabInside?Object.assign(Object.assign({},e),{statusId:(0,i.by)(),tabInside:Object.assign(Object.assign({},e.tabInside),{page:(0,h.gg)(e.tabInside.page,o)})}):e)),(0,g._N)((e=>(0,d.Uz)({state:e,entityId:s})),(e=>N({buildingId:s,searchId:t,page:o,query:a,filterValues:n,hasSearchControls:e,shouldNotFetchMarkers:!0,more:!0}))),(0,g.WW)(e,v.B,(t=>t.tabInside&&(0,h.sG)(t.tabInside.page)===o&&(0,u.me)(e,(e=>e.tabInside?Object.assign(Object.assign({},e),{tabInside:Object.assign(Object.assign({},e.tabInside),{page:(0,h._e)(e.tabInside.page)})}):e))))),S=({frameId:e,buildingId:t,filterValues:s,query:a="",gtaId:n=(0,i.by)()})=>{const c=(0,i.by)(),l=(0,i.by)();return(0,r.vP)((0,o.BN)(),(0,g._N)((e=>(0,d.Uz)({state:e,entityId:t})),(i=>(0,r.Mf)((0,u.me)(e,(e=>e.tabInside?Object.assign(Object.assign({},e),{statusId:l,tabInside:Object.assign(Object.assign({},e.tabInside),{searchId:(0,h.gg)(e.tabInside.searchId,c),page:(0,h.gg)(e.tabInside.page,1),query:i?a:"",filterValues:i?s:void 0,gtaId:n})}):e)),N({buildingId:t,searchId:c,gtaId:n,page:1,query:a,filterValues:s,hasSearchControls:i,shouldNotFetchMarkers:!0}),(0,y.xU)({suggesterKey:"inbuilding",query:a})))),(0,g.WW)(e,v.B,(t=>t.tabInside&&(0,h.sG)(t.tabInside.searchId)===c&&(0,u.me)(e,(e=>e.tabInside?Object.assign(Object.assign({},e),{tabInside:Object.assign(Object.assign({},e.tabInside),{searchId:(0,h._e)(e.tabInside.searchId),page:(0,h._e)(e.tabInside.page)})}):e)))))};function N({buildingId:e,searchId:t,gtaId:s,query:i,page:a,filterValues:n,hasSearchControls:o,shouldNotFetchBranches:c,shouldNotFetchMarkers:d,more:l}){return o&&i?(0,r.Mf)(!c&&w({buildingId:e,gtaId:s,page:a,query:i,searchId:t,filters:n,more:l}),!d&&(0,r.XJ)((0,r.vP)((0,x.l)(),(0,m.E2)()))):!c&&j({buildingId:e,gtaId:s,page:a,searchId:t,filters:n,more:l})}},89594:(e,t,s)=>{"use strict";s.d(t,{tE:()=>H,Gf:()=>U,Nl:()=>A.Nl,xu:()=>A.xu,ZS:()=>A.ZS,QR:()=>Z,h0:()=>A.h0,gB:()=>E,Qp:()=>R,QT:()=>L,pn:()=>A.pn,IE:()=>z});var r=s(67753),i=s(29600),a=s(60284),n=s(52981),o=s(42313),c=s(57695),d=s(95359),l=s(64693),u=s(10484),p=s(354),g=s(69088),m=s(51604),h=s(51919),f=s(2421),v=s(97825),b=s(24973),y=s(49013);var x=s(56104);const j=(0,r.gQ)("flights",(e=>(0,r.xJ)((t=>{const s=(0,c.rO)({state:t,searchId:e.searchId}).data,i=w(s&&s.searchAttributes,e.inviewport,t.appContext.weak.isMapViewRepresentedInOriginalRequest,"undefined"==typeof window);if(!i)return(0,r.ZT)();const a=t.session.screen,n=(0,o.v9)(t);return(0,r.vP)((0,x.yy)({dontUpdateResultsOnNextMapMove:!0}),(0,g.Nr)(function(e,t){const s=e.map((e=>[e.longitude,e.latitude])),{screenSize:r,maxZoom:i,rotation:a=0,offset:n}=t,o=(0,y.o)(r,n),c=(0,b.getCenterZoomByPoints)(s,a,[o.width,o.height]);return c?{lon:c.center[0],lat:c.center[1],zoom:Math.min(c.zoom,i)}:{}}(i,{screenSize:a,offset:n,maxZoom:v.sZ,rotation:t.appContext.rotation})))}))));function w(e,t,s,r){const i=e&&e.out_viewport;if(i&&!(s&&r||_(i,t)))return i}function _(e,t){return t.every((t=>!!e.find((e=>t.lat===e.latitude&&t.lon===e.longitude))))}var C=s(78707),I=s(20072),k=s(66204),O=s(24864),S=s(77926);const N=(0,r.gQ)("autoOpenCardFromSearchIfNeeded",(e=>{const{searchId:t}=e;return(0,r.xJ)((e=>{var s,i,a,o;const d=(0,c.rO)({state:e,searchId:t});if(null===(i=null===(s=d.data)||void 0===s?void 0:s.searchAttributes)||void 0===i?void 0:i.is_partial)return(0,r.ZT)();if(null===(o=null===(a=d.data)||void 0===a?void 0:a.searchAttributes)||void 0===o?void 0:o.is_auto_open_best_result){const s=(0,c.Dx)({state:e,searchId:t}),i=s&&s[1],a=i&&i.data&&i.data[0];if(!a)return(0,r.ZT)();const o=(0,S.Q)(a,t)(e);return o?(0,n.ko)({id:a,searchId:t,skipHistoryPush:!0,type:o.type}):(0,r.ZT)()}return(0,r.ZT)()}))}));var M=s(93471),T=s(1184),P=s(66108);const E=(0,r.gQ)("searchByQuery",(e=>{const{query:t,rubricId:s,attributeId:o,catalogFilterValues:u={},page:h=1,buildingId:v,shouldNotAutoOpenCard:b=!1,viewpoint:y,regionId:x,isBuyHereRubric:w,cityId:_,isNonFixableQuery:I,parentSearchId:O,seoFakeEntityId:S,bestKeyword:E}=e,L=(0,l.by)(),R=O||(0,l.by)(),z=(0,l.by)(),A=(0,l.by)(),F=(0,l.by)(),B=h,Z=!(0,l.xb)(u);return(0,r.vP)((0,i.BN)(),(0,d.Jt)({id:A,type:"search",filterPanelState:"auto",searchType:"query",query:t,statusId:F,tab:"catalog",tabCatalog:{rubricId:s,attributeId:o,searchId:(0,m.Ue)(R),viewpoint:y,gtaId:(0,m.Ue)(L),page:(0,m.Ue)(B),filtersId:(0,m.Ue)(z),filterValues:u,isBuyHereRubric:w},seoFakeEntityId:S}),(0,r.vP)((0,r.Rh)((e=>(0,p._N)((e=>e.session.geolocation.position),(i=>(0,r.Mf)((0,k.xU)({suggesterKey:"primary",query:t}),(0,r.vP)((0,r.Mf)(v?(0,n.DZ)({id:v,searchId:void 0}):void 0,s?(0,a.l1)(Object.assign({regionId:x,query:t,filters:u,filtersId:z,withFilters:!Z,rubrId:s,viewpoint:y,searchId:R,page:h,gtaId:L,sortPoint:i,cityId:_},e.featureContextSearch?{bestKeyword:E}:{})):o?(0,a.fE)({query:t,filters:u,filtersId:z,withFilters:!Z,attrId:o,viewpoint:y,searchId:R,page:h,gtaId:L,sortPoint:i}):(0,a.Hq)({withFilters:!Z,query:t,filters:u,searchId:R,filtersId:z,searchType:"catalog",page:B,viewpoint:y,statusId:F,gtaId:L,sortPoint:i,cityId:_,isNonFixableQuery:I})),(()=>{if(!s&&!o)return function(e){const{query:t,searchId:s}=e;return(0,r.xJ)((e=>{const r=(0,c.rO)({state:e,searchId:s});if(r.meta&&"success"===r.meta.status)return(0,C.r)(t)}))}({query:t,searchId:R})})()),Z&&(0,a.a$)({query:t,rubrId:s,filtersId:z,viewpoint:y,sortPoint:i,filters:(0,P.G)({searchType:"query",query:t,config:e,checkAwards2GisTags:!1,awards2GisTags:[]})?(0,T.ei)(u,[...Object.values(M.yf)]):void 0})))))),(0,p._N)((e=>function(e,t){const s=(0,c.rO)({state:e,searchId:t}),r=s.data&&s.data.total||0;return!(s.data&&s.data.searchAttributes&&s.data.searchAttributes.is_partial||!r)}(e,R)),(e=>e?(0,r.XJ)((0,r.vP)((0,f.$)(),(0,g.E2)())):(0,r.ZT)()))),(0,r.Rh)((({isMobileDevice:e})=>function({searchId:e,shouldCallFlights:t,shouldNotAutoOpenCard:s,inviewport:i}){return(0,r.vP)(t&&j({searchId:e,inviewport:i}),!s&&N({searchId:e}),(0,r.XJ)((0,f.$)()))}({searchId:R,shouldCallFlights:!0,shouldNotAutoOpenCard:!!e||b,inviewport:y}))))}));function L(e){const{frameId:t,page:s,query:n,rubricId:o,viewpoint:c,filtersId:d,filters:u={},searchId:g}=e,f=1===s?(0,l.by)():void 0;return(0,r.vP)((0,i.BN)(),(0,h.iD)(t,(e=>Object.assign(Object.assign({},e),{tab:"catalog",tabCatalog:Object.assign(Object.assign({},e.tabCatalog),{filters:u,viewpoint:c,gtaId:(0,m.gg)(e.tabCatalog.gtaId,f),page:(0,m.gg)(e.tabCatalog.page,s)})}))),o?(0,p._N)((e=>e.session.geolocation.position),(e=>(0,p.zh)((t=>(0,a.l1)({query:n,filters:u,filtersId:d,gtaId:f,rubrId:o,viewpoint:t,searchId:g,page:s,more:!0,sortPoint:e}))))):(0,p.Mb)(t,(e=>(0,I.E)(e)&&e.tabCatalog.attributeId?(0,p._N)((e=>e.session.geolocation.position),(t=>!!e.tabCatalog.attributeId&&(0,a.fE)({gtaId:f,query:n,filters:u,searchId:g,filtersId:d,attrId:e.tabCatalog.attributeId,page:s,viewpoint:c,sortPoint:t}))):(0,p._N)((e=>e.session.geolocation.position),(e=>(0,a.Hq)({withFilters:!1,query:n,filters:u,searchId:g,page:s,viewpoint:c,gtaId:f,sortPoint:e}))))),(0,p.WW)(t,I.E,(e=>(0,m.sG)(e.tabCatalog.page)===s&&(0,h.iD)(t,(t=>Object.assign(Object.assign({},t),{tabCatalog:Object.assign(Object.assign({},e.tabCatalog),{filters:u,gtaId:(0,m._e)(e.tabCatalog.gtaId),page:(0,m._e)(e.tabCatalog.page),scrollIdHash:(0,l.by)()})}))))))}const R=(0,r.gQ)("searchByQueryApplyFilter",(e=>{const{frameId:t,filterValues:s,query:i,rubricId:n,parentSearchId:o,isViewportChanged:c,preserveMarkers:d,viewpoint:u,filtersId:v=(0,l.by)()}=e,b=(0,l.by)(),y=(0,l.by)(),x=(0,l.by)(),j=!("filtersId"in e);return(0,r.vP)((0,h.iD)(t,(e=>Object.assign(Object.assign({},e),{statusId:y,tabCatalog:Object.assign(Object.assign({},e.tabCatalog),{rubricId:n,searchId:(0,m.gg)(e.tabCatalog.searchId,b),filtersId:j?(0,m.gg)(e.tabCatalog.filtersId,v):e.tabCatalog.filtersId,gtaId:(0,m.gg)(e.tabCatalog.gtaId,x),page:(0,m.gg)(e.tabCatalog.page,1),parentSearchId:o,filterValues:s,viewpoint:u})}))),(0,p._N)((e=>e.session.geolocation.position),(e=>(0,r.Mf)(n?(0,a.l1)({query:i,filters:s,filtersId:v,rubrId:n,viewpoint:u,searchId:b,page:1,gtaId:x,sortPoint:e}):(0,p.Mb)(t,(t=>(0,I.E)(t)&&t.tabCatalog.attributeId?(0,a.fE)({gtaId:x,query:i,filters:s,searchId:b,filtersId:v,attrId:t.tabCatalog.attributeId,page:1,viewpoint:u,sortPoint:e}):(0,a.Hq)({gtaId:x,withFilters:!1,query:i,filters:s,searchId:b,filtersId:v,isViewportChanged:c,page:1,viewpoint:u,statusId:y,sortPoint:e}))),j&&(0,a.a$)({query:i,rubrId:n,filters:s,filtersId:v,viewpoint:u,sortPoint:e}),(0,r.vP)(!d&&(0,f.l)({update:!0,isViewportChanged:c}),(0,g.E2)())))),(0,p.WW)(t,I.E,(e=>(0,m.sG)(e.tabCatalog.searchId)===b&&(0,h.iD)(t,(e=>Object.assign(Object.assign({},e),{tabCatalog:Object.assign(Object.assign({},e.tabCatalog),{searchId:(0,m._e)(e.tabCatalog.searchId),filtersId:j?(0,m._e)(e.tabCatalog.filtersId):e.tabCatalog.filtersId,gtaId:(0,m._e)(e.tabCatalog.gtaId),page:(0,m._e)(e.tabCatalog.page)})}))))))}));function z(e){return(0,r.vP)((0,i.BN)(),(0,r.xJ)((t=>{const s=(0,u.t0)(t.appContext.frames,"search");if(s&&(0,I.E)(s)&&s.tab!==e.tab)return(0,r.Mf)((0,k.xU)({suggesterKey:"inbuilding",query:void 0}),(0,h.iD)(s.id,(t=>Object.assign(Object.assign({},t),{tab:e.tab}))),(0,f.l)(),(0,d.P2)({id:s.id}),(0,p._N)(o.Hr,(e=>(0,O.t)({prevZoom:e}))))})))}var A=s(30834),F=s(18799),B=s(89251);const Z=(0,r.gQ)("openFilials",(e=>{const t=(0,l.by)(),s=(0,l.by)(),a=(0,l.by)(),n=(0,l.by)(),{orgId:o,regionId:c,filterValues:u}=e,g=(0,l.$K)(u);return(0,p.zh)((e=>(0,r.vP)((0,i.BN)(),(0,d.Jt)({id:a,type:"search",searchType:"filials",gtaId:n,searchId:(0,m.Ue)(t),parentSearchId:t,page:(0,m.Ue)(1),orgId:o,filtersId:s,filterValues:u,query:"",filterPanelState:"auto"}),(0,r.Mf)((0,F.Y)({orgId:o,searchId:t,filtersId:s,regionId:c,filters:u,withFilters:!g,page:1,viewpoint:e,gtaId:n}),g&&(0,F.I)({orgId:o,filtersId:s,viewpoint:e}),(0,r.XJ)((0,f.l)())),j({searchId:t,inviewport:e}))))}));function U(e){const{orgId:t,filtersId:s,frameId:i,page:a,searchId:n,filterValues:o}=e;return(0,r.vP)((0,h.s7)(i,(e=>Object.assign(Object.assign({},e),{page:(0,m.gg)(e.page,a)}))),(0,p.zh)((e=>(0,F.Y)({orgId:t,filters:o,withFilters:!1,searchId:n,filtersId:s,page:a,viewpoint:e}))),(0,p.WW)(i,B.Y,(e=>(0,m.sG)(e.page)===a&&(0,h.s7)(i,(t=>Object.assign(Object.assign({},t),{page:(0,m._e)(e.page)}))))))}function H(e){const{frameId:t,orgId:s,filtersId:a,filterValues:n,isViewportChanged:c}=e,d=(0,l.by)(),u=(0,l.by)();return(0,r.vP)((0,i.BN)(),(0,h.s7)(t,(e=>Object.assign(Object.assign({},e),{searchId:(0,m.gg)(e.searchId,d),page:(0,m.gg)(e.page,1),statusId:u,filtersId:a,filterValues:n}))),(0,p._N)(o.Id,(e=>(0,r.Mf)((0,F.Y)({orgId:s,filters:n,withFilters:!1,searchId:d,filtersId:a,page:1,viewpoint:e,isViewportChanged:c}),(0,f.l)({update:!0,isViewportChanged:c})))),(0,p.WW)(t,B.Y,(e=>(0,m.sG)(e.searchId)===d&&(0,h.s7)(t,(t=>Object.assign(Object.assign({},t),{searchId:(0,m._e)(e.searchId),page:(0,m._e)(e.page)}))))))}},78707:(e,t,s)=>{"use strict";s.d(t,{R:()=>d,r:()=>c});var r=s(67753),i=s(31389),a=s(354),n=s(19609),o=s(8476);function c(e){return(0,r.vP)((0,i.Wj)({query:e,timestamp:(new Date).getTime()}),d())}function d(){return(0,a.gF)({history:n.p,userId:o.r},(({history:e,userId:t})=>(0,i.kR)({history:e.data,userId:t})))}},37292:(e,t,s)=>{"use strict";s.d(t,{C:()=>c});var r=s(23150);var i=s(80207),a=s(24973),n=s(67753),o=s(4213);function c(e){return(0,n.Rh)((({rtl:t})=>(0,n.xJ)((s=>{const n=[e.point.lon,e.point.lat],c=(0,a.lonLatToScreenPoint)(n,(0,i.X)(s)),d={top:c[1],left:c[0]},l={top:d.top,left:t?d.left:d.left+(0,o.w)(s)};return function(e){return(0,r.Kn)({type:"map:hint",event:{text:e.text,point:e.point}})}({text:e.text,point:l})}))))}},75754:(e,t,s)=>{"use strict";s.d(t,{C:()=>a,L:()=>i});var r=s(67753);const i=(0,r.gQ)("showUgcLawPopup",(({openPopup:e,after:t})=>(window.__afterUgcLawPopup=t,e()))),a=function(e){const t=window.__afterUgcLawPopup;return window.__afterUgcLawPopup=void 0,t?t(e):(0,r.ZT)()}},40204:(e,t,s)=>{"use strict";s.d(t,{ff:()=>K,$N:()=>D,q$:()=>J,en:()=>Q,Cj:()=>U,XC:()=>B,_m:()=>G,p_:()=>H});var r=s(51604),i=s(67753),a=s(66204),n=s(62377),o=s(64693),c=s(25057),d=s(354),l=s(42313),u=s(65649),p=s(4116),g=s(9801),m=s(7794),h=s(89594),f=s(95359),v=s(69088),b=s(29600),y=s(52981),x=s(31389),j=s(78707),w=s(7763),_=s(26287),C=s(29736),I=s(56104),k=s(16018),O=s(96160),S=s(95328),N=s(71384);const M=(0,i.gQ)("openPlace",(({object_id:e,point:t})=>e?(0,N.X)({id:e,shouldFitEntityInMapView:!0}):t?(0,S.W)({point:t,shouldCenterMap:!0}):(0,i.ZT)()));var T=s(12593);const P=(0,i.gQ)("showTraffic",(()=>(0,d._N)((e=>e.appContext.showTrafficOnMap),(e=>!e&&(0,T.$C)()))));var E=s(7806),L=s(66071),R=s(2206),z=s(82358),A=s(90257),F=s(10737);const B=(0,i.gQ)("showSuggestions",((e="primary")=>{const t=(0,o.by)();return(0,d._N)((t=>(0,c.eq)(t,e)),(s=>{if(!s)return(0,i.ZT)();const{query:n}=s;if(!n)return(0,g.ej)();const o=s.suggestId;return(0,i.vP)((0,i.Mf)((0,d.gF)({viewpoint:l.Id,personalRecords:E.$,regionId:_.fq,geolocationPosition:e=>e.session.geolocation.position},(({viewpoint:s,personalRecords:r,regionId:i,geolocationPosition:a})=>(0,g.DF)({searchId:t,suggesterType:Z(e),query:n,viewpoint:s,regionId:"typedFeedback"===e||"homework"===e?i:void 0,personalRecords:"primary"===e?r:void 0,sortPoint:a}))),(0,a.Bt)({suggesterKey:e,suggestId:o?(0,r.gg)(o,t):(0,r.Ue)(t)})),(0,d._N)((t=>(0,c.eq)(t,e)),(s=>{const n=s&&s.suggestId;return n&&t===(0,r.sG)(n)?(0,a.Bt)({suggesterKey:e,suggestId:(0,r._e)(n)}):(0,i.ZT)()})))}))}));function Z(e){switch(e){case"typedFeedback":case"homework":return"address";case"directions":return"route_endpoint";default:return}}function U(e){const{branchId:t,query:s}=e,p=(0,o.by)();return s?(0,i.vP)((0,d._N)((e=>(0,c.eq)(e,"products")),(e=>{if(e){const t=e.suggestId;return(0,a.Bt)({suggesterKey:"products",suggestId:t?(0,r.gg)(t,p):(0,r.Ue)(p)})}})),(0,d.gF)({locale:u.O,viewpoint:l.Id},(({locale:e,viewpoint:r})=>(0,n.mt)({searchId:p,branchId:t,query:s.trim().toLocaleLowerCase(),viewpoint:r,locale:e}))),(0,d._N)((e=>(0,c.eq)(e,"products")),(e=>{if(e){const t=e.suggestId;if(t&&p===(0,r.sG)(t))return(0,a.Bt)({suggesterKey:"products",suggestId:(0,r._e)(t)})}}))):(0,i.Mf)((0,a.Bt)({suggesterKey:"products",suggestId:(0,r.Ue)("")}),(0,n.RQ)())}const H=(0,i.gQ)("toggleSuggest",(({suggesterKey:e,show:t})=>(0,d._N)((t=>(0,c.eq)(t,e)),(s=>s&&s.show===t?(0,i.ZT)():(0,i.vP)(t?(0,g.ej)():(0,i.ZT)(),(0,a.p_)({suggesterKey:e,show:t})))))),D=(0,i.gQ)("handleSuggestNavigation",(e=>{const{suggesterKey:t,keyCode:s}=e;switch(s){case p.O_:return H({suggesterKey:t,show:!1});case p.HI:return $({suggesterKey:t,direction:"prev"});case p.P9:return $({suggesterKey:t,direction:"next"})}return(0,i.ZT)()})),$=(0,i.gQ)("highlightNextOrPrevSuggestion",(e=>{const{suggesterKey:t,direction:s,suggestionsLimit:r=R.Z}=e;return(0,w.$0)((({tp:e})=>(0,d.gF)({suggest:e=>(0,c.eq)(e,t),allSuggestions:e=>(0,c.vt)(e,t),featureRealty:e=>e.config.featureRealty,isHistorySuggestions:c.Mw},(({suggest:n,allSuggestions:o,featureRealty:c,isHistorySuggestions:d})=>{if(!n||!o)return(0,i.ZT)();const l=d?z.vT:r,u=c&&"primary"===t?(0,R.r)(o,e,d):[...o].slice(0,l),{highlightedIndex:p}=n,g=l?Math.min(u.length,l):u.length;let m=void 0!==p?p:-1;"next"===s?(m+=1,m>g-1&&(m=0)):(m-=1,m<0&&(m=g-1));const h=u[m];return(0,i.Mf)((0,i.Rh)((e=>(0,w.$0)((({tp:s})=>(0,a.xU)({suggesterKey:t,query:(0,k.C)(h,{tp:s,config:e})}))))),(0,a.r4)({suggesterKey:t,index:m}))}))))})),V=(0,i.gQ)("changeCity",(e=>(0,i.vP)((0,b.BN)(),(0,f.IW)(),(0,a.xU)({suggesterKey:"primary",query:void 0}),(0,I.jP)((0,r.Ue)((0,o.by)())),(0,v.vr)({entityId:e})))),q=(0,i.gQ)("addObjectToHistory",((e,t)=>e.entity?(0,i.vP)((0,x.tF)({entity:e.entity,text:t,timestamp:(new Date).getTime()}),(0,j.R)()):(0,i.ZT)())),G=(0,i.gQ)("submitNewSearch",(e=>(0,d.gF)({viewpoint:l.Id},(({viewpoint:t})=>(0,i.vP)((0,f.IW)(),(0,h.gB)({query:e.query,viewpoint:t,attributeId:e.attributeId,rubricId:e.rubricId,bestKeyword:e.bestKeyword})))))),W=(0,i.gQ)("openObjectSuggestionOrMakeSearch",(e=>{var t,s,r,a,n,o,c;const{suggestion:l,query:u}=e,{entity:p}=l;if(p&&p.id){if("adm_div"===p.type&&("city"===p.subtype||"settlement"===p.subtype))return V(p.id);switch(p.type){case"adm_div":case"branch":case"building":case"station":case"route":case"street":case"road":case"attraction":case"kilometer_road_sign":const e={id:p.id,type:p.type,query:u,entranceId:"context"in p?null===(t=p.context)||void 0===t?void 0:t.entrance_id:void 0,shouldFitEntityInMapView:!0,entityIcon:(0,F.X)(null===(a=null===(r=null===(s=null==p?void 0:p.ads)||void 0===s?void 0:s.options)||void 0===r?void 0:r.marker_logo)||void 0===a?void 0:a.url),isCommercial:Boolean(null===(o=null===(n=null==p?void 0:p.ads)||void 0===n?void 0:n.options)||void 0===o?void 0:o.marker_logo)};return p.hash?(0,i.vP)((0,f.IW)(),(0,y.xo)(Object.assign(Object.assign({},e),{hash:p.hash})),"object"===l.type?q(l):void 0):(0,i.vP)((0,f.IW)(),(0,y.xo)(e),"object"===l.type?q(l):void 0);case"rubric":return(0,i.vP)(G({query:u,rubricId:p.id,bestKeyword:"search_attributes"in l?null===(c=l.search_attributes)||void 0===c?void 0:c.suggested_text:void 0}),"object"===l.type?q(l):void 0);case"attribute":return(0,i.vP)(G({query:u,attributeId:p.id}),"object"===l.type?q(l,u):void 0);case"org":return(0,i.vP)((0,f.IW)(),(0,h.QR)({orgId:p.id,regionId:p.region_id}),"object"===l.type?q(l):void 0);case"special":switch(p.id){case"1":return(0,d._N)(O.eb,(e=>e&&M(e)));case"2":return(0,d._N)(O.M6,(e=>e&&M(e)));case"3":return(0,i.vP)((0,x.Fd)(),(0,A.A)());case"4":case"5":return(0,i.vP)(P(),(0,A.A)());case"6":return(0,L.T)()}}}return G({query:u})})),Q=(0,i.gQ)("pickPrimarySuggestion",(e=>{const t="primary",{suggestion:s,query:r,pickedIndex:n,frameId:u,suggestions:p,searchAttributes:h,hasLogo:f}=e,v=(0,o.by)();return(0,i.vP)((0,C.AB)({suggestion:s,query:r,pickedIndex:n,frameId:u,suggestions:p,searchAttributes:h,hasLogo:f}),(0,d.gF)({suggest:e=>(0,c.eq)(e,t),viewpoint:l.Id,personalRecords:E.$,geolocationPosition:e=>e.session.geolocation.position},(({suggest:e,viewpoint:n,personalRecords:o,geolocationPosition:c})=>e?(0,m.F)(s)&&e.query!==r+" "?(0,i.Mf)((0,a.xU)({suggesterKey:t,query:r+" "}),(0,a.r4)({suggesterKey:t,index:void 0}),(0,g.DF)({searchId:v,suggesterType:Z(t),query:r,viewpoint:n,regionId:void 0,personalRecords:o,sortPoint:c})):(0,i.vP)((0,a.xU)({suggesterKey:t,query:r}),H({suggesterKey:t,show:!1}),W({suggestion:s,query:r})):(0,i.ZT)())))})),K=(0,i.gQ)("handleSuggestInputClick",(({query:e,suggesterKey:t})=>(0,d._N)((e=>(0,c.eq)(e,t)),(s=>s&&s.show?(0,i.ZT)():(0,i.Mf)(H({suggesterKey:t,show:!0}),(0,a.xU)({suggesterKey:t,query:e}),B()))))),J=(0,i.gQ)("pickAlternativeSuggestion",(e=>{const t="primary",{suggestion:s,query:r}=e;return(0,i.vP)((0,a.xU)({suggesterKey:t,query:r}),H({suggesterKey:t,show:!1}),W({suggestion:s,query:r}))}))},29736:(e,t,s)=>{"use strict";s.d(t,{vc:()=>g,Wu:()=>l,AB:()=>d});var r=s(67753),i=s(32712),a=s(64693),n=s(4135),o=s(96191);var c=s(29668);const d=e=>{const{query:t,frameId:s,pickedIndex:r,suggestions:i,searchAttributes:a,hasLogo:n}=e;return"history"===e.suggestion.type?p({suggestion:e.suggestion,query:t,frameId:s,pickedIndex:r,suggestions:i,hasLogo:n}):u(Object.assign(Object.assign({},e),{suggestion:e.suggestion,suggestions:i,searchAttributes:a,hasLogo:n}))},l=e=>{const t={uiElement:{name:"myLocation",ownerName:0===e.pointIndex?"pointA":"pointB",frameUuid:e.frameId},action:"tap"};return(0,i.zs)(t)},u=e=>{const{suggestion:t,query:s,pickedIndex:n,frameId:d,suggestions:l,searchAttributes:u,hasLogo:p}=e,g=n+1,v=m(t.entity),b=s||("text"in t?t.text:""),{suggestItem:y,suggestList:x,bssEvent:j}=(e=>{var t,s,r,i;const{suggestion:a,query:n,pickedIndex:c,frameId:d,suggestions:l,searchAttributes:u,hasLogo:p}=e,g=c+1,v=a.search_attributes?function(e){switch(e){case 0:return"openRecord";case 1:return"expandRecord";case 2:return"searchSuggestedText";case 3:return"incompleteQuery";default:return}}(a.search_attributes.handling_type):void 0,b=m(a.entity),y=n||("text"in a?a.text:""),x={text:y,entity:"special"!==(null==b?void 0:b.type)||"3"!==b.id?b:void 0,handlingType:v,resultClass:null===(t=a.search_attributes)||void 0===t?void 0:t.dgis_source_type,personalPriority:h(a),hybridEntities:(0,o.c)(a.entity),org:"branch"===(null===(s=a.entity)||void 0===s?void 0:s.type)?null===(i=null===(r=a.entity)||void 0===r?void 0:r.org)||void 0===i?void 0:i.id:void 0,hasLogo:p},j={size:l.length,searchSegmentId:null==u?void 0:u.dgis_project_id,firstResultClass:null==u?void 0:u.dgis_output_type,searchType:null==u?void 0:u.search_type,rtwVersion:null==u?void 0:u.rtw_version,searchStatisticsTags:(null==u?void 0:u.statistic_tags)||void 0};return{suggestItem:x,suggestList:j,bssEvent:{uiElement:{name:"suggestItem",ownerName:"suggestList",position:g,frameUuid:d},payload:{suggestItem:x,suggestList:j,searchRequest:f("show",y,b)}}}})({suggestion:t,query:s,pickedIndex:n,frameId:d,suggestions:l,searchAttributes:u,hasLogo:p}),w={uiElement:{name:"suggestItem",ownerName:"suggestList",position:g,frameUuid:d},action:"tap",payload:{suggestItem:y,suggestList:x,searchRequest:f("tap",b,v)}},_={uiElement:{name:"adsBanner",ownerName:"suggestList",position:g,frameUuid:d},action:"tap",payload:{adsBanner:Object.assign(Object.assign({},c.s.getSuggestionPayload(t)),{position:g})}};return p?(0,i.zs)(_):(0,r.vP)((0,i.GM)(Object.assign({showEventKey:(0,a.by)(),autoEvent:!0},j)),(0,i.zs)(w))},p=e=>{const{suggestion:t,query:s,pickedIndex:n,frameId:c,suggestions:d,hasLogo:l}=e,u=n+1,p=m(t.entity),{bssEvent:g}=(e=>{const{suggestion:t,query:s,pickedIndex:r,frameId:i,suggestions:a,hasLogo:n}=e,c=r+1,d=m(t.entity);return{bssEvent:{uiElement:{name:"historyItem",ownerName:"historyList",position:c,frameUuid:i},payload:{historyItem:{text:s,handlingType:t.entity?"openRecord":void 0,entity:d,hybridEntities:(0,o.c)(t.entity),hasLogo:n},historyList:{size:a.length}}}}})({suggestion:t,query:s,pickedIndex:n,frameId:c,suggestions:d,hasLogo:l}),h={historyItem:{text:s,handlingType:t.entity?"openRecord":void 0,entity:p,hybridEntities:(0,o.c)(t.entity),hasLogo:l},historyList:{size:d.length}},f={uiElement:{name:"historyItem",ownerName:"historyList",position:u,frameUuid:c},action:"tap",payload:Object.assign({searchRequest:{text:s,entities:p?[p]:void 0}},h)};return(0,r.vP)((0,i.GM)(Object.assign({showEventKey:(0,a.by)(),autoEvent:!0},g)),(0,i.zs)(f))},g=e=>(0,i.zs)({uiElement:{name:"searchStart",ownerName:"searchBar",frameUuid:e.frameId},action:"tap",payload:{searchRequest:{text:e.query}}});function m(e){if(e)return{type:e.type,segmentInfo:(0,n.U)(e),id:e.id,subtype:"subtype"in e?e.subtype:void 0}}function h(e){var t;if("special"===(null===(t=e.entity)||void 0===t?void 0:t.type))return 8}function f(e,t,s){if("special"===(null==s?void 0:s.type)){if("3"===s.id&&"tap"===e)return;if(("1"===s.id||"2"===s.id)&&"tap"===e)return{entities:s?[s]:void 0}}return{text:t,entities:s?[s]:void 0}}},5282:(e,t,s)=>{"use strict";s.d(t,{R:()=>u});var r=s(18954),i=s(67753),a=s(55158),n=s(2234),o=s(27386),c=s(56816),d=s(49187),l=s(6432);const u=(0,i.gQ)("syncCart",(()=>(0,i.vP)((0,r.Bk)({}),(0,i.xJ)((e=>{const t=(0,c.W)(e);if(!t)return;const s=(0,l.t)(t).reduce(((t,{branchId:s,productId:r})=>((0,n.G)((0,a.E$)({state:e,branchId:s,productId:r}))&&(t[s]||(t[s]=[])).push(r),t)),{});return(0,i.Mf)(...Object.keys(s).map((e=>(0,d.H)({branchId:e,productIds:s[e]}))))})),(0,i.xJ)((e=>{const t=(0,c.W)(e);if(!t)return;let s=!1;const r=t.orders.map((t=>{const r=t.items.map((t=>{var r,i,o,c;const d=(0,a.Gt)({state:e,productId:t.productId}),l=(0,a.E$)({state:e,branchId:t.branchId,productId:t.productId});if((0,n.G)(l))return s=!0,Object.assign(Object.assign({},t),{deleted:!0});{const e=null===(r=d.data)||void 0===r?void 0:r.product,a=l.data;if(e&&a&&(t.name!==e.name||t.description!==e.description||(null===(i=t.price.fixed)||void 0===i?void 0:i.value)!==(null===(c=null===(o=a.price_value)||void 0===o?void 0:o.fixed)||void 0===c?void 0:c.value)))return s=!0,Object.assign(Object.assign({},t),{name:e.name,description:e.description,price:a.price_value||{},deleted:!1});if(t.deleted)return Object.assign(Object.assign({},t),{deleted:!1})}return t}));return Object.assign(Object.assign({},t),{items:r})}));return s&&(0,o.j)({orders:r,showCartButton:!0,customer:t.customer})})))))},52443:(e,t,s)=>{"use strict";s.d(t,{k:()=>d});var r=s(67753),i=s(354),a=s(26287),n=s(54223),o=s(16838),c=s(14169);function d({forced:e}={}){return(0,r.XJ)((0,i._N)(a.kL,(t=>t&&t.flags.traffic&&(0,i._N)((0,o.s)(t.code),(s=>(!s||e)&&(0,c.M)((0,n.S)({regionCode:t.code})))))))}},12593:(e,t,s)=>{"use strict";s.d(t,{yt:()=>z,Hm:()=>F,rA:()=>A,kn:()=>B,oD:()=>D,$q:()=>U,$C:()=>$,CV:()=>H});var r=s(67753),i=s(24306),a=s(92141),n=s(95359),o=s(29600),c=s(33451),d=s(76171),l=s(36928),u=s(53074),p=s(69088),g=s(31389),m=s(42313),h=s(49013),f=s(24973),v=s(97825);const b=111319.492;function y({position:e,accuracy:t,state:s}){const r={lon:e.lon,lat:e.lat,zoom:v.CH};if(!t)return r;const i=3*(t/b);const a=[[e.lon-i,e.lat+i],[e.lon+i,e.lat+i],[e.lon+i,e.lat-i],[e.lon-i,e.lat-i]],n=(0,m.v9)(s),o=(0,h.o)(s.session.screen,n),c=(0,f.getCenterZoomByPoints)(a,s.appContext.rotation,[o.width,o.height]);return c?{lon:c.center[0],lat:c.center[1],zoom:c.zoom}:r}var x=s(66204),j=s(354),w=s(2421),_=s(26287),C=s(2701),I=s(10504),k=s(41582),O=s(3454),S=s(68276),N=s(83575),M=s(7763),T=s(18869),P=s(71686),E=s(13754),L=s(16617),R=s(87627);const z=(0,r.gQ)("closeLastFrame",(()=>(0,j.gF)({activeLayer:e=>e.appContext.activeLayer,frames:e=>e.appContext.frames},(({activeLayer:e,frames:t})=>{const s=t[0],i=t[1];if(!s)return(0,r.ZT)();if(1===t.length&&"friendsList"===s.type)return(0,r.vP)((0,O.u$)(),(0,n.IW)());if(1===t.length&&("search"!==s.type||"filials"!==s.searchType&&"inbuilding"!==s.searchType)&&"directions"!==s.type&&"gallery"!==s.type)return(0,o.BN)((0,n.IW)());if("entity"===s.type&&"search"===(null==i?void 0:i.type)&&"query"===i.searchType&&i.seoFakeEntityId)return(0,o.BN)((0,n.IW)());const{type:c,id:d}=s;return"realty"===e?(0,r.vP)((0,k.h)(),Z()):"exchange"===e&&"exchange"===c?(0,E.tj)({}):(0,r.vP)((0,o.BN)(),(0,n.t7)({id:d}),(0,j._N)((e=>e.appContext.frames.length),(e=>0===e?Z():(0,r.ZT)())),(0,w.l)(),s.isOpenedFromMap&&(0,N.a)((0,a.kG)({isMinimized:!0})))}))));function A(){return(0,r.xJ)((e=>e.appContext.popup?e.appContext.popup.isModal?(0,r.ZT)():(0,C.O)(c.j4):I.Y.get()?(0,r.PQ)((()=>{I.Y.set((()=>!1))})):0===e.appContext.frames.length?(0,a.kG)({isMinimized:!e.appContext.isDataViewerMinimized}):"gallery"===e.appContext.frames[0].type?F():1===e.appContext.frames.length?(0,a.kG)({isMinimized:!e.appContext.isDataViewerMinimized}):z()))}function F(){return(0,r.vP)((0,o.BN)(),(0,n.hp)(),Z(),(0,i.G)())}function B(){return(0,r.xJ)((e=>0===e.appContext.frames.length?e.appContext.isDataViewerMinimized?(0,a.kG)({isMinimized:!1}):void 0:(0,r.vP)((0,o.BN)(),(0,n.IW)(),Z())))}function Z(){return(0,r.Mf)((0,x.xU)({suggesterKey:"primary",query:void 0}),(0,x.xU)({suggesterKey:"inbuilding",query:void 0}))}function U(e){return(0,r.xJ)((t=>{const s=t.appContext.frames[0];return s&&"gallery"===s.type?(0,j.gF)({searchKeyword:(0,R.Ec)(s.entityId)},(({searchKeyword:i})=>{const a=(0,T.J)(t),o=(0,P.Jn)(a);return(0,r.Rh)((({featureVideoInGallery:t})=>{var a;if(null===(a=s.photoAlbum)||void 0===a?void 0:a.id)return t?L.cY.withMediaAlbum({objectId:s.entityId,albumId:s.photoAlbum.id,searchCtx:o,searchKeyword:i},(t=>{const i=null==t?void 0:t.pages.reduce(((e,t)=>Object.assign(Object.assign({},e),{items:[...e.items,...t.items]}))).items;if(!i)return(0,r.ZT)();const a=i.findIndex((e=>!(!e||!("id"in e))&&e.id===s.photoId)),o="forward"===e?i[a+1]:i[a-1],c=o&&"id"in o?o.id:void 0;return c?(0,n.D_)(s.id,(e=>Object.assign(Object.assign({},e),{photoId:c}))):(0,r.ZT)()})):(0,S.EU)({id:s.entityId,albumId:s.photoAlbum.id,searchCtx:o,searchKeyword:i},(t=>{const i=null==t?void 0:t.pages.reduce(((e,t)=>Object.assign(Object.assign({},e),{items:[...e.items,...t.items]}))).items;if(!i)return(0,r.ZT)();const a=i.findIndex((e=>!(!e||!("id"in e))&&e.id===s.photoId)),o="forward"===e?i[a+1]:i[a-1],c=o&&"id"in o?o.id:void 0;return c?(0,n.D_)(s.id,(e=>Object.assign(Object.assign({},e),{photoId:c}))):(0,r.ZT)()}))}))})):(0,r.ZT)()}))}const H=(0,r.gQ)("updateMyGeolocation",(e=>(0,r.Mf)((0,u.l6)({lonLat:{lon:e.coords.longitude,lat:e.coords.latitude},accuracy:e.coords.accuracy}),(0,r.xJ)((t=>{if(!t.session.geolocation.following)return(0,r.ZT)();const s=y({position:{lon:e.coords.longitude,lat:e.coords.latitude},accuracy:e.coords.accuracy,state:t});return(0,r.Mf)((0,u.hL)({follow:!1}),(0,p._4)(Object.assign(Object.assign({},s),{rotation:0,pitch:0})))}))))),D=(0,r.gQ)("setMyGeolocationFailed",(e=>(0,r.Mf)((0,g.ck)(),(0,M.$0)((({tp:t})=>"PERMISSION_DENIED"===e?(0,d.c)((0,l.v)({title:t._t("Не удалось определить местоположение"),message:t._t("Доступ к геоданным не разрешён")})):(0,d.c)((0,l.v)({title:t._t("Не удалось определить местоположение"),message:""}))))))),$=()=>(0,j.gF)({regionCode:_.SJ,showTraficOnMap:e=>e.appContext.showTrafficOnMap},(()=>(0,r.vP)((0,O.P)(),(0,a.Tz)())))},71630:(e,t,s)=>{"use strict";s.d(t,{UG:()=>d,gS:()=>l});var r=s(67753),i=s(31389),a=s(48803),n=s(36927),o=s(55476),c=s(76691);const d=e=>{const{statusId:t,email:s}=e;return(0,r.xJ)((c=>{const d=(0,o.bG)(c);if(!d||!d.data)return(0,r.ZT)();const l=(0,n.j)({new_email:s,email:d.data.email,email_confirmed:d.data.email_confirmed});return(0,n.N)({new_email:d.data.new_email,email:d.data.email,email_confirmed:d.data.email_confirmed})?(0,i.EC)({statusId:t,email:d.data.new_email||d.data.email,clientId:e.clientId}):l&&e.email?(e=>{const{locale:t,statusId:s,email:i,clientId:n}=e;return(0,r.xJ)((e=>{const c=(0,o.bG)(e);return c&&c.data?(0,a.Q)({email:i,userId:c.data.user_id,locale:t,statusId:s,clientId:n}):(0,r.ZT)()}))})({email:e.email,locale:e.locale,clientId:e.clientId,statusId:t}):(0,r.ZT)()}))},l=e=>(0,r.Rh)((({authClientId:t})=>(0,c.g)(Object.assign(Object.assign({},e),{authClientId:t}))))},354:(e,t,s)=>{"use strict";s.d(t,{Mb:()=>d,WW:()=>l,_N:()=>n,gF:()=>o,zh:()=>c});var r=s(67753),i=s(42313),a=s(48592);function n(e,t){return(0,r.xJ)((s=>{const r=e(s);return t(r)}))}function o(e,t){return(0,r.xJ)((s=>{const r=(0,a.u)(e).reduce(((t,r)=>(t[r]=e[r](s),t)),{});return t(r)}))}function c(e){return n(i.Id,e)}const d=(e,t)=>n((t=>t.appContext.frames.find((t=>t.id===e))),t),l=(e,t,s)=>n((t=>t.appContext.frames.find((t=>t.id===e))),(e=>!!e&&t(e)&&s(e)))},14169:(e,t,s)=>{"use strict";s.d(t,{M:()=>i});var r=s(67753);const i=e=>(0,r.Rh)((({featureReadOnly:t})=>t?(0,r.ZT)():e))},18122:(e,t,s)=>{"use strict";s.d(t,{A:()=>c,d7:()=>n,k1:()=>o,vp:()=>a});var r=s(41495),i=s(64693);function a(e={}){return(t={})=>({eventType:"view",uiElement:(0,i.uv)((0,r.Z)({},{type:"frame",uuid:expect.any(String)},e,t))})}function n(e={}){return(t={})=>(0,r.Z)({},{eventType:"view",uiElement:{frameUuid:expect.any(String)}},e,t)}function o(e={}){return(t={})=>(0,r.Z)({},{eventType:"action",actionType:"tap",uiElement:{frameUuid:expect.any(String)}},e,t)}function c(e={}){return(t={})=>(0,r.Z)({},{eventType:"action",actionType:"close",uiElement:{frameUuid:expect.any(String)}},e,t)}},63993:(e,t,s)=>{"use strict";s.d(t,{$h:()=>a,F0:()=>g,FY:()=>o,KU:()=>x,Kn:()=>n,MY:()=>f,Mp:()=>b,QS:()=>v,Rw:()=>u,Ue:()=>r,Vz:()=>h,Yq:()=>m,hC:()=>c,oN:()=>d,q0:()=>l,qH:()=>y,x3:()=>i,yG:()=>p});const r={normal:400,medium:500,bold:600},i={fontSize:"40px",fontWeight:r.normal,lineHeight:"48px",letterSpacing:"-1.2px"},a={fontSize:"30px",lineHeight:"33px",fontWeight:r.normal,letterSpacing:"-0.8px"},n=Object.assign(Object.assign({},a),{fontWeight:r.medium}),o={fontSize:"19px",lineHeight:"21px",fontWeight:r.normal,wordWrap:"break-word",letterSpacing:"-0.8px"},c=Object.assign(Object.assign({},o),{fontWeight:r.medium}),d={fontSize:"14px",lineHeight:"17px",fontWeight:r.normal,letterSpacing:"-0.6px"},l=Object.assign(Object.assign({},d),{fontWeight:r.medium}),u=Object.assign(Object.assign({},d),{fontWeight:r.bold}),p={fontSize:"12px",lineHeight:"13px",fontWeight:r.normal,letterSpacing:"-0.5px"},g=Object.assign(Object.assign({},p),{fontWeight:r.medium}),m=Object.assign(Object.assign({},p),{fontWeight:r.bold}),h={fontSize:"10px",lineHeight:"11px",fontWeight:r.normal,letterSpacing:"-0.4px"},f=Object.assign(Object.assign({},h),{fontWeight:r.medium}),v=Object.assign(Object.assign({},h),{fontWeight:r.bold}),b={fontSize:"12px",lineHeight:"17px",fontWeight:r.bold,textTransform:"uppercase",letterSpacing:"0.5px"},y=Object.assign(Object.assign({},d),{fontFamily:"inherit"});function x(e,t){const s=parseInt(t.lineHeight,10);return Object.assign(Object.assign({},t),{display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:e,overflow:"hidden",textOverflow:"ellipsis",maxHeight:s?e*s:"none"})}},16286:(e,t,s)=>{"use strict";s.d(t,{Ay:()=>a,C7:()=>c,LR:()=>l,P6:()=>m,bI:()=>o,it:()=>g,q9:()=>p,zb:()=>i});var r=s(63993);const i=Object.assign(Object.assign({},r.QS),{fontSize:"11px",lineHeight:"16px"}),a=Object.assign(Object.assign({},r.QS),{fontSize:"8px",lineHeight:"16px",letterSpacing:"-0.2px"}),n={fontSize:"13px",lineHeight:"16px",fontWeight:r.Ue.normal,letterSpacing:"-0.5px"},o=Object.assign(Object.assign({},n),{fontWeight:r.Ue.medium}),c=Object.assign(Object.assign({},n),{fontWeight:r.Ue.bold}),d={fontSize:"11px",lineHeight:"14px",fontWeight:r.Ue.normal,letterSpacing:"-0.4px"},l=Object.assign(Object.assign({},d),{fontWeight:r.Ue.medium}),u={fontSize:"8px",lineHeight:"10px",fontWeight:r.Ue.normal,letterSpacing:"-0.3px"},p=Object.assign(Object.assign({},u),{fontWeight:r.Ue.medium}),g=Object.assign(Object.assign({},r.FY),{fontSize:"16px",lineHeight:"18px",hyphens:"auto"}),m=Object.assign(Object.assign({},r.hC),{fontSize:"16px",lineHeight:"16px"});Object.assign(Object.assign({},r.MY),{fontSize:"6px",lineHeight:"7px"})},17151:(e,t,s)=>{"use strict";s.d(t,{A:()=>n,n:()=>a});const r={colors:{green_30ad00_brand:"#30ad00",green_299400_brand:"#299400",blue_0082c8_brand:"#0082c8",blue_41a5db_brand:"#41a5db"}},i={colors:{green_30ad00_brand:"#ffba00",green_299400_brand:"#ffba00",blue_0082c8_brand:"#ffba00",blue_41a5db_brand:"#ffba00"}},a={};for(const e of["dgis","urbi"])for(const t of["ltr","rtl"])for(const s of["desktop","mobile"]){const o=n(e,t,s);a[o]=Object.assign(Object.assign({},"dgis"===e?r:i),{urbi:"urbi"===e,rtl:"rtl"===t,mobile:"mobile"===s})}function n(e,t,s){return`${e}_${t}_${s}`}},57078:(e,t,s)=>{"use strict";s.d(t,{p:()=>i});var r=s(63983);function i(e){return e?r.S[e]:r.S.default}},2206:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a,r:()=>n});var r=s(99112);var i=s(82358);const a=8;function n(e,t,s){const n=function(e){return e.some((e=>!!("object"===e.type&&e.entity&&e.entity.id&&["metarubric","rubric"].includes(e.entity.type))&&r.S.includes(e.entity.id)))}(e),o=[...e];return n&&o.splice(2,0,{type:"object",entity:{type:"special",id:"6"},search_attributes:{handling_type:0,suggest_parts:[{is_suggested:!1,text:t._gg("Недвижимость")}],suggested_text:t._gg("Недвижимость")}}),o.slice(0,s?i.vT:a)}},76497:(e,t,s)=>{"use strict";function r(e,t,s="id"){return!(!e&&!t)&&(!!t&&(!e||e[s]!==t[s]))}s.d(t,{f:()=>r})},55805:(e,t,s)=>{"use strict";s.d(t,{P:()=>i});var r=s(4116);function i(e){const{label:t,hidden:s,pressed:i,iCanNotUseButtonSoTabIndexOnClick:n}=e,o=n?(c=n,e=>{if(e.keyCode===r.q7||e.keyCode===r.Fx)return c()}):void 0;var c;return{"aria-label":t,"aria-hidden":a(s||void 0),"aria-pressed":a(i),tabIndex:o?0:void 0,onKeyDown:o}}function a(e){switch(e){case!0:return"true";case!1:return"false";default:return}}},94146:(e,t,s)=>{"use strict";function r(e,t){return(s,r)=>{const i=s[e],a=t(i,r);return i===a?s:Object.assign(Object.assign({},s),{[e]:a})}}s.d(t,{x:()=>r})},47544:(e,t,s)=>{"use strict";function r(e){return e&&e>=8?"high":e&&e>=5?"middle":e&&e>=1?"low":"closed"}s.d(t,{b:()=>r})},14026:(e,t,s)=>{"use strict";s.d(t,{T:()=>a});var r=s(64693),i=s(89636);const a=e=>{const{widgets:t,filterValues:s,valueTextMap:a={}}=e;if(!s||(0,r.xb)(s)||!t||!t.length)return s;const n={};t.forEach((e=>{n[e.tag]=e}));const o=Object.assign({},s);return(0,r.Ed)(s,((e,t)=>{const s=n[t],r=null==e?void 0:e.split(i.Ad),c=null==r?void 0:r.map((e=>{var t;let r=e;return s&&"checkboxlist"===s.widget&&(r=(null===(t=s.items.find((t=>t.value===e)))||void 0===t?void 0:t.text)||r),a[e]||r}));c&&(o[t]=c.join(i.Ad))})),o}},72548:(e,t,s)=>{"use strict";s.d(t,{Y:()=>a});var r=s(32655),i=s(64693);function a(e){if("realty"===e.type){const t=e.entity&&"building"!==e.entity.type?{links:e.entity.id}:void 0;return e.filterValues||e.categoryId?(0,r.Y)(Object.assign(Object.assign(Object.assign({},e.filterValues),{category_ids:e.categoryId}),t)):void 0}if("entity"===e.type&&e.tabRealty){const t=e.entityId&&"building"!==e.entityType?{links:e.entityId}:void 0;return!(0,i.xb)(e.tabRealty.currentFiltersValues)||e.tabRealty.currentCategoryValue?(0,r.Y)(Object.assign(Object.assign(Object.assign({},e.tabRealty.currentFiltersValues),{category_ids:e.tabRealty.currentCategoryValue}),t)):void 0}}},91611:(e,t,s)=>{"use strict";function r(e,t,s){return{id:s,tag:t,name:e,caption:e,search_query:e,icon_url:`/public/dashboard/${t}.svg`,type:"metarubric"}}s.d(t,{N:()=>r})},41462:(e,t,s)=>{"use strict";function r(e){return e*Math.PI/180}function i(e,t){const s=r(e.lat),i=r(t.lat),a=r(t.lat-e.lat),n=r(t.lon-e.lon),o=Math.sin(a/2)*Math.sin(a/2)+Math.cos(s)*Math.cos(i)*Math.sin(n/2)*Math.sin(n/2),c=2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o));return Math.trunc(6371e3*c)}s.d(t,{c:()=>i})},39628:(e,t,s)=>{"use strict";s.d(t,{V:()=>i});var r=s(11473);function i(e){return"point"in e&&!!e.point||!!(0,r.Y)(e)}},14609:(e,t,s)=>{"use strict";s.d(t,{S:()=>o});var r=s(82824),i=s(67759),a=s(66108),n=s(49742);function o({state:e,frame:t}){var s,o;if("search"!==t.type||"query"!==t.searchType)return!1;const c=null===(o=null===(s=(0,r.O)({state:e,filtersId:t.tabCatalog.filtersId.actual}))||void 0===s?void 0:s.widgets)||void 0===o?void 0:o.main,d=c?(0,i.h)(c,n.m.Award2Gis):void 0;return(0,a.G)({searchType:t.searchType,awards2GisTags:d,config:e.config,query:t.query})}},97264:(e,t,s)=>{"use strict";function r(e){return!!e&&"metro_moscow_mcc"===e}s.d(t,{Z:()=>r})},78837:(e,t,s)=>{"use strict";s.d(t,{I:()=>i});const r=["metro_moscow_D1","metro_moscow_D2","metro_moscow_D3","metro_moscow_D4","metro_moscow_D4A","metro_moscow_D4a","metro_moscow_D5"];function i(e){return!!e&&-1!==r.indexOf(e)}},46042:(e,t,s)=>{"use strict";function r(e,...t){return s=>({type:e,payload:s,reducers:t.map((e=>(t,s)=>e(t,s.payload)))})}s.d(t,{P:()=>r})},10737:(e,t,s)=>{"use strict";s.d(t,{E:()=>i,X:()=>a});var r=s(40464);const i=s(63174).Cb;function a(e,t){const s=t||i;if(e)return{fullUrl:(0,r.W)(e,`${s}x${s}`),baseUrl:e,width:s,height:s}}},76092:(e,t,s)=>{"use strict";s.d(t,{F:()=>i});var r=s(95359);function i(e){return(t,s)=>(0,r.D_)(t,(t=>e(t)?s(t):void 0))}},38853:(e,t,s)=>{"use strict";s.d(t,{r:()=>i});var r=s(67753);function i(e){return t=>(0,r.xJ)((s=>{const r=s.appContext.frames.find(e);return t(r)}))}},8267:(e,t,s)=>{"use strict";s.d(t,{E:()=>i});var r=s(63655);function i(e,t){const s=(0,r.t)(e,t);return{localDay:new Intl.DateTimeFormat("en-US",{weekday:"short"}).format(s).toLowerCase(),localHour:s.getHours()}}},85585:(e,t,s)=>{"use strict";function r(e){var t,s,r,i;return"has_discount"in e?!(!e.has_discount||!(null===(s=null===(t=e.ads)||void 0===t?void 0:t.options)||void 0===s?void 0:s.discount)):!!(null===(i=null===(r=e.ads)||void 0===r?void 0:r.options)||void 0===i?void 0:i.discount)}s.d(t,{e:()=>r})},94142:(e,t,s)=>{"use strict";s.d(t,{r:()=>a});var r=s(94146),i=s(23862);const a=(e,t)=>(0,r.x)("data",(0,r.x)(e,(0,i.aq)(t)))},37179:(e,t,s)=>{"use strict";s.d(t,{ML:()=>o,XB:()=>a,iB:()=>n});const r=s(26499).r,i=e=>t=>{const{necessaryRubricList:s=[],sufficientRubricList:r=[]}=e;if(!t||"branch"!==t.type||!t.rubrics||!t.rubrics.length)return!1;const i=t.rubrics.map((e=>e.id));return s.length?i.every((e=>s.includes(e))):!!r.length&&i.some((e=>r.includes(e)))},a=i({sufficientRubricList:["492"]}),n=i({necessaryRubricList:r}),o=i({sufficientRubricList:r})},56707:(e,t,s)=>{"use strict";s.d(t,{C:()=>r});const r=e=>{switch(e){case"branch":return"firm";case"station":return"station";case"station_platform":return"platform";case"station_entrance":return"stationEntrance";case"route":return"route";default:return"geo"}}},95149:(e,t,s)=>{"use strict";s.d(t,{J:()=>r});const r=e=>{if("search"===(null==e?void 0:e.type)&&("buyHere"===e.searchType||"fmcg"===e.searchType))return e.adsIds}},97653:(e,t,s)=>{"use strict";function r(e){return(null==e?void 0:e.fixed)?{currency:e.fixed.currency,min:e.fixed.value,max:e.fixed.value}:(null==e?void 0:e.range)?{currency:e.range.currency,min:e.range.min,max:e.range.max}:(null==e?void 0:e.from)?{currency:e.from.currency,min:e.from.value,max:e.from.value}:void 0}s.d(t,{Z:()=>r})},23198:(e,t,s)=>{"use strict";function r(e){if(e&&e.data)switch(e.data.source){case"favorites":case"catalog":case"tUgc":case"realty":case"exchange":case"infrastructure":return e.data;default:return}}s.d(t,{X:()=>r})},57789:(e,t,s)=>{"use strict";function r(e){var t;return e&&"group"in e?null===(t=e.group)||void 0===t?void 0:t.find((e=>!!e.is_main_in_group)):void 0}s.d(t,{m:()=>r})},34843:(e,t,s)=>{"use strict";function r(e,t){return e.find((e=>e.orgId===t))}s.d(t,{L:()=>r})},50722:(e,t,s)=>{"use strict";s.d(t,{Pn:()=>p,QA:()=>m,Eh:()=>g});var r=s(40464),i=s(55340),a=s(37276),n=s(64693);const o={id:(0,n.by)(),media_type:"photo",real_object_type:"branch",photo:{url:"https://photo-resizer.web-staging.2gis.ru/images/branch/0/27584547745043444_790b.jpg",preview_urls:{"88x88":"https://photo-resizer.web-staging.2gis.ru/images/branch/0/27584547745043444_790b_88x88.jpg","116x116":"https://photo-resizer.web-staging.2gis.ru/images/branch/0/27584547745043444_790b_116x116.jpg","176x176":"https://photo-resizer.web-staging.2gis.ru/images/branch/0/27584547745043444_790b_176x176.jpg","232x232":"https://photo-resizer.web-staging.2gis.ru/images/branch/0/27584547745043444_790b_232x232.jpg","328x170":"https://photo-resizer.web-staging.2gis.ru/images/branch/0/27584547745043444_790b_328x170.jpg","656x340":"https://photo-resizer.web-staging.2gis.ru/images/branch/0/27584547745043444_790b_656x340.jpg"},height:600,width:800},owner:{id:"123123",name:"Иван Иванов",avatar:"https://example.com/avatar.jpg"},creation_time:(new Date).toISOString(),modification_time:(new Date).toISOString(),copyright:{code:"2gis_owner",title:"Фотография от владельца",type:"text",icon:"https://i.photo.2gis.com/logo/owner.svg",provider_icon:"https://cachizer3.2gis.com/photo-providers/8277b861-94b5-4745-8909-3ee24cd7ca8d.png?w=36&h=36",value:"Фотография от владельца",url:null},is_visible:!0,comment:"Фотография от владельца",is_pinned:!0,pinned_position:3,status:"active"},c={id:(0,n.by)(),media_type:"video",real_object_type:"branch",video:{urls:[{type:"hls",url:"http://10.54.108.115:3000/video/anzhorik_IMG_3908.MOV/Dash/master.m3u8"},{type:"dash",url:"http://10.54.108.115:3000/video/anzhorik_IMG_3908.MOV/Dash/dash.mpd"}],preview_urls:[{type:"hls",url:"http://10.54.108.115:3000/video/anzhorik_IMG_3908.MOV/Dash/master.m3u8"},{type:"dash",url:"http://10.54.108.115:3000/video/anzhorik_IMG_3908.MOV/Dash/dash.mpd"}],cover_urls:{"88x88":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=88&w=88","116x116":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=116&w=116","176x176":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=176&w=176","232x232":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=232&w=232","328x170":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=170&w=328","656x340":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=340&w=656"}},copyright:{code:"user",title:"my_nlo Nlo",type:"text",icon:"https://i.photo.2gis.com/logo/2gis.svg",provider_icon:"https://cachizer1.2gis.com/photo-providers/c4728d87-8e84-4621-b27a-e91b4f530ae3.png?w={width}&h={height}",value:"Видео от пользователя",url:null},owner:{id:"9223242625195225638",name:"my_nlo Nlo",avatar:"https://photo-resizer.web-staging.2gis.ru/images/profile/27584547741597131_7ad1.jpg",public_id:"217d2b1cc2f0439588b4b7e1aa53e57b"},creation_time:"2024-08-01T14:22:15.123Z",modification_time:"2024-08-02T10:45:30.456Z",is_visible:!0,comment:"Видео от пользователя",is_pinned:!0,pinned_position:2,status:"active"},d={id:(0,n.by)(),media_type:"photo",photo:{preview_urls:{"88x88":"https://photo-resizer.web-staging.2gis.ru/images/branch/0/27584547744413405_8c38_88x88.jpg","116x116":"https://photo-resizer.web-staging.2gis.ru/images/branch/0/27584547744413405_8c38_116x116.jpg","176x176":"https://photo-resizer.web-staging.2gis.ru/images/branch/0/27584547744413405_8c38_176x176.jpg","232x232":"https://photo-resizer.web-staging.2gis.ru/images/branch/0/27584547744413405_8c38_232x232.jpg","328x170":"https://photo-resizer.web-staging.2gis.ru/images/branch/0/27584547744413405_8c38_328x170.jpg","656x340":"https://photo-resizer.web-staging.2gis.ru/images/branch/0/27584547744413405_8c38_656x340.jpg"}}},l={id:(0,n.by)(),media_type:"video",video:{preview_urls:[{type:"hls",url:"https://i-yakovenenko-video.web-staging.2gis.ru/video/anzhorik_IMG_3908.MOV/preview/Dash/master.m3u8"},{type:"dash",url:"https://i-yakovenenko-video.web-staging.2gis.ru/video/anzhorik_IMG_3908.MOV/preview/Dash/dash.mpd"}],cover_urls:{"88x88":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=88&w=88","116x116":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=116&w=116","176x176":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=176&w=176","232x232":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=232&w=232","328x170":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=170&w=328","656x340":"https://filekeeper-resizer.web-staging.2gis.ru/reviews-photos/f454fa55-a419-48f6-a45b-7b40b7f871ba.jpg?h=340&w=656"}}},u=(0,a.B)(o),p=((0,a.B)(c),(0,a.B)(d),(0,a.B)(l),"adsImage");function g(e,t){return{id:p,url:(0,r.W)(e.url,"original"),preview_urls:i.v.reduce(((t,s)=>Object.assign(Object.assign({},t),{[s]:(0,r.W)(e.url,s)})),{}),modification_time:"",creation_time:"",real_object_type:t,height:0,width:0,copyright:{},owner:{id:"",name:"",avatar:null}}}function m(e,t){return u({id:p,photo:{url:(0,r.W)(e.url,"original"),preview_urls:i.v.reduce(((t,s)=>Object.assign(Object.assign({},t),{[s]:(0,r.W)(e.url,s)})),{}),height:0,width:0},real_object_type:t})}},88798:(e,t,s)=>{"use strict";function r(e){const t=e.replace("T","-").split(":")[0];return t.match(/^[0-9]{4}-[0-9]{2}-[0-9]{2}-[0-9]{2}$/)?t:"unknown_version"}s.d(t,{n:()=>r})},91128:(e,t,s)=>{"use strict";function r(e,t){const{tp:s}=t;return e.is_default?e.title||s._t("Избранное"):e.title||s._t("Подборка без названия")}s.d(t,{c:()=>r})},34728:(e,t,s)=>{"use strict";s.d(t,{h:()=>a});var r=s(64693),i=s(89636);function a(e,t){if(!e||0===Object.keys(e).length)return;const s=[];return(0,r.Ed)(e,((e,r)=>{if("sort"!==r&&void 0!==e)switch(r){case"category_ids":s.push({entity:{id:e,type:"productCategory"}});break;case"rubric_id":s.push({entity:{id:e,type:"rubric"}});break;case"subway":s.push({entity:{id:e,type:"station"}});break;case"district_id":s.push({entity:{id:e,type:"adm_div",subtype:"district"}});break;case"price":const a=e.split(","),n=a[0];if(!n)break;s.push({name:r,min:+n,max:a[1]?+a[1]:void 0});break;case"transport":const o=e.split(",");for(const e of o)s.push({name:e,value:"true"});break;default:r.split(i.ZA).forEach((r=>{s.push(function({value:e,name:t,filtersAttributes:s}){const r=s&&s.find((e=>e.tag===t));if("range"===(r&&r.type)){const[s,r]=e.split(",").map((e=>+e));return{name:t,max:r,min:s}}return{name:t,value:e}}({value:e,name:r,filtersAttributes:t}))}))}})),s.length?s:void 0}},96917:(e,t,s)=>{"use strict";function r(e){if("reviews"in e&&e.reviews&&e.reviews.general_rating)return{stars:e.reviews.is_org_reviews&&e.reviews.org_rating?Math.round(10*e.reviews.org_rating)/10:Math.round(10*e.reviews.general_rating)/10,count:e.reviews.is_org_reviews&&e.reviews.org_review_count_with_stars?e.reviews.org_review_count_with_stars:e.reviews.general_review_count_with_stars||e.reviews.general_review_count}}s.d(t,{A:()=>r})},12353:(e,t,s)=>{"use strict";function r(e){if(e&&0!==Object.keys(e).length&&e.sort)return{name:e.sort}}s.d(t,{C:()=>r})},76050:(e,t,s)=>{"use strict";s.d(t,{l:()=>r});const r=(e,t)=>{const{isoDate:s,currentDate:r,onlyDate:i=!1}=e,{tp:a,dateFns:n}=t;if(!Date.parse(s))return;return s.split("T")[0]===r.toISOString().split("T")[0]&&!i?a._t("сегодня"):n.format(new Date(s),"d MMMM yyyy")}},11431:(e,t,s)=>{"use strict";function r(e){if(void 0===e)return;const t=-e,s=Math.round(t),r=s<0?"-":"+",i=Math.abs(s);return`${r}${i<10?`0${i}`:i}:00`}s.d(t,{k:()=>r})},10484:(e,t,s)=>{"use strict";s.d(t,{Bj:()=>f,Di:()=>h,Fq:()=>g,Ks:()=>m,QB:()=>l,WZ:()=>c,b0:()=>d,fp:()=>p,iF:()=>n,s5:()=>b,t0:()=>o,vr:()=>u,yP:()=>v});var r=s(54300),i=s(51604),a=s(76329);function n(e,t){return e.find((e=>e.id===t))}function o(e,t){return e.find(function(e){return t=>!!t&&t.type===e}(t))}function c(e,t){return e.find((e=>t.includes(e.type)))}function d(e){if("offers"===e.searchType)return e.searchId}function l(e,t){const s="actual"===t?i.Gp:i.sG;switch(e.searchType){case"query":return s(e.tabCatalog.searchId);case"buyHere":case"fmcg":case"inbuilding":case"filials":return s(e.searchId)}}function u(e){switch(e.type){case"search":return"query"===e.searchType?e.tabCatalog.parentSearchId||(0,i.Gp)(e.tabCatalog.searchId):(0,i.Gp)(e.searchId);case"entity":return"inside"===e.tab&&e.tabInside?(0,i.Gp)(e.tabInside.searchId):""}}function p(e){const t=(0,r.A)(e);return t?t.rubric_id:void 0}function g(e,t){var s,r;const i=o(e,"entity");if(i&&"entity"===i.type)return i;if(t&&"pending"===(null===(s=e[0])||void 0===s?void 0:s.type)){return null===(r=t[t.length-1])||void 0===r?void 0:r.find(a.B)}}function m(e,t){return e.find((e=>"entity"===e.type&&e.entityId===t))}function h(e){const t=o(e,"search");if(t&&"search"===t.type)return t}function f(e){const t=o(e,"pending");if(t&&"pending"===t.type&&"entity"===t.subtype)return t}function v(e,t){const s=e[0],r=n(e,t);return!(!s||!r)&&("search"===s.type&&"offers"===s.searchType&&2===e.length?"entity"===r.type:s===r)}function b(e,t,s,r){return"tab"in e&&"reviews"===e.tab&&s?t._t("Отзывы о %1",[r]):r}},79550:(e,t,s)=>{"use strict";function r(e){switch(e.type){case"link":return e.value;case"phone":return`tel:${e.value}`;default:return}}s.d(t,{Y:()=>r})},86598:(e,t,s)=>{"use strict";function r(e,t){return e||(t[0]?t[0].id:void 0)}s.d(t,{q:()=>r})},41148:(e,t,s)=>{"use strict";function r(e){if(!e)return;const{regionId:t,overlapRegionId:s,baseOverlapRegionId:r}=e;return t&&"0"!==t?t:s&&"0"!==s?s:r&&"0"!==r?r:void 0}s.d(t,{Y:()=>r})},6432:(e,t,s)=>{"use strict";s.d(t,{t:()=>i});var r=s(64693);const i=e=>(0,r.xH)(e.orders.map((e=>e.items)))},44149:(e,t,s)=>{"use strict";s.d(t,{Og:()=>h,yq:()=>f});var r=s(6340),i=s(2784),a=s(77878);const n="https://2gis.onelink.me/oJqA",o="https://2gis.onelink.me/IEzw",c="https://2gis.onelink.me/65w0",d={ru:"https://2gis.onelink.me/oJqA",com:"https://2gis.onelink.me/cCeS"},l="https://urbi.onelink.me/WGuZ",u="https://urbi.onelink.me/UbXx",p="https://urbi.onelink.me/HoaG",g="https://urbi.onelink.me/WGuZ",m=e=>{const{type:t,lang:s,isMobileDevice:r,isUrbi:i,isPromoShown:a,promoType:m,deepLink:h}=e;if(!a)return;if(i&&"fullscreenFriendsPopup"!==m)return;const f=i?"qrCode"===t?l:r?g:"ios"===t?u:p:"qrCode"===t?n:r?o:"ios"===t?c:"ru"===s?d.ru:d.com,v=r?"monline":"online",b={keys:["utm_source","media_source","source","pid","origin_pid","source_pid","media"],defaultValue:v},y={keys:["utm_campaign","campaign","c"],defaultValue:m},x={keys:["af_sub4"],defaultValue:v},j={keys:[],defaultValue:m},w="undefined"!=typeof window?{keys:["deep_link_value"],defaultValue:h||`dgis://${window.location.host}${window.location.pathname}`}:{};return("undefined"!=typeof window&&window.AF_SMART_SCRIPT?window.AF_SMART_SCRIPT.generateOneLinkURL({oneLinkURL:f,afParameters:Object.assign({deepLinkValue:w,mediaSource:b,campaign:y,afCustom:[{paramKey:"utm_source",keys:["utm_source","media_source","source"]},{paramKey:"utm_medium",keys:["utm_medium","medium"]},{paramKey:"utm_campaign",keys:["utm_campaign","campaign"]},{paramKey:"af_ss_ui",defaultValue:"true"},{paramKey:"af_dp",defaultValue:"dgis://"}],afSub4:x},m?{afSub5:j}:{})}):{clickURL:f}).clickURL},h=e=>{const{platform:t,type:s,deepLink:a}=e,{isMobileDevice:n,lang:o,appsFlyerBaseLinksEnabled:c,isPwa:d,brandCode:l}=(0,r.Z)(),u=c&&!d,p="urbi"===l,[g,h]=(0,i.useState)("undefined"==typeof window?m({type:t,lang:o,isMobileDevice:n,isUrbi:p,isPromoShown:u,promoType:s,deepLink:a}):window.location.href);return(0,i.useEffect)((()=>{h(m({type:t,lang:o,isMobileDevice:n,isUrbi:p,isPromoShown:u,promoType:s,deepLink:a}))}),[n,p,t,o,s,u,a]),g},f=e=>{const{elementId:t,type:s,deepLink:r}=e;h({type:s,platform:"qrCode",deepLink:r}),(0,i.useEffect)((()=>{var e;if("undefined"!=typeof window){if(!window.AF_SMART_SCRIPT)return void(0,a.H)({id:"kspr8",message:"Отсутствует window.AF_SMART_SCRIPT. Не получилось сгенерить QR-код",level:"error",payload:{type:"exception",subtype:"AppsFlyerLink"}});null===(e=window.AF_SMART_SCRIPT)||void 0===e||e.displayQrCode(t)}}),[t])}},24606:(e,t,s)=>{"use strict";function r({first_name:e,last_name:t,display_name:s},r){const i=e?e[0]:"",a=t?t[0]:"",n=i&&a?`${i[0]}${a[0]}`:"",o=s?s[0]:"",c=r._t("Я");return n||o||c}s.d(t,{C:()=>r})},9724:(e,t,s)=>{"use strict";s.d(t,{M:()=>i});var r=s(93471);const i=e=>{if(!e)return;return Object.keys(r.V5).find((t=>Object.values(r.V5[t]).includes(e.tag)))}},87837:(e,t,s)=>{"use strict";s.d(t,{k:()=>a});var r=s(93471),i=s(9724);const a=(e,t)=>{var s;if(!e)return;const a="branch"===e.type?e.attribute_groups:void 0;if(!a)return;let n;const o=Object.values(r.KB).find((e=>null==a?void 0:a.some((s=>s.attributes.some((s=>{const r=(0,i.M)(s),a=t?r===e&&s.is_award:r===e;return a&&(n=s),a})))))),c=o===r.KB.Award2GIS?"https://2023-awards.2gis.ru/":void 0,d=null===(s=a.find((e=>e.attributes.some((e=>(0,i.M)(e)===r.KB.Award2GIS)))))||void 0===s?void 0:s.name;return{hasAward:!!o,awardName:o===r.KB.Award2GIS?d:null==n?void 0:n.name,awardType:o,awardIconUrl:null==n?void 0:n.icon_url,awardTag:null==n?void 0:n.tag,awardLabelLink:c}}},44769:(e,t,s)=>{"use strict";s.d(t,{B:()=>n});var r=s(93549),i=s(36804),a=s(70918);function n(e){const{frameUuid:t,ownerName:s,state:n}=e;if(!s)return{};switch(s){case"placeCardFull":case"cardRealty":return{placeItem:(0,i.s)({state:n,entityFrameId:t})};case"dashboardFrame":return{};default:return{searchResultsList:(0,a.PD)({state:n,searchFrameId:t}),promoItem:(0,r.z)({state:n,frameId:t})}}}},95811:(e,t,s)=>{"use strict";s.d(t,{K:()=>a});var r=s(4135),i=s(65649);function a(e){var t;const{banner:s,position:a,state:n}=e;return{entity:{id:s.ad_attributes.branch_id,type:"branch",segmentInfo:(0,r.U)({locale:(0,i.O)(n),region_id:s.ad_attributes.project_id?s.ad_attributes.project_id.toString():void 0})},mainRubric:void 0!==s.main_rubric_id?s.main_rubric_id.toString():void 0,adsId:s.ad_attributes.ads_id,org:s.org.id,adsAlgorithm:s.ad_attributes.algorithm_id,auctionId:s.ad_attributes.auction_id,contextRubric:s.ad_attributes.rubric_id?String(s.ad_attributes.rubric_id):void 0,adsMaterialVersionId:s.ad_attributes.banner_id,position:a,adsHighlight:null===(t=s.ad_attributes.is_ads)||void 0===t||t}}},21933:(e,t,s)=>{"use strict";s.d(t,{R:()=>r});const r=(e,t)=>{const s=i(e,t);return{size:null==t?void 0:t.total,uiFilters:s}},i=(e,t)=>{var s;const r=[];e.action&&r.push({name:"buy"===e.action?"exchangeBuy":"exchangeSell",value:String(e.volume||!0)});const i=e.currencyCode||(null===(s=null==t?void 0:t.currencies[0])||void 0===s?void 0:s.code);return i&&r.push({name:"exchangeToCurrency",value:i}),r}},96191:(e,t,s)=>{"use strict";s.d(t,{c:()=>r.c});var r=s(94260)},72965:(e,t,s)=>{"use strict";s.d(t,{N:()=>n});var r=s(11288),i=s(52923),a=s(31758);const n=e=>{var t,s,n,o;const{photo:c,orgId:d,tag:l,entityId:u,entityType:p}=e;if((0,i.Ey)(c)&&(null==c?void 0:c.temporary)||!c||!c.creation_time)return;const g=(0,r.K)(c.creation_time),m=+new Date(c.creation_time),h=p||((0,i.Ey)(c)||(0,a.X4)(c)?null===(t=c.object)||void 0===t?void 0:t.type:c.real_object_type),f=u||((0,i.Ey)(c)?null===(s=c.object)||void 0===s?void 0:s.id:void 0);return{photoId:c.id,createdAt:{timestamp:m,utcOffset:g},provider:(0,a.X4)(c)||null===(n=c.copyright)||void 0===n?void 0:n.code,author:(0,a.X4)(c)||null===(o=c.owner)||void 0===o?void 0:o.id,owner:{entity:{type:h,id:f},org:d},tag:l}}},36804:(e,t,s)=>{"use strict";s.d(t,{s:()=>n});var r=s(70021),i=s(11393),a=s(10484);function n(e){const{state:t,entityFrameId:s,currentCongestion:n,position:o}=e,c=(0,a.iF)(t.appContext.frames,s);if(!c||"entity"!==c.type)return;const d=(0,r.wj)({state:t,entityId:c.entityId,searchId:c.searchId}).data;return d?(0,i.Pj)({entity:d,currentCongestion:n,position:o}):void 0}},11393:(e,t,s)=>{"use strict";s.d(t,{Pj:()=>r.Pj,h:()=>r.h});var r=s(91982)},2066:(e,t,s)=>{"use strict";s.d(t,{I:()=>i});var r=s(97653);function i({realtyItem:e}){if(!e)return;const{product:t,offer:s,branch:i}=e;return{product:{entity:{id:t.id,type:"orgProduct"},name:t.name,categories:t.categories.map((e=>({entity:{id:e.id,type:"productCategory"},name:e.label})))},offer:{owner:{entity:{id:i.id,type:"branch"},org:i.org.id},price:(0,r.Z)(s.price_value)},hasToTheShopButton:!!s.url}}},71768:(e,t,s)=>{"use strict";s.d(t,{z:()=>c});var r=s(10484),i=s(34728),a=s(14026),n=s(34015),o=s(72548);function c({state:e,isSuccess:t,search:s}){var c;const d=(0,r.t0)(e.appContext.frames,"entity");if(!d||!t)return;const l={type:"branch"===d.entityType?"branch":"building",id:d.entityId};if(!l)return;const u=(0,o.Y)(d);return{size:(null==s?void 0:s.total)||0,entity:l,searchParameters:void 0,auctionId:void 0,uiFilters:(0,i.h)((0,a.T)({widgets:null===(c=null==s?void 0:s.filters)||void 0===c?void 0:c.main,filterValues:u,valueTextMap:n.$n}),void 0)}}},17774:(e,t,s)=>{"use strict";s.d(t,{H:()=>i});var r=s(11288);function i(e){var t,s;const{review:i,orgId:a}=e,n=(0,r.K)(i.date_created),o=+new Date(i.date_created);if(!Number.isNaN(o))return{reviewId:i.id,source:i.provider,rating:i.rating,rateOnly:0===(null===(t=i.text)||void 0===t?void 0:t.length),author:i.user.id,createdAt:{timestamp:o,utcOffset:n},owner:{entity:{type:i.object.type,id:i.object.id},org:a},gallerySize:(null===(s=i.photos)||void 0===s?void 0:s.length)||0,status:void 0}}},70918:(e,t,s)=>{"use strict";s.d(t,{PD:()=>f,Tp:()=>m});var r=s(62830),i=s(57695),a=s(82824),n=s(82567),o=s(12353);function c(e){if(e&&4===e.length)return e.map((e=>({lat:e.latitude,lon:e.longitude})))}var d=s(10484),l=s(97698),u=s(34728),p=s(69452),g=s(43001);const m=()=>(0,l.P1)([({state:e,frame:t})=>(0,i.rO)({state:e,searchId:(0,r.r)(t)||""}),({state:e,frame:t})=>(0,a.O)({state:e,filtersId:(0,n.p)(t)}),({state:e,frame:t,checkStories:s})=>{var r;if(!s)return;const i=(0,g.n)(t);return i?!!(null===(r=e.data.gta[i])||void 0===r?void 0:r.stories):null}],((e,t,s)=>{var r;if(!e.meta||!e.data||"loading"===e.meta.status)return;const{total:i,searchType:a,buildingId:n,searchAttributes:d,filters:l}=e.data,g=(0,o.C)(l),m=null===(r=null==d?void 0:d.query_context)||void 0===r?void 0:r.reduce(((e,t)=>("attribute"===t.table_name&&e.push(t.record_id),e)),[]);return Object.assign(Object.assign({uiFilters:(0,u.h)(l,t&&t.filters&&t.filters.attributes)},void 0!==s?{template:s?"stories_on_position_4":"without_stories"}:{}),{sort:g,size:i||0,typoCorrected:!!(null==d?void 0:d.query_fix)||void 0,searchType:a,firstResultClass:a,contextRubrics:(0,p.q)(null==d?void 0:d.query_context),contextAttributes:(null==m?void 0:m.length)?m:void 0,hasGeoRestriction:!!d&&!!d.geo_restriction,partialResult:!!d&&d.is_partial,advertisers:d&&d.advertisers?d.advertisers.map((({org:e,rubr:t})=>({org:e,contextRubric:t}))):void 0,searchStatisticsTags:(null==d?void 0:d.statistic_tags)||void 0,outviewport:d?c(d.out_viewport):void 0,building:n,searchSegmentId:d&&d.dgis_project_id,rtwVersion:null==d?void 0:d.rtw_version})})),h=m();function f(e){const{state:t,searchFrameId:s,checkStories:r}=e,i=(0,d.iF)(t.appContext.frames,s);if(i&&("search"!==i.type||"filials"!==i.searchType))return h({state:t,frame:i,checkStories:r})}},93448:(e,t,s)=>{"use strict";s.d(t,{C:()=>n});var r=s(34904),i=s(4135);const a=({entity:e,story:t,locale:s})=>{if(!r.mg.isAdStory(t)||!e)return;const a=(0,i.U)({locale:s,region_id:String(t.projectId)});return{id:"branch"===e.type?e.org.id:e.id,type:"branch"===e.type?"org":e.type,dataSource:"API",segmentInfo:a}};function n(e){const{story:t,entity:s,position:i,locale:n}=e,o=r.mg.isAdStory(t);return Object.assign(Object.assign(Object.assign({id:t.id,entity:a({story:t,entity:s,locale:n}),size:r.mg.getStorySlides(t).length,name:r.mg.getStoryPreview(t).text,adsAlg:o?t.algorithmId:void 0},o&&t.rubricId?{rubric:`${t.rubricId}`}:{}),"discovery"===t.source?{carouselPosition:4}:{}),i?{position:i}:{})}},74730:(e,t,s)=>{"use strict";s.d(t,{L:()=>a});var r=s(34904);const i=e=>{const t=r.mg.getSlideTextPosition(e);return e.template?{template:"left_bottom"===t?"LeftBottom":"LeftTop"}:{}};function a(e){const{slide:t}=e;return Object.assign({id:t.id,title:t.title},i(t))}},58666:(e,t,s)=>{"use strict";function r(e){const t="frame"in e?a(e.frame):e.name;if(t)return{uiElement:{type:"frame",uuid:"frame"in e?e.frame.id:e.uuid,name:t,framesLayout:{dataViewer:i(e.state)}}}}function i(e){return e.appContext.frames.length?e.appContext.frames.map((e=>({uuid:e.id,name:a(e)}))).reverse():[{name:"dashboardFrame",uuid:e.appContext.staticFrames.dashboard.id}]}function a(e){switch(e.type){case"dashboard":return"dashboardFrame";case"search":return"offers"===e.searchType?"branchMarketSearchResultsFrame":"directorySearchResultsFrame";case"prices":return"pricesFrame";case"collection":return"private"===e.subtype?"userCollectionFrame":"specialProjectCollectionFrame";case"userProfile":return"userProfileFrame";case"gallery":return"galleryFrame";case"entity":return"directoryObjectCardFrame";case"offer":return"branchMarketProductOfferFrame";case"direction":return"directionFrame";case"directions":return"routeSearchFrame";case"rubric":return"rubricatorSubrubricsFrame";case"rubricator":return"rubricatorFirstLevelFrame";case"pending":return"directoryObjectCardFrame";case"product":return"productFrame";case"publicFavorites":switch(e.subtype){case"guidebook":return"guidebookFrame";case"award2019":return"award2gisFrame";default:return"interestingFrame"}case"unconfirmedReviews":return"unconfirmedReviewsFrame";case"achievements":return"achievementsFrame";case"currentReview":return"currentReviewFrame";case"tUgc":return"tUGCCardFrame";case"userFriendsActivity":return"friendsActivitiesHereFrame";case"realty":return"realtyLayerFrame";case"realtyCard":return"realtyLayerProductOfferFrame";case"error":return"errorFrame";case"exchange":return"exchangeCurrencyFrame";case"friendsList":return"friendsLayerFrame";case"userPublicProfile":return"profileCardFrame";case"sharingGeo":return"geoSharingCardFrame"}}s.d(t,{EW:()=>a,xl:()=>r})},88409:(e,t,s)=>{"use strict";function r(e){switch(e.searchType){case"filials":return"filialsList";case"inbuilding":return"buildingOrgsList";case"offers":return"productOffersList";case"buyHere":return"buyHerePartnersList";case"fmcg":return"fmcgPartnersList";case"query":return e.tabCatalog.isBuyHereRubric?"buyHerePartnersList":"searchResultsList"}}s.d(t,{v:()=>r})},70258:(e,t,s)=>{"use strict";function r(e){return"building"===e.type?e.id:"branch"===e.type||"station_entrance"===e.type?e.address&&e.address.building_id:void 0}s.d(t,{V:()=>r})},87324:(e,t,s)=>{"use strict";s.d(t,{B:()=>u});var r=s(42313),i=s(49013),a=s(24973),n=s(64693),o=s(11473),c=s(39628);const d=16,l=.1;function u({entity:e,state:t}){if(!(0,c.V)(e))return;const s=(0,o.Y)(e);if(s){if(!Array.isArray(s))return{lon:s.lon,lat:s.lat,zoom:Math.max(t.appContext.zoom,d)};const e=(0,r.v9)(t),o=(0,n.xH)(s).map((e=>[e.lon,e.lat])),c=(0,i.o)(t.session.screen,e),u=(0,a.getCenterZoomByPoints)(o,t.appContext.rotation,[c.width,c.height]);if(u)return{lon:u.center[0],lat:u.center[1],zoom:Math.min(u.zoom-l,d)}}return"point"in e&&e.point?{lon:e.point.lon,lat:e.point.lat,zoom:Math.max(t.appContext.zoom,d)}:void 0}},5076:(e,t,s)=>{"use strict";function r(e){return Object.assign({top:e.top,left:e.left,bottom:e.top,right:e.left,x:e.left,y:e.top,height:0,width:0})}s.d(t,{Y:()=>r})},16701:(e,t,s)=>{"use strict";s.d(t,{P:()=>a});var r=s(17494),i=s(99803);function a(e,t,s){if("AE"===t&&"branch"!==e.type&&"kilometer_road_sign"!==e.type)return(0,i.Q)(e);const a="attraction"===e.type||"kilometer_road_sign"===e.type?s||e.point:s;return a&&"station"!==e.type&&"branch"!==e.type&&"station_platform"!==e.type&&"station_entrance"!==e.type&&"building"!==e.type&&"point"!==e.type?(0,r.d)(a):void 0}},93524:(e,t,s)=>{"use strict";function r(e){const t="links"in e&&e.links;return t&&t.servicing&&t.servicing.count||0}s.d(t,{F:()=>r})},81416:(e,t,s)=>{"use strict";function r(e){const t="links"in e&&e.links;return t&&t.providers&&t.providers.count||0}s.d(t,{k:()=>r})},96481:(e,t,s)=>{"use strict";function r(e,t){return t&&e.some((e=>e.tab===t))?t:e[0].tab}s.d(t,{d:()=>r})},89779:(e,t,s)=>{"use strict";s.d(t,{x:()=>d});var r=s(10857),i=s(73775);function a(e){const t=e[0]/255,s=e[1]/255,r=e[2]/255;return.2126*n(t)+.7152*n(s)+.0722*n(r)}function n(e){return e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}function o(e,t){return function(e,t){if(0===e.length)return;let s=e[0],r=t(s);for(let i=1;i<e.length;i++){const a=t(e[i]);a>r&&(s=e[i],r=a)}return s}(t,(t=>function(e,t){const s=(a(e)+.05)/(a(t)+.05);return s>1?s:1/s}(t,e)))||e}var c=s(98584);function d(e){return/^#[0-9a-f]{3,6}$/i.test(e)?e===c.O.green_30ad00?c.O.white:(t=e,s=[c.O.gray_262626,c.O.white],(0,i.v)(o((0,r.o)(t),s.map(r.o)))):c.O.gray_262626;var t,s}},64929:(e,t,s)=>{"use strict";function r(e){var t,s;return e.city_alias?e.city_alias:"adm_div"in e?null===(s=null===(t=e.adm_div)||void 0===t?void 0:t.find((e=>("city"===e.type||"settlement"===e.type)&&e.city_alias)))||void 0===s?void 0:s.city_alias:void 0}s.d(t,{i:()=>r})},56704:(e,t,s)=>{"use strict";function r(e,t){var s;const r=[];return"branch"===(null==e?void 0:e.type)&&(null===(s=e.contact_groups)||void 0===s||s.forEach((({contacts:e})=>{null==e||e.forEach((e=>{e.type===t&&r.push(e)}))}))),r}s.d(t,{b:()=>r})},61189:(e,t,s)=>{"use strict";s.d(t,{n:()=>c});var r=s(10976);function i(e,t){if((0,r.Y)(e.subtype,e.route_logo))return;const s=e.routes&&e.routes.length||0;return 0!==s?t._nt(["%% маршрут","%% маршрута","%% маршрутов"],s):void 0}var a=s(96843),n=s(64693);const o=(e,t)=>e.name||e.name_back?t._t("Километровый знак"):void 0;function c(e,t,{withFloors:s,withRoutesCount:r}={}){return function(e,t,{withFloors:s,withRoutesCount:r}={}){switch(e.type){case"branch":return(0,a.aR)(e);case"building":return(0,a.o_)(e,t,{withFloors:s});case"route":return(0,a.vs)(e,t);case"station":case"station_platform":return(0,n.oA)([...(0,a.DO)(e,t),!!r&&i(e,t)]);case"station_entrance":return(0,a.DO)(e,t);case"point":return(0,a.s8)(e);case"kilometer_road_sign":return(0,n.oA)([o(e,t)]);default:return(0,a.Oc)(e,t)}}(e,t,{withFloors:s,withRoutesCount:r}).map((e=>(0,n.Ez)(e)))}},60233:(e,t,s)=>{"use strict";s.d(t,{G:()=>a});var r=s(874),i=s(52462);function a(e,t){var s,a;switch(e.type){case"entity":case"pending":case"gallery":return{entityId:e.entityId,searchId:e.searchId};case"prices":return{entityId:e.entityId,searchId:e.entitySearchId};case"realtyCard":return{entityId:(0,i.W)(t)};case"realty":return"building"===(null===(s=e.entity)||void 0===s?void 0:s.type)?{entityId:null===(a=e.entity)||void 0===a?void 0:a.id,searchId:e.searchId}:r.Nu;case"product":return{entityId:e.buildingId};case"search":switch(e.searchType){case"inbuilding":return{entityId:e.buildingId};case"offers":return{entityId:e.branchId,searchId:e.branchSearchId}}return{}}return{}}},11473:(e,t,s)=>{"use strict";s.d(t,{Y:()=>a});var r=s(89679),i=s(64693);function a(e){if("route"===e.type)return e.directions&&e.directions.map((e=>e.geometry.selection?(0,r.h_)(e.geometry.selection):void 0)).filter(i.Gg);const t=e.geometry&&e.geometry.selection&&(0,r.$W)(e.geometry.selection);return t?t.geometry:void 0}},99803:(e,t,s)=>{"use strict";s.d(t,{Q:()=>i});var r=s(17494);function i(e){var t;return"address"in e&&(null===(t=e.address)||void 0===t?void 0:t.makani)?e.address.makani:"point"in e&&e.point?(0,r.d)(e.point):void 0}},69742:(e,t,s)=>{"use strict";s.d(t,{R:()=>n});var r=s(76775),i=s(57789),a=s(3797);function n(e){const t=(0,i.m)(e);switch(t?t.type:e.type){case"branch":return(0,r.i)(e)?["contacts","inside","reviews","prices","photos","realty","services","providers","discounts"]:["contacts","info","inside","reviews","menu","prices","photos","realty","services","providers","discounts"];case"building":return["info","inside","realty","reviews","photos","services","providers"];case"station_entrance":return["info","inside","realty","reviews","photos"];case"station":case"station_platform":case"route":return["info","photos"];case"street":case"adm_div":return(0,a.J)(e)?["info","reviews","photos","realty"]:["info","reviews","photos"];default:return["info","reviews","photos"]}}},22699:(e,t,s)=>{"use strict";function r(){return{"116x116":"//mresizer.photo.stage.test/images/branch/0/27584547741228700_2a98.jpg","176x176":"//mresizer.photo.stage.test/images/branch/0/27584547741228700_2a98.jpg","232x232":"//mresizer.photo.stage.test/images/branch/0/27584547741228700_2a98.jpg","328x170":"//mresizer.photo.stage.test/images/branch/0/27584547741228700_2a98.jpg","656x340":"//mresizer.photo.stage.test/images/branch/0/27584547741228700_2a98.jpg","88x88":"//mresizer.photo.stage.test/images/branch/0/27584547741228700_2a98.jpg"}}s.d(t,{Q:()=>r})},52300:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var r=s(41437);function i(){return{hardwareInfo:(0,r.T)(),sourceUrl:window.location.href.split("://")[1]}}},93011:(e,t,s)=>{"use strict";function r(e){const t=Math.max(0,...e.map((e=>e.length)));if(0===t)return;const s=e.map(((e,t)=>({markers:e,floorIndex:t}))).filter((e=>e.markers.length===t));if(s.length>1){const e=s.map((e=>Math.min(...e.markers.map((e=>e.index))))),t=Math.min(...e);return s[e.indexOf(t)].floorIndex}return s[0].floorIndex}s.d(t,{M:()=>r})},62830:(e,t,s)=>{"use strict";s.d(t,{r:()=>a});var r=s(51604),i=s(68428);function a(e,t){const s="actual"===t?r.Gp:r.sG;switch(e.type){case"search":switch(e.searchType){case"query":return s(e.tabCatalog.searchId);case"inbuilding":case"filials":case"buyHere":case"fmcg":return s(e.searchId);default:return e.searchId}case"entity":return(0,i.l)(e,e.tab,t);case"gallery":return e.searchId;case"prices":return e.offersSearchId;case"directions":return s(e.searchId)}}},72603:(e,t,s)=>{"use strict";s.d(t,{X:()=>i});var r=s(51604);function i(e){if("search"===e.type)switch(e.searchType){case"query":return(0,r.Gp)(e.tabCatalog.page);case"offers":case"filials":case"buyHere":case"fmcg":return(0,r.Gp)(e.page)}return 1}},54300:(e,t,s)=>{"use strict";function r(e){switch(e.type){case"search":return"query"===e.searchType?"catalog"===e.tab?e.tabCatalog.filterValues:void 0:e.filterValues;case"entity":return"inside"===e.tab&&e.tabInside?e.tabInside.filterValues:void 0}}s.d(t,{A:()=>r})},68428:(e,t,s)=>{"use strict";s.d(t,{l:()=>i});var r=s(51604);function i(e,t,s){const i="actual"===s?r.Gp:r.sG;switch(t){case"inside":return e.tabInside?i(e.tabInside.searchId):void 0;case"providers":return e.tabProviders?e.tabProviders.searchId:void 0;case"services":return e.tabServices?e.tabServices.searchId:void 0;case"prices":return e.tabPrices?e.tabPrices.searchId:void 0;case"reviews":if(!e.tabReviews)return;return e.tabReviews.isOrg?i(e.tabReviews.orgReviewsSearchId):i(e.tabReviews.entityReviewsSearchId);default:return}}},52261:(e,t,s)=>{"use strict";function r(e){switch(e.type){case"search":return"query"===e.searchType?e.tabCatalog.filterValues:"filterValues"in e?e.filterValues:void 0;case"product":return e.filterValues;case"directions":return e.filterValuesByTab[e.tab];case"entity":return"inside"===e.tab&&e.tabInside?e.tabInside.filterValues:void 0;default:return}}s.d(t,{Q:()=>r})},82567:(e,t,s)=>{"use strict";s.d(t,{p:()=>i});var r=s(51604);function i(e,t){const s="actual"===t?r.Gp:r.sG;switch(e.type){case"search":switch(e.searchType){case"query":return s(e.tabCatalog.filtersId);case"offers":return s(e.filtersId);case"buyHere":case"fmcg":case"filials":case"inbuilding":return e.filtersId||"";default:return""}case"entity":return"";case"product":return e.filtersId}return""}},43001:(e,t,s)=>{"use strict";s.d(t,{n:()=>i});var r=s(51604);function i(e,t){const s="actual"===t?r.Gp:r.sG;switch(e.type){case"search":switch(e.searchType){case"query":return"catalog"===e.tab?s(e.tabCatalog.gtaId):void 0;case"filials":case"inbuilding":return e.gtaId;default:return}case"entity":switch(e.tab){case"inside":return e.tabInside?e.tabInside.gtaId:void 0;case"services":return e.tabServices?e.tabServices.gtaId:void 0;case"providers":return e.tabProviders?e.tabProviders.gtaId:void 0;default:return}default:return"gtaId"in e?e.gtaId:void 0}}},31830:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var r=s(51604);function i(e){switch(e.type){case"search":switch(e.searchType){case"query":return(0,r.sG)(e.tabCatalog.page);case"offers":case"inbuilding":case"filials":case"buyHere":case"fmcg":return(0,r.sG)(e.page);default:return 1}case"realty":case"exchange":case"product":return e.page;case"entity":switch(e.tab){case"inside":return e.tabInside?(0,r.sG)(e.tabInside.page):1;case"services":return e.tabServices?e.tabServices.page:1;case"providers":return e.tabProviders?e.tabProviders.page:1;default:return 1}default:return 1}}},11162:(e,t,s)=>{"use strict";s.d(t,{k:()=>n});var r=s(62830),i=s(64693),a=s(72603);function n(e){const t=[e.id];switch(e.type){case"search":switch(t.push((0,r.r)(e,"actual")),"query"===e.searchType&&t.push(e.tab),e.searchType){case"query":t.push((0,a.X)(e).toString()),t.push(o(e));break;case"buyHere":case"fmcg":case"offers":t.push(o(e))}break;case"entity":t.push(e.tab);break;case"directions":t.push((0,r.r)(e,"actual")),t.push(e.tab)}return(0,i.oA)(t).join("_")}function o(e){if("search"!==e.type)return"";switch(e.searchType){case"query":return e.tabCatalog.scrollIdHash;case"offers":case"buyHere":case"fmcg":return e.scrollIdHash}}},36180:(e,t,s)=>{"use strict";function r(e){return"product"===e.type?e.viewpoint:e.tabCatalog.viewpoint}s.d(t,{v:()=>r})},41437:(e,t,s)=>{"use strict";s.d(t,{T:()=>r});const r=(0,s(60786).HP)((function(){const e={stencil:!0,antialias:!1};try{if("WebGLRenderingContext"in window){const t=document.createElement("canvas").getContext("webgl",e);if(t){const e=function(e){const t=e.getExtension("WEBGL_debug_renderer_info");return t&&e.getParameter(t.UNMASKED_RENDERER_WEBGL)}(t);return/(radeon hd 6970m|radeon hd 6770m|radeon hd 6490m|radeon hd 6630m|radeon hd 6750m|radeon hd 5750|radeon hd 5670|radeon hd 4850|radeon hd 4870|radeon hd 4670|geforce 9400m|geforce 320m|geforce 330m|geforce gt 130|geforce gt 120|geforce gtx 285|geforce 8600|geforce 9600m|geforce 8800 gs|geforce 8800 gt|quadro fx 5|quadro fx 4|radeon hd 2600|radeon hd 2400|mali-4|mali-3|mali-2)/.test(e)?`${e} - GPU из блэклиста`:e}}}catch(e){}return}))},27956:(e,t,s)=>{"use strict";s.d(t,{U:()=>c});var r=s(16391),i=s(37123),a=s(61189),n=s(64693),o=s(94527);function c(e){const{entity:t,config:s,tp:r}=e;return(0,n.oA)([...d(t,r),p(t,s),u(t),l(t,r)])}function d(e,t){return"building"===e.type?[]:(0,a.n)(e,t)}function l(e,t){if("station_entrance"===e.type&&e.comment)return t._t("Выход %1",[e.comment])}function u(e){return(0,o.p)(e)&&"parking"!==e.type&&"address"in e&&e.address?(0,i.t)(e):void 0}function p(e,t){if("parking"!==e.type&&(0,o.p)(e))return(0,r.W8)(e,{config:t})}},94260:(e,t,s)=>{"use strict";s.d(t,{c:()=>r});function r(e){return e&&"group"in e?i(e.group):void 0}function i(e){if(e&&e.length)return e.map((e=>({id:e.id,type:e.type,subtype:e.subtype})))}},40464:(e,t,s)=>{"use strict";function r(e,t){if(e&&!e.use_default_value&&e.img_url)return i(e.img_url,t)}function i(e,t){if("original"===t)return e.replace("/previews/","/raws/");const s="?api-version=2.0";return e.endsWith("/")?`${e}${t}${s}`:`${e.replace(/image.([a-zA-Z0-9]+)$/,`image_${t}.$1`)}${s}`}s.d(t,{P:()=>r,W:()=>i})},3797:(e,t,s)=>{"use strict";s.d(t,{J:()=>r});const r=e=>!!e&&("street"===e.type||"adm_div"===e.type&&("district"===e.subtype||"living_area"===e.subtype||"division"===e.subtype||"region"===e.subtype||"settlement"===e.subtype))},76775:(e,t,s)=>{"use strict";function r(e){var t;return"parking"===e.type||!(!("group"in e)||!(null===(t=e.group)||void 0===t?void 0:t.find((e=>"parking"===e.type))))}s.d(t,{i:()=>r})},70428:(e,t,s)=>{"use strict";s.d(t,{e:()=>i});var r=s(64693);const i=(e,t)=>[e.name,e.name_back].filter(r.Gg).join(" / ")||t._t("Километровый знак")},19094:(e,t,s)=>{"use strict";s.d(t,{q:()=>i});var r=s(40464);function i(e,t){if("branch"!==e.type||!e.ads)return;if(e.ads.is_social)return{image:void 0};const s=e.ads.options&&e.ads.options.logo;return s?{image:(0,r.P)(s,t)}:void 0}},74333:(e,t,s)=>{"use strict";function r(e){const t=e.find((e=>"primary"===e.kind))||e[0];return t?t.id:void 0}s.d(t,{o:()=>r})},71351:(e,t,s)=>{"use strict";s.d(t,{U:()=>i});var r=s(64693);function i(e){let t;switch(e.origin){case"adsIconForPoi":t=e.markerData.position;break;case"marker":t=e.marker.lonLat;break;case"poi":case"map":case"ppna":case"ppnot":case"geometry":t=e.lngLat;break;case"etaMarker":case"photo":t=e.point}if(t)return{lon:(0,r.DB)(t[0]),lat:(0,r.DB)(t[1])}}},49013:(e,t,s)=>{"use strict";function r(e,t){if(!t)return e;const s=t.topLeft[0]+t.bottomRight[0],r=t.topLeft[1]+t.bottomRight[1];return{width:Math.max(e.width-s,0),height:Math.max(e.height-r,0)}}s.d(t,{o:()=>r})},4193:(e,t,s)=>{"use strict";function r(e){switch(e){case"bigbullet":case"commercial":return"large";case"middlebullet":return"medium";case"smallbullet":return"small"}return"small"}s.d(t,{Z:()=>r})},15692:(e,t,s)=>{"use strict";s.d(t,{j:()=>i});var r=s(77878);function i(e){switch(e){case"adm_div.district_area":case"adm_div.settlement":case"adm_div.division":case"adm_div.city":case"adm_div.district":case"adm_div.place":case"adm_div.country":case"adm_div.region":case"adm_div.living_area":return"adm_div";case"branch":case"branch.deleted":return"branch";case"building":return"building";case"attraction":return"attraction";case"crossroad":return"crossroad";case"street":return"street";case"route":return"route";case"parking":return"parking";case"road":return"road";case"station.metro":case"station.entrance":case"station":return"station_platform";case"coordinates":return"point";case"kilometer_road_sign":return"kilometer_road_sign";default:return(0,r.H)({message:"Неожиданный тип маркера",level:"error",id:"3smuq",payload:{type:"debug",subtype:"UnexpectedMarkerType",data:e}}),e}}},82588:(e,t,s)=>{"use strict";s.d(t,{P:()=>n});var r=s(52322);const i=({width:e=24,height:t=24,background:s="#5FAE86"})=>(0,r.jsxs)("svg",Object.assign({width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsxs)("g",Object.assign({clipPath:"url(#clip0_14899_77170)"},{children:[(0,r.jsx)("path",{d:"M3.55995 2H22.64C22.8101 1.99996 22.9784 2.03612 23.1335 2.10608C23.2887 2.17604 23.4272 2.27821 23.5398 2.40579C23.6525 2.53337 23.7367 2.68345 23.7869 2.84607C23.8371 3.00869 23.8521 3.18013 23.831 3.349L21.631 20.949C21.5947 21.2391 21.4537 21.5059 21.2346 21.6994C21.0155 21.8929 20.7333 21.9998 20.441 22H1.35895C1.18885 21.9999 1.02071 21.9636 0.865685 21.8936C0.71066 21.8236 0.572295 21.7214 0.459765 21.5938C0.347235 21.4663 0.263112 21.3162 0.212975 21.1537C0.162838 20.9911 0.147833 20.8198 0.168954 20.651L2.36895 3.051C2.40525 2.76093 2.54619 2.49409 2.7653 2.30057C2.98441 2.10705 3.26762 2.00017 3.55995 2Z",fill:s}),(0,r.jsx)("path",{d:"M3.4201 15.5432V9.78785H2L2.98066 8.45284H5.72671C6.77881 8.45284 7.74648 8.68644 8.53579 9.56302C9.19512 10.2953 9.4058 11.2209 9.4058 11.9314C9.4058 12.6419 9.24232 13.6935 8.53579 14.465C7.75845 15.3138 6.84496 15.5432 5.79286 15.5432H3.4201ZM4.86481 14.235C4.86481 14.235 5.33053 14.235 5.64637 14.235C6.08452 14.235 6.7775 14.1577 7.26871 13.7077C7.81348 13.2086 7.90817 12.6808 7.90817 11.9314C7.90817 11.259 7.72861 10.7422 7.26871 10.3327C6.81511 9.91694 6.28996 9.78785 5.6497 9.78785C5.29978 9.78785 4.86481 9.78785 4.86481 9.78785V14.235Z",fill:"white"}),(0,r.jsx)("path",{d:"M12.9052 15.5432V14.0629H9.71973L9.71978 13.08L11.6855 8.44995H13.2013L11.3471 12.7603H12.9052V10.7709H14.3263V12.7603H15.5341L15.0486 14.0629H14.3263V15.5432H12.9052Z",fill:"white"}),(0,r.jsx)("path",{d:"M17.7073 12.5827H19.5004L18.6132 10.4701L17.7073 12.5827ZM16.6262 15.5432H15.262L18.0448 8.46172H19.229L22 15.5432H20.6046L19.9889 13.8853H17.2376L16.6262 15.5432Z",fill:"white"})]})),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",Object.assign({id:"clip0_14899_77170"},{children:(0,r.jsx)("rect",{width:e,height:t,fill:"white"})}))})]})),a={metro_moscow_D1:function({width:e=24,height:t=24,background:s="#ED9F2E"}){return(0,r.jsxs)("svg",Object.assign({width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsxs)("g",Object.assign({clipPath:"url(#clip0_14899_77150)"},{children:[(0,r.jsx)("path",{d:"M3.55995 2H22.64C22.8101 1.99996 22.9784 2.03612 23.1335 2.10608C23.2887 2.17604 23.4272 2.27821 23.5398 2.40579C23.6525 2.53337 23.7367 2.68345 23.7869 2.84607C23.8371 3.00869 23.8521 3.18013 23.831 3.349L21.631 20.949C21.5947 21.2391 21.4537 21.5059 21.2346 21.6994C21.0155 21.8929 20.7333 21.9998 20.441 22H1.35895C1.18885 21.9999 1.02071 21.9636 0.865685 21.8936C0.71066 21.8236 0.572295 21.7214 0.459765 21.5938C0.347235 21.4663 0.263112 21.3162 0.212975 21.1537C0.162838 20.9911 0.147833 20.8198 0.168954 20.651L2.36895 3.051C2.40525 2.76093 2.54619 2.49409 2.7653 2.30057C2.98441 2.10705 3.26762 2.00017 3.55995 2Z",fill:s}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 8.69335L4.36377 6.80005L8.31634 6.80514C9.74699 6.80516 11.0744 7.24182 12.0995 8.25359C13.022 9.22031 13.4757 10.4516 13.4757 11.9204C13.4757 13.3891 13.0219 14.6203 12.0994 15.587C11.168 16.5631 9.89303 17.0356 8.31634 17.0356H4.93314L4.93233 8.69207L3 8.69335ZM6.96767 8.69018V15.1779H8.22141C9.15631 15.1779 9.9055 14.9014 10.4943 14.3638C11.0631 13.8443 11.3734 13.0501 11.3734 11.9204C11.3734 10.8107 11.0641 10.0246 10.4943 9.50431C9.9055 8.96669 9.15631 8.69018 8.22141 8.69018H6.96767ZM14 14.9836V17.04H19.8336L20.696 14.9836H18.272V6.80005H14.154V8.85995H16.072V14.9836H14Z",fill:"white"})]})),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",Object.assign({id:"clip0_14899_77150"},{children:(0,r.jsx)("rect",{width:e,height:t,fill:"white"})}))})]}))},metro_moscow_D2:function({width:e=24,height:t=24,background:s="#E94282"}){return(0,r.jsxs)("svg",Object.assign({width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsxs)("g",Object.assign({clipPath:"url(#clip0_14899_77154)"},{children:[(0,r.jsx)("path",{d:"M3.55995 2H22.64C22.8101 1.99996 22.9784 2.03612 23.1335 2.10608C23.2887 2.17604 23.4272 2.27821 23.5398 2.40579C23.6525 2.53337 23.7367 2.68345 23.7869 2.84607C23.8371 3.00869 23.8521 3.18013 23.831 3.349L21.631 20.949C21.5947 21.2391 21.4537 21.5059 21.2346 21.6994C21.0155 21.8929 20.7333 21.9998 20.441 22H1.35895C1.18885 21.9999 1.02071 21.9636 0.865685 21.8936C0.71066 21.8236 0.572295 21.7214 0.459765 21.5938C0.347235 21.4663 0.263112 21.3162 0.212975 21.1537C0.162838 20.9911 0.147833 20.8198 0.168954 20.651L2.36895 3.051C2.40525 2.76093 2.54619 2.49409 2.7653 2.30057C2.98441 2.10705 3.26762 2.00017 3.55995 2Z",fill:s}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.6918 17.1H20.4754L21.2002 15.1028H16.8969L18.1702 13.8709C18.9112 13.1566 19.4933 12.5094 19.909 11.9304L19.9106 11.9281C20.3502 11.306 20.5765 10.6277 20.5765 9.90114C20.5765 9.09503 20.2588 8.37772 19.6558 7.76136C19.0207 7.10294 18.1253 6.80005 17.0325 6.80005C16.2696 6.80005 15.5616 6.96496 14.9156 7.29894C14.3058 7.61423 13.8144 7.95445 13.4589 8.32584L13.2002 8.59619L14.6073 9.98692L14.8803 9.74316C15.131 9.5194 15.4501 9.30486 15.8432 9.10213C16.2094 8.90542 16.6176 8.81069 17.0325 8.81069C17.4487 8.81069 17.7707 8.92798 18.0258 9.146C18.2673 9.35243 18.3932 9.62234 18.3932 9.99488C18.3932 10.3231 18.2696 10.6839 17.9784 11.0837C17.513 11.7408 16.9246 12.3208 16.3508 12.8865C16.3015 12.9351 16.2523 12.9836 16.2033 13.032L13.6918 15.5004V17.1ZM2.6001 8.74339L3.96387 6.8501L7.91644 6.85519C9.34709 6.85521 10.6745 7.29187 11.6996 8.30364C12.6221 9.27036 13.0758 10.5016 13.0758 11.9704C13.0758 13.4392 12.622 14.6704 11.6995 15.6371C10.7681 16.6132 9.49312 17.0856 7.91644 17.0856H4.53324L4.53243 8.74212L2.6001 8.74339ZM6.56777 8.74023V15.228H7.82151C8.75641 15.228 9.5056 14.9514 10.0944 14.4138C10.6632 13.8944 10.9735 13.1001 10.9735 11.9704C10.9735 10.8607 10.6642 10.0747 10.0944 9.55436C9.5056 9.01674 8.75641 8.74023 7.82151 8.74023H6.56777Z",fill:"white"})]})),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",Object.assign({id:"clip0_14899_77154"},{children:(0,r.jsx)("rect",{width:e,height:t,fill:"white"})}))})]}))},metro_moscow_D3:({width:e=24,height:t=24,background:s="#D26439"})=>(0,r.jsxs)("svg",Object.assign({width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsxs)("g",Object.assign({clipPath:"url(#clip0_14899_77158)"},{children:[(0,r.jsx)("path",{d:"M3.55995 2H22.64C22.8101 1.99996 22.9784 2.03612 23.1335 2.10608C23.2887 2.17604 23.4272 2.27821 23.5398 2.40579C23.6525 2.53337 23.7367 2.68345 23.7869 2.84607C23.8371 3.00869 23.8521 3.18013 23.831 3.349L21.631 20.949C21.5947 21.2391 21.4537 21.5059 21.2346 21.6994C21.0155 21.8929 20.7333 21.9998 20.441 22H1.35895C1.18885 21.9999 1.02071 21.9636 0.865685 21.8936C0.71066 21.8236 0.572295 21.7214 0.459765 21.5938C0.347235 21.4663 0.263112 21.3162 0.212975 21.1537C0.162838 20.9911 0.147833 20.8198 0.168954 20.651L2.36895 3.051C2.40525 2.76093 2.54619 2.49409 2.7653 2.30057C2.98441 2.10705 3.26762 2.00017 3.55995 2Z",fill:s}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.06397 6.80005L2.7002 8.69335L4.63253 8.69207L4.63334 17.0356H8.01653C9.59322 17.0356 10.8682 16.5631 11.7996 15.587C12.7221 14.6203 13.1759 13.3891 13.1759 11.9204C13.1759 10.4516 12.7222 9.22031 11.7997 8.25359C10.7746 7.24182 9.44719 6.80516 8.01653 6.80514L4.06397 6.80005ZM6.66787 15.1779V8.69018H7.92161C8.85651 8.69018 9.60569 8.96669 10.1945 9.50431C10.7643 10.0246 11.0736 10.8107 11.0736 11.9204C11.0736 13.0501 10.7633 13.8443 10.1945 14.3638C9.60569 14.9014 8.85651 15.1779 7.92161 15.1779H6.66787Z",fill:"white"}),(0,r.jsx)("path",{d:"M20.6533 6.80514H13.9682V8.7039H17.97L15.6766 11.0218V12.3888C16.0308 12.3337 16.3816 12.2805 16.7413 12.2805C17.6773 12.2805 18.7815 12.6981 18.7815 13.784C18.7815 14.7448 17.9036 15.3013 17.0125 15.3013C16.5715 15.3013 16.1817 15.2236 15.8381 15.0742C15.3729 14.872 14.9976 14.5577 14.6301 14.2172L13.269 15.5929L13.491 15.8172C13.9136 16.2443 14.4326 16.5799 15.0418 16.8272C15.6573 17.077 16.3245 17.2 17.0396 17.2C18.0957 17.2 19.0012 16.8745 19.7344 16.2135C20.4675 15.5527 20.8432 14.7323 20.8432 13.7703C20.8432 12.8985 20.555 12.1522 19.9732 11.5541C19.5356 11.1041 19.012 10.7976 18.4094 10.6332L20.6533 8.36529V6.80514Z",fill:"white"})]})),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",Object.assign({id:"clip0_14899_77158"},{children:(0,r.jsx)("rect",{width:e,height:t,fill:"white"})}))})]})),metro_moscow_D4:({width:e=24,height:t=24,background:s="#5FAE86"})=>(0,r.jsxs)("svg",Object.assign({width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsxs)("g",Object.assign({clipPath:"url(#clip0_14899_77162)"},{children:[(0,r.jsx)("path",{d:"M3.55995 2H22.64C22.8101 1.99996 22.9784 2.03612 23.1335 2.10608C23.2887 2.17604 23.4272 2.27821 23.5398 2.40579C23.6525 2.53337 23.7367 2.68345 23.7869 2.84607C23.8371 3.00869 23.8521 3.18013 23.831 3.349L21.631 20.949C21.5947 21.2391 21.4537 21.5059 21.2346 21.6994C21.0155 21.8929 20.7333 21.9998 20.441 22H1.35895C1.18885 21.9999 1.02071 21.9636 0.865685 21.8936C0.71066 21.8236 0.572295 21.7214 0.459765 21.5938C0.347235 21.4663 0.263112 21.3162 0.212975 21.1537C0.162838 20.9911 0.147833 20.8198 0.168954 20.651L2.36895 3.051C2.40525 2.76093 2.54619 2.49409 2.7653 2.30057C2.98441 2.10705 3.26762 2.00017 3.55995 2Z",fill:s}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.49742 6.80005L2.1001 8.72376L4.09899 8.72247L4.09945 17.2H7.56319C9.17729 17.2 10.4826 16.7205 11.4365 15.7292C12.3815 14.7471 12.8468 13.4958 12.8468 12.0026C12.8468 10.5095 12.3816 9.25808 11.4366 8.27597C10.3933 7.25261 9.01202 6.80524 7.56319 6.80523L3.49742 6.80005ZM6.17862 15.3125V8.72055H7.46595C8.42518 8.72055 9.19382 9.00198 9.79756 9.54867C10.3816 10.0776 10.6982 10.8759 10.6982 12.0026C10.6982 13.1497 10.3806 13.9564 9.79756 14.4844C9.19382 15.0311 8.42518 15.3125 7.46595 15.3125H6.17862Z",fill:"white"}),(0,r.jsx)("path",{d:"M18.5026 6.80523H16.3229L13.4488 13.5797V15.0141H18.1304V17.2H20.1679V15.0141H21.237L21.9195 13.1544H20.1679V10.2165H18.1304V13.1544H15.7677L18.5026 6.80523Z",fill:"white"})]})),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",Object.assign({id:"clip0_14899_77162"},{children:(0,r.jsx)("rect",{width:e,height:t,fill:"white"})}))})]})),metro_moscow_D4a:i,metro_moscow_D4A:i,metro_moscow_D5:({width:e=24,height:t=24,background:s="#141414"})=>(0,r.jsxs)("svg",Object.assign({width:e,height:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},{children:[(0,r.jsxs)("g",Object.assign({clipPath:"url(#clip0_14899_77166)"},{children:[(0,r.jsx)("path",{d:"M3.55995 2H22.64C22.8101 1.99996 22.9784 2.03612 23.1335 2.10608C23.2887 2.17604 23.4272 2.27821 23.5398 2.40579C23.6525 2.53337 23.7367 2.68345 23.7869 2.84607C23.8371 3.00869 23.8521 3.18013 23.831 3.349L21.631 20.949C21.5947 21.2391 21.4537 21.5059 21.2346 21.6994C21.0155 21.8929 20.7333 21.9998 20.441 22H1.35895C1.18885 21.9999 1.02071 21.9636 0.865685 21.8936C0.71066 21.8236 0.572295 21.7214 0.459765 21.5938C0.347235 21.4663 0.263112 21.3162 0.212975 21.1537C0.162838 20.9911 0.147833 20.8198 0.168954 20.651L2.36895 3.051C2.40525 2.76093 2.54619 2.49409 2.7653 2.30057C2.98441 2.10705 3.26762 2.00017 3.55995 2Z",fill:s}),(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.33369 6.80005H7.72521C9.32232 6.80005 10.6064 7.27298 11.5435 8.24463C12.4736 9.20902 12.9329 10.4383 12.9329 11.9107C12.9329 13.3832 12.4736 14.6124 11.5435 15.5768C10.6064 16.5485 9.32232 17.0214 7.72521 17.0214H4.33369V8.49091H2.6001L3.52437 6.82722H4.33369V6.80005ZM6.27817 8.57816V15.271H7.62816C8.59947 15.271 9.38297 14.9862 9.99911 14.4295C10.5987 13.8879 10.9191 13.0646 10.9191 11.9107C10.9191 10.7768 10.5995 9.96205 9.99911 9.41964C9.38297 8.86299 8.59947 8.57816 7.62816 8.57816H6.27817Z",fill:"white"}),(0,r.jsx)("path",{d:"M14.5204 6.81234H21.0799L20.4371 8.60431H16.1739L16.0581 10.6687C16.4618 10.477 16.9958 10.3754 17.6351 10.3754C18.862 10.3754 20.1676 11.0706 20.8554 12.2891C21.3907 13.6062 21.0272 15.2041 20.0709 16.188C19.2407 16.8682 18.3007 17.2 17.2746 17.2C16.3898 17.2 15.6912 17.0757 15.1846 16.8192C14.4272 16.5413 13.8756 16.1356 13.4689 15.6408L14.7852 14.3245C15.0518 14.6606 15.4629 14.9456 15.9962 15.1583C16.4677 15.3464 16.7679 15.4249 17.2746 15.3942C17.8511 15.3593 18.2599 15.3107 18.67 14.904C19.0226 14.5545 19.1783 14.2356 19.1792 13.7392C19.18 13.2623 19.0479 12.95 18.7129 12.6105C18.3231 12.2153 17.926 12.1692 17.3717 12.1397C16.7029 12.104 16.1179 12.3203 15.7293 12.633L14.2169 12.4729L14.5204 6.81234Z",fill:"white"})]})),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",Object.assign({id:"clip0_14899_77166"},{children:(0,r.jsx)("rect",{width:e,height:t,fill:"white"})}))})]}))},n=e=>a[e]},85916:(e,t,s)=>{"use strict";s.d(t,{a:()=>i});var r=s(26499);function i(e){if(e.length)return e.every((e=>r.r.includes(e.id)))?"menu":e.every((e=>r.T.includes(e.id)))?"prices":void 0}},93835:(e,t,s)=>{"use strict";s.d(t,{V:()=>i});var r=s(98347);const i=e=>{switch(e){case"android":case"ios":return r.O[e];case"online":return r.O.android}}},44939:(e,t,s)=>{"use strict";s.d(t,{T:()=>r});const r=e=>({category:e.sysCode?{id:e.sysCode}:void 0,adsHighlight:e.isCommercial||!1,isPersonal:e.isPersonal,adsPriority:e.isCityCommercial?"city":e.isPremiumCommercial?"premium":void 0,isContext:e.isContext})},74790:(e,t,s)=>{"use strict";s.d(t,{K:()=>r});const r=e=>{if(e)for(const t of e)if("checkboxlist"===t.widget)for(const e of t.items)if("ПИК"===e.text)return Object.assign(Object.assign({},e),{tag:t.tag})}},91982:(e,t,s)=>{"use strict";s.d(t,{Pj:()=>l,a3:()=>p,h:()=>d});var r=s(64693),i=s(4135),a=s(874),n=s(97698),o=s(94260),c=s(74333);c.o;const d=()=>(0,n.P1)([({entity:e})=>e,({position:e})=>e,({currentCongestion:e})=>e],((e,t,s)=>{var n;return(0,r.uv)(Object.assign(Object.assign({adsId:u(e),entity:{id:e.id===a.k8?void 0:e.id,type:e.id===a.k8?"point":e.type,subtype:"subtype"in e?e.subtype:void 0,segmentInfo:(0,i.U)(e)},bestKeyword:null===(n=e.search_attributes)||void 0===n?void 0:n.best_keyword,geoPosition:"point"in e&&e.point?p(e.point):void 0,hybridEntities:(0,o.c)(e)},function(e){if("branch"!==e.type)return;return{adsSearch:e.stat&&e.stat.is_advertised,mainRubric:e.rubrics?(0,c.o)(e.rubrics):void 0,isDeleted:!!e.is_deleted,org:e.org&&e.org.id,contextRubric:e.stat&&e.stat.rubr}}(e)),{resultClass:e.stat&&e.stat.source_type,personalPriority:e.stat&&e.stat.personal_priority,position:t,currentCongestion:s}))})),l=d();function u(e){var t,s,r,i,a,n,o,c,d,l,u,p;if("branch"!==e.type)return;const g=null===(r=null===(s=null===(t=e.ads)||void 0===t?void 0:t.options)||void 0===s?void 0:s.buy_here_owner)||void 0===r?void 0:r.find((e=>!!e.ads_id)),m=null===(n=null===(a=null===(i=e.ads)||void 0===i?void 0:i.options)||void 0===a?void 0:a.buy_here)||void 0===n?void 0:n.find((e=>!!e.ads_id)),h=null===(d=null===(c=null===(o=e.ads)||void 0===o?void 0:o.options)||void 0===c?void 0:c.fmcg)||void 0===d?void 0:d.find((e=>!!e.ads_id)),f=null===(p=null===(u=null===(l=e.ads)||void 0===l?void 0:l.options)||void 0===u?void 0:u.fmcg_owner)||void 0===p?void 0:p.find((e=>!!e.ads_id));return m?m.ads_id:g?g.ads_id:h?h.ads_id:f?f.ads_id:void 0}function p(e){let t=e.lon%360,s=e.lat%180;return t<-180?t+=360:t>180&&(t-=360),s<-90?s+=180:s>90&&(s-=180),{lon:t,lat:s}}},62111:(e,t,s)=>{"use strict";s.d(t,{N:()=>i});const r=["#007AFF","#388C4D","#A84CA8","#BA5D00","#F23037"];function i(e=function(){return Math.random()*r.length}()){return r[Math.floor(e)%r.length]}},61407:(e,t,s)=>{"use strict";function r(e){var t,s,r;if("branch"!==e.type)return;const i=null===(r=null===(s=null===(t=null==e?void 0:e.ads)||void 0===t?void 0:t.options)||void 0===s?void 0:s.buy_here)||void 0===r?void 0:r.find((e=>!!e.is_primary&&!e.videos&&!e.images));return i?{adsBuyHere:i,adsPosition:"buyHere"}:void 0}s.d(t,{k:()=>r})},95914:(e,t,s)=>{"use strict";s.d(t,{g:()=>i});var r=s(874);function i(e,t){return e&&"0"!==e?e:t&&"0"!==t?t:r.bw}},54444:(e,t,s)=>{"use strict";s.d(t,{k:()=>i});var r=s(26287);function i(e){return function(e){var t,s,i,a;const n=null===(s=null===(t=e.data.region.detector.default)||void 0===t?void 0:t.data)||void 0===s?void 0:s.id,o=n?null===(a=null===(i=e.data.settlements.default)||void 0===i?void 0:i.data)||void 0===a?void 0:a[n]:void 0;if(!o)return;const c=(0,r.kL)(e);return c&&function(e,t){return e.alias===t.uri_code||e.alias===t.code}(o,c)?void 0:o.id}(e)?void 0:(0,r.yH)(e)}},93549:(e,t,s)=>{"use strict";s.d(t,{z:()=>n});var r=s(14609),i=s(10484);const a={name:"Премия 2ГИС 2022"};function n({state:e,frameId:t}){const s=(0,i.iF)(e.appContext.frames,t);if(s&&(0,r.S)({state:e,frame:s}))return a}},11702:(e,t,s)=>{"use strict";function r(){return"9999"+(Math.random()*Math.pow(10,12)).toFixed(0)}s.d(t,{w:()=>r})},52462:(e,t,s)=>{"use strict";s.d(t,{W:()=>i});var r=s(10484);function i(e){var t;return null===(t=(0,r.t0)(e.appContext.frames,"realtyCard"))||void 0===t?void 0:t.buildingId}},67810:(e,t,s)=>{"use strict";function r(e,t){var s;return!!e&&(!!t.has(e.name)||!!(null===(s=e.admDiv)||void 0===s?void 0:s.some((({name:e})=>t.has(e)))))}s.d(t,{s:()=>r})},50519:(e,t,s)=>{"use strict";s.d(t,{M:()=>i});var r=s(92632);function i(e){return e&&e.color||(0,r.s)(e&&e.subtype)}},92632:(e,t,s)=>{"use strict";s.d(t,{s:()=>a});const r="#3E7C17",i={suburban_train:r,tram:r,trolleybus:r,metro:r,mcc:r,mcd:r,funicular_railway:r,monorail:r,river_transport:r,cable_car:r,light_rail:r,premetro:r,light_metro:r,bus:"#5D86DD",aeroexpress:"#EB212D",shuttle_bus:"#f2990c"};function a(e){return e?i[e]:r}},20517:(e,t,s)=>{"use strict";function r(e){if(e.from_name&&e.to_name)return`${e.from_name} → ${e.to_name}`}s.d(t,{s:()=>r})},41637:(e,t,s)=>{"use strict";s.d(t,{u:()=>r});const r=()=>({orientation:i(),screenResolution:{width:window.screen.width,height:window.screen.height},windowResolution:{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}}),i=()=>{var e;switch(null===(e=window.screen.orientation)||void 0===e?void 0:e.type){case"landscape-primary":case"landscape-secondary":return"horizontal";case"portrait-secondary":case"portrait-primary":return"vertical";default:return window.screen.height>window.screen.width?"vertical":"horizontal"}}},92582:(e,t,s)=>{"use strict";s.d(t,{K:()=>a});var r=s(35253),i=s(77203);function a(e,t,s){if(!(0,i.U)(e,t,s))return;let a=r.dp.searchBarWrapperHeight;switch(e.type){case"search":"inbuilding"===e.searchType&&(a+=16);break;case"product":a+=16}return a}},71686:(e,t,s)=>{"use strict";s.d(t,{Jn:()=>i});const r=["rubric","meta_rubric","attribute","attribute.synthetic"],i=e=>{if(!e||!e.length)return;const t=e.filter((e=>r.includes(e.table_name)));let s,i,a="";const n=(e=>{if(e.length<=10)return e.length;const t=e.slice(10,e.length>20?20:e.length).findIndex(((t,s)=>t.group!==e[10+s-1].group));return-1!==t?t+10:20})(t);return t.slice(0,n).forEach(((e,t)=>{a+=((e,t,s)=>void 0!==e.group&&e.group!==s?`${0!==t?";":""}${e.group}:`:"")(e,t,s),s!==e.group&&(s=e.group,i=void 0),a+=((e,t)=>{if(t&&e.table_name&&e.table_name===t)return",";let s="";switch(e.table_name){case"meta_rubric":s="m";break;case"attribute":s="a";break;case"attribute.synthetic":s="sa";break;default:s="r"}return`${t?"&":""}${s}=`})(e,i),i=e.table_name,a+=e.record_id})),a}},16018:(e,t,s)=>{"use strict";s.d(t,{C:()=>a});var r=s(86023),i=s(10905);function a(e,{tp:t,config:s}){if("market"===e.type)return(0,i.R)({tp:t,config:s},e);return"attribute"===(e.entity&&e.entity.type)?function(e){var t;const s=(("object"===e.type?null===(t=null==e?void 0:e.search_attributes)||void 0===t?void 0:t.suggested_text:e.text)||"").toLowerCase(),i=(e.entity&&"attribute"===e.entity.type&&e.entity.extend&&e.entity.extend.search_name||"").toLowerCase();if(s.includes(i))return(0,r.Ez)(s);if(i.includes(s))return(0,r.Ez)(i);return(0,r.Ez)(`${s} (${i})`)}(e):(0,i.R)({tp:t,config:s},e)}},4135:(e,t,s)=>{"use strict";s.d(t,{U:()=>r});const r=e=>{const{locale:t,region_id:s,segment_id:r}=e;if(!t)return;if(!s&&!r)return;const i="0"===s?r:s;return i?{baseLocale:t,segmentId:i}:void 0}},3416:(e,t,s)=>{"use strict";function r(e){return e<=0?0:"undefined"!=typeof window?Math.ceil(window.screen.height/e):0}s.d(t,{n:()=>r})},98200:(e,t,s)=>{"use strict";s.d(t,{P:()=>i});var r=s(21466);function i(e){const t=(0,r.SI)(e);switch(t&&t.tab){case"bus":return"routeSearchCtx";case"car":return"routeSearchCar";case"pedestrian":return"routeSearchPedestrian"}return"default"}},22480:(e,t,s)=>{"use strict";function r(e,t,s){var r,i;switch(e.type){case"crash":if(!e.lanes)return;return e.lanes.map((e=>{switch(e){case"center":return t._t("Средний ряд.");case"left":return t._t("Левый ряд.");case"right":return t._t("Правый ряд.")}})).join(" ");case"camera":{const a=null===(r=e.data)||void 0===r?void 0:r.speed,n=new Set(null===(i=e.data)||void 0===i?void 0:i.violation);if(!n||n.size<2)return;const o=[1,9,10,11,4,2].reduce(((e,s)=>{if(!n.has(s))return e;switch(s){case 1:return a?[...e,t._t("%1 км/ч",[a])]:e;case 9:return a?[...e,t._t("среднюю скорость %1 км/ч",[a])]:e;case 10:return[...e,t._t("остановку")];case 11:return[...e,t._t("разметку")];case 4:return[...e,t._t("полосу ОТ")];case 2:return[...e,t._t("перекресток")];default:return e}}),[]);if(0===o.length)return;return t._t("Камера на %1",[o.join(s.comma+" ")])}}}s.d(t,{j:()=>r})},78540:(e,t,s)=>{"use strict";s.d(t,{N:()=>i});var r=s(62294);function i(e,t){switch(e.type){case"crash":return t._pt("tUgcType","ДТП");case"camera":return function(e,t){var s,i,a;const n=1===new Set(null===(s=e.data)||void 0===s?void 0:s.violation).size?(0,r.y)(e):"camera",o=null===(i=e.data)||void 0===i?void 0:i.speed,c=null===(a=e.data)||void 0===a?void 0:a.violation;if(n===`camera-${o}`&&(null==c?void 0:c.includes(1)))return t._t("Камера на %1 км/ч",[o]);if(n===`camera-${o}`&&(null==c?void 0:c.includes(9)))return t._t("Камера средней скорости на %1 км/ч",[o]);if("camera-parking"===n)return t._t("Камера контроля остановки");if("camera-line"===n)return t._t("Камера контроля разметки");if("camera-bus"===n)return t._t("Камера контроля полосы общественного транспорта");if("camera-tl"===n)return t._t("Камера контроля перекрестка");return t._pt("tUgcType","Камера")}(e,t);case"roadwork":return t._pt("tUgcType","Дорожные работы");case"restriction":return t._pt("tUgcType","Перекрытие");case"comment":return t._pt("tUgcType","Сообщение на карте");case"other":return t._pt("tUgcType","Прочее")}}},32252:(e,t,s)=>{"use strict";s.d(t,{w:()=>a});var r=s(76050),i=s(28506);function a(e){var t,s,a;const{entity:n,format:o,ctx:{tp:c,dateFns:d}}=e;if(!(0,i.Q)(n))return;if((0,i.y)(n))return"long"===o?c._t("Сейчас этот филиал временно закрыт, но вернётся к работе через некоторое время. Уточняйте информацию у компании."):c._t("Филиал временно не работает");const l=null===(s=null===(t=n.flags)||void 0===t?void 0:t.temporary_closed_parameters)||void 0===s?void 0:s.value,u=l?(0,r.l)({isoDate:l,currentDate:new Date,onlyDate:!0},{tp:c,dateFns:d}):void 0;switch(null===(a=n.flags)||void 0===a?void 0:a.temporary_closed){case"unknown":return"short"===o?c._t("Филиал временно не работает"):u?c._t("Сейчас этот филиал временно закрыт, но вернётся к работе %1",[u]):c._t("Сейчас этот филиал временно закрыт, но вернётся к работе через некоторое время. Уточняйте информацию у компании.");case"opening_soon":return"short"===o?c._t("Скоро открытие"):u?c._t("Компания откроет здесь новый офис %1",[u]):c._t("Компания скоро откроет здесь новый офис. Уточняйте информацию у компании.");default:return"short"===o?c._t("Филиал закрыт для посещения"):c._t("Компания закрыла свой офис, но, возможно, предоставляет услуги онлайн или через доставку. Уточните по телефону")}}},66945:(e,t,s)=>{"use strict";function r(e){return"timezone_offset"in e&&e.timezone_offset||0}s.d(t,{d:()=>r})},20334:(e,t,s)=>{"use strict";function r(e){return e.slice(-1).charCodeAt(0)||0}s.d(t,{K:()=>r})},34001:(e,t,s)=>{"use strict";function r(e){const[t,s]=e.split(" ");return t&&s?`${t[0]}${s[0]}`:e[0]}s.d(t,{J:()=>r})},11288:(e,t,s)=>{"use strict";s.d(t,{K:()=>r});const r=e=>{const t=e.match(/(\+|-)?\d\d:\d\d$/);return(null==t?void 0:t[0])||"+00:00"}},43605:(e,t,s)=>{"use strict";s.d(t,{k:()=>i});const r=["open_card","search_by_org","search_by_query","search_by_rubric","phone","order","link","search_buy_here"];function i(e,t,s=r){const i=e.filter((e=>-1!==s.indexOf(e.type)));return i.find((e=>{const s=!!e.platforms&&-1!==e.platforms.indexOf(t),r=!e.platforms||!e.platforms.length;return s||r}))||i[0]}},3585:(e,t,s)=>{"use strict";s.d(t,{d:()=>c});const r=["ae","cl","cz","cy","it"],i={min:2,max:20},a={min:2,max:16},n={min:9,max:20},o={min:9,max:16};function c(e){const{project:t,is3d:s,hasTmpZoomLimits:c}=e;let d=s?i:a,l=0;return c?s?n:o:(t&&(r.includes(t.country_code)&&(d=s?n:o),l=t.zoom_level.max),{min:d.min,max:Math.max(l,d.max)})}},25717:(e,t,s)=>{"use strict";function r(e){return"branch"===e.type&&!(!e.has_goods&&!e.is_promoted)}s.d(t,{V:()=>r})},45219:(e,t,s)=>{"use strict";function r(e){return e.replace("http://","https://")}s.d(t,{J:()=>r})},70857:(e,t,s)=>{"use strict";function r(e){return e>25}s.d(t,{q:()=>r})},15343:(e,t,s)=>{"use strict";s.d(t,{d:()=>i});var r=s(64693);function i(e){if(!e)return!1;const t=(0,r.CE)(e,["options"]);return!(0,r.xb)(t)}},13130:(e,t,s)=>{"use strict";function r(e){return"branch"===e.type}s.d(t,{J:()=>r})},26483:(e,t,s)=>{"use strict";s.d(t,{N:()=>r});const r=e=>"building"===e.type},6906:(e,t,s)=>{"use strict";s.d(t,{t:()=>r});const r=e=>"adm_div"===e.type&&"city"===e.subtype},42693:(e,t,s)=>{"use strict";function r(e){return"branch"===e.type&&(!(!e.dates||!e.dates.deleted_at)||!!e.is_deleted)}s.d(t,{t:()=>r})},9911:(e,t,s)=>{"use strict";function r(e){const t="reviews"in e?e.reviews:void 0;return!!t&&!!t.items&&t.items.some((e=>e.is_reviewable))}s.d(t,{s:()=>r})},49819:(e,t,s)=>{"use strict";s.d(t,{t:()=>i});const r=["open_card","search_by_org","search_by_query","search_by_rubric","order","search_buy_here"];function i(e){return-1===r.indexOf(e)}},76329:(e,t,s)=>{"use strict";function r(e){return"entity"===e.type}s.d(t,{B:()=>r})},77203:(e,t,s)=>{"use strict";s.d(t,{U:()=>i});const r=["offer","directions","prices","realty","realtyCard","exchange","friendsList","userPublicProfile","sharingGeo"];function i(e,t,s){if(r.includes(e.type))return!1;if("search"===e.type&&"offers"===e.searchType)return!1;if(!t.isLeftMost)return!1;const{isMobileDevice:i}=s;if(i){if(t.areFiltersOpened)return!1;if("gallery"===e.type)return!1;if("direction"===e.type)return!1}return!0}},59647:(e,t,s)=>{"use strict";function r(e){return"search"===e.type&&"offers"===e.searchType}s.d(t,{i:()=>r})},87607:(e,t,s)=>{"use strict";function r(e){return"search"===e.type&&("buyHere"===e.searchType||"fmcg"===e.searchType)}s.d(t,{o:()=>r})},89251:(e,t,s)=>{"use strict";function r(e){return!!e&&"search"===e.type&&"filials"===e.searchType}s.d(t,{Y:()=>r})},66679:(e,t,s)=>{"use strict";function r(e){return!!e&&"search"===e.type&&"inbuilding"===e.searchType}s.d(t,{n:()=>r})},20072:(e,t,s)=>{"use strict";function r(e){return!!e&&"search"===e.type&&"query"===e.searchType}s.d(t,{E:()=>r})},94527:(e,t,s)=>{"use strict";s.d(t,{p:()=>i});var r=s(46826);function i(e){return(0,r.M)(e.type)}},46826:(e,t,s)=>{"use strict";function r(e){switch(e){case"branch":case"station":case"station_entrance":case"station_platform":case"route":return!1;default:return!0}}s.d(t,{M:()=>r})},28167:(e,t,s)=>{"use strict";s.d(t,{e:()=>i});const r=6;function i(e){return e<r}},75458:(e,t,s)=>{"use strict";function r(e){return"address"in e&&(!!e.address&&!!e.address.components&&1===e.address.components.length&&"location"===e.address.components[0].type)}s.d(t,{M:()=>r})},10976:(e,t,s)=>{"use strict";s.d(t,{Y:()=>a});var r=s(97264),i=s(78837);function a(e,t){switch(e){case"mcc":case"mcd":case"metro":case"premetro":case"light_metro":return!0;default:return(0,r.Z)(t)||(0,i.I)(t)}}},57526:(e,t,s)=>{"use strict";function r(e){return"group"in e&&!!e.group&&!!e.group.length}s.d(t,{O:()=>r})},17818:(e,t,s)=>{"use strict";s.d(t,{n:()=>r});const r=({point:e,viewpoint:t,margin:s})=>{const[r,i]=t,a=(i.lon-r.lon)*(s/100),n=(r.lat-i.lat)*(s/100),o=e.lon>r.lon+a&&e.lon<i.lon-a,c=e.lat<r.lat-n&&e.lat>i.lat+n;return o&&c}},326:(e,t,s)=>{"use strict";s.d(t,{d:()=>r});const r=e=>!(!e||e.temporary)},5603:(e,t,s)=>{"use strict";function r(e){switch(e.type){case"station":case"station_entrance":case"station_platform":return!0;default:return!1}}s.d(t,{t:()=>r})},28506:(e,t,s)=>{"use strict";function r(e){var t;return!!i(e)||!!(null===(t=e.flags)||void 0===t?void 0:t.temporary_closed)}function i(e){return"temporary_unavailable_atm_services"in e&&!!e.temporary_unavailable_atm_services}s.d(t,{Q:()=>r,y:()=>i})},96536:(e,t,s)=>{"use strict";function r(e){return!!e&&/\S+@\S+\.\S+/.test(e)}s.d(t,{v:()=>r})},4379:(e,t,s)=>{"use strict";s.d(t,{F:()=>i});var r=s(52261);function i(e){const t=(0,r.Q)(e);return!(!(null==t?void 0:t.work_time)&&"firm_is_open"!==(null==t?void 0:t.options))}},888:(e,t,s)=>{"use strict";s.d(t,{r:()=>i});const r={az:"2GIS",uz:"2GIS",am:"2GIS",ru:"2ГИС"};function i(e,t,s){if("urbi"===s)return"Urbi";switch(e){case"AE":case"SA":case"IQ":case"EG":case"OM":case"BH":case"QA":case"KW":return"Urbi";case"CL":case"CY":case"CZ":case"IT":return"2GIS Local Search Limited";default:return r[t]||r.ru}}},63632:(e,t,s)=>{"use strict";function r(e){return e.join(" · ")}s.d(t,{r:()=>r})},56900:(e,t,s)=>{"use strict";function r(e,t){if(!e||!t)return;const{floorNames:s,firmsToFloorIndexMap:r}=e,i=s.map((()=>[]));return Object.keys(r).forEach((e=>{const s=t.indexHashMap[e];if(void 0!==s){const a=r[e];i[a].push({index:s,point:t.markers[s].lonLat})}})),i}s.d(t,{e:()=>r})},52145:(e,t,s)=>{"use strict";s.d(t,{I:()=>r});const r=(e,t)=>{const s=e.lat*Math.PI/180,r=t.lat*Math.PI/180,i=(t.lon-e.lon)*Math.PI/180;return 6371e3*Math.acos(Math.sin(s)*Math.sin(r)+Math.cos(s)*Math.cos(r)*Math.cos(i))}},52858:(e,t,s)=>{"use strict";s.d(t,{H:()=>a});var r=s(63174),i=s(98584);function a(e){const{marker:t,iconType:s,icon:a,state:n,size:o,offset:c,inRubricIconExperiment:d,isBrandColorMarker:l}=e,u=a&&(0,r._q)(a);if(!u)return;const p=t.friends?i.O.green_1ba136:l?null===(m=null===(g=t.ads)||void 0===g?void 0:g.options)||void 0===m?void 0:m.color:void 0;var g,m;return{img:t.logo_url,transformer:(0,r.Sl)({iconType:s,icon:u,imageUrl:t.logo_url,state:n,rubric:d?t.rubr:void 0,color:p}),size:o,offset:c}}},29542:(e,t,s)=>{"use strict";function r(e,t,s){const r=["bigbullet","middlebullet","smallbullet"].reduce(((r,i)=>{var a,n;const o=null===(a=e[i])||void 0===a?void 0:a[t],c=null===(n=e[i])||void 0===n?void 0:n[s];return o&&(r[i]=Object.assign({normal:o},c&&{hover:c})),r}),{});return Object.keys(r).length>0?r:void 0}s.d(t,{M:()=>r})},32668:(e,t,s)=>{"use strict";s.d(t,{Y:()=>a,e:()=>i});var r=s(52858);const i=["normal","hover"];function a(e){const{marker:t,styles:s,iconType:a,isBrandColorMarker:n}=e;return i.reduce(((e,i)=>{var o,c,d;return e[i]=(0,r.H)({marker:t,iconType:a,icon:null===(o=s[i])||void 0===o?void 0:o.img,size:null===(c=s[i])||void 0===c?void 0:c.size,offset:null===(d=s[i])||void 0===d?void 0:d.offset,state:i,isBrandColorMarker:n}),e}),{})}},24604:(e,t,s)=>{"use strict";s.d(t,{$M:()=>n,GQ:()=>a,Ry:()=>o});var r=s(32668),i=s(52858);const a={164:"cafe",161:"coffee",166:"coffee",112430:"coffee",111593:"coffee",15791:"sushi",112658:"candy",16677:"candy",111594:"candy",165:"fastfood",159:"bar",52248:"bar",162:"coffe_to_go",112656:"coffe_to_go",58871:"coffe_to_go",112719:"coffe_to_go",51459:"pizza"},n=["commercial","bigbullet"];function o(e){const{marker:t,icons:s}=e;if(!s||!t.rubr)return;const o=s[a[t.rubr]];if(!o)return;const c=n.reduce(((e,s)=>{const a=r.e.reduce(((e,r)=>{var a,n,c;return e[r]=(0,i.H)({marker:t,icon:null===(a=o[`${s}_${r}`])||void 0===a?void 0:a.img,state:r,size:null===(n=o[`${s}_${r}`])||void 0===n?void 0:n.size,offset:null===(c=o[`${s}_${r}`])||void 0===c?void 0:c.offset,inRubricIconExperiment:!0}),e}),{});return a.normal&&(e[s]=a),e}),{});return Object.keys(c).length>0?c:void 0}},48084:(e,t,s)=>{"use strict";s.d(t,{F:()=>i});var r=s(24604);function i(e,t){var s,i;const a=r.$M.includes(e.currentType),n=!!e.icon,o=!!(null===(i=null===(s=t.ads)||void 0===s?void 0:s.options)||void 0===i?void 0:i.marker_logo),c=t.rubr?r.GQ[t.rubr]:void 0;return a&&n&&!o?c:void 0}},31303:(e,t,s)=>{"use strict";s.d(t,{D:()=>d});var r=s(27903),i=s(58040);const a={name:16,default:13,button:22,exchange:16},n=12,o=14,c=8;function d(e){let t=0,s=0;for(const r of e){const e=l(r);t=Math.max(t,e.width),s+=e.height}return{width:t,height:s}}function l(e){const{width:t,lineCount:s}=p(e),i=u(e)*s;return{width:s>1?r.d:t,height:i}}const u=e=>{var t;switch(null===(t=e[0])||void 0===t?void 0:t.type){case"name":return a.name;case"exchange":return a.exchange;case"link":case"order":return a.button;default:return a.default}},p=e=>{let t=0,s=1;for(const a of e){const d="name"===a.type||"exchange"===a.type?"font13":"font11",l=(0,i.g)(a.text,d);let u=l.width;if("rating"===a.type&&(u+=n),"link"!==a.type&&"order"!==a.type||(u+=2*c),1===e.length){t=u,s=l.lines;break}t>0&&(u+=o),t+=u,t>r.d&&(t=u,s++)}return{width:t,lineCount:s}}},58040:(e,t,s)=>{"use strict";s.d(t,{g:()=>n});var r=s(27903);const i=5,a={font10:{2:" ij",3:":,.!lI",4:"-гтfrtJ",5:"₽«»авеёзксухчьэяГЗТaceksvxyzFLST",6:"бдийлнопрцъАБВЕЁКРСУХЧЬЭЯbdghnopquABCEKPRVXYZ0123456789",7:"мфыДИЙЛНОПЦЪDGHNOQU",8:"&amp;—жшщюЫw",9:"%ЖМФШmMW",10:"ЩЮ"},font11:{3:" :,.ijlI",4:"!frJ",5:"-гзстухcstxyz",6:"₽«»абвдеёклнопчъьэяГЕЁЗТaehknouvEFLSTYZ0123456789",7:"ийрцАБВДКЛРСУХЧЪЬЭЯbdgpqABCGKPRVX",8:"жмфыИЙНОПЦDHNOQU",9:"&amp;—шщюМЫwM",10:"%ЖФШmW",11:"ЩЮ"},font13:{3:" ij",4:":,.!lI",5:"frJ",6:"-гзстcstz",7:"₽«»авеёклухчьэяГЕЁЗТaekvxyEFLSTZ0123456789",8:"бдийнопрцъАБВРСУХЧЬЭЯbdghnopquABCPRVXY",9:"мыДКЛЪDGKU",10:"жфИЙНОПЦwHNOQ",11:"&amp;—шщюМФЫmM",12:"%ЖШW",13:"ЩЮ"},font13b:{3:" ,.ijlI",4:":!-frt",5:"г",6:"₽зтz",7:"«»абвеёийкнопрсухцчьэяГТabcdeghknopqsuvxyFJLTZ0123456789",8:"длъЕЁЗРУХЧЬEPSVXY",9:"&amp;мАБВДИЙКЛНПСЦЭЯABCDHKNRU",10:"жфшщыюМОФЪwGMOQ",11:"%m",12:"—ЖШЩЫЮW"}};function n(e,t,s=r.d){const n=function(e){const t={};for(const s in e){if(!e.hasOwnProperty(s))continue;const r=e[s];for(const e of r)t[e]=+s}return t}(a[t]);let o=1,c=0;const d=e.split(" ");return d.forEach(((e,t)=>{t>0&&t!==d.length-1&&(c+=n[" "]);let r=0;for(const t of e)r+=n[t]||i;c+=r,c>s&&(o++,c=r)})),{width:o>1?s:c,lines:o}}},13333:(e,t,s)=>{"use strict";s.d(t,{S:()=>i});var r=s(98584);function i(e){switch(e){case"almostClosed":return r.O.orange_ff8800;case"closed":return"#B61919"}return r.O.green_299400}},22874:(e,t,s)=>{"use strict";s.d(t,{U:()=>i});var r=s(43605);const i=e=>{var t,s;const i=null===(s=null===(t=e.ads)||void 0===t?void 0:t.options)||void 0===s?void 0:s.actions;if(i)return(0,r.k)(i,"online",["link","order"])}},27903:(e,t,s)=>{"use strict";s.d(t,{d:()=>r});const r=190},63983:(e,t,s)=>{"use strict";s.d(t,{E:()=>d,S:()=>a});var r=s(82517),i=s(98584);const a={passage:"#0f6ec1",walkway:"#626262",crossing:"#626262",default:"#0f6ec1",inactive:"#99aabb",border:"#ffffff",border2:(0,r.X)(i.O.gray_141414,1),"pedestrian-underground":"#626262"},n={img:s(13144).Z,size:[22,22],offset:[11,11]},o={img:s(43747).Z,size:[18,18],offset:[9,9]},c=(e,t)=>({color:t[e],hoveredColor:(0,r.X)(t[e],.8),borderColor:t.border,hoveredBorderColor:t.border,border2Color:t.border2,hoveredBorder2Color:t.border2,dashColor:"inactive"===e?t[e]:"#626262",gapColor:"#ffffff",dashLength:8,gapLength:4}),d=e=>({lineStylesByZoom:{14:{passage:{width:5.73,borderWidth:3,border2Width:.5},walkway:{width:4,borderWidth:2,border2Width:.5},crossing:{width:4,borderWidth:2,border2Width:.5},inactive:{width:4,borderWidth:2,border2Width:.5},"pedestrian-underground":{width:4,borderWidth:2,border2Width:.5}},20:{passage:{width:10.5,borderWidth:5.5,border2Width:.8},walkway:{width:5.5,borderWidth:3,border2Width:.5},crossing:{width:5.5,borderWidth:3,border2Width:.5},inactive:{width:5,borderWidth:3,border2Width:.5},"pedestrian-underground":{width:5.5,borderWidth:3,border2Width:.5}}},lineStyles:{passage:c("passage",e),walkway:c("walkway",e),crossing:c("crossing",e),inactive:c("inactive",e),"pedestrian-underground":c("pedestrian-underground",e)},lineAnimations:{activeRouteAnimation:{duration:800,easing:"linear"},inactiveRouteAnimation:{duration:1100,easing:"linear"}},waypointStyles:{start:n,finish:n,pedestrian:o,bus:n,trolleybus:n,tram:n,shuttle_bus:n,metro:n,suburban_train:n,funicular_railway:n,monorail:n,river_transport:n,cable_car:n,light_rail:n,premetro:n,light_metro:n,aeroexpress:n,mcd:n,mcc:n}})},77854:(e,t,s)=>{"use strict";function r(e,t,s={}){if(e)return!t||!t.result||s.more&&"error"===t.result.meta.status?e:"success"===t.result.meta.status||"error"===t.result.meta.status?t:Object.assign(Object.assign({},e),{result:Object.assign(Object.assign({},e.result),{meta:t.result.meta})})}s.d(t,{m:()=>r})},19043:(e,t,s)=>{"use strict";s.d(t,{F:()=>n});var r=s(43606);function i(e,t){if(0===e.length)return[t];const s=e.findIndex((e=>e.orgId===t.orgId));return-1===s?[...e,t]:(0,r.g)(e,t,s)}var a=s(34843);function n(e,t,s){const r=(0,a.L)(e.orders,t)||{orgId:t,items:[],createdDate:(new Date).getTime()};return Object.assign(Object.assign({},e),{orders:i(e.orders,s(r))})}},53222:(e,t,s)=>{"use strict";s.d(t,{R:()=>i});var r=s(64693);const i=(e,t)=>{var s,i,a,n,o,c,d,l,u,p,g,m,h,f;if(200===e.code)return{id:e.id,url:e.url,real_object_type:t.objectType,height:0,width:0,preview_urls:e.preview_urls,copyright:{type:"image",value:"",url:null!==(i=null===(s=e.copyright)||void 0===s?void 0:s.url)&&void 0!==i?i:void 0,code:null!==(n=null===(a=e.copyright)||void 0===a?void 0:a.code)&&void 0!==n?n:"user",icon:null!==(c=null===(o=e.copyright)||void 0===o?void 0:o.icon)&&void 0!==c?c:"",title:(null===(d=e.copyright)||void 0===d?void 0:d.title)||(null===(l=t.user)||void 0===l?void 0:l.display_name)||""},owner:{id:(null===(u=t.user)||void 0===u?void 0:u.user_id)||(null===(p=e.owner)||void 0===p?void 0:p.id)||(0,r.by)(),name:(null===(g=t.user)||void 0===g?void 0:g.display_name)||(null===(m=e.owner)||void 0===m?void 0:m.name)||"",avatar:(null===(h=t.user)||void 0===h?void 0:h.avatar)||(null===(f=e.owner)||void 0===f?void 0:f.avatar)||""},creation_time:e.creation_time||(new Date).toISOString(),modification_time:e.modification_time||(new Date).toISOString()}}},34015:(e,t,s)=>{"use strict";s.d(t,{$n:()=>a,ax:()=>n,jY:()=>i});var r=s(1184);const i={sale:{categoryId:"70241201812761646",defaultTypeId:"1067258717690367200"},saleCommercial:{categoryId:"70241201812768717"},rent:{categoryId:"70241201812768719",defaultTypeId:"5049376148110570281"},rentCommercial:{categoryId:"70241201812768720"},rentDaily:{categoryId:"70241201813054308"}},a={[i.sale.defaultTypeId]:"Квартира",[i.rent.defaultTypeId]:"Квартира"};function n(e){return(0,r.uc)(i).find((t=>i[t].categoryId===e))}},88783:(e,t,s)=>{"use strict";s.d(t,{R:()=>a});var r=s(43366);const i=e=>Object.values(r.X).filter((t=>e.test(`image/${t}`))).join(", ");function a(e,t,s){switch(e){case"failRead":return s._t("Ошибка при чтении файла");case"failSize":return s._t("Размер фото слишком большой");case"failFormat":case"failFormatHEIF":const e=i(t.approvedMIMERegExpr);return s._t("Неправильный формат. Мы поддерживаем %1.",[e]);case"failLimit":return s._t("Можно прикрепить не более %1 фотографий",[t.photoCount]);case"smallWidth":return s._t("Ширина фото должна быть не менее %1 px",[t.minWidth]);case"smallHeight":return s._t("Высота фото должна быть не менее %1 px",[t.minHeight]);case"largeWidth":return s._t("Ширина фото должна быть не более %1 px",[t.maxWidth]);case"largeHeight":return s._t("Высота фото должна быть не более %1 px",[t.maxHeight]);case"wide":return s._t("Фото слишком широкое");case"narrow":return s._t("Фото слишком узкое");case"deletedError":return s._t("Ошибка при удалении. Попробуйте снова");case"failServerLimit":return s._t("Вы можете загрузить не более %1 фотографий в карточку",[t.maxDailyPhotoCount]);default:return s._t("Ошибка при загрузке")}}},69623:(e,t,s)=>{"use strict";s.d(t,{N:()=>a});var r=s(57078),i=s(63983);function a(e,t,s){return s?(0,r.p)("pedestrian-underground"):t?i.S.border:e&&"passage"===e.type&&e.outcoming_line&&e.outcoming_line.color?e.outcoming_line.color:(0,r.p)(e&&e.type)}},81245:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var r=s(57078);function i(e){const t=(0,r.p)(e.type);return"walkway"===e.type||"crossing"===e.type?e.incoming_line&&e.incoming_line.color||t:"passage"!==e.type?t:e.outcoming_line&&e.outcoming_line.color||t}},62012:(e,t,s)=>{"use strict";s.d(t,{E:()=>a});var r=s(29759),i=s(49564);function a(){r.tO.local.removeItem(i.T)}},49564:(e,t,s)=>{"use strict";s.d(t,{T:()=>i,z:()=>a});var r=s(29759);const i="savedReview";function a(e){r.tO.local.setItem(i,JSON.stringify(e))}},35213:(e,t,s)=>{"use strict";s.d(t,{S:()=>a});var r=s(23649),i=s(58314);function a(e,t){const s=(0,i.lR)(e,(0,i.Nk)(t));return s?s.type===r.i8.opened||s.type===r.i8.aroundTheClock?"open":s.type===r.i8.willCloseInMinute||s.type===r.i8.willCloseInMinuteForBreak||s.type===r.i8.willCloseInTime||s.type===r.i8.willCloseInTimeForBreak?"almostClosed":"closed":"closed"}},57955:(e,t,s)=>{"use strict";function r(e,t){return void 0===t.width&&void 0!==t.height?e.replace("{height}",t.height.toString()).replace("w={width}","").replace("&",""):void 0!==t.width&&void 0===t.height?e.replace("{width}",t.width.toString()).replace("h={height}","").replace("&",""):void 0!==t.width&&void 0!==t.height?e.replace("{width}",t.width.toString()).replace("{height}",t.height.toString()):e.replace("h={height}","").replace("w={width}","").replace("&","").replace("?","")}s.d(t,{B:()=>r})},56652:(e,t,s)=>{"use strict";function r(e){var t,s;return!!(null===(s=null===(t=e.ads)||void 0===t?void 0:t.options)||void 0===s?void 0:s.branded_advertiser)}s.d(t,{n:()=>r})},96094:(e,t,s)=>{"use strict";s.d(t,{D:()=>i});var r=s(94958);function i(e,t){return e.toString().replace(/(\d)(?=(\d\d\d)+([^\d]|$))/g,`$1${t&&t.isBreakable?" ":r.E8}`)}r.E8},93213:(e,t,s)=>{"use strict";s.d(t,{i:()=>a});var r=s(90793),i=s(6581);function a(e,t){const s=t.addressSeparator+" ";switch(e.type){case"branch":case"building":if(e.address){return(0,r.O5)(e.type,e.address,{order:(0,i.Q)(t),separator:t.addressSeparator,useSingleComponentForBranch:!1,useBuildingNameForBranch:"branch"===e.type&&!e.group}).map((e=>e.value)).join(s)}}}},41916:(e,t,s)=>{"use strict";s.d(t,{L:()=>a});var r=s(64693),i=s(10905);function a(e,t,s){var a,n;const o=null===(a=e.name_ex)||void 0===a?void 0:a.extension;return[e.name_ex&&o?(null===(n=e.name_ex)||void 0===n?void 0:n.primary)+t+o:e.name,(0,i.z)(s,e)].filter(r.Gg).join(t)}},51539:(e,t,s)=>{"use strict";s.d(t,{u:()=>g,v:()=>h});var r=s(10905),i=s(41916),a=s(16391),n=s(93213),o=s(87043),c=s(75458),d=s(96843),l=s(70428),u=s(64693),p=s(94958);function g(e,t,s){const{includeRegion:r=!0,alwaysIncludeDivision:i,separator:n}=t,o="adm_div"===e.type&&"city"===e.subtype,c="adm_div"===e.type||i;let l=e.adm_div&&(0,a.MS)(e.adm_div,{includeDivision:c,includeRegion:r,excludeLivingAreaAndDistrict:!0,separator:n,entityFlags:"flags"in e?e.flags:void 0});if(!o||!l||e.name!==l){if("subtype"in e&&"settlement"===e.subtype&&s){const t=(0,d.Jm)(e,s)[0];l=t?`${t}${n}${l}`:l}return l||void 0}}function m(e,t){var s,r,d,m;const{config:h,tp:f,showDrilldown:v}=t,b=h.addressSeparator+" ";if("market"===e.type)return;if(!e.entity)return;const y={alwaysIncludeDivision:h.alwaysIncludeDivisionInDrilldown,separator:b},x="search_attributes"in e&&!!(null===(s=e.search_attributes)||void 0===s?void 0:s.dgis_found_by_address),{entity:j}=e;switch(j.type){case"street":case"adm_div":return g(j,y,f);case"attraction":return j.adm_div?(0,a.vO)(j.adm_div)[0].name:void 0;case"branch":return x?(0,i.L)(j,b,f):[(0,n.i)(j,h),v&&!(0,c.M)(j)&&g(j,Object.assign(Object.assign({},y),{includeRegion:!1}))].filter((e=>!!e)).join(b);case"building":return x?j.building_name||[(0,n.i)(j,h),g(j,y)].filter((e=>!!e)).join(b)||j.name:j.building_name?[(0,n.i)(j,h),g(j,y)].filter((e=>!!e)).join(b):g(j,y);case"station":return"metro"===j.subtype?j.routes&&j.routes[0]&&j.routes[0].name:g(j,y);case"route":const t=(null===(r=j.adm_div)||void 0===r?void 0:r.length)?j.adm_div[0].name:void 0;return j.from_name&&j.to_name?t?`${j.from_name} – ${j.to_name} • ${t}`:`${j.from_name} – ${j.to_name}`:t;case"rubric":case"metarubric":const s=(0,o.R)(e),w=j.name,_=(null!==(d=j.branch_count)&&void 0!==d?d:0)+(null!==(m=j.geo_count)&&void 0!==m?m:0),C=_?f._nt(["%% филиал","%% филиала","%% филиалов"],_):void 0,I=(_&&j.geo_count?f._nt(["%% место","%% места","%% мест"],_):void 0)||C,k=s&&w.toLowerCase()!==s.toLowerCase()?w:void 0,O=p.E8+"•"+p.E8;return I||k?`${null!=I?I:""}${I&&k?O:""}${null!=k?k:""}`:void 0;case"attribute":const{subcode_label:S,category_label:N}=j.extend||{},{suggested_text:M}="object"===e.type&&e.search_attributes||{};return S&&M&&!S.toLowerCase().includes(M.toLowerCase())&&!M.toLowerCase().includes(S.toLowerCase())?M:N;case"org":const T=v?g(j,Object.assign(Object.assign({},y),{includeRegion:!1})):void 0;return[f._nt(["%% филиал","%% филиала","%% филиалов"],j.org&&j.org.branch_count||0),T].filter(u.Gg).join(b);case"road":return;case"kilometer_road_sign":return(0,l.e)(j,f)}}function h({tp:e,config:t,showDrilldown:s=!0},i){return{name:(0,r.R)({tp:e,config:t},i),hint:m(i,{tp:e,config:t,showDrilldown:s})}}},87043:(e,t,s)=>{"use strict";function r(e){var t,s;return"search_attributes"in e&&(null===(t=e.search_attributes)||void 0===t?void 0:t.suggested_text)?null===(s=e.search_attributes)||void 0===s?void 0:s.suggested_text:void 0}s.d(t,{R:()=>r})},10905:(e,t,s)=>{"use strict";s.d(t,{R:()=>u,z:()=>l});var r=s(64693),i=s(86023),a=s(87043),n=s(93213),o=s(41916),c=s(70428),d=s(613);function l(e,t){switch(t.type){case"street":return e._t("улица");case"road":return e._t("дорога");case"station":switch(t.subtype){case"railway":return e._t("станция");case"metro":return""}return e._t("остановка");case"route":return function(e,t){if("metro"===t)return"";const s={bus:e._t("автобус"),trolleybus:e._t("троллейбус"),tram:e._t("трамвай"),shuttle_bus:e._t("маршрутное такси"),suburban_train:e._t("электричка"),funicular_railway:e._t("фуникулер"),monorail:e._t("монорельсовая дорога"),river_transport:e._t("водный транспорт"),cable_car:e._t("канатная дорога"),light_rail:e._t("скоростной трамвай"),premetro:e._t("метротрам"),light_metro:e._t("лёгкое метро")};return t&&s[t]||e._t("маршрут")}(e,t.subtype)}return"adm_div"===t.type&&"district"===t.subtype?e._t("район"):""}function u({tp:e,config:t},s){var u;if("history"===s.type&&s.text)return s.text;const p=(0,a.R)(s)||"";if("market"===s.type)return s.name||p;const{entity:g}=s;if(!g)return p;const m="search_attributes"in s&&!!(null===(u=s.search_attributes)||void 0===u?void 0:u.dgis_found_by_address),h=t.comma+" ";let f;switch(g.type){case"adm_div":case"station":f=[g.name,l(e,g)].filter(r.Gg).join(h);break;case"parking":f=g.name;break;case"branch":f=m&&(0,n.i)(g,t)||(0,o.L)(g,h,e);break;case"rubric":case"street":f=g.name&&p&&p.toLowerCase()!==g.name.toLowerCase()?p:g.name;break;case"attraction":f=(0,d.T)(g.name,g.subtype_name);break;case"building":f=m?(0,n.i)(g,t)||g.name:g.building_name||(0,n.i)(g,t)||g.name;break;case"road":case"route":f=[(0,i.Ez)(l(e,g)),g.name].filter(r.Gg).join(" ");break;case"attribute":f=g.extend&&g.extend.search_name&&!p.toLowerCase().includes(g.extend.search_name.toLowerCase())?g.extend.search_name:void 0;break;case"directory":f=(0,i.Ez)(p);break;case"org":f=function(e,t){if(!e.name_ex||!e.name_ex.primary)return e.name;if(e.name_ex.extension)return[e.name_ex.primary,e.name_ex.extension].join(t);const s=e.rubrics&&e.rubrics[0]&&e.rubrics[0].name;if(s)return[e.name_ex.primary,(0,i.gs)(s)].join(t);return e.name_ex.primary}(g,h);break;case"kilometer_road_sign":f=(0,c.e)(g,e)}return f||p}},7794:(e,t,s)=>{"use strict";function r(e){return!("object"!==e.type||!e.search_attributes)&&3===e.search_attributes.handling_type}s.d(t,{F:()=>r})},22109:(e,t,s)=>{"use strict";function r(e,t){const s=e.floors&&e.floors.ground_count;if(s)return t._nt(["%%&nbsp;этаж","%%&nbsp;этажа","%%&nbsp;этажей"],s)}s.d(t,{X:()=>r})},16065:(e,t,s)=>{"use strict";function r(e,t){switch(e){case"bus":return t._t("Автобус");case"suburban_train":return t._t("Электричка");case"trolleybus":return t._t("Троллейбус");case"tram":return t._t("Трамвай");case"shuttle_bus":return t._t("Маршрутка");case"metro":return t._t("Метро");case"river_transport":return t._t("Водный транспорт");case"funicular_railway":return t._t("Фуникулер");case"monorail":return t._t("Монорельс");case"cable_car":return t._t("Канатная дорога");case"light_rail":return t._t("Скоростной трамвай");case"premetro":return t._t("Метротрам");case"light_metro":return t._t("Лёгкое метро");case"aeroexpress":return t._t("Аэроэкспресс");case"mcc":return t._gg("МЦК");case"mcd":return t._gg("Московский центральный диаметр");default:return t._t("Транспорт")}}s.d(t,{F:()=>r})},58154:(e,t,s)=>{"use strict";s.d(t,{d:()=>c});var r=s(10722);const i=e=>{const{dayItem:t,tp:s,dateFns:i,is12h:a}=e,{start_hour:n,start_minute:o,finish_hour:c,finish_minute:d}=t,l=(0,r.jU)(n),u=(0,r.jU)(o),p=(0,r.jU)(c),g=(0,r.jU)(d),m=new Date(0,0,0,Number(l),Number(u),0,0),h=new Date(0,0,0,Number(p),Number(g),0,0),f=i.format(m,a?"hh:mm aaaa":"HH:mm"),v=i.format(h,a?"hh:mm aaaa":"HH:mm");return s._pt("Временной период","%1 - %2",[f,v])},a=e=>{const{wdays:t,tp:s,dateFns:r,is12h:a}=e,n=[],o=(e=>{for(let t=1;t<e.length;t++)if(e[t].start_hour!==e[t-1].start_hour||e[t].start_minute!==e[t-1].start_minute||e[t].finish_hour!==e[t-1].finish_hour||e[t].finish_minute!==e[t-1].finish_minute)return!1;return!0})(t);return o?i({dayItem:t[0],tp:s,dateFns:r,is12h:a}):(t.forEach((e=>{const t=((e,t,s,r)=>{const a=i({dayItem:e,tp:t,dateFns:s,is12h:r}),n=(e=>{const{day:t,tp:s}=e;switch(t){case"sun":return s._t("Вс");case"mon":return s._t("Пн");case"tue":return s._t("Вт");case"wed":return s._t("Ср");case"thu":return s._t("Чт");case"fri":return s._t("Пт");case"sat":return s._t("Сб");default:return}})({day:e.day,tp:t});return t._pt("Временной период","%1. - %2",[n,a])})(e,s,r,a);n.push(t)})),n.join("; "))};var n=s(63655);const o=e=>{var t,s,r;const{event:i,dateFns:o,tp:c,is12h:d,offset:l}=e;if("restriction"===i.type){return(e=>{const{startTime:t,finishTime:s,dateFns:r,wdays:i,tp:o,is12h:c,offset:d}=e;let l;const u=(e,t)=>r.format((0,n.t)(1e3*e,t),"d MMMM yyyy HH:mm");if(t&&s){const e=u(t,d),r=u(s,d);l=o._t("%1 – %2",[e,r])}if(t&&!s){const e=u(t,d);l=o._t("С %1",[e])}if(!t&&s){const e=u(s,d);l=o._t("По %1",[e])}const p=(null==i?void 0:i.length)?a({wdays:i,tp:o,dateFns:r,is12h:c}):void 0;return p&&l?o._pt("Временной период","%1: %2",[l,p]):p||l})({startTime:null===(t=i.data)||void 0===t?void 0:t.start_time,finishTime:null===(s=i.data)||void 0===s?void 0:s.finish_time,wdays:null===(r=i.data)||void 0===r?void 0:r.wdays,dateFns:o,tp:c,is12h:d,offset:l})}return function(e,t){const s=new Date,r=new Date(e);return+s-e<864e5?t.formatDistanceStrict(r,s,{addSuffix:!0}):t.format(r,"d MMMM yyyy")}(1e3*i.timestamp,o)};function c(e,t,s,r,i){const a="2gis"===e.user.id?r.brandName:e.user.name,n=[],c=o({event:e,dateFns:s,tp:t,is12h:r.is12h,offset:i});return c&&n.push(c),a&&n.push(a),n.join(`${r.comma} `)}},21371:(e,t,s)=>{"use strict";function r(e,t="2gis"){if("urbi"===t)switch(e){case"com":case"sa":return"urbi-sa.com";case"iq":return"urbi-iq.com";case"eg":return"urbi-eg.com";case"om":return"urbi-om.com";case"qa":return"urbi.qa";case"bh":return"urbi.bh";case"kw":return"urbi-kw.com";case"ma":return"urbi.ma";case"ae":return"maps.urbi.ae";default:return`2gis.${e}`}return`2gis.${e}`}s.d(t,{K:()=>r})},4311:(e,t,s)=>{"use strict";s.d(t,{B:()=>c,o:()=>o});var r=s(47818),i=s(56707),a=s(21371),n=s(64693);const o=["branch","branchMenu","branchPrices","branchPricesMenu","firm","geo","building","attraction","gate","street","road","crossroad","place","region","district","districtArea","district_area","livingArea","living_area","division","city","settlement","country","adm_div","parking","station","stationPlatform","station_platform","stationEntrance","station_entrance","stop","metro","route","exchange","kilometer_road_sign","geolocation"];function c(e){if("custom"===e.type)return e.url;const t=function(e){switch(e.type){case"branch":return[{type:"firm",entityId:e.id,tab:e.tab}];case"branchPrices":case"branchPricesMenu":return[{type:"firm",entityId:e.id,tab:"prices"}];case"geo":case"building":case"attraction":case"gate":case"street":case"road":case"crossroad":case"place":case"region":case"district":case"districtArea":case"district_area":case"livingArea":case"living_area":case"division":case"city":case"adm_div":case"parking":return[{type:"geo",entityId:e.id,tab:e.tab}];case"point":return[{type:"geo",point:e.point}];case"station":case"stop":case"metro":return[{type:"station",entityId:e.id,tab:e.tab}];case"stationEntrance":case"station_entrance":return[{type:"stationEntrance",entityId:e.id,tab:e.tab}];case"stationPlatform":case"station_platform":return[{type:"platform",entityId:e.id,tab:e.tab}];case"route":return[{type:"route",entityId:e.id,tab:e.tab}];case"buildingServices":return[{type:e.slugType,entityId:e.id,tab:"services"}];case"buildingProviders":return[{type:e.slugType,entityId:e.id,tab:"providers"}];case"inBuildingBranches":return[{type:e.slugType,entityId:e.id,tab:"inside"}];case"organizationBranches":return[{type:"branches",orgId:e.id,filters:"filters"in e?e.filters:void 0}];case"product":return[{type:"product",productId:e.id}];case"catalogSearch":case"awards2gis":return[{type:"search",query:e.query,rubricId:e.rubricId,filters:e.filters,page:e.page&&e.page>1?e.page:void 0}];case"branchOffers":return[{type:"prices",branchId:e.branchId,categoryId:e.categoryId},{type:"offers",query:e.query,filters:e.filters,page:e.page&&e.page>1?e.page:void 0}];case"directions":return[{type:"directions",tab:e.tab,points:e.points}];case"metroLayer":case"metroLayerMoscow":case"metroScheme":return[{type:"metroScheme",stub:"metro"}];case"gallery":return[{type:"gallery",entityType:"menu"===e.entityType?e.entityType:(0,i.C)(e.entityType),entityId:e.entityId,photoId:e.photoId}];case"realty":return[{type:"realty",category:e.category,filters:e.filters,at:e.entityId}];case"realtyRent":return[{type:"realty",category:"rent",filters:e.filters,at:e.entityId}];case"realtyDaily":return[{type:"realty",category:"rentDaily",filters:e.filters,at:e.entityId}];case"realtySaleCommercial":return[{type:"realty",category:"saleCommercial",filters:e.filters,at:e.entityId}];case"realtySales":return[{type:"realty",category:"sale",filters:e.filters,at:e.entityId}];case"realtyAd":return(0,n.oA)([e.category&&{type:"realty",category:e.category,at:e.entityId},{type:"realtyAd",id:e.id,tab:e.tab}]);case"collection":return[{type:"collection",collectionId:e.id}];case"guidebook":return[{type:"guidebook"}];case"interesting":return[{type:"interesting"}];case"award2019":return[{type:"award2019"}];case"project":case"root":return[];case"rubrics":return[{type:"rubrics"}];case"subrubrics":return[{type:"rubrics"},{type:"subrubrics",parentId:e.id}];case"favorites":return[{type:"favorites"}];case"defaultEntity":return e.id?[{type:"geo",entityId:e.id}]:void 0;case"traffic":return[{type:"traffic"}];case"user":return[{type:"user",userId:e.userId}];case"mapfriends":return[{type:"mapfriends",page:e.page,userId:e.userId}];case"tabReviews":return[{type:e.slugType,entityId:e.id,tab:e.tab}];case"friends":return[{type:"friendsList"}];case"immersivePromo":return[{type:"immersivePromo"}];case"directionsRoot":return[{type:"directions"}];default:return}}(e);return t?function(e,t){const{cityAlias:s,lang:i,domain:n,brandCode:o}=e;s&&t.unshift({type:"region",code:s});i&&t.unshift({type:"lang",lang:i});const c=(0,r.M)(t);if(!c)return"";if(n){return`${`https://${(0,a.K)(n,o)}`}${c}`}return c}(e,t):void 0}},98160:(e,t,s)=>{"use strict";s.d(t,{e:()=>j,j:()=>x});var r=s(52322),i=s(2784),a=s(97171),n=s(78059),o=s(51604),c=s(64693),d=s(70021),l=s(27215),u=s(10484),p=s(6801),g=s(76171),m=s(36928),h=s(42858),f=s(62784),v=s(2576),b=s(50137),y=s(62830);function x(e){const t=function(e){return(0,i.useMemo)((()=>{if((null==e?void 0:e.erid)||(null==e?void 0:e.legalName))return{description:e.description,blocks:[{erid:e.erid,legalName:e.legalName}]}}),[null==e?void 0:e.erid,null==e?void 0:e.legalName,null==e?void 0:e.description])}("banner"===(null==e?void 0:e.source)?e:void 0),s=function(e){const t=(0,v.N)("entity"),s=e?e.entityId||(null==t?void 0:t.entityId):void 0,r=(0,l.v9)((e=>{if(t&&(null==t?void 0:t.entityId)===s)return t.searchId;const r=(0,u.t0)(e.appContext.frames,"gallery");if(r&&r.entityId===s)return r.searchId;const i=(0,u.t0)(e.appContext.frames,"offer")||(0,u.t0)(e.appContext.frames,"prices");if(i&&i.entityId===s)return i.entitySearchId;const a=(0,u.t0)(e.appContext.frames,"search");return a?(0,y.r)(a):void 0})),a=(0,b.X)(s,r),n=(0,l.v9)((e=>(0,f.l)({state:e,dashboardId:(0,o.Gp)(e.appContext.weak.dashboard.transitions.rubricsId)}).data));return(0,i.useMemo)((()=>{var e,t,s,r,i,o,c,d,l,u,p,g,m,h;if("branch"!==(null==a?void 0:a.type))return;const f=[],v=({erid:e,legalName:t})=>{const s=f.find((e=>e.legalName===t));s?e&&(s.erid=[...s.erid||[],...e]):f.push({erid:e,legalName:t})};((null===(t=null===(e=null==a?void 0:a.ads)||void 0===e?void 0:e.options)||void 0===t?void 0:t.erid)||(null===(r=null===(s=null==a?void 0:a.ads)||void 0===s?void 0:s.options)||void 0===r?void 0:r.legal_name))&&v({erid:a.ads.options.erid,legalName:a.ads.options.legal_name}),((null===(c=null===(o=null===(i=null==a?void 0:a.ads)||void 0===i?void 0:i.options)||void 0===o?void 0:o.poi)||void 0===c?void 0:c.erid)||(null===(u=null===(l=null===(d=null==a?void 0:a.ads)||void 0===d?void 0:d.options)||void 0===l?void 0:l.poi)||void 0===u?void 0:u.legal_name))&&v({erid:a.ads.options.poi.erid,legalName:null===(p=a.ads.options.poi)||void 0===p?void 0:p.legal_name}),(null===(h=null===(m=null===(g=null==a?void 0:a.ads)||void 0===g?void 0:g.options)||void 0===m?void 0:m.fmcg_owner)||void 0===h?void 0:h[0])&&v({erid:a.ads.options.fmcg_owner[0].erid,legalName:a.ads.options.fmcg_owner[0].legal_name});const b=null==n?void 0:n.find((e=>"pseudorubric"===e.type&&(e.owner_id===a.id||e.owner_id===a.org.id)));return"pseudorubric"===(null==b?void 0:b.type)&&((null==b?void 0:b.erid)||(null==b?void 0:b.legal_name))&&v({erid:b.erid,legalName:b.legal_name}),{blocks:f}}),[a,n])}("card"===(null==e?void 0:e.source)?e:void 0),r=function(e){var t,s,r,p,g,m,h,f,b,y,x;const j=e?e.entityId:void 0,w=(0,v.N)("entity"),_=(0,l.v9)((e=>{var t,s,r;const i=w&&(0,d.wj)({state:e,entityId:w.entityId,searchId:w.searchId}).data;if(w&&i&&j&&(i.id===j||[...(0,a.d)(i),...null!==(r=null===(s=null===(t=i.ads)||void 0===t?void 0:t.options)||void 0===s?void 0:s.fmcg)&&void 0!==r?r:[]].some((e=>e.branch_id===j))))return w.searchId;const n=(0,u.t0)(e.appContext.frames,"search");switch(null==n?void 0:n.searchType){case"query":return(0,o.Gp)(n.tabCatalog.searchId);case"filials":case"buyHere":return(0,o.Gp)(n.searchId)}})),C=(0,i.useMemo)((()=>_||(0,c.by)()),[_]),I=(0,l.v9)((e=>j?(0,d.wj)({state:e,entityId:j,searchId:C}):void 0)),k=null==I?void 0:I.data,O=(0,l.I0)();(0,i.useEffect)((()=>{var e;j&&!(null===(e=null==I?void 0:I.data)||void 0===e?void 0:e.ads)&&O((0,n.Dz)({id:j,searchId:C}))}),[O,null===(t=null==I?void 0:I.data)||void 0===t?void 0:t.ads,j,C]);const S=(null==w?void 0:w.entityId)===(null==e?void 0:e.frameEntityId)&&(null==w?void 0:w.isOpenedFromMap)&&(null===(r=null===(s=null==k?void 0:k.ads)||void 0===s?void 0:s.options)||void 0===r?void 0:r.map_buy_here_owner)?null===(p=k.ads.options.map_buy_here_owner)||void 0===p?void 0:p[0]:(null===(h=null===(m=null===(g=null==k?void 0:k.ads)||void 0===g?void 0:g.options)||void 0===m?void 0:m.buy_here_owner)||void 0===h?void 0:h[0])||(null===(y=null===(b=null===(f=null==k?void 0:k.ads)||void 0===f?void 0:f.options)||void 0===b?void 0:b.fmcg_owner)||void 0===y?void 0:y[0]),N=e?!(null===(x=null==I?void 0:I.meta)||void 0===x?void 0:x.status)||"loading"===I.meta.status:void 0,M=(0,i.useMemo)((()=>N),[]);return(0,i.useMemo)((()=>(null==S?void 0:S.erid)||(null==S?void 0:S.legal_name)?{isLoading:N,wasLoading:M,blocks:[{erid:S.erid,legalName:S.legal_name}]}:{isLoading:N,wasLoading:M}),[N,M,null==S?void 0:S.erid,null==S?void 0:S.legal_name])}("buyHere"===(null==e?void 0:e.source)?e:void 0),p=t||s||r;return(0,i.useMemo)((()=>{var e;const t=null===(e=null==p?void 0:p.blocks)||void 0===e?void 0:e.map((e=>{var t;return Object.assign(Object.assign({},e),{erid:(null===(t=e.erid)||void 0===t?void 0:t.join(", "))||void 0})}));return Object.assign(Object.assign({},p),{erid:null==t?void 0:t.filter((({erid:e})=>!!e)).map((({erid:e})=>e)).join(", "),blocks:t})}),[p])}function j(){const{css:e,s:t}=(0,p.y)(w),s=(0,h.T)(),a=(0,i.createRef)(),n=(0,l.I0)();return{onCopy:(0,i.useCallback)((e=>{if(e.stopPropagation(),!a.current)return;a.current.select(),document.execCommand("copy"),a.current.blur();const t=document.getSelection();t&&t.empty(),n((0,g.c)((0,m.V)({title:s._gg("Скопировано"),message:s._gg("ID скопирован в буфер обмена!")})))}),[]),renderIdInput:(0,i.useCallback)((s=>(0,r.jsx)("input",{ref:a,readOnly:!0,value:s,className:e(t.idInput)})),[])}}const w=(0,p.k)({idInput:{opacity:0,position:"absolute",top:0,start:0,cursor:"default"}})},4805:(e,t,s)=>{"use strict";s.d(t,{N:()=>i});var r=s(2784);function i({delay:e,onChange:t}={}){const[s,i]=(0,r.useState)("undefined"==typeof window||!document.hidden);return(0,r.useEffect)((()=>{let s;const r=void 0!==e?()=>{document.hidden?s=setTimeout((()=>{s=void 0,null==t||t(),i(!1)}),e):s?clearTimeout(s):(null==t||t(),i(!0))}:()=>{null==t||t(),i(!document.hidden)};return document.addEventListener("visibilitychange",r),()=>{document.removeEventListener("visibilitychange",r)}}),[e,t]),s}},85161:(e,t,s)=>{"use strict";s.d(t,{K:()=>i});var r=s(27215);function i(e){const t=(0,r.v9)((e=>e.appContext.activeLayer));return"building"===(null==e?void 0:e.type)&&(!!e.has_realty&&"realty"!==t)}},79597:(e,t,s)=>{"use strict";s.d(t,{W:()=>c});var r=s(4311),i=s(64929),a=s(70021),n=s(11447),o=s(27215);function c(e){const t=(0,o.v9)((t=>{var s,o;const c=e&&r.o.includes(e.type)&&"id"in e?e.id:void 0,d=c?(0,a.nM)({state:t,entityId:c}).data:void 0;return d?(0,i.i)(d)||(null===(o=null===(s=(0,n.D4)({state:t,id:d.region_id}))||void 0===s?void 0:s.data)||void 0===o?void 0:o.uri_code):(0,n.Rg)(t)})),s=(0,o.v9)((e=>e.appContext.weak.isLangRepresentedInOriginalRequest?e.appContext.lang:void 0));return e?(0,r.B)(Object.assign({cityAlias:t,lang:s},e)):void 0}},36927:(e,t,s)=>{"use strict";function r(e){return!e.new_email&&(!!e.email&&!e.email_confirmed)}function i(e){return!(!e.email&&!e.new_email)&&(!!e.new_email&&e.new_email!==e.email)}s.d(t,{N:()=>r,j:()=>i})},12678:(e,t,s)=>{"use strict";function r(e){var t;return(null===(t=e.match(/(\d+(?:\.\d+)? \d+(?:\.\d+)?)/g))||void 0===t?void 0:t.map((e=>e.split(" ").map(parseFloat))))||[]}s.d(t,{J:()=>r})},45348:(e,t,s)=>{"use strict";s.d(t,{BK:()=>n,gm:()=>l});var r={};s.r(r),s.d(r,{authorizationButtonElementName:()=>f,notAuthorizedPromoFriendsElementName:()=>m,promoBlockFrameElementName:()=>p,showNotAuthorizedPromoFriends:()=>h,showPromoBlockFrame:()=>g,tapAuthorizationButton:()=>v,tapCloseButton:()=>b});var i={};s.r(i),s.d(i,{authorizedPromoFriendsElementName:()=>j,promoBlockFrameElementName:()=>y,showAuthorizedPromoFriends:()=>w,showPromoBlockFrame:()=>x,tapCloseButton:()=>_});var a={};s.r(a),s.d(a,{actionOnMobilePromoFriends:()=>M,promoBlockElementName:()=>O,promoBlockFrameElementName:()=>I,promoBlockOwnerElementName:()=>S,showMobilePromoFriends:()=>N,showPromoBlockFrame:()=>k});var n={};s.r(n),s.d(n,{fY:()=>r,tw:()=>i,V9:()=>a});var o=s(33451),c=s(67753),d=s(13754);const l=(0,c.gQ)("closeOnboardingPopup",(({withLayer:e})=>(0,c.Mf)(e&&(0,d.tj)({newLayer:void 0}),(0,o.j4)())));var u=s(58666);const p="promoBlockFrame",g=()=>({frameId:e},t)=>(0,u.xl)({state:t,uuid:e,name:p}),m="notAuthorizedPromoFriends",h=()=>({frameId:e})=>({uiElement:{name:m,ownerName:p,frameUuid:e}}),f="authorizationButton",v=()=>({frameId:e})=>({uiElement:{name:f,ownerName:m,frameUuid:e},action:"tap"}),b=()=>({frameId:e})=>({uiElement:{name:m,ownerName:p,frameUuid:e},action:"close"}),y="promoBlockFrame",x=()=>({frameId:e},t)=>(0,u.xl)({state:t,uuid:e,name:y}),j="authorizedPromoFriends",w=()=>({frameId:e})=>({uiElement:{name:j,ownerName:y,frameUuid:e}}),_=()=>({frameId:e})=>({uiElement:{name:j,ownerName:y,frameUuid:e},action:"close"}),C="fullscreenFriendsPopup",I="promoBlockFrame",k=()=>({frameId:e},t)=>(0,u.xl)({state:t,uuid:e,name:I}),O="promoBlock",S="fullScreenBanner",N=()=>({frameId:e})=>({uiElement:{name:O,ownerName:S,frameUuid:e},payload:{promoItem:{id:C,name:"mobilePromoFriends"}}}),M=()=>({frameId:e},t,s)=>{if(null==s?void 0:s.action)return{action:"tap",uiElement:{name:s.action,ownerName:O,frameUuid:e},payload:{promoItem:{id:C,name:"mobilePromoFriends",link:s.link}}}}},25488:(e,t,s)=>{"use strict";s.d(t,{f:()=>_e,j:()=>n});var r={};s.r(r);var i={};s.r(i),s.d(i,{generators:()=>z,showUserProfileFeedMediaItem:()=>k,showUserProfileFeedPhoto:()=>T,showUserProfileFeedReviewItem:()=>S,tapUserProfileFeedItemHeader:()=>L,tapUserProfileFeedLikeButton:()=>E,tapUserProfileFeedPhoto:()=>P});var a={};s.r(a),s.d(a,{userProfileFeedMediaItem:()=>Z,userProfileFeedResponse:()=>U,userProfileFeedReviewItem:()=>B});var n={};s.r(n),s.d(n,{Types:()=>r,bss:()=>i,changeReviewLike:()=>C,invalidateUserProfileFeedQuery:()=>y,snippets:()=>a,updatePublicProfileFeedCacheAfterLike:()=>_,useUserProfileFeed:()=>b,useUserProfileFeedQuery:()=>d});var o=s(22970),c=s(42866);const{use:d,setQueryData:l,withQueryData:u,invalidate:p}=(0,c.H)("userProfileFeed",(e=>[[e.id,e.page_size,e.locale,e.preview_sizes],({services:t,context:s,config:r})=>(0,o.mG)(void 0,void 0,void 0,(function*(){const i=r.friendsDebugToken||(yield t.credentialsApi.getToken())||void 0;return yield t.publicProfileApi.getContentFeed(Object.assign(Object.assign({},e),{accessToken:i,page_token:s.pageParam?`${s.pageParam}`:void 0}))}))]),{staleTime:1/0,cacheTime:1/0,getNextPageParam:e=>e.next_page_token});var g=s(27215),m=s(65649),h=s(354),f=s(5264);const v=[...s(55340).v,"64x64"].join(","),b=e=>{const t=(0,g.v9)(m.O);return d({id:e,locale:t,page_size:f.nT,preview_sizes:v},{enabled:!!e})},y=e=>(0,h._N)(m.O,(t=>p({id:e,locale:t,page_size:f.nT,preview_sizes:v})));var x=s(67753),j=s(91690),w=s(64693);const _=(0,x.gQ)("updatePublicProfileFeedCacheAfterLike",(({isLiked:e,publicUserId:t,reviewId:s})=>(0,h._N)(m.O,(r=>u({page_size:f.nT,preview_sizes:v,id:t,locale:r},(i=>{var a;if(!i)return(0,x.ZT)();const n=null==i?void 0:i.pages.findIndex((e=>e.content_feed.find((e=>{var t;return(null===(t=e.review)||void 0===t?void 0:t.id)===s})))),o=null!==(a=i.pages.map(((t,r)=>r!==n?t:Object.assign(Object.assign({},t),{content_feed:t.content_feed.map((t=>{var r,i,a;return(null===(r=t.review)||void 0===r?void 0:r.id)!==s?t:Object.assign(Object.assign({},t),{review:Object.assign(Object.assign({},t.review),{likes_count:(i=t.review.likes_count,a=!e,a?i+1:i>0?i-1:0),additional_data:Object.assign(Object.assign({},t.review.additional_data),{is_liked:!e})})})}))}))))&&void 0!==a?a:[];return l({page_size:f.nT,preview_sizes:v,id:t,locale:r},{pages:o,pageParams:i.pageParams})})))))),C=(0,x.gQ)("changeReviewLike",(({reviewId:e,isLiked:t,publicUserId:s})=>{const r=(0,w.by)();return(0,x.vP)(_({reviewId:e,isLiked:t,publicUserId:s}),(0,j.T)({id:e,value:!t,statusId:r}))}));var I=s(17774);const k=({userId:e,isFriend:t,item:s,position:r})=>({frameId:i})=>({uiElement:{name:t?"friendCardActivity":"profileCardActivity",frameUuid:i,ownerName:t?"friendCardActivitiesList":"profileCardActivitiesList",position:r},payload:{activityItem:{authUser:e.toString(),entity:{id:s.object.id,type:s.object.type}}}}),O=({showReviewCardMini:e,isFriend:t})=>e?t?"friendCardActivity":"profileCardActivity":"reviewCardFull",S=({userId:e,isFriend:t,item:s,showReviewCardMini:r,position:i})=>({frameId:a})=>({uiElement:{name:O({showReviewCardMini:r,isFriend:t}),frameUuid:a,ownerName:t?"friendCardActivitiesList":"profileCardActivitiesList",position:i},payload:{reviewItem:(0,I.H)({review:s}),activityItem:{authUser:e.toString(),entity:{id:s.object.id,type:s.object.type}}}}),N=e=>({name:"photoCardMini",frameUuid:e.frameId,position:e.position,ownerName:e.isFriend?"friendCardActivity":"profileCardActivity"}),M=(e,t)=>{const{type:s,item:r,photo:i,userId:a}=e,n={photoId:i.id},o={authUser:a.toString(),entity:{id:r.object.id,type:r.object.type}};return"review"===s?{uiElement:N(Object.assign(Object.assign({},e),{frameId:t})),payload:{activityItem:o,reviewItem:(0,I.H)({review:r}),photo:n}}:{uiElement:N(Object.assign(Object.assign({},e),{frameId:t})),payload:{activityItem:o,photo:n}}},T=e=>({frameId:t})=>M(e,t),P=e=>({frameId:t})=>{const s=M(e,t);return Object.assign({action:"tap"},s)},E=({position:e,ownerName:t})=>({frameId:s},r,i)=>{if(!i)return;const{item:a}=i,n=(0,I.H)({review:a});return n?{uiElement:{name:a.additional_data.is_liked?"unlikeButton":"likeButton",frameUuid:s,ownerName:t,position:e},action:"tap",payload:{reviewItem:n,activityItem:{authUser:a.user.id.toString(),entity:{id:a.object.id,type:a.object.type}}}}:void 0},L=({position:e,isFriend:t,userId:s})=>({frameId:r},i,a)=>{if(!a)return;const{item:n}=a;return{uiElement:{position:e,name:"placeCardLink",ownerName:t?"friendCardActivitiesList":"profileCardActivitiesList",frameUuid:r},action:"tap",payload:{activityItem:{authUser:s.toString(),entity:{id:n.object.id,type:n.object.type}}}}};var R=s(18122);const z={actions:{userProfileFeedMediaPhoto:({isFriend:e,position:t,photoId:s})=>(0,R.k1)({uiElement:{name:"photoCardMini",ownerName:e?"friendCardActivity":"profileCardActivity",position:t||expect.any(Number)},payload:{activityItem:{authUser:expect.any(String),entity:expect.any(Object)},photo:{photoId:s}}})(),userProfileFeedItemHeader:e=>(0,R.k1)({uiElement:{name:"placeCardLink",ownerName:"friendCardActivitiesList",frameUuid:expect.any(String),position:expect.any(Number)},payload:{activityItem:{authUser:expect.any(String),entity:expect.any(Object)}}})(e),likeReview:e=>(0,R.k1)({uiElement:{name:"likeButton",ownerName:"profileCardActivity",frameUuid:expect.any(String),position:expect.any(Number)},payload:{reviewItem:expect.any(Object),activityItem:{authUser:expect.any(String),entity:expect.any(Object)}}})(e)},views:{userProfileFeedReviewItem:({isFriend:e,reviewId:t,position:s})=>(0,R.d7)({uiElement:{name:e?"friendCardActivity":"profileCardActivity",ownerName:e?"friendCardActivitiesList":"profileCardActivitiesList",frameUuid:expect.any(String),position:s||expect.any(Number)},payload:{reviewItem:{reviewId:t||expect.any(String),source:expect.stringMatching(/^(flamp|4sq|2gis)$/),rating:expect.any(Number),author:expect.any(String),rateOnly:expect.any(Boolean),createdAt:{timestamp:expect.any(Number),utcOffset:expect.stringMatching(/^(\+|-)\d\d:\d\d$/)},owner:{entity:{type:expect.any(String),id:expect.any(String)}},gallerySize:expect.any(Number)},activityItem:{authUser:expect.any(String),entity:expect.any(Object)}}})(),userProfileFeedMediaItem:({isFriend:e,position:t})=>(0,R.d7)({uiElement:{name:e?"friendCardActivity":"profileCardActivity",ownerName:e?"friendCardActivitiesList":"profileCardActivitiesList",frameUuid:expect.any(String),position:t||expect.any(Number)},payload:{activityItem:{authUser:expect.any(String),entity:expect.any(Object)}}})(),userProfileFeedMediaPhoto:({isFriend:e,position:t,photoId:s})=>(0,R.d7)({uiElement:{name:"photoCardMini",ownerName:e?"friendCardActivity":"profileCardActivity",position:t||expect.any(Number)},payload:{activityItem:{authUser:expect.any(String),entity:expect.any(Object)},photo:{photoId:s}}})()}};var A=s(78176),F=s(43503);const B=Object.assign(Object.assign({},F.G8),{photos:[]}),Z={object:{id:"media_id",type:"branch",address:"address",name:"media_name",is_deleted:!0},date:"2019-12-09T16:17:36.0+07:00",items:[{photo:A.GT}]},U={content_feed:[{review:B},{media:Z}],next_page_token:"next_page_token"};var H=s(52322),D=s(89962),$=s(13807),V=s(87334),q=s(2784),G=s(55476),W=s(90173),Q=s(30587),K=s(6340),J=s(80895),Y=s(59254),X=s(66908);const ee=({item:e,onLikeClick:t,publicUserId:s,isFriendProfile:r,onHeaderClick:i,position:a})=>{var n;const{isSearchBot:o}=(0,K.Z)(),c=null===(n=(0,g.v9)(G.bG).data)||void 0===n?void 0:n.user_id,d=(0,J.A)(W.e,{reviewId:e.id,publicUserId:s}),l=(0,J.A)(Y.C,e.id),{useBssHandler:u}=(0,X.T)(),p=u(E,{ownerName:r?"friendCardActivity":"profileCardActivity",position:a});return(0,H.jsx)(Q.r,{onHeaderClick:i,isSearchBot:o,showObjectInsteadUser:!0,review:e,onComplainClick:l,bssShowFunction:({showReviewCardMini:t})=>S({userId:e.user.id,isFriend:r,item:e,showReviewCardMini:t,position:a}),bssShowPhotoItemFunction:t=>T({position:t.position,photo:t.image,item:e,type:"review",isFriend:r,userId:e.user.id}),bssTapPhotoItemFunction:t=>P({position:t.position,photo:t.image,item:e,type:"review",isFriend:r,userId:e.user.id}),onLikeClick:()=>{var s;p({item:e}),t(e.id,null!==(s=e.additional_data.is_liked)&&void 0!==s&&s)},onAllCommentsClick:d,userId:c})};var te=s(55206),se=s(5477),re=s(98584),ie=s(32002),ae=s(34866),ne=s(6801),oe=s(42858),ce=s(63993),de=s(76050);const le=e=>{if(e.object.logo_urls)return e.object.logo_urls["64x64"]};var ue=s(86859);const pe=e=>{const t=e.items.reduce(((e,t)=>[...e,t.photo]),[]);if(t&&t.length)return(0,ue.U)(t,void 0,"2gis")};var ge=s(12759),me=s(70715),he=s(52981),fe=s(69088);const ve=({item:e,userId:t,isFriendProfile:s,onHeaderClick:r,position:i})=>{const{css:a,s:n}=(0,ne.y)(be),o=(0,ae.k)(),c=(0,oe.T)(),d=(0,g.I0)(),{bssRef:l}=(0,X.T)(k({userId:t,item:e,isFriend:s,position:i})),u=pe(e),p=(0,J.A)(ge.a);return(0,H.jsxs)("div",Object.assign({ref:l,className:a(n.container)},{children:[(0,H.jsxs)("div",Object.assign({onClick:()=>{r(),d((0,x.vP)((0,he.xo)({id:e.object.id,type:e.object.type}),(0,fe.vr)({entityId:e.object.id,onlyIfOutOfViewpoint:!0})))},className:a(n.header)},{children:[(0,H.jsx)("div",Object.assign({className:a(n.avatar)},{children:(0,H.jsx)(te.q,{src:le(e),initials:()=>(0,H.jsx)(se.O,{backgroundSeed:e.object.id,userName:e.object.name.toUpperCase()})})})),(0,H.jsxs)("div",Object.assign({className:a(n.title)},{children:[(0,H.jsx)("span",Object.assign({className:a(n.name)},{children:e.object.name})),!!e.date&&(0,H.jsxs)("div",Object.assign({className:a(n.dateAndPlace)},{children:[(0,H.jsx)("span",Object.assign({className:a(n.counter)},{children:c._nt(["%% фото","%% фото","%% фото"],e.items.length)}))," ",(0,de.l)({isoDate:e.date,currentDate:new Date},{tp:c,dateFns:o})]}))]}))]})),(0,H.jsx)("div",Object.assign({className:a(n.slider)},{children:u&&(0,H.jsx)(me.P,{trackBSSSource:"profileFeed",onComplain:p,galleryMedia:u.photosForGallery,previews:u.photos,object:e.object,bssActionItemFunction:r=>P({position:r.position,photo:r.image,item:e,type:"media",isFriend:s,userId:t}),bssShowItemFunction:r=>T({position:r.position,photo:r.image,item:e,type:"media",isFriend:s,userId:t})})}))]}))},be=(0,ne.k)((({mobile:e})=>({container:{padding:"12px 0",boxShadow:ie.q.innerBorderBottomBase,"&:last-child":{boxShadow:"none",paddingBottom:24}},photo:{boxSizing:"border-box",overflow:"hidden",backgroundRepeat:"no-repeat",position:"relative"},avatar:{width:"24px",height:"24px",borderRadius:"50%",marginEnd:"8px",overflow:"hidden",display:"inline-block",verticalAlign:"top"},header:{padding:e?"0 8px":"0 24px"},name:{textOverflow:"ellipsis",overflow:"hidden",display:"inline-block",verticalAlign:"middle",whiteSpace:"nowrap",maxWidth:264},title:Object.assign({display:"inline-block",whiteSpace:"normal",cursor:"pointer",maxWidth:264},ce.q0),dateAndPlace:Object.assign(Object.assign({},ce.yG),{color:re.O.gray_929292}),slider:{marginTop:12},counter:{color:re.O.black}}))),ye=({item:e,onLikeClick:t,publicUserId:s,isFriendProfile:r,userId:i,position:a})=>{const{useBssHandler:n}=(0,X.T)(),o=n(L,{position:a,userId:i,isFriend:r}),c=()=>{e.review&&o({item:e.review}),e.media&&o({item:e.media})};return e.review?(0,H.jsx)(ee,{onHeaderClick:c,isFriendProfile:r,publicUserId:s,onLikeClick:t,item:e.review,position:a}):e.media?(0,H.jsx)(ve,{onHeaderClick:c,userId:i,isFriendProfile:r,item:e.media,position:a}):null};var xe=s(3060),je=s(67364),we=s(27516);const _e=({publicUserId:e,userId:t,isFriendProfile:s})=>{const{data:r,isLoading:i,isSuccess:a,fetchNextPage:n,isFetchingNextPage:o,hasNextPage:c}=b(e),{s:d}=(0,ne.y)(Ce),l=null==r?void 0:r.pages.reduce(((e,t)=>[...e,...t.content_feed]),[]),u=(0,g.v9)(G.Pc),p=(0,oe.T)(),m=(0,g.I0)();(0,q.useEffect)((()=>{var e;"handlePublicProfileReviewLike"===(null===(e=(0,we.gF)())||void 0===e?void 0:e.key)&&a&&u&&m((0,we.HK)())}),[r,m,u,a,e]);const h=(t,s)=>{m((0,we.mk)("handlePublicProfileReviewLike",{reviewId:t,isLiked:s,userId:e},"manual"))};return a&&0===r.pages[0].content_feed.length?(0,H.jsx)(xe.y,{image:(0,H.jsx)(je.W,{}),title:p._t("Пользователь пока не добавил фото и отзывы"),styles:d.emptyFeed,titleStyle:d.emptyFeedTitle,imageStyle:d.emptyFeedImage}):(0,H.jsx)(D.l,{data:l,isLoading:i,fetchNextPage:n,hasNextPage:!!c,isFetchingNextPage:o,renderItem:(r,i)=>(0,H.jsx)(ye,{userId:t,isFriendProfile:s,publicUserId:e,onLikeClick:h,item:r,position:i+1},(e=>e.review?`profile_feed_review_${e.review.id}`:e.media?`profile_feed_media_${e.media.object.id}`:void 0)(r)),renderSkeleton:()=>(0,H.jsx)($.c,{ContentSkeleton:V.A})})},Ce=(0,ne.k)({emptyFeed:{padding:"0 24px"},emptyFeedTitle:Object.assign({},ce.oN),emptyFeedImage:{marginBottom:0}})},73515:(e,t,s)=>{var r={"./ar.po":[26361,6921],"./az.po":[30526,4373],"./en.po":[12937,5023],"./hy.po":[16832,8158],"./ka.po":[44561,1473],"./kk.po":[52098,8321],"./uz.po":[35394,4945]};function i(e){if(!s.o(r,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return s.e(t[1]).then((()=>s.t(i,23)))}i.keys=()=>Object.keys(r),i.id=73515,e.exports=i},69539:(e,t,s)=>{var r={"./26015706-6204-4b41-bae9-c84dcd126160/icons/bigbullet.svg":90007,"./26015706-6204-4b41-bae9-c84dcd126160/icons/bigbullet_closed.svg":30525,"./26015706-6204-4b41-bae9-c84dcd126160/icons/bigbullet_hover.svg":14724,"./26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_00A989_marker.svg":64536,"./26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_00B305_marker.svg":21179,"./26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_198700_marker.svg":37630,"./26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_1D66EE_marker.svg":47805,"./26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_4F92F8_marker.svg":85749,"./26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_738AB3_marker.svg":63490,"./26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_7435D2_marker.svg":20436,"./26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_9E578A_marker.svg":36879,"./26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_BA6612_marker.svg":41858,"./26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_DBAF00_marker.svg":15746,"./26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_E2658B_marker.svg":53365,"./26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_E7750B_marker.svg":59494,"./26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_F83A3A_marker.svg":32237,"./26015706-6204-4b41-bae9-c84dcd126160/icons/commercial.svg":91594,"./26015706-6204-4b41-bae9-c84dcd126160/icons/commercial_closed.svg":70146,"./26015706-6204-4b41-bae9-c84dcd126160/icons/commercial_hover.svg":46067,"./26015706-6204-4b41-bae9-c84dcd126160/icons/commercial_logo.svg":31613,"./26015706-6204-4b41-bae9-c84dcd126160/icons/commercial_logo_hover.svg":88560,"./26015706-6204-4b41-bae9-c84dcd126160/icons/deleted_bigbullet.svg":43603,"./26015706-6204-4b41-bae9-c84dcd126160/icons/deleted_bigbullet_hover.svg":22326,"./26015706-6204-4b41-bae9-c84dcd126160/icons/deleted_middlebullet.svg":49893,"./26015706-6204-4b41-bae9-c84dcd126160/icons/deleted_middlebullet_hover.svg":70229,"./26015706-6204-4b41-bae9-c84dcd126160/icons/deleted_smallbullet.svg":39830,"./26015706-6204-4b41-bae9-c84dcd126160/icons/deleted_smallbullet_hover.svg":1302,"./26015706-6204-4b41-bae9-c84dcd126160/icons/exchange/high_bigbullet.svg":50770,"./26015706-6204-4b41-bae9-c84dcd126160/icons/exchange/high_middlebullet.svg":88629,"./26015706-6204-4b41-bae9-c84dcd126160/icons/exchange/high_smallbullet.svg":13588,"./26015706-6204-4b41-bae9-c84dcd126160/icons/exchange/low_bigbullet.svg":27711,"./26015706-6204-4b41-bae9-c84dcd126160/icons/exchange/low_middlebullet.svg":28214,"./26015706-6204-4b41-bae9-c84dcd126160/icons/exchange/low_smallbullet.svg":62613,"./26015706-6204-4b41-bae9-c84dcd126160/icons/exchange/medium_bigbullet.svg":6560,"./26015706-6204-4b41-bae9-c84dcd126160/icons/exchange/medium_middlebullet.svg":15943,"./26015706-6204-4b41-bae9-c84dcd126160/icons/exchange/medium_smallbullet.svg":74796,"./26015706-6204-4b41-bae9-c84dcd126160/icons/fav-home.svg":59714,"./26015706-6204-4b41-bae9-c84dcd126160/icons/fav-personal.svg":33259,"./26015706-6204-4b41-bae9-c84dcd126160/icons/fav-public.svg":49451,"./26015706-6204-4b41-bae9-c84dcd126160/icons/fav-work.svg":189,"./26015706-6204-4b41-bae9-c84dcd126160/icons/middlebullet.svg":16546,"./26015706-6204-4b41-bae9-c84dcd126160/icons/middlebullet_closed.svg":70323,"./26015706-6204-4b41-bae9-c84dcd126160/icons/middlebullet_hover.svg":77304,"./26015706-6204-4b41-bae9-c84dcd126160/icons/pin-commercial-logo.svg":95550,"./26015706-6204-4b41-bae9-c84dcd126160/icons/pin-commercial.svg":56215,"./26015706-6204-4b41-bae9-c84dcd126160/icons/pin.svg":19295,"./26015706-6204-4b41-bae9-c84dcd126160/icons/smallbullet.svg":51035,"./26015706-6204-4b41-bae9-c84dcd126160/icons/smallbullet_closed.svg":71567,"./26015706-6204-4b41-bae9-c84dcd126160/icons/smallbullet_hover.svg":59337,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-100.svg":94485,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-110.svg":43828,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-120.svg":96926,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-130.svg":96612,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-140.svg":58549,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-20.svg":29181,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-30.svg":13742,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-40.svg":60636,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-50.svg":50279,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-60.svg":83206,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-70.svg":81824,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-80.svg":61447,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-90.svg":58767,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-bus.svg":74712,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-line.svg":44554,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-parking.svg":64816,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-tl.svg":28822,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera.svg":13999,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-comment.svg":11275,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-crash.svg":19376,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-other.svg":17116,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-restriction.svg":28947,"./26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-roadwork.svg":4752,"./26015706-6204-4b41-bae9-c84dcd126160/markersGroup/default/generalization.json":80937,"./26015706-6204-4b41-bae9-c84dcd126160/markersGroup/default/style.json":70714,"./26015706-6204-4b41-bae9-c84dcd126160/markersGroup/exchange/generalization.json":61574,"./26015706-6204-4b41-bae9-c84dcd126160/markersGroup/exchange/style.json":82214,"./26015706-6204-4b41-bae9-c84dcd126160/markersGroup/favorites/generalization.json":59599,"./26015706-6204-4b41-bae9-c84dcd126160/markersGroup/favorites/style.json":94630,"./26015706-6204-4b41-bae9-c84dcd126160/markersGroup/fewmarkers/generalization.json":98548,"./26015706-6204-4b41-bae9-c84dcd126160/markersGroup/fewmarkers/style.json":64796,"./26015706-6204-4b41-bae9-c84dcd126160/markersGroup/pin/style.json":87479,"./26015706-6204-4b41-bae9-c84dcd126160/markersGroup/tUgc/generalization.json":58794,"./26015706-6204-4b41-bae9-c84dcd126160/markersGroup/tUgc/style.json":44545,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/bigbullet.svg":96456,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/bigbullet_closed.svg":67508,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/bigbullet_hover.svg":24726,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/commercial.svg":59422,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/commercial_closed.svg":1703,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/commercial_hover.svg":56454,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/deleted_bigbullet.svg":9918,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/deleted_bigbullet_hover.svg":59719,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/deleted_middlebullet.svg":91492,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/deleted_middlebullet_hover.svg":41021,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/deleted_smallbullet.svg":39537,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/deleted_smallbullet_hover.svg":5025,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/middlebullet.svg":50009,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/middlebullet_closed.svg":61357,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/middlebullet_hover.svg":47194,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/pin-commercial-logo.svg":17265,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/pin-commercial.svg":64268,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/pin.svg":41213,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/smallbullet.svg":1286,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/smallbullet_closed.svg":47670,"./9e75a94c-36f7-4254-8101-90139ead38ad/icons/smallbullet_hover.svg":44854,"./9e75a94c-36f7-4254-8101-90139ead38ad/markersGroup/default/generalization.json":29836,"./9e75a94c-36f7-4254-8101-90139ead38ad/markersGroup/default/style.json":30654,"./9e75a94c-36f7-4254-8101-90139ead38ad/markersGroup/fewmarkers/generalization.json":80344,"./9e75a94c-36f7-4254-8101-90139ead38ad/markersGroup/fewmarkers/style.json":65249,"./9e75a94c-36f7-4254-8101-90139ead38ad/markersGroup/pin/style.json":10682,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/normal/bar_marker.svg":28474,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/normal/culture_marker.svg":11516,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/normal/education_marker.svg":78456,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/normal/hospital_marker.svg":18522,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/normal/kindergarten_marker.svg":84391,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/normal/pharmacy_marker.svg":95977,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/normal/sport_marker.svg":8504,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/normal/supermarket_marker.svg":32199,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/selected/bar_marker.svg":85270,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/selected/culture_marker.svg":17245,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/selected/education_marker.svg":50286,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/selected/hospital_marker.svg":44402,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/selected/kindergarten_marker.svg":15594,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/selected/pharmacy_marker.svg":31735,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/selected/sport_marker.svg":31174,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/selected/supermarket_marker.svg":73931,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/large-hover.svg":66953,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/large-pik.svg":88321,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/large-visited.svg":10198,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/large.svg":23399,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/medium-hover.svg":46170,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/medium-pik.svg":70503,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/medium-visited.svg":45339,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/medium.svg":97136,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/pin-commercial-logo.svg":33284,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/pin-commercial.svg":6837,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/pin.svg":95066,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/small-hover.svg":21751,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/small-pik.svg":59653,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/small-visited.svg":97467,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/small.svg":47246,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/markersGroup/default/generalization.json":95166,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/markersGroup/default/style.json":96442,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/markersGroup/infrastructureNormal/style.json":18577,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/markersGroup/infrastructureSelected/style.json":479,"./d4f7ed0c-2289-4979-b43b-e47eceb5c134/markersGroup/pin/style.json":59566,"./default/icons/bigbullet.svg":572,"./default/icons/bigbullet_closed.svg":42678,"./default/icons/bigbullet_closed_hover.svg":17497,"./default/icons/bigbullet_hover.svg":57765,"./default/icons/coloredPersonal/personal_00A989_marker.svg":93757,"./default/icons/coloredPersonal/personal_00B305_marker.svg":75917,"./default/icons/coloredPersonal/personal_198700_marker.svg":4337,"./default/icons/coloredPersonal/personal_1D66EE_marker.svg":96642,"./default/icons/coloredPersonal/personal_4F92F8_marker.svg":48375,"./default/icons/coloredPersonal/personal_738AB3_marker.svg":36337,"./default/icons/coloredPersonal/personal_7435D2_marker.svg":6438,"./default/icons/coloredPersonal/personal_9E578A_marker.svg":34080,"./default/icons/coloredPersonal/personal_BA6612_marker.svg":84731,"./default/icons/coloredPersonal/personal_DBAF00_marker.svg":16305,"./default/icons/coloredPersonal/personal_E2658B_marker.svg":92052,"./default/icons/coloredPersonal/personal_E7750B_marker.svg":9555,"./default/icons/coloredPersonal/personal_F83A3A_marker.svg":47174,"./default/icons/commercial.svg":31266,"./default/icons/commercial_closed.svg":146,"./default/icons/commercial_hover.svg":80176,"./default/icons/commercial_logo.svg":99075,"./default/icons/commercial_logo_hover.svg":48920,"./default/icons/exchange/high_bigbullet.svg":48115,"./default/icons/exchange/high_middlebullet.svg":55346,"./default/icons/exchange/high_smallbullet.svg":67431,"./default/icons/exchange/low_bigbullet.svg":42199,"./default/icons/exchange/low_middlebullet.svg":25714,"./default/icons/exchange/low_smallbullet.svg":36840,"./default/icons/exchange/medium_bigbullet.svg":21278,"./default/icons/exchange/medium_middlebullet.svg":94041,"./default/icons/exchange/medium_smallbullet.svg":8879,"./default/icons/fav-home.svg":74106,"./default/icons/fav-personal.svg":14665,"./default/icons/fav-public.svg":28002,"./default/icons/fav-work.svg":6745,"./default/icons/middlebullet.svg":38914,"./default/icons/middlebullet_closed.svg":98034,"./default/icons/middlebullet_hover.svg":31378,"./default/icons/pin-commercial-logo.svg":83868,"./default/icons/pin-commercial.svg":51083,"./default/icons/pin.svg":18888,"./default/icons/smallbullet.svg":38847,"./default/icons/smallbullet_closed.svg":51527,"./default/icons/smallbullet_hover.svg":47134,"./default/icons/tUgc-camera-100.svg":46263,"./default/icons/tUgc-camera-110.svg":52799,"./default/icons/tUgc-camera-120.svg":4418,"./default/icons/tUgc-camera-130.svg":40311,"./default/icons/tUgc-camera-140.svg":68819,"./default/icons/tUgc-camera-20.svg":55826,"./default/icons/tUgc-camera-30.svg":67478,"./default/icons/tUgc-camera-40.svg":74782,"./default/icons/tUgc-camera-50.svg":19152,"./default/icons/tUgc-camera-60.svg":32107,"./default/icons/tUgc-camera-70.svg":85826,"./default/icons/tUgc-camera-80.svg":64572,"./default/icons/tUgc-camera-90.svg":75683,"./default/icons/tUgc-camera-bus.svg":99546,"./default/icons/tUgc-camera-line.svg":2480,"./default/icons/tUgc-camera-parking.svg":26251,"./default/icons/tUgc-camera-tl.svg":75698,"./default/icons/tUgc-camera.svg":8774,"./default/icons/tUgc-comment.svg":76363,"./default/icons/tUgc-crash.svg":96031,"./default/icons/tUgc-other.svg":69151,"./default/icons/tUgc-restriction.svg":52926,"./default/icons/tUgc-roadwork.svg":72062,"./default/markersGroup/default/generalization.json":49897,"./default/markersGroup/default/style.json":99392,"./default/markersGroup/exchange/generalization.json":47838,"./default/markersGroup/exchange/style.json":95687,"./default/markersGroup/favorites/generalization.json":35595,"./default/markersGroup/favorites/style.json":19380,"./default/markersGroup/fewmarkers/generalization.json":60785,"./default/markersGroup/fewmarkers/style.json":77278,"./default/markersGroup/pin/style.json":99516,"./default/markersGroup/tUgc/generalization.json":41759,"./default/markersGroup/tUgc/style.json":88955,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/bigbullet.svg":23214,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/bigbullet_closed.svg":64966,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/bigbullet_hover.svg":47753,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_00A989_marker.svg":74648,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_00B305_marker.svg":44332,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_198700_marker.svg":91015,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_1D66EE_marker.svg":98014,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_4F92F8_marker.svg":60048,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_738AB3_marker.svg":32344,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_7435D2_marker.svg":45452,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_9E578A_marker.svg":14850,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_BA6612_marker.svg":21618,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_DBAF00_marker.svg":88996,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_E2658B_marker.svg":56227,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_E7750B_marker.svg":3551,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_F83A3A_marker.svg":41130,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/commercial.svg":86835,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/commercial_closed.svg":16002,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/commercial_hover.svg":62877,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/commercial_logo.svg":95441,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/commercial_logo_hover.svg":17641,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/deleted_bigbullet.svg":83434,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/deleted_bigbullet_hover.svg":50416,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/deleted_middlebullet.svg":60584,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/deleted_middlebullet_hover.svg":1598,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/deleted_smallbullet.svg":96914,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/deleted_smallbullet_hover.svg":50073,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/exchange/high_bigbullet.svg":67661,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/exchange/high_middlebullet.svg":39483,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/exchange/high_smallbullet.svg":60875,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/exchange/low_bigbullet.svg":28111,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/exchange/low_middlebullet.svg":65121,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/exchange/low_smallbullet.svg":45238,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/exchange/medium_bigbullet.svg":65818,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/exchange/medium_middlebullet.svg":94216,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/exchange/medium_smallbullet.svg":49175,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/fav-home.svg":73925,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/fav-personal.svg":50087,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/fav-public.svg":20349,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/fav-work.svg":26997,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/middlebullet.svg":47891,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/middlebullet_closed.svg":70814,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/middlebullet_hover.svg":89268,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/pin-commercial-logo.svg":74302,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/pin-commercial.svg":58763,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/pin.svg":16670,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_bar.svg":33869,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_bar_hover.svg":53819,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_cafe.svg":94881,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_cafe_hover.svg":38250,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_candy.svg":25512,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_candy_hover.svg":25510,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_coffe_to_go.svg":66582,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_coffe_to_go_hover.svg":14968,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_coffee.svg":8682,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_coffee_hover.svg":45240,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_fastfood.svg":63644,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_fastfood_hover.svg":21126,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_pizza.svg":6485,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_pizza_hover.svg":35963,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_sushi.svg":4953,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_sushi_hover.svg":9414,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_wine.svg":16887,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_wine_hover.svg":8227,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/smallbullet.svg":23611,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/smallbullet_closed.svg":99048,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/smallbullet_hover.svg":26890,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-100.svg":37696,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-110.svg":19995,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-120.svg":35982,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-130.svg":61981,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-140.svg":45601,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-20.svg":77863,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-30.svg":8079,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-40.svg":35837,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-50.svg":36886,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-60.svg":49508,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-70.svg":3050,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-80.svg":43311,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-90.svg":50825,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-bus.svg":25711,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-line.svg":3889,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-parking.svg":27128,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-tl.svg":10220,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera.svg":6238,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-comment.svg":56839,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-crash.svg":40316,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-other.svg":74063,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-restriction.svg":1588,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-roadwork.svg":20453,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/_rubric/style.json":60429,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/default/generalization.json":84169,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/default/style.json":94116,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/exchange/generalization.json":22078,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/exchange/style.json":83104,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/favorites/generalization.json":84366,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/favorites/style.json":34432,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/fewmarkers/generalization.json":80156,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/fewmarkers/style.json":56596,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/pin/style.json":93136,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/tUgc/generalization.json":81477,"./f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/tUgc/style.json":26109,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/bigbullet.svg":90007,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/bigbullet_closed.svg":30525,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/bigbullet_hover.svg":14724,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_00A989_marker.svg":64536,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_00B305_marker.svg":21179,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_198700_marker.svg":37630,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_1D66EE_marker.svg":47805,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_4F92F8_marker.svg":85749,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_738AB3_marker.svg":63490,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_7435D2_marker.svg":20436,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_9E578A_marker.svg":36879,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_BA6612_marker.svg":41858,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_DBAF00_marker.svg":15746,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_E2658B_marker.svg":53365,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_E7750B_marker.svg":59494,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/coloredPersonal/personal_F83A3A_marker.svg":32237,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/commercial.svg":91594,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/commercial_closed.svg":70146,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/commercial_hover.svg":46067,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/commercial_logo.svg":31613,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/commercial_logo_hover.svg":88560,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/deleted_bigbullet.svg":43603,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/deleted_bigbullet_hover.svg":22326,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/deleted_middlebullet.svg":49893,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/deleted_middlebullet_hover.svg":70229,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/deleted_smallbullet.svg":39830,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/deleted_smallbullet_hover.svg":1302,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/exchange/high_bigbullet.svg":50770,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/exchange/high_middlebullet.svg":88629,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/exchange/high_smallbullet.svg":13588,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/exchange/low_bigbullet.svg":27711,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/exchange/low_middlebullet.svg":28214,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/exchange/low_smallbullet.svg":62613,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/exchange/medium_bigbullet.svg":6560,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/exchange/medium_middlebullet.svg":15943,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/exchange/medium_smallbullet.svg":74796,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/fav-home.svg":59714,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/fav-personal.svg":33259,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/fav-public.svg":49451,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/fav-work.svg":189,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/middlebullet.svg":16546,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/middlebullet_closed.svg":70323,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/middlebullet_hover.svg":77304,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/pin-commercial-logo.svg":95550,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/pin-commercial.svg":56215,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/pin.svg":19295,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/smallbullet.svg":51035,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/smallbullet_closed.svg":71567,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/smallbullet_hover.svg":59337,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-100.svg":94485,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-110.svg":43828,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-120.svg":96926,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-130.svg":96612,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-140.svg":58549,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-20.svg":29181,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-30.svg":13742,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-40.svg":60636,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-50.svg":50279,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-60.svg":83206,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-70.svg":81824,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-80.svg":61447,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-90.svg":58767,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-bus.svg":74712,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-line.svg":44554,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-parking.svg":64816,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera-tl.svg":28822,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-camera.svg":13999,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-comment.svg":11275,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-crash.svg":19376,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-other.svg":17116,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-restriction.svg":28947,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/icons/tUgc-roadwork.svg":4752,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/markersGroup/default/generalization.json":80937,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/markersGroup/default/style.json":70714,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/markersGroup/exchange/generalization.json":61574,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/markersGroup/exchange/style.json":82214,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/markersGroup/favorites/generalization.json":59599,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/markersGroup/favorites/style.json":94630,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/markersGroup/fewmarkers/generalization.json":98548,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/markersGroup/fewmarkers/style.json":64796,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/markersGroup/pin/style.json":87479,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/markersGroup/tUgc/generalization.json":58794,"shared/lib/markers/styles/26015706-6204-4b41-bae9-c84dcd126160/markersGroup/tUgc/style.json":44545,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/bigbullet.svg":96456,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/bigbullet_closed.svg":67508,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/bigbullet_hover.svg":24726,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/commercial.svg":59422,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/commercial_closed.svg":1703,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/commercial_hover.svg":56454,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/deleted_bigbullet.svg":9918,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/deleted_bigbullet_hover.svg":59719,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/deleted_middlebullet.svg":91492,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/deleted_middlebullet_hover.svg":41021,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/deleted_smallbullet.svg":39537,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/deleted_smallbullet_hover.svg":5025,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/middlebullet.svg":50009,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/middlebullet_closed.svg":61357,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/middlebullet_hover.svg":47194,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/pin-commercial-logo.svg":17265,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/pin-commercial.svg":64268,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/pin.svg":41213,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/smallbullet.svg":1286,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/smallbullet_closed.svg":47670,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/icons/smallbullet_hover.svg":44854,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/markersGroup/default/generalization.json":29836,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/markersGroup/default/style.json":30654,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/markersGroup/fewmarkers/generalization.json":80344,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/markersGroup/fewmarkers/style.json":65249,"shared/lib/markers/styles/9e75a94c-36f7-4254-8101-90139ead38ad/markersGroup/pin/style.json":10682,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/normal/bar_marker.svg":28474,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/normal/culture_marker.svg":11516,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/normal/education_marker.svg":78456,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/normal/hospital_marker.svg":18522,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/normal/kindergarten_marker.svg":84391,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/normal/pharmacy_marker.svg":95977,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/normal/sport_marker.svg":8504,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/normal/supermarket_marker.svg":32199,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/selected/bar_marker.svg":85270,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/selected/culture_marker.svg":17245,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/selected/education_marker.svg":50286,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/selected/hospital_marker.svg":44402,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/selected/kindergarten_marker.svg":15594,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/selected/pharmacy_marker.svg":31735,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/selected/sport_marker.svg":31174,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/infrastructure/selected/supermarket_marker.svg":73931,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/large-hover.svg":66953,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/large-pik.svg":88321,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/large-visited.svg":10198,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/large.svg":23399,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/medium-hover.svg":46170,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/medium-pik.svg":70503,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/medium-visited.svg":45339,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/medium.svg":97136,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/pin-commercial-logo.svg":33284,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/pin-commercial.svg":6837,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/pin.svg":95066,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/small-hover.svg":21751,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/small-pik.svg":59653,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/small-visited.svg":97467,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/icons/small.svg":47246,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/markersGroup/default/generalization.json":95166,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/markersGroup/default/style.json":96442,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/markersGroup/infrastructureNormal/style.json":18577,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/markersGroup/infrastructureSelected/style.json":479,"shared/lib/markers/styles/d4f7ed0c-2289-4979-b43b-e47eceb5c134/markersGroup/pin/style.json":59566,"shared/lib/markers/styles/default/icons/bigbullet.svg":572,"shared/lib/markers/styles/default/icons/bigbullet_closed.svg":42678,"shared/lib/markers/styles/default/icons/bigbullet_closed_hover.svg":17497,"shared/lib/markers/styles/default/icons/bigbullet_hover.svg":57765,"shared/lib/markers/styles/default/icons/coloredPersonal/personal_00A989_marker.svg":93757,"shared/lib/markers/styles/default/icons/coloredPersonal/personal_00B305_marker.svg":75917,"shared/lib/markers/styles/default/icons/coloredPersonal/personal_198700_marker.svg":4337,"shared/lib/markers/styles/default/icons/coloredPersonal/personal_1D66EE_marker.svg":96642,"shared/lib/markers/styles/default/icons/coloredPersonal/personal_4F92F8_marker.svg":48375,"shared/lib/markers/styles/default/icons/coloredPersonal/personal_738AB3_marker.svg":36337,"shared/lib/markers/styles/default/icons/coloredPersonal/personal_7435D2_marker.svg":6438,"shared/lib/markers/styles/default/icons/coloredPersonal/personal_9E578A_marker.svg":34080,"shared/lib/markers/styles/default/icons/coloredPersonal/personal_BA6612_marker.svg":84731,"shared/lib/markers/styles/default/icons/coloredPersonal/personal_DBAF00_marker.svg":16305,"shared/lib/markers/styles/default/icons/coloredPersonal/personal_E2658B_marker.svg":92052,"shared/lib/markers/styles/default/icons/coloredPersonal/personal_E7750B_marker.svg":9555,"shared/lib/markers/styles/default/icons/coloredPersonal/personal_F83A3A_marker.svg":47174,"shared/lib/markers/styles/default/icons/commercial.svg":31266,"shared/lib/markers/styles/default/icons/commercial_closed.svg":146,"shared/lib/markers/styles/default/icons/commercial_hover.svg":80176,"shared/lib/markers/styles/default/icons/commercial_logo.svg":99075,"shared/lib/markers/styles/default/icons/commercial_logo_hover.svg":48920,"shared/lib/markers/styles/default/icons/exchange/high_bigbullet.svg":48115,"shared/lib/markers/styles/default/icons/exchange/high_middlebullet.svg":55346,"shared/lib/markers/styles/default/icons/exchange/high_smallbullet.svg":67431,"shared/lib/markers/styles/default/icons/exchange/low_bigbullet.svg":42199,"shared/lib/markers/styles/default/icons/exchange/low_middlebullet.svg":25714,"shared/lib/markers/styles/default/icons/exchange/low_smallbullet.svg":36840,"shared/lib/markers/styles/default/icons/exchange/medium_bigbullet.svg":21278,"shared/lib/markers/styles/default/icons/exchange/medium_middlebullet.svg":94041,"shared/lib/markers/styles/default/icons/exchange/medium_smallbullet.svg":8879,"shared/lib/markers/styles/default/icons/fav-home.svg":74106,"shared/lib/markers/styles/default/icons/fav-personal.svg":14665,"shared/lib/markers/styles/default/icons/fav-public.svg":28002,"shared/lib/markers/styles/default/icons/fav-work.svg":6745,"shared/lib/markers/styles/default/icons/middlebullet.svg":38914,"shared/lib/markers/styles/default/icons/middlebullet_closed.svg":98034,"shared/lib/markers/styles/default/icons/middlebullet_hover.svg":31378,"shared/lib/markers/styles/default/icons/pin-commercial-logo.svg":83868,"shared/lib/markers/styles/default/icons/pin-commercial.svg":51083,"shared/lib/markers/styles/default/icons/pin.svg":18888,"shared/lib/markers/styles/default/icons/smallbullet.svg":38847,"shared/lib/markers/styles/default/icons/smallbullet_closed.svg":51527,"shared/lib/markers/styles/default/icons/smallbullet_hover.svg":47134,"shared/lib/markers/styles/default/icons/tUgc-camera-100.svg":46263,"shared/lib/markers/styles/default/icons/tUgc-camera-110.svg":52799,"shared/lib/markers/styles/default/icons/tUgc-camera-120.svg":4418,"shared/lib/markers/styles/default/icons/tUgc-camera-130.svg":40311,"shared/lib/markers/styles/default/icons/tUgc-camera-140.svg":68819,"shared/lib/markers/styles/default/icons/tUgc-camera-20.svg":55826,"shared/lib/markers/styles/default/icons/tUgc-camera-30.svg":67478,"shared/lib/markers/styles/default/icons/tUgc-camera-40.svg":74782,"shared/lib/markers/styles/default/icons/tUgc-camera-50.svg":19152,"shared/lib/markers/styles/default/icons/tUgc-camera-60.svg":32107,"shared/lib/markers/styles/default/icons/tUgc-camera-70.svg":85826,"shared/lib/markers/styles/default/icons/tUgc-camera-80.svg":64572,"shared/lib/markers/styles/default/icons/tUgc-camera-90.svg":75683,"shared/lib/markers/styles/default/icons/tUgc-camera-bus.svg":99546,"shared/lib/markers/styles/default/icons/tUgc-camera-line.svg":2480,"shared/lib/markers/styles/default/icons/tUgc-camera-parking.svg":26251,"shared/lib/markers/styles/default/icons/tUgc-camera-tl.svg":75698,"shared/lib/markers/styles/default/icons/tUgc-camera.svg":8774,"shared/lib/markers/styles/default/icons/tUgc-comment.svg":76363,"shared/lib/markers/styles/default/icons/tUgc-crash.svg":96031,"shared/lib/markers/styles/default/icons/tUgc-other.svg":69151,"shared/lib/markers/styles/default/icons/tUgc-restriction.svg":52926,"shared/lib/markers/styles/default/icons/tUgc-roadwork.svg":72062,"shared/lib/markers/styles/default/markersGroup/default/generalization.json":49897,"shared/lib/markers/styles/default/markersGroup/default/style.json":99392,"shared/lib/markers/styles/default/markersGroup/exchange/generalization.json":47838,"shared/lib/markers/styles/default/markersGroup/exchange/style.json":95687,"shared/lib/markers/styles/default/markersGroup/favorites/generalization.json":35595,"shared/lib/markers/styles/default/markersGroup/favorites/style.json":19380,"shared/lib/markers/styles/default/markersGroup/fewmarkers/generalization.json":60785,"shared/lib/markers/styles/default/markersGroup/fewmarkers/style.json":77278,"shared/lib/markers/styles/default/markersGroup/pin/style.json":99516,"shared/lib/markers/styles/default/markersGroup/tUgc/generalization.json":41759,"shared/lib/markers/styles/default/markersGroup/tUgc/style.json":88955,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/bigbullet.svg":23214,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/bigbullet_closed.svg":64966,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/bigbullet_hover.svg":47753,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_00A989_marker.svg":74648,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_00B305_marker.svg":44332,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_198700_marker.svg":91015,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_1D66EE_marker.svg":98014,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_4F92F8_marker.svg":60048,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_738AB3_marker.svg":32344,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_7435D2_marker.svg":45452,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_9E578A_marker.svg":14850,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_BA6612_marker.svg":21618,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_DBAF00_marker.svg":88996,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_E2658B_marker.svg":56227,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_E7750B_marker.svg":3551,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/coloredPersonal/personal_F83A3A_marker.svg":41130,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/commercial.svg":86835,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/commercial_closed.svg":16002,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/commercial_hover.svg":62877,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/commercial_logo.svg":95441,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/commercial_logo_hover.svg":17641,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/deleted_bigbullet.svg":83434,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/deleted_bigbullet_hover.svg":50416,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/deleted_middlebullet.svg":60584,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/deleted_middlebullet_hover.svg":1598,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/deleted_smallbullet.svg":96914,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/deleted_smallbullet_hover.svg":50073,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/exchange/high_bigbullet.svg":67661,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/exchange/high_middlebullet.svg":39483,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/exchange/high_smallbullet.svg":60875,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/exchange/low_bigbullet.svg":28111,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/exchange/low_middlebullet.svg":65121,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/exchange/low_smallbullet.svg":45238,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/exchange/medium_bigbullet.svg":65818,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/exchange/medium_middlebullet.svg":94216,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/exchange/medium_smallbullet.svg":49175,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/fav-home.svg":73925,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/fav-personal.svg":50087,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/fav-public.svg":20349,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/fav-work.svg":26997,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/middlebullet.svg":47891,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/middlebullet_closed.svg":70814,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/middlebullet_hover.svg":89268,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/pin-commercial-logo.svg":74302,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/pin-commercial.svg":58763,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/pin.svg":16670,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_bar.svg":33869,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_bar_hover.svg":53819,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_cafe.svg":94881,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_cafe_hover.svg":38250,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_candy.svg":25512,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_candy_hover.svg":25510,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_coffe_to_go.svg":66582,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_coffe_to_go_hover.svg":14968,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_coffee.svg":8682,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_coffee_hover.svg":45240,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_fastfood.svg":63644,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_fastfood_hover.svg":21126,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_pizza.svg":6485,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_pizza_hover.svg":35963,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_sushi.svg":4953,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_sushi_hover.svg":9414,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_wine.svg":16887,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/rubric/marker_wine_hover.svg":8227,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/smallbullet.svg":23611,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/smallbullet_closed.svg":99048,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/smallbullet_hover.svg":26890,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-100.svg":37696,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-110.svg":19995,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-120.svg":35982,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-130.svg":61981,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-140.svg":45601,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-20.svg":77863,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-30.svg":8079,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-40.svg":35837,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-50.svg":36886,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-60.svg":49508,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-70.svg":3050,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-80.svg":43311,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-90.svg":50825,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-bus.svg":25711,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-line.svg":3889,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-parking.svg":27128,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera-tl.svg":10220,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-camera.svg":6238,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-comment.svg":56839,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-crash.svg":40316,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-other.svg":74063,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-restriction.svg":1588,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/icons/tUgc-roadwork.svg":20453,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/_rubric/style.json":60429,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/default/generalization.json":84169,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/default/style.json":94116,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/exchange/generalization.json":22078,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/exchange/style.json":83104,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/favorites/generalization.json":84366,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/favorites/style.json":34432,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/fewmarkers/generalization.json":80156,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/fewmarkers/style.json":56596,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/pin/style.json":93136,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/tUgc/generalization.json":81477,"shared/lib/markers/styles/f5f8a796-99e7-458e-83bd-43266ae38ffb/markersGroup/tUgc/style.json":26109};function i(e){var t=a(e);return s(t)}function a(e){if(!s.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=a,e.exports=i,i.id=69539},90007:(e,t,s)=>{"use strict";e.exports=s.p+"images/7e1f100624beb19f87cd.svg"},30525:(e,t,s)=>{"use strict";e.exports=s.p+"images/3904bbd600574de4ba2e.svg"},14724:(e,t,s)=>{"use strict";e.exports=s.p+"images/80c4ad61d594a8ace86c.svg"},64536:(e,t,s)=>{"use strict";e.exports=s.p+"images/b3e54b728bc9530c6e3b.svg"},21179:(e,t,s)=>{"use strict";e.exports=s.p+"images/94deac35d3b02c13ed9a.svg"},37630:(e,t,s)=>{"use strict";e.exports=s.p+"images/885ee026114eb62f1c9a.svg"},47805:(e,t,s)=>{"use strict";e.exports=s.p+"images/1b2be2bc10dfa87cdca8.svg"},85749:(e,t,s)=>{"use strict";e.exports=s.p+"images/b9ce49db74b9f157a017.svg"},63490:(e,t,s)=>{"use strict";e.exports=s.p+"images/7f9281479dc562a98dfe.svg"},20436:(e,t,s)=>{"use strict";e.exports=s.p+"images/4dc35d2da56d08559e5e.svg"},36879:(e,t,s)=>{"use strict";e.exports=s.p+"images/f622d9aa2e53adbebb5e.svg"},41858:(e,t,s)=>{"use strict";e.exports=s.p+"images/fc809cedaa245622208a.svg"},15746:(e,t,s)=>{"use strict";e.exports=s.p+"images/2f7c82f0720516e5610b.svg"},53365:(e,t,s)=>{"use strict";e.exports=s.p+"images/dd10aa6c836439033e2b.svg"},59494:(e,t,s)=>{"use strict";e.exports=s.p+"images/d7999a606d43f90dd552.svg"},32237:(e,t,s)=>{"use strict";e.exports=s.p+"images/39f5c4f0fed45b4fe215.svg"},91594:(e,t,s)=>{"use strict";e.exports=s.p+"images/85c29a658e3e7a42673a.svg"},70146:(e,t,s)=>{"use strict";e.exports=s.p+"images/caaa3878618da105a9e2.svg"},46067:(e,t,s)=>{"use strict";e.exports=s.p+"images/9dde80eff7a6aa6cadbe.svg"},31613:(e,t,s)=>{"use strict";e.exports=s.p+"images/26edaee043c8427f42d6.svg"},88560:(e,t,s)=>{"use strict";e.exports=s.p+"images/8a26f4b75f2cf7dbffdd.svg"},43603:(e,t,s)=>{"use strict";e.exports=s.p+"images/710f7a4f431e711d6ca6.svg"},22326:(e,t,s)=>{"use strict";e.exports=s.p+"images/bcc540223379dce781e9.svg"},49893:(e,t,s)=>{"use strict";e.exports=s.p+"images/e40ad43dfbc2bdb11ac5.svg"},70229:(e,t,s)=>{"use strict";e.exports=s.p+"images/8eee11623d6663403f4d.svg"},39830:(e,t,s)=>{"use strict";e.exports=s.p+"images/8039c4416588f518e363.svg"},1302:(e,t,s)=>{"use strict";e.exports=s.p+"images/bc8cf5f70d8cb302d1c6.svg"},50770:(e,t,s)=>{"use strict";e.exports=s.p+"images/0f290e688d71d369e95f.svg"},88629:(e,t,s)=>{"use strict";e.exports=s.p+"images/7aeea24fdc37d214a06d.svg"},13588:(e,t,s)=>{"use strict";e.exports=s.p+"images/eb6d076710465f8c3234.svg"},27711:(e,t,s)=>{"use strict";e.exports=s.p+"images/5279d81e4f49daaf248a.svg"},28214:(e,t,s)=>{"use strict";e.exports=s.p+"images/4860cf22b5d40e387424.svg"},62613:(e,t,s)=>{"use strict";e.exports=s.p+"images/5c6b472d08d713fb6d31.svg"},6560:(e,t,s)=>{"use strict";e.exports=s.p+"images/35b9b7334b47a59cca09.svg"},15943:(e,t,s)=>{"use strict";e.exports=s.p+"images/c78f76ce6dbf2e7cef0e.svg"},74796:(e,t,s)=>{"use strict";e.exports=s.p+"images/2c22de944823fc5c37d8.svg"},59714:(e,t,s)=>{"use strict";e.exports=s.p+"images/0b44156a764b58ed464d.svg"},33259:(e,t,s)=>{"use strict";e.exports=s.p+"images/e0fa3c03875210e8e540.svg"},49451:(e,t,s)=>{"use strict";e.exports=s.p+"images/e05860320843ba654bb4.svg"},189:(e,t,s)=>{"use strict";e.exports=s.p+"images/7a71d5ab347ce67a8594.svg"},16546:(e,t,s)=>{"use strict";e.exports=s.p+"images/aa5ddd67ca56903b22c3.svg"},70323:(e,t,s)=>{"use strict";e.exports=s.p+"images/9a3f082eb7e6e5fb244e.svg"},77304:(e,t,s)=>{"use strict";e.exports=s.p+"images/e4dc7a2f97845c70640a.svg"},95550:(e,t,s)=>{"use strict";e.exports=s.p+"images/201e00fd50fc60c3afbb.svg"},56215:(e,t,s)=>{"use strict";e.exports=s.p+"images/c054613c00393b10ed08.svg"},19295:(e,t,s)=>{"use strict";e.exports=s.p+"images/3a973c81de1bab7127c0.svg"},51035:(e,t,s)=>{"use strict";e.exports=s.p+"images/aa4a20139d0978155138.svg"},71567:(e,t,s)=>{"use strict";e.exports=s.p+"images/3fdea3d3a1843d5d096c.svg"},59337:(e,t,s)=>{"use strict";e.exports=s.p+"images/d85f16d1e7f3383ccc98.svg"},94485:(e,t,s)=>{"use strict";e.exports=s.p+"images/4cc5f6d197d11a282a58.svg"},43828:(e,t,s)=>{"use strict";e.exports=s.p+"images/2cf8256f77f4e030d2a1.svg"},96926:(e,t,s)=>{"use strict";e.exports=s.p+"images/bbbc00bb8cfce525f319.svg"},96612:(e,t,s)=>{"use strict";e.exports=s.p+"images/896c6f8d95867a66d131.svg"},58549:(e,t,s)=>{"use strict";e.exports=s.p+"images/e5d2b069acf2e0508dc7.svg"},29181:(e,t,s)=>{"use strict";e.exports=s.p+"images/9054ec27ca3d1be3c9cc.svg"},13742:(e,t,s)=>{"use strict";e.exports=s.p+"images/f40f26ff38dc20f7abb8.svg"},60636:(e,t,s)=>{"use strict";e.exports=s.p+"images/a28d9e2897d924546d43.svg"},50279:(e,t,s)=>{"use strict";e.exports=s.p+"images/82c722a06341fb4c9917.svg"},83206:(e,t,s)=>{"use strict";e.exports=s.p+"images/b0a495897c1210c5671e.svg"},81824:(e,t,s)=>{"use strict";e.exports=s.p+"images/b270b338bc845da256e5.svg"},61447:(e,t,s)=>{"use strict";e.exports=s.p+"images/6568e27154b3425a8043.svg"},58767:(e,t,s)=>{"use strict";e.exports=s.p+"images/829ae8d7bb3b233818bc.svg"},74712:(e,t,s)=>{"use strict";e.exports=s.p+"images/817c8dc2469eb3a5a4d6.svg"},44554:(e,t,s)=>{"use strict";e.exports=s.p+"images/0c443d48b2dadb7e13f0.svg"},64816:(e,t,s)=>{"use strict";e.exports=s.p+"images/eb731c28c9baedebc709.svg"},28822:(e,t,s)=>{"use strict";e.exports=s.p+"images/f3c10cd8934e638b2053.svg"},13999:(e,t,s)=>{"use strict";e.exports=s.p+"images/42aed12213c365efd46b.svg"},11275:(e,t,s)=>{"use strict";e.exports=s.p+"images/b4f4af71969ef8e8c2d3.svg"},19376:(e,t,s)=>{"use strict";e.exports=s.p+"images/ad0093a418b39dc4519a.svg"},17116:(e,t,s)=>{"use strict";e.exports=s.p+"images/1ece557d6509bf97f8fe.svg"},28947:(e,t,s)=>{"use strict";e.exports=s.p+"images/6bf9122fd9bf7117b752.svg"},4752:(e,t,s)=>{"use strict";e.exports=s.p+"images/c1c8e2190d088ccb636c.svg"},96456:(e,t,s)=>{"use strict";e.exports=s.p+"images/88c99dfb3d9e7cc8c458.svg"},67508:(e,t,s)=>{"use strict";e.exports=s.p+"images/0f75dece6a7fc45d10b4.svg"},24726:(e,t,s)=>{"use strict";e.exports=s.p+"images/9055146618042447ed1a.svg"},59422:(e,t,s)=>{"use strict";e.exports=s.p+"images/88f816f3298a2a2f14e4.svg"},1703:(e,t,s)=>{"use strict";e.exports=s.p+"images/06d6b821284bffee8c3a.svg"},56454:(e,t,s)=>{"use strict";e.exports=s.p+"images/0d7402729bb766d6872a.svg"},9918:(e,t,s)=>{"use strict";e.exports=s.p+"images/e431fad2d86dae032b11.svg"},59719:(e,t,s)=>{"use strict";e.exports=s.p+"images/bab8dd3f114c555f7344.svg"},91492:(e,t,s)=>{"use strict";e.exports=s.p+"images/9dd9e381c01f259dae71.svg"},41021:(e,t,s)=>{"use strict";e.exports=s.p+"images/c3581135c999a429d206.svg"},39537:(e,t,s)=>{"use strict";e.exports=s.p+"images/40b206937daf612735b4.svg"},5025:(e,t,s)=>{"use strict";e.exports=s.p+"images/2ef539c753f0aefc08c0.svg"},50009:(e,t,s)=>{"use strict";e.exports=s.p+"images/351fd6022bd4983eded9.svg"},61357:(e,t,s)=>{"use strict";e.exports=s.p+"images/955303f816ebc94633f4.svg"},47194:(e,t,s)=>{"use strict";e.exports=s.p+"images/cb523f21065b85751c21.svg"},17265:(e,t,s)=>{"use strict";e.exports=s.p+"images/5a7151369dfa0077124c.svg"},64268:(e,t,s)=>{"use strict";e.exports=s.p+"images/f3b0cfbc02514ee56e21.svg"},41213:(e,t,s)=>{"use strict";e.exports=s.p+"images/b4a016981a196b23be65.svg"},1286:(e,t,s)=>{"use strict";e.exports=s.p+"images/e864a238c793f03187c0.svg"},47670:(e,t,s)=>{"use strict";e.exports=s.p+"images/08d09cfff4720bdfa0ad.svg"},44854:(e,t,s)=>{"use strict";e.exports=s.p+"images/1081f7a1698485256521.svg"},28474:(e,t,s)=>{"use strict";e.exports=s.p+"images/e4c5586ac759a7fafe21.svg"},11516:(e,t,s)=>{"use strict";e.exports=s.p+"images/8f66658f2462ec47b1a2.svg"},78456:(e,t,s)=>{"use strict";e.exports=s.p+"images/b7839eb7aa011b1c7e11.svg"},18522:(e,t,s)=>{"use strict";e.exports=s.p+"images/28d3d0c9fd4375a4b4b8.svg"},84391:(e,t,s)=>{"use strict";e.exports=s.p+"images/3adfea6e61b6cd7f7361.svg"},95977:(e,t,s)=>{"use strict";e.exports=s.p+"images/ed5f2e3e9fdb8c622e3e.svg"},8504:(e,t,s)=>{"use strict";e.exports=s.p+"images/20dc92168ae9bd0f87ac.svg"},32199:(e,t,s)=>{"use strict";e.exports=s.p+"images/2a5e80ae7855b92fedf8.svg"},85270:(e,t,s)=>{"use strict";e.exports=s.p+"images/efd116d81669767627a0.svg"},17245:(e,t,s)=>{"use strict";e.exports=s.p+"images/338700a489ceefc6c85f.svg"},50286:(e,t,s)=>{"use strict";e.exports=s.p+"images/d10d9d0b8a0182e14f7f.svg"},44402:(e,t,s)=>{"use strict";e.exports=s.p+"images/1fa3238adbdd5caae684.svg"},15594:(e,t,s)=>{"use strict";e.exports=s.p+"images/5bf5b88aa46c733bb3e8.svg"},31735:(e,t,s)=>{"use strict";e.exports=s.p+"images/e70c43c2d4510c40f9d2.svg"},31174:(e,t,s)=>{"use strict";e.exports=s.p+"images/f17fca119c33fc126564.svg"},73931:(e,t,s)=>{"use strict";e.exports=s.p+"images/efd7fa5820b4b708773d.svg"},66953:(e,t,s)=>{"use strict";e.exports=s.p+"images/08467c73e69e4a1fce3e.svg"},88321:(e,t,s)=>{"use strict";e.exports=s.p+"images/3dd82822a9cacaa52d84.svg"},10198:(e,t,s)=>{"use strict";e.exports=s.p+"images/4232e47dcccc890c6b0e.svg"},23399:(e,t,s)=>{"use strict";e.exports=s.p+"images/6fdcee12f8fbf04a8390.svg"},46170:(e,t,s)=>{"use strict";e.exports=s.p+"images/5d706e374de2a8d16581.svg"},70503:(e,t,s)=>{"use strict";e.exports=s.p+"images/3e1640ee3a21e5ca02d3.svg"},45339:(e,t,s)=>{"use strict";e.exports=s.p+"images/e47dd5b37e94d2abb68a.svg"},97136:(e,t,s)=>{"use strict";e.exports=s.p+"images/16a4986fce0a0a61d863.svg"},33284:(e,t,s)=>{"use strict";e.exports=s.p+"images/5a7151369dfa0077124c.svg"},6837:(e,t,s)=>{"use strict";e.exports=s.p+"images/49ad0134997a04437d25.svg"},95066:(e,t,s)=>{"use strict";e.exports=s.p+"images/ac194aa702f0f69961e1.svg"},21751:(e,t,s)=>{"use strict";e.exports=s.p+"images/5b31a51a613cbb23c4c8.svg"},59653:(e,t,s)=>{"use strict";e.exports=s.p+"images/400f629c2275010feb06.svg"},97467:(e,t,s)=>{"use strict";e.exports=s.p+"images/05e3625f19323c81feed.svg"},47246:(e,t,s)=>{"use strict";e.exports=s.p+"images/f9866f08ca81e8f0cf17.svg"},572:(e,t,s)=>{"use strict";e.exports=s.p+"images/f868d15d81a1ff882a5f.svg"},42678:(e,t,s)=>{"use strict";e.exports=s.p+"images/3cb27301491ff545960f.svg"},17497:(e,t,s)=>{"use strict";e.exports=s.p+"images/5f9a51db381998ba6896.svg"},57765:(e,t,s)=>{"use strict";e.exports=s.p+"images/e4025da3c59b1cdda1c9.svg"},93757:(e,t,s)=>{"use strict";e.exports=s.p+"images/b3e54b728bc9530c6e3b.svg"},75917:(e,t,s)=>{"use strict";e.exports=s.p+"images/94deac35d3b02c13ed9a.svg"},4337:(e,t,s)=>{"use strict";e.exports=s.p+"images/885ee026114eb62f1c9a.svg"},96642:(e,t,s)=>{"use strict";e.exports=s.p+"images/1b2be2bc10dfa87cdca8.svg"},48375:(e,t,s)=>{"use strict";e.exports=s.p+"images/b9ce49db74b9f157a017.svg"},36337:(e,t,s)=>{"use strict";e.exports=s.p+"images/7f9281479dc562a98dfe.svg"},6438:(e,t,s)=>{"use strict";e.exports=s.p+"images/4dc35d2da56d08559e5e.svg"},34080:(e,t,s)=>{"use strict";e.exports=s.p+"images/f622d9aa2e53adbebb5e.svg"},84731:(e,t,s)=>{"use strict";e.exports=s.p+"images/fc809cedaa245622208a.svg"},16305:(e,t,s)=>{"use strict";e.exports=s.p+"images/2f7c82f0720516e5610b.svg"},92052:(e,t,s)=>{"use strict";e.exports=s.p+"images/dd10aa6c836439033e2b.svg"},9555:(e,t,s)=>{"use strict";e.exports=s.p+"images/d7999a606d43f90dd552.svg"},47174:(e,t,s)=>{"use strict";e.exports=s.p+"images/39f5c4f0fed45b4fe215.svg"},31266:(e,t,s)=>{"use strict";e.exports=s.p+"images/9e4be51f99018c8620b4.svg"},146:(e,t,s)=>{"use strict";e.exports=s.p+"images/caaa3878618da105a9e2.svg"},80176:(e,t,s)=>{"use strict";e.exports=s.p+"images/d59f5d69e53c0ccb5a36.svg"},99075:(e,t,s)=>{"use strict";e.exports=s.p+"images/049477ac28b66f545bbc.svg"},48920:(e,t,s)=>{"use strict";e.exports=s.p+"images/3e1b96e6317bfd2168ae.svg"},48115:(e,t,s)=>{"use strict";e.exports=s.p+"images/0f290e688d71d369e95f.svg"},55346:(e,t,s)=>{"use strict";e.exports=s.p+"images/7aeea24fdc37d214a06d.svg"},67431:(e,t,s)=>{"use strict";e.exports=s.p+"images/eb6d076710465f8c3234.svg"},42199:(e,t,s)=>{"use strict";e.exports=s.p+"images/5279d81e4f49daaf248a.svg"},25714:(e,t,s)=>{"use strict";e.exports=s.p+"images/4860cf22b5d40e387424.svg"},36840:(e,t,s)=>{"use strict";e.exports=s.p+"images/5c6b472d08d713fb6d31.svg"},21278:(e,t,s)=>{"use strict";e.exports=s.p+"images/35b9b7334b47a59cca09.svg"},94041:(e,t,s)=>{"use strict";e.exports=s.p+"images/c78f76ce6dbf2e7cef0e.svg"},8879:(e,t,s)=>{"use strict";e.exports=s.p+"images/2c22de944823fc5c37d8.svg"},74106:(e,t,s)=>{"use strict";e.exports=s.p+"images/0b44156a764b58ed464d.svg"},14665:(e,t,s)=>{"use strict";e.exports=s.p+"images/e0fa3c03875210e8e540.svg"},28002:(e,t,s)=>{"use strict";e.exports=s.p+"images/e05860320843ba654bb4.svg"},6745:(e,t,s)=>{"use strict";e.exports=s.p+"images/7a71d5ab347ce67a8594.svg"},38914:(e,t,s)=>{"use strict";e.exports=s.p+"images/d7f47b48f8d97652ab10.svg"},98034:(e,t,s)=>{"use strict";e.exports=s.p+"images/5842839dfa553764b052.svg"},31378:(e,t,s)=>{"use strict";e.exports=s.p+"images/d4ef5c4a91c3599ce43d.svg"},83868:(e,t,s)=>{"use strict";e.exports=s.p+"images/f0af392c47b911e2f9f8.svg"},51083:(e,t,s)=>{"use strict";e.exports=s.p+"images/5ae1eeb66a5e7b06b7ce.svg"},18888:(e,t,s)=>{"use strict";e.exports=s.p+"images/69bf93dc7155ce4fdfea.svg"},38847:(e,t,s)=>{"use strict";e.exports=s.p+"images/87d0e45a574806aa6b19.svg"},51527:(e,t,s)=>{"use strict";e.exports=s.p+"images/f3ff7871a39f40453cec.svg"},47134:(e,t,s)=>{"use strict";e.exports=s.p+"images/67d4a90a43a794db79fa.svg"},46263:(e,t,s)=>{"use strict";e.exports=s.p+"images/4cc5f6d197d11a282a58.svg"},52799:(e,t,s)=>{"use strict";e.exports=s.p+"images/2cf8256f77f4e030d2a1.svg"},4418:(e,t,s)=>{"use strict";e.exports=s.p+"images/bbbc00bb8cfce525f319.svg"},40311:(e,t,s)=>{"use strict";e.exports=s.p+"images/896c6f8d95867a66d131.svg"},68819:(e,t,s)=>{"use strict";e.exports=s.p+"images/e5d2b069acf2e0508dc7.svg"},55826:(e,t,s)=>{"use strict";e.exports=s.p+"images/9054ec27ca3d1be3c9cc.svg"},67478:(e,t,s)=>{"use strict";e.exports=s.p+"images/f40f26ff38dc20f7abb8.svg"},74782:(e,t,s)=>{"use strict";e.exports=s.p+"images/a28d9e2897d924546d43.svg"},19152:(e,t,s)=>{"use strict";e.exports=s.p+"images/82c722a06341fb4c9917.svg"},32107:(e,t,s)=>{"use strict";e.exports=s.p+"images/b0a495897c1210c5671e.svg"},85826:(e,t,s)=>{"use strict";e.exports=s.p+"images/b270b338bc845da256e5.svg"},64572:(e,t,s)=>{"use strict";e.exports=s.p+"images/6568e27154b3425a8043.svg"},75683:(e,t,s)=>{"use strict";e.exports=s.p+"images/829ae8d7bb3b233818bc.svg"},99546:(e,t,s)=>{"use strict";e.exports=s.p+"images/817c8dc2469eb3a5a4d6.svg"},2480:(e,t,s)=>{"use strict";e.exports=s.p+"images/0c443d48b2dadb7e13f0.svg"},26251:(e,t,s)=>{"use strict";e.exports=s.p+"images/eb731c28c9baedebc709.svg"},75698:(e,t,s)=>{"use strict";e.exports=s.p+"images/f3c10cd8934e638b2053.svg"},8774:(e,t,s)=>{"use strict";e.exports=s.p+"images/42aed12213c365efd46b.svg"},76363:(e,t,s)=>{"use strict";e.exports=s.p+"images/b4f4af71969ef8e8c2d3.svg"},96031:(e,t,s)=>{"use strict";e.exports=s.p+"images/ad0093a418b39dc4519a.svg"},69151:(e,t,s)=>{"use strict";e.exports=s.p+"images/1ece557d6509bf97f8fe.svg"},52926:(e,t,s)=>{"use strict";e.exports=s.p+"images/6bf9122fd9bf7117b752.svg"},72062:(e,t,s)=>{"use strict";e.exports=s.p+"images/c1c8e2190d088ccb636c.svg"},23214:(e,t,s)=>{"use strict";e.exports=s.p+"images/536b8ae2776c9627c4f7.svg"},64966:(e,t,s)=>{"use strict";e.exports=s.p+"images/3904bbd600574de4ba2e.svg"},47753:(e,t,s)=>{"use strict";e.exports=s.p+"images/80c4ad61d594a8ace86c.svg"},74648:(e,t,s)=>{"use strict";e.exports=s.p+"images/b3e54b728bc9530c6e3b.svg"},44332:(e,t,s)=>{"use strict";e.exports=s.p+"images/94deac35d3b02c13ed9a.svg"},91015:(e,t,s)=>{"use strict";e.exports=s.p+"images/885ee026114eb62f1c9a.svg"},98014:(e,t,s)=>{"use strict";e.exports=s.p+"images/1b2be2bc10dfa87cdca8.svg"},60048:(e,t,s)=>{"use strict";e.exports=s.p+"images/b9ce49db74b9f157a017.svg"},32344:(e,t,s)=>{"use strict";e.exports=s.p+"images/7f9281479dc562a98dfe.svg"},45452:(e,t,s)=>{"use strict";e.exports=s.p+"images/4dc35d2da56d08559e5e.svg"},14850:(e,t,s)=>{"use strict";e.exports=s.p+"images/f622d9aa2e53adbebb5e.svg"},21618:(e,t,s)=>{"use strict";e.exports=s.p+"images/fc809cedaa245622208a.svg"},88996:(e,t,s)=>{"use strict";e.exports=s.p+"images/2f7c82f0720516e5610b.svg"},56227:(e,t,s)=>{"use strict";e.exports=s.p+"images/dd10aa6c836439033e2b.svg"},3551:(e,t,s)=>{"use strict";e.exports=s.p+"images/d7999a606d43f90dd552.svg"},41130:(e,t,s)=>{"use strict";e.exports=s.p+"images/39f5c4f0fed45b4fe215.svg"},86835:(e,t,s)=>{"use strict";e.exports=s.p+"images/6ccb1a17081cc1c88315.svg"},16002:(e,t,s)=>{"use strict";e.exports=s.p+"images/caaa3878618da105a9e2.svg"},62877:(e,t,s)=>{"use strict";e.exports=s.p+"images/9dde80eff7a6aa6cadbe.svg"},95441:(e,t,s)=>{"use strict";e.exports=s.p+"images/31351b5039da4a03f0aa.svg"},17641:(e,t,s)=>{"use strict";e.exports=s.p+"images/8a26f4b75f2cf7dbffdd.svg"},83434:(e,t,s)=>{"use strict";e.exports=s.p+"images/710f7a4f431e711d6ca6.svg"},50416:(e,t,s)=>{"use strict";e.exports=s.p+"images/bcc540223379dce781e9.svg"},60584:(e,t,s)=>{"use strict";e.exports=s.p+"images/e40ad43dfbc2bdb11ac5.svg"},1598:(e,t,s)=>{"use strict";e.exports=s.p+"images/8eee11623d6663403f4d.svg"},96914:(e,t,s)=>{"use strict";e.exports=s.p+"images/8039c4416588f518e363.svg"},50073:(e,t,s)=>{"use strict";e.exports=s.p+"images/bc8cf5f70d8cb302d1c6.svg"},67661:(e,t,s)=>{"use strict";e.exports=s.p+"images/0f290e688d71d369e95f.svg"},39483:(e,t,s)=>{"use strict";e.exports=s.p+"images/7aeea24fdc37d214a06d.svg"},60875:(e,t,s)=>{"use strict";e.exports=s.p+"images/eb6d076710465f8c3234.svg"},28111:(e,t,s)=>{"use strict";e.exports=s.p+"images/5279d81e4f49daaf248a.svg"},65121:(e,t,s)=>{"use strict";e.exports=s.p+"images/4860cf22b5d40e387424.svg"},45238:(e,t,s)=>{"use strict";e.exports=s.p+"images/5c6b472d08d713fb6d31.svg"},65818:(e,t,s)=>{"use strict";e.exports=s.p+"images/35b9b7334b47a59cca09.svg"},94216:(e,t,s)=>{"use strict";e.exports=s.p+"images/c78f76ce6dbf2e7cef0e.svg"},49175:(e,t,s)=>{"use strict";e.exports=s.p+"images/2c22de944823fc5c37d8.svg"},73925:(e,t,s)=>{"use strict";e.exports=s.p+"images/0b44156a764b58ed464d.svg"},50087:(e,t,s)=>{"use strict";e.exports=s.p+"images/e0fa3c03875210e8e540.svg"},20349:(e,t,s)=>{"use strict";e.exports=s.p+"images/e05860320843ba654bb4.svg"},26997:(e,t,s)=>{"use strict";e.exports=s.p+"images/7a71d5ab347ce67a8594.svg"},47891:(e,t,s)=>{"use strict";e.exports=s.p+"images/3f6478d8d82df4cb2ec2.svg"},70814:(e,t,s)=>{"use strict";e.exports=s.p+"images/9a3f082eb7e6e5fb244e.svg"},89268:(e,t,s)=>{"use strict";e.exports=s.p+"images/e4dc7a2f97845c70640a.svg"},74302:(e,t,s)=>{"use strict";e.exports=s.p+"images/5a7151369dfa0077124c.svg"},58763:(e,t,s)=>{"use strict";e.exports=s.p+"images/49ad0134997a04437d25.svg"},16670:(e,t,s)=>{"use strict";e.exports=s.p+"images/ac194aa702f0f69961e1.svg"},33869:(e,t,s)=>{"use strict";e.exports=s.p+"images/3ad58dddbcc45e039f71.svg"},53819:(e,t,s)=>{"use strict";e.exports=s.p+"images/2bc91ce54fe2c314c713.svg"},94881:(e,t,s)=>{"use strict";e.exports=s.p+"images/33a467543d8faa162fdb.svg"},38250:(e,t,s)=>{"use strict";e.exports=s.p+"images/8a52b7b2a153d82eac82.svg"},25512:(e,t,s)=>{"use strict";e.exports=s.p+"images/28afd01272bdcff4ee5b.svg"},25510:(e,t,s)=>{"use strict";e.exports=s.p+"images/822c3c8b4c3311b4a798.svg"},66582:(e,t,s)=>{"use strict";e.exports=s.p+"images/5c6c0edb9309b529db68.svg"},14968:(e,t,s)=>{"use strict";e.exports=s.p+"images/216a0031b45a5bf85fb4.svg"},8682:(e,t,s)=>{"use strict";e.exports=s.p+"images/8c80d29aa8a7a3fadd37.svg"},45240:(e,t,s)=>{"use strict";e.exports=s.p+"images/b833ee2aaf9ed6122803.svg"},63644:(e,t,s)=>{"use strict";e.exports=s.p+"images/9302ab0d4432d5312550.svg"},21126:(e,t,s)=>{"use strict";e.exports=s.p+"images/f32d1647e76dfc302138.svg"},6485:(e,t,s)=>{"use strict";e.exports=s.p+"images/f6606122686586bc7a13.svg"},35963:(e,t,s)=>{"use strict";e.exports=s.p+"images/da423a15e99c63c84f71.svg"},4953:(e,t,s)=>{"use strict";e.exports=s.p+"images/7800d33f91d865bbfd71.svg"},9414:(e,t,s)=>{"use strict";e.exports=s.p+"images/1054c98d9013c9f44c7c.svg"},16887:(e,t,s)=>{"use strict";e.exports=s.p+"images/6d1fcb82b802d0cf05f4.svg"},8227:(e,t,s)=>{"use strict";e.exports=s.p+"images/c51932906d2a90de2411.svg"},23611:(e,t,s)=>{"use strict";e.exports=s.p+"images/c29b3f0a98b8103ba560.svg"},99048:(e,t,s)=>{"use strict";e.exports=s.p+"images/3fdea3d3a1843d5d096c.svg"},26890:(e,t,s)=>{"use strict";e.exports=s.p+"images/d85f16d1e7f3383ccc98.svg"},37696:(e,t,s)=>{"use strict";e.exports=s.p+"images/4cc5f6d197d11a282a58.svg"},19995:(e,t,s)=>{"use strict";e.exports=s.p+"images/2cf8256f77f4e030d2a1.svg"},35982:(e,t,s)=>{"use strict";e.exports=s.p+"images/bbbc00bb8cfce525f319.svg"},61981:(e,t,s)=>{"use strict";e.exports=s.p+"images/896c6f8d95867a66d131.svg"},45601:(e,t,s)=>{"use strict";e.exports=s.p+"images/e5d2b069acf2e0508dc7.svg"},77863:(e,t,s)=>{"use strict";e.exports=s.p+"images/9054ec27ca3d1be3c9cc.svg"},8079:(e,t,s)=>{"use strict";e.exports=s.p+"images/f40f26ff38dc20f7abb8.svg"},35837:(e,t,s)=>{"use strict";e.exports=s.p+"images/a28d9e2897d924546d43.svg"},36886:(e,t,s)=>{"use strict";e.exports=s.p+"images/82c722a06341fb4c9917.svg"},49508:(e,t,s)=>{"use strict";e.exports=s.p+"images/b0a495897c1210c5671e.svg"},3050:(e,t,s)=>{"use strict";e.exports=s.p+"images/b270b338bc845da256e5.svg"},43311:(e,t,s)=>{"use strict";e.exports=s.p+"images/6568e27154b3425a8043.svg"},50825:(e,t,s)=>{"use strict";e.exports=s.p+"images/829ae8d7bb3b233818bc.svg"},25711:(e,t,s)=>{"use strict";e.exports=s.p+"images/817c8dc2469eb3a5a4d6.svg"},3889:(e,t,s)=>{"use strict";e.exports=s.p+"images/0c443d48b2dadb7e13f0.svg"},27128:(e,t,s)=>{"use strict";e.exports=s.p+"images/eb731c28c9baedebc709.svg"},10220:(e,t,s)=>{"use strict";e.exports=s.p+"images/f3c10cd8934e638b2053.svg"},6238:(e,t,s)=>{"use strict";e.exports=s.p+"images/42aed12213c365efd46b.svg"},56839:(e,t,s)=>{"use strict";e.exports=s.p+"images/b4f4af71969ef8e8c2d3.svg"},40316:(e,t,s)=>{"use strict";e.exports=s.p+"images/ad0093a418b39dc4519a.svg"},74063:(e,t,s)=>{"use strict";e.exports=s.p+"images/1ece557d6509bf97f8fe.svg"},1588:(e,t,s)=>{"use strict";e.exports=s.p+"images/6bf9122fd9bf7117b752.svg"},20453:(e,t,s)=>{"use strict";e.exports=s.p+"images/c1c8e2190d088ccb636c.svg"},80937:e=>{"use strict";e.exports=JSON.parse('{"9":{"priorityGroups":[{"type":"commercial","safeZone":4,"margin":4,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"10":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"11":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":8,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"12":{"priorityGroups":[{"type":"commercial","safeZone":1,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":6,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"13":{"priorityGroups":[{"type":"commercial","safeZone":2,"margin":0,"degradation":2},{"type":"middlebullet","safeZone":2,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":20},"14":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":6},{"type":"middlebullet","safeZone":2,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":1,"margin":0,"degradation":0}],"labelMargin":15},"15":{"priorityGroups":[{"type":"commercial","safeZone":10,"margin":0,"degradation":20},{"type":"middlebullet","safeZone":4,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":10},"16":{"priorityGroups":[{"type":"commercial","safeZone":52,"margin":0,"degradation":78},{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":5},"17":{"priorityGroups":[{"type":"commercial","safeZone":52,"margin":0,"degradation":78},{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":0},"18":{"priorityGroups":[{"type":"commercial","safeZone":52,"margin":0,"degradation":78},{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":0}}')},70714:e=>{"use strict";e.exports=JSON.parse('{"icons":{"smallbullet":{"normal":{"img":"smallbullet.svg","size":[14,14],"offset":[0.5,0.5]},"hover":{"img":"smallbullet_hover.svg","size":[16,16],"offset":[0.43,0.43]},"active":{"img":"smallbullet_closed.svg","size":[14,14],"offset":[0.5,0.5]},"closed":{"img":"smallbullet_closed.svg","size":[14,14],"offset":[0.5,0.5]},"deleted":{"img":"deleted_smallbullet.svg","size":[22,22],"offset":[0.5,0.5]},"deleted_hover":{"img":"deleted_smallbullet_hover.svg","size":[22,22],"offset":[0.5,0.5]}},"middlebullet":{"normal":{"img":"middlebullet.svg","size":[22,22],"offset":[0.5,0.5]},"hover":{"img":"middlebullet_hover.svg","size":[26,26],"offset":[0.42,0.42]},"active":{"img":"middlebullet_closed.svg","size":[22,22],"offset":[0.5,0.5]},"closed":{"img":"middlebullet_closed.svg","size":[22,22],"offset":[0.5,0.5]},"deleted":{"img":"deleted_middlebullet.svg","size":[22,22],"offset":[0.5,0.5]},"deleted_hover":{"img":"deleted_middlebullet_hover.svg","size":[22,22],"offset":[0.5,0.5]}},"bigbullet":{"normal":{"img":"bigbullet.svg","size":[24,24],"offset":[0.5,0.5]},"hover":{"img":"bigbullet_hover.svg","size":[28,28],"offset":[0.43,0.43]},"active":{"img":"bigbullet_closed.svg","size":[24,24],"offset":[0.5,0.5]},"closed":{"img":"bigbullet_closed.svg","size":[24,24],"offset":[0.5,0.5]},"deleted":{"img":"deleted_bigbullet.svg","size":[22,22],"offset":[0.5,0.5]},"deleted_hover":{"img":"deleted_bigbullet_hover.svg","size":[22,22],"offset":[0.5,0.5]}},"commercial":{"normal":{"img":"commercial.svg","size":[30,30],"offset":[0.5,0.455]},"hover":{"img":"commercial_hover.svg","size":[30,30],"offset":[0.5,0.455]},"active":{"img":"commercial_closed.svg","size":[36,36],"offset":[0.5,0.5]},"closed":{"img":"commercial_closed.svg","size":[36,36],"offset":[0.5,0.5]},"deleted":{"img":"commercial_closed.svg","size":[36,36],"offset":[0.5,0.5]}},"commercial_logo":{"normal":{"img":"commercial_logo.svg","size":[30,30],"offset":[0.5,0.455]},"hover":{"img":"commercial_logo_hover.svg","size":[30,30],"offset":[0.5,0.455]}}},"zIndex":1}')},61574:e=>{"use strict";e.exports=JSON.parse('{"9":{"priorityGroups":[{"type":"smallbullet","safeZone":0,"margin":8,"degradation":0}],"labelMargin":25},"10":{"priorityGroups":[{"type":"smallbullet","safeZone":0,"margin":12,"degradation":0}],"labelMargin":25},"11":{"priorityGroups":[{"type":"middlebullet","safeZone":8,"margin":14,"degradation":22},{"type":"smallbullet","safeZone":0,"margin":8,"degradation":0}],"labelMargin":25},"12":{"priorityGroups":[{"type":"middlebullet","safeZone":8,"margin":14,"degradation":22},{"type":"smallbullet","safeZone":0,"margin":8,"degradation":0}],"labelMargin":25},"13":{"priorityGroups":[{"type":"middlebullet","safeZone":2,"margin":4,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":4,"degradation":0}],"labelMargin":20},"14":{"priorityGroups":[{"type":"middlebullet","safeZone":2,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":1,"margin":0,"degradation":0}],"labelMargin":15},"15":{"priorityGroups":[{"type":"middlebullet","safeZone":4,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":10},"16":{"priorityGroups":[{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":5},"17":{"priorityGroups":[{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":0},"18":{"priorityGroups":[{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":0}}')},82214:e=>{"use strict";e.exports=JSON.parse('{"icons":{"smallbullet":{"normal":{"img":"smallbullet.svg","size":[14,14],"offset":[0.5,0.5]},"hover":{"img":"smallbullet_hover.svg","size":[16,16],"offset":[0.43,0.43]},"high":{"img":"exchange/high_smallbullet.svg","size":[22,22],"offset":[0.5,0.5]},"medium":{"img":"exchange/medium_smallbullet.svg","size":[22,22],"offset":[0.5,0.5]},"low":{"img":"exchange/low_smallbullet.svg","size":[22,22],"offset":[0.5,0.5]}},"middlebullet":{"normal":{"img":"middlebullet.svg","size":[22,22],"offset":[0.5,0.5]},"hover":{"img":"middlebullet_hover.svg","size":[26,26],"offset":[0.42,0.42]},"high":{"img":"exchange/high_middlebullet.svg","size":[22,22],"offset":[0.5,0.5]},"medium":{"img":"exchange/medium_middlebullet.svg","size":[22,22],"offset":[0.5,0.5]},"low":{"img":"exchange/low_middlebullet.svg","size":[22,22],"offset":[0.5,0.5]}},"bigbullet":{"normal":{"img":"bigbullet.svg","size":[24,24],"offset":[0.5,0.5]},"hover":{"img":"bigbullet_hover.svg","size":[28,28],"offset":[0.43,0.43]},"high":{"img":"exchange/high_bigbullet.svg","size":[22,22],"offset":[0.5,0.5]},"medium":{"img":"exchange/medium_bigbullet.svg","size":[22,22],"offset":[0.5,0.5]},"low":{"img":"exchange/low_bigbullet.svg","size":[22,22],"offset":[0.5,0.5]}}},"zIndex":1}')},59599:e=>{"use strict";e.exports=JSON.parse('{"9":{"priorityGroups":[{"type":"personal_E2658B","safeZone":20,"margin":0,"degradation":0},{"type":"personal_198700","safeZone":20,"margin":0,"degradation":0},{"type":"personal_4F92F8","safeZone":20,"margin":0,"degradation":0},{"type":"personal_E7750B","safeZone":20,"margin":0,"degradation":0},{"type":"personal_738AB3","safeZone":20,"margin":0,"degradation":0},{"type":"personal_7435D2","safeZone":20,"margin":0,"degradation":0},{"type":"personal_DBAF00","safeZone":20,"margin":0,"degradation":0},{"type":"personal_00B305","safeZone":20,"margin":0,"degradation":0},{"type":"personal_00A989","safeZone":20,"margin":0,"degradation":0},{"type":"personal_9E578A","safeZone":20,"margin":0,"degradation":0},{"type":"personal_BA6612","safeZone":20,"margin":0,"degradation":0},{"type":"personal_1D66EE","safeZone":20,"margin":0,"degradation":0},{"type":"personal_F83A3A","safeZone":20,"margin":0,"degradation":0},{"type":"public","safeZone":20,"margin":0,"degradation":0}],"labelMargin":0}}')},94630:e=>{"use strict";e.exports=JSON.parse('{"icons":{"personal_E2658B":{"normal":{"img":"coloredPersonal/personal_E2658B_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_198700":{"normal":{"img":"coloredPersonal/personal_198700_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_4F92F8":{"normal":{"img":"coloredPersonal/personal_4F92F8_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_E7750B":{"normal":{"img":"coloredPersonal/personal_E7750B_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_738AB3":{"normal":{"img":"coloredPersonal/personal_738AB3_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_7435D2":{"normal":{"img":"coloredPersonal/personal_7435D2_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_DBAF00":{"normal":{"img":"coloredPersonal/personal_DBAF00_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_00B305":{"normal":{"img":"coloredPersonal/personal_00B305_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_00A989":{"normal":{"img":"coloredPersonal/personal_00A989_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_9E578A":{"normal":{"img":"coloredPersonal/personal_9E578A_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_BA6612":{"normal":{"img":"coloredPersonal/personal_BA6612_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_1D66EE":{"normal":{"img":"coloredPersonal/personal_1D66EE_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_F83A3A":{"normal":{"img":"coloredPersonal/personal_F83A3A_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal":{"normal":{"img":"fav-personal.svg","size":[16,16],"offset":[0.5,0.5]}},"public":{"normal":{"img":"fav-public.svg","size":[16,16],"offset":[0.5,0.5]}},"home":{"normal":{"img":"fav-home.svg","size":[16,16],"offset":[0.5,0.5]}},"work":{"normal":{"img":"fav-work.svg","size":[16,16],"offset":[0.5,0.5]}}},"zIndex":2}')},98548:e=>{"use strict";e.exports=JSON.parse('{"9":{"priorityGroups":[{"type":"commercial","safeZone":4,"margin":4,"degradation":0},{"type":"middlebullet","safeZone":4,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"10":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":12,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"11":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"bigbullet","safeZone":16,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":25},"12":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"bigbullet","safeZone":16,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":25},"13":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"bigbullet","safeZone":0,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":20},"14":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":78},{"type":"bigbullet","safeZone":0,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":15},"15":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"bigbullet","safeZone":0,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":10},"16":{"priorityGroups":[{"type":"commercial","safeZone":52,"margin":0,"degradation":78},{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":5},"17":{"priorityGroups":[{"type":"commercial","safeZone":52,"margin":0,"degradation":78},{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":0},"18":{"priorityGroups":[{"type":"commercial","safeZone":52,"margin":0,"degradation":78},{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":0}}')},64796:e=>{"use strict";e.exports=JSON.parse('{"icons":{"smallbullet":{"normal":{"img":"smallbullet.svg","size":[14,14],"offset":[0.5,0.5]},"hover":{"img":"smallbullet_hover.svg","size":[16,16],"offset":[0.43,0.43]},"active":{"img":"smallbullet_closed.svg","size":[14,14],"offset":[0.5,0.5]},"closed":{"img":"smallbullet_closed.svg","size":[14,14],"offset":[0.5,0.5]},"deleted":{"img":"deleted_smallbullet.svg","size":[22,22],"offset":[0.5,0.5]},"deleted_hover":{"img":"deleted_smallbullet_hover.svg","size":[22,22],"offset":[0.5,0.5]}},"middlebullet":{"normal":{"img":"middlebullet.svg","size":[22,22],"offset":[0.5,0.5]},"hover":{"img":"middlebullet_hover.svg","size":[26,26],"offset":[0.42,0.42]},"active":{"img":"middlebullet_closed.svg","size":[22,22],"offset":[0.5,0.5]},"closed":{"img":"middlebullet_closed.svg","size":[22,22],"offset":[0.5,0.5]},"deleted":{"img":"deleted_middlebullet.svg","size":[22,22],"offset":[0.5,0.5]},"deleted_hover":{"img":"deleted_middlebullet_hover.svg","size":[22,22],"offset":[0.5,0.5]}},"bigbullet":{"normal":{"img":"bigbullet.svg","size":[24,24],"offset":[0.5,0.5]},"hover":{"img":"bigbullet_hover.svg","size":[28,28],"offset":[0.43,0.43]},"active":{"img":"bigbullet_closed.svg","size":[24,24],"offset":[0.5,0.5]},"closed":{"img":"bigbullet_closed.svg","size":[24,24],"offset":[0.5,0.5]},"deleted":{"img":"deleted_bigbullet.svg","size":[22,22],"offset":[0.5,0.5]},"deleted_hover":{"img":"deleted_bigbullet_hover.svg","size":[22,22],"offset":[0.5,0.5]}},"commercial":{"normal":{"img":"commercial.svg","size":[30,30],"offset":[0.5,0.46]},"hover":{"img":"commercial_hover.svg","size":[30,30],"offset":[0.5,0.46]},"active":{"img":"commercial_closed.svg","size":[36,36],"offset":[0.5,0.5]},"closed":{"img":"commercial_closed.svg","size":[36,36],"offset":[0.5,0.5]},"deleted":{"img":"commercial_closed.svg","size":[36,36],"offset":[0.5,0.5]}},"commercial_logo":{"normal":{"img":"commercial_logo.svg","size":[30,30],"offset":[0.5,0.46]},"hover":{"img":"commercial_logo_hover.svg","size":[30,30],"offset":[0.5,0.46]}}},"zIndex":1}')},87479:e=>{"use strict";e.exports=JSON.parse('{"icons":{"pin":{"normal":{"img":"pin.svg","size":[36,44],"offset":[0.5,0.95]}},"pin-commercial":{"normal":{"img":"pin-commercial.svg","size":[36,44],"offset":[0.5,0.95]}},"pin-commercial-logo":{"normal":{"img":"pin-commercial-logo.svg","size":[36,44],"offset":[0.5,0.95]}}},"zIndex":3}')},58794:e=>{"use strict";e.exports=JSON.parse('{"9":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"10":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"11":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"12":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"13":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"14":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"15":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"16":{"priorityGroups":[{"type":"restriction","safeZone":5,"margin":5,"degradation":0},{"type":"crash","safeZone":5,"margin":5,"degradation":0},{"type":"roadwork","safeZone":5,"margin":5,"degradation":0},{"type":"comment","safeZone":5,"margin":5,"degradation":0},{"type":"other","safeZone":5,"margin":5,"degradation":0},{"type":"camera","safeZone":5,"margin":5,"degradation":0},{"type":"camera-20","safeZone":5,"margin":5,"degradation":0},{"type":"camera-30","safeZone":5,"margin":5,"degradation":0},{"type":"camera-40","safeZone":5,"margin":5,"degradation":0},{"type":"camera-50","safeZone":5,"margin":5,"degradation":0},{"type":"camera-60","safeZone":5,"margin":5,"degradation":0},{"type":"camera-70","safeZone":5,"margin":5,"degradation":0},{"type":"camera-80","safeZone":5,"margin":5,"degradation":0},{"type":"camera-90","safeZone":5,"margin":5,"degradation":0},{"type":"camera-100","safeZone":5,"margin":5,"degradation":0},{"type":"camera-110","safeZone":5,"margin":5,"degradation":0},{"type":"camera-120","safeZone":5,"margin":5,"degradation":0},{"type":"camera-130","safeZone":5,"margin":5,"degradation":0},{"type":"camera-140","safeZone":5,"margin":5,"degradation":0},{"type":"camera-tl","safeZone":5,"margin":5,"degradation":0},{"type":"camera-bus","safeZone":5,"margin":5,"degradation":0},{"type":"camera-line","safeZone":5,"margin":5,"degradation":0},{"type":"camera-parking","safeZone":5,"margin":5,"degradation":0}],"labelMargin":0},"17":{"priorityGroups":[{"type":"restriction","safeZone":5,"margin":5,"degradation":0},{"type":"crash","safeZone":5,"margin":5,"degradation":0},{"type":"roadwork","safeZone":5,"margin":5,"degradation":0},{"type":"comment","safeZone":5,"margin":5,"degradation":0},{"type":"other","safeZone":5,"margin":5,"degradation":0},{"type":"camera","safeZone":5,"margin":5,"degradation":0},{"type":"camera-20","safeZone":5,"margin":5,"degradation":0},{"type":"camera-30","safeZone":5,"margin":5,"degradation":0},{"type":"camera-40","safeZone":5,"margin":5,"degradation":0},{"type":"camera-50","safeZone":5,"margin":5,"degradation":0},{"type":"camera-60","safeZone":5,"margin":5,"degradation":0},{"type":"camera-70","safeZone":5,"margin":5,"degradation":0},{"type":"camera-80","safeZone":5,"margin":5,"degradation":0},{"type":"camera-90","safeZone":5,"margin":5,"degradation":0},{"type":"camera-100","safeZone":5,"margin":5,"degradation":0},{"type":"camera-110","safeZone":5,"margin":5,"degradation":0},{"type":"camera-120","safeZone":5,"margin":5,"degradation":0},{"type":"camera-130","safeZone":5,"margin":5,"degradation":0},{"type":"camera-140","safeZone":5,"margin":5,"degradation":0},{"type":"camera-tl","safeZone":5,"margin":5,"degradation":0},{"type":"camera-bus","safeZone":5,"margin":5,"degradation":0},{"type":"camera-line","safeZone":5,"margin":5,"degradation":0},{"type":"camera-parking","safeZone":5,"margin":5,"degradation":0}],"labelMargin":0},"18":{"priorityGroups":[{"type":"restriction","safeZone":5,"margin":5,"degradation":0},{"type":"crash","safeZone":5,"margin":5,"degradation":0},{"type":"roadwork","safeZone":5,"margin":5,"degradation":0},{"type":"comment","safeZone":5,"margin":5,"degradation":0},{"type":"other","safeZone":5,"margin":5,"degradation":0},{"type":"camera","safeZone":5,"margin":5,"degradation":0},{"type":"camera-20","safeZone":5,"margin":5,"degradation":0},{"type":"camera-30","safeZone":5,"margin":5,"degradation":0},{"type":"camera-40","safeZone":5,"margin":5,"degradation":0},{"type":"camera-50","safeZone":5,"margin":5,"degradation":0},{"type":"camera-60","safeZone":5,"margin":5,"degradation":0},{"type":"camera-70","safeZone":5,"margin":5,"degradation":0},{"type":"camera-80","safeZone":5,"margin":5,"degradation":0},{"type":"camera-90","safeZone":5,"margin":5,"degradation":0},{"type":"camera-100","safeZone":5,"margin":5,"degradation":0},{"type":"camera-110","safeZone":5,"margin":5,"degradation":0},{"type":"camera-120","safeZone":5,"margin":5,"degradation":0},{"type":"camera-130","safeZone":5,"margin":5,"degradation":0},{"type":"camera-140","safeZone":5,"margin":5,"degradation":0},{"type":"camera-tl","safeZone":5,"margin":5,"degradation":0},{"type":"camera-bus","safeZone":5,"margin":5,"degradation":0},{"type":"camera-line","safeZone":5,"margin":5,"degradation":0},{"type":"camera-parking","safeZone":5,"margin":5,"degradation":0}],"labelMargin":0}}')},44545:e=>{"use strict";e.exports=JSON.parse('{"icons":{"camera":{"normal":{"img":"tUgc-camera.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera.svg","size":[40,40],"offset":[0.5,1]}},"camera-20":{"normal":{"img":"tUgc-camera-20.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-20.svg","size":[40,40],"offset":[0.5,1]}},"camera-30":{"normal":{"img":"tUgc-camera-30.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-30.svg","size":[40,40],"offset":[0.5,1]}},"camera-40":{"normal":{"img":"tUgc-camera-40.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-40.svg","size":[40,40],"offset":[0.5,1]}},"camera-50":{"normal":{"img":"tUgc-camera-50.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-50.svg","size":[40,40],"offset":[0.5,1]}},"camera-60":{"normal":{"img":"tUgc-camera-60.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-60.svg","size":[40,40],"offset":[0.5,1]}},"camera-70":{"normal":{"img":"tUgc-camera-70.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-70.svg","size":[40,40],"offset":[0.5,1]}},"camera-80":{"normal":{"img":"tUgc-camera-80.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-80.svg","size":[40,40],"offset":[0.5,1]}},"camera-90":{"normal":{"img":"tUgc-camera-90.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-90.svg","size":[40,40],"offset":[0.5,1]}},"camera-100":{"normal":{"img":"tUgc-camera-100.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-100.svg","size":[40,40],"offset":[0.5,1]}},"camera-110":{"normal":{"img":"tUgc-camera-110.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-110.svg","size":[40,40],"offset":[0.5,1]}},"camera-120":{"normal":{"img":"tUgc-camera-120.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-120.svg","size":[40,40],"offset":[0.5,1]}},"camera-130":{"normal":{"img":"tUgc-camera-130.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-130.svg","size":[40,40],"offset":[0.5,1]}},"camera-140":{"normal":{"img":"tUgc-camera-140.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-140.svg","size":[40,40],"offset":[0.5,1]}},"camera-tl":{"normal":{"img":"tUgc-camera-tl.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-tl.svg","size":[40,40],"offset":[0.5,1]}},"camera-bus":{"normal":{"img":"tUgc-camera-bus.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-bus.svg","size":[40,40],"offset":[0.5,1]}},"camera-line":{"normal":{"img":"tUgc-camera-line.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-line.svg","size":[40,40],"offset":[0.5,1]}},"camera-parking":{"normal":{"img":"tUgc-camera-parking.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-parking.svg","size":[40,40],"offset":[0.5,1]}},"crash":{"normal":{"img":"tUgc-crash.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-crash.svg","size":[40,40],"offset":[0.5,1]}},"roadwork":{"normal":{"img":"tUgc-roadwork.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-roadwork.svg","size":[40,40],"offset":[0.5,1]}},"restriction":{"normal":{"img":"tUgc-restriction.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-restriction.svg","size":[40,40],"offset":[0.5,1]}},"comment":{"normal":{"img":"tUgc-comment.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-comment.svg","size":[40,40],"offset":[0.5,1]}},"other":{"normal":{"img":"tUgc-other.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-other.svg","size":[40,40],"offset":[0.5,1]}}},"zIndex":0}')},29836:e=>{"use strict";e.exports=JSON.parse('{"9":{"priorityGroups":[{"type":"commercial","safeZone":4,"margin":4,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"10":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"11":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":8,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"12":{"priorityGroups":[{"type":"commercial","safeZone":1,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":6,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"13":{"priorityGroups":[{"type":"commercial","safeZone":2,"margin":0,"degradation":2},{"type":"middlebullet","safeZone":2,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":20},"14":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":6},{"type":"middlebullet","safeZone":2,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":1,"margin":0,"degradation":0}],"labelMargin":15},"15":{"priorityGroups":[{"type":"commercial","safeZone":10,"margin":0,"degradation":20},{"type":"middlebullet","safeZone":4,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":10},"16":{"priorityGroups":[{"type":"commercial","safeZone":52,"margin":0,"degradation":78},{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":5},"17":{"priorityGroups":[{"type":"commercial","safeZone":52,"margin":0,"degradation":78},{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":0}}')},30654:e=>{"use strict";e.exports=JSON.parse('{"zIndex":1,"icons":{"smallbullet":{"normal":{"img":"smallbullet.svg","size":[14,14],"offset":[0.5,0.5]},"hover":{"img":"smallbullet_hover.svg","size":[16,16],"offset":[0.43,0.43]},"active":{"img":"smallbullet_closed.svg","size":[14,14],"offset":[0.5,0.5]}},"middlebullet":{"normal":{"img":"middlebullet.svg","size":[22,22],"offset":[0.5,0.5]},"hover":{"img":"middlebullet_hover.svg","size":[26,26],"offset":[0.42,0.42]},"active":{"img":"middlebullet_closed.svg","size":[22,22],"offset":[0.5,0.5]}},"bigbullet":{"normal":{"img":"bigbullet.svg","size":[24,24],"offset":[0.5,0.5]},"hover":{"img":"bigbullet_hover.svg","size":[28,28],"offset":[0.43,0.43]},"active":{"img":"bigbullet_closed.svg","size":[24,24],"offset":[0.5,0.5]}},"commercial":{"normal":{"img":"commercial.svg","size":[36,36],"offset":[0.5,0.5]},"hover":{"img":"commercial_hover.svg","size":[40,40],"offset":[0.45,0.425]},"active":{"img":"commercial_closed.svg","size":[36,36],"offset":[0.5,0.5]}}}}')},80344:e=>{"use strict";e.exports=JSON.parse('{"9":{"priorityGroups":[{"type":"commercial","safeZone":4,"margin":4,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"10":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"11":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":8,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"12":{"priorityGroups":[{"type":"commercial","safeZone":1,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":6,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"13":{"priorityGroups":[{"type":"commercial","safeZone":2,"margin":0,"degradation":2},{"type":"middlebullet","safeZone":2,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":20},"14":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":6},{"type":"middlebullet","safeZone":2,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":1,"margin":0,"degradation":0}],"labelMargin":15},"15":{"priorityGroups":[{"type":"commercial","safeZone":10,"margin":0,"degradation":20},{"type":"middlebullet","safeZone":4,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":10},"16":{"priorityGroups":[{"type":"commercial","safeZone":52,"margin":0,"degradation":78},{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":5},"17":{"priorityGroups":[{"type":"commercial","safeZone":52,"margin":0,"degradation":78},{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":0}}')},65249:e=>{"use strict";e.exports=JSON.parse('{"zIndex":1,"icons":{"smallbullet":{"normal":{"img":"smallbullet.svg","size":[14,14],"offset":[0.5,0.5]},"hover":{"img":"smallbullet_hover.svg","size":[16,16],"offset":[0.43,0.43]},"active":{"img":"smallbullet_closed.svg","size":[14,14],"offset":[0.5,0.5]}},"middlebullet":{"normal":{"img":"middlebullet.svg","size":[22,22],"offset":[0.5,0.5]},"hover":{"img":"middlebullet_hover.svg","size":[26,26],"offset":[0.42,0.42]},"active":{"img":"middlebullet_closed.svg","size":[22,22],"offset":[0.5,0.5]}},"bigbullet":{"normal":{"img":"bigbullet.svg","size":[24,24],"offset":[0.5,0.5]},"hover":{"img":"bigbullet_hover.svg","size":[28,28],"offset":[0.43,0.43]},"active":{"img":"bigbullet_closed.svg","size":[24,24],"offset":[0.5,0.5]}},"commercial":{"normal":{"img":"commercial.svg","size":[36,36],"offset":[0.5,0.5]},"hover":{"img":"commercial_hover.svg","size":[40,40],"offset":[0.45,0.425]},"active":{"img":"commercial_closed.svg","size":[36,36],"offset":[0.5,0.5]}}}}')},10682:e=>{"use strict";e.exports=JSON.parse('{"icons":{"pin":{"normal":{"img":"pin.svg","size":[30,48],"offset":[0.5,0.5]}},"pin-commercial":{"normal":{"img":"pin-commercial.svg","size":[34,54],"offset":[0.5,0.5]}},"pin-commercial-logo":{"normal":{"img":"pin-commercial-logo.svg","size":[36,44],"offset":[0.5,0.95]}}},"zIndex":3}')},95166:e=>{"use strict";e.exports=JSON.parse('{"9":{"priorityGroups":[{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":30},"10":{"priorityGroups":[{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":35},"11":{"priorityGroups":[{"type":"middlebullet","safeZone":8,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":40},"12":{"priorityGroups":[{"type":"middlebullet","safeZone":6,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":45},"13":{"priorityGroups":[{"type":"middlebullet","safeZone":2,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":45},"14":{"priorityGroups":[{"type":"middlebullet","safeZone":2,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":1,"margin":0,"degradation":0}],"labelMargin":50},"15":{"priorityGroups":[{"type":"middlebullet","safeZone":4,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":55},"16":{"priorityGroups":[{"type":"bigbullet","safeZone":36,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":24,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":20,"margin":0,"degradation":0}],"labelMargin":60}}')},96442:e=>{"use strict";e.exports=JSON.parse('{"icons":{"smallbullet":{"normal":{"img":"small.svg","size":[10,10],"offset":[0.5,0.5]},"hover":{"img":"small-hover.svg","size":[10,10],"offset":[0.5,0.5]},"visited":{"img":"small-visited.svg","size":[10,10],"offset":[0.5,0.5]},"normal-pik":{"img":"small-pik.svg","size":[10,10],"offset":[0.5,0.5]}},"middlebullet":{"normal":{"img":"medium.svg","size":[12,12],"offset":[0.5,0.5]},"hover":{"img":"medium-hover.svg","size":[12,12],"offset":[0.5,0.5]},"visited":{"img":"medium-visited.svg","size":[12,12],"offset":[0.5,0.5]},"normal-pik":{"img":"medium-pik.svg","size":[12,12],"offset":[0.5,0.5]}},"bigbullet":{"normal":{"img":"large.svg","size":[18,18],"offset":[0.5,0.5]},"hover":{"img":"large-hover.svg","size":[18,18],"offset":[0.5,0.5]},"visited":{"img":"large-visited.svg","size":[18,18],"offset":[0.5,0.5]},"normal-pik":{"img":"large-pik.svg","size":[18,18],"offset":[0.5,0.5]}}},"zIndex":1}')},18577:e=>{"use strict";e.exports=JSON.parse('{"icons":{"supermarket_normal":{"normal":{"img":"infrastructure/normal/supermarket_marker.svg","size":[24,24],"offset":[0.5,0.5]}},"education_normal":{"normal":{"img":"infrastructure/normal/education_marker.svg","size":[24,24],"offset":[0.5,0.5]}},"kindergarten_normal":{"normal":{"img":"infrastructure/normal/kindergarten_marker.svg","size":[24,24],"offset":[0.5,0.5]}},"hospital_normal":{"normal":{"img":"infrastructure/normal/hospital_marker.svg","size":[24,24],"offset":[0.5,0.5]}},"pharmacy_normal":{"normal":{"img":"infrastructure/normal/pharmacy_marker.svg","size":[24,24],"offset":[0.5,0.5]}},"sport_normal":{"normal":{"img":"infrastructure/normal/sport_marker.svg","size":[24,24],"offset":[0.5,0.5]}},"culture_normal":{"normal":{"img":"infrastructure/normal/culture_marker.svg","size":[24,24],"offset":[0.5,0.5]}},"bar_normal":{"normal":{"img":"infrastructure/normal/bar_marker.svg","size":[24,24],"offset":[0.5,0.5]}}},"zIndex":1}')},479:e=>{"use strict";e.exports=JSON.parse('{"icons":{"supermarket_selected":{"normal":{"img":"infrastructure/selected/supermarket_marker.svg","size":[36,36],"offset":[0.5,0.5]}},"education_selected":{"normal":{"img":"infrastructure/selected/education_marker.svg","size":[36,36],"offset":[0.5,0.5]}},"kindergarten_selected":{"normal":{"img":"infrastructure/selected/kindergarten_marker.svg","size":[36,36],"offset":[0.5,0.5]}},"hospital_selected":{"normal":{"img":"infrastructure/selected/hospital_marker.svg","size":[36,36],"offset":[0.5,0.5]}},"pharmacy_selected":{"normal":{"img":"infrastructure/selected/pharmacy_marker.svg","size":[36,36],"offset":[0.5,0.5]}},"sport_selected":{"normal":{"img":"infrastructure/selected/sport_marker.svg","size":[36,36],"offset":[0.5,0.5]}},"culture_selected":{"normal":{"img":"infrastructure/selected/culture_marker.svg","size":[36,36],"offset":[0.5,0.5]}},"bar_selected":{"normal":{"img":"infrastructure/selected/bar_marker.svg","size":[36,36],"offset":[0.5,0.5]}}},"zIndex":2}')},59566:e=>{"use strict";e.exports=JSON.parse('{"icons":{"pin":{"normal":{"img":"pin.svg","size":[36,44],"offset":[0.5,0.95]}},"pin-commercial":{"normal":{"img":"pin-commercial.svg","size":[36,44],"offset":[0.5,0.95]}},"pin-commercial-logo":{"normal":{"img":"pin-commercial-logo.svg","size":[36,44],"offset":[0.5,0.95]}}},"zIndex":3}')},49897:e=>{"use strict";e.exports=JSON.parse('{"9":{"priorityGroups":[{"type":"commercial","safeZone":10,"margin":20,"degradation":30},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"10":{"priorityGroups":[{"type":"commercial","safeZone":10,"margin":20,"degradation":30},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"11":{"priorityGroups":[{"type":"commercial","safeZone":10,"margin":20,"degradation":30},{"type":"middlebullet","safeZone":5,"margin":10,"degradation":20},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"12":{"priorityGroups":[{"type":"commercial","safeZone":10,"margin":20,"degradation":30},{"type":"middlebullet","safeZone":5,"margin":10,"degradation":20},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"13":{"priorityGroups":[{"type":"commercial","safeZone":15,"margin":30,"degradation":40},{"type":"middlebullet","safeZone":10,"margin":20,"degradation":30},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":20},"14":{"priorityGroups":[{"type":"commercial","safeZone":8,"margin":20,"degradation":30},{"type":"middlebullet","safeZone":5,"margin":20,"degradation":30},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":23},"15":{"priorityGroups":[{"type":"commercial","safeZone":30,"margin":30,"degradation":40},{"type":"bigbullet","safeZone":20,"margin":20,"degradation":30},{"type":"middlebullet","safeZone":10,"margin":10,"degradation":20},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":20},"16":{"priorityGroups":[{"type":"commercial","safeZone":30,"margin":30,"degradation":40},{"type":"bigbullet","safeZone":20,"margin":20,"degradation":30},{"type":"middlebullet","safeZone":10,"margin":10,"degradation":20},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":15},"17":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":52,"degradation":78},{"type":"bigbullet","safeZone":0,"margin":20,"degradation":0},{"type":"middlebullet","safeZone":0,"margin":20,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":12,"degradation":0}],"labelMargin":0},"18":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":52,"degradation":78},{"type":"bigbullet","safeZone":0,"margin":20,"degradation":0},{"type":"middlebullet","safeZone":0,"margin":20,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":12,"degradation":0}],"labelMargin":0}}')},99392:e=>{"use strict";e.exports=JSON.parse('{"icons":{"smallbullet":{"normal":{"img":"smallbullet.svg","size":[20,21],"offset":[0.5,0.42]},"hover":{"img":"smallbullet_hover.svg","size":[20,21],"offset":[0.5,0.42]},"active":{"img":"smallbullet_closed.svg","size":[20,21],"offset":[0.5,0.42]},"active_hover":{"img":"smallbullet_hover.svg","size":[20,21],"offset":[0.5,0.42]},"closed":{"img":"smallbullet_closed.svg","size":[20,21],"offset":[0.5,0.42]},"closed_hover":{"img":"smallbullet_hover.svg","size":[20,21],"offset":[0.5,0.42]},"deleted":{"img":"smallbullet_closed.svg","size":[20,21],"offset":[0.5,0.42]},"deleted_hover":{"img":"smallbullet_hover.svg","size":[20,21],"offset":[0.5,0.42]}},"middlebullet":{"normal":{"img":"middlebullet.svg","size":[26,26],"offset":[0.5,0.39]},"hover":{"img":"middlebullet_hover.svg","size":[26,26],"offset":[0.5,0.39]},"active":{"img":"middlebullet_closed.svg","size":[26,26],"offset":[0.5,0.39]},"active_hover":{"img":"middlebullet_hover.svg","size":[26,26],"offset":[0.5,0.39]},"closed":{"img":"middlebullet_closed.svg","size":[26,26],"offset":[0.5,0.39]},"closed_hover":{"img":"middlebullet_hover.svg","size":[26,26],"offset":[0.5,0.39]},"deleted":{"img":"middlebullet_closed.svg","size":[26,26],"offset":[0.5,0.39]},"deleted_hover":{"img":"middlebullet_hover.svg","size":[26,26],"offset":[0.5,0.39]}},"bigbullet":{"normal":{"img":"bigbullet.svg","size":[32,32],"offset":[0.5,0.42]},"hover":{"img":"bigbullet_hover.svg","size":[32,32],"offset":[0.5,0.42]},"active":{"img":"bigbullet_closed.svg","size":[32,32],"offset":[0.5,0.42]},"active_hover":{"img":"bigbullet_closed_hover.svg","size":[32,32],"offset":[0.5,0.42]},"closed":{"img":"bigbullet_closed.svg","size":[32,32],"offset":[0.5,0.42]},"closed_hover":{"img":"bigbullet_closed_hover.svg","size":[32,32],"offset":[0.5,0.42]},"deleted":{"img":"bigbullet_closed.svg","size":[32,32],"offset":[0.5,0.42]},"deleted_hover":{"img":"bigbullet_closed_hover.svg","size":[32,32],"offset":[0.5,0.42]}},"commercial":{"normal":{"img":"commercial.svg","size":[42,42],"offset":[0.5,0.43]},"hover":{"img":"commercial_hover.svg","size":[42,42],"offset":[0.5,0.43]},"active":{"img":"bigbullet_closed.svg","size":[32,32],"offset":[0.5,0.42]},"active_hover":{"img":"bigbullet_closed_hover.svg","size":[32,32],"offset":[0.5,0.42]},"closed":{"img":"bigbullet_closed.svg","size":[32,32],"offset":[0.5,0.42]},"closed_hover":{"img":"bigbullet_closed_hover.svg","size":[32,32],"offset":[0.5,0.42]},"deleted":{"img":"bigbullet_closed.svg","size":[32,32],"offset":[0.5,0.42]},"deleted_hover":{"img":"bigbullet_closed_hover.svg","size":[32,32],"offset":[0.5,0.42]}},"commercial_logo":{"normal":{"img":"commercial_logo.svg","size":[42,42],"offset":[0.5,0.43]},"hover":{"img":"commercial_logo_hover.svg","size":[42,42],"offset":[0.5,0.43]}},"pin":{"normal":{"img":"pin.svg","size":[48,56],"offset":[0.5,0.8]}},"pin-commercial":{"normal":{"img":"pin-commercial.svg","size":[48,56],"offset":[0.5,0.8]}},"pin-commercial-logo":{"normal":{"img":"pin-commercial-logo.svg","size":[48,56],"offset":[0.5,0.8]}}},"zIndex":1}')},47838:e=>{"use strict";e.exports=JSON.parse('{"9":{"priorityGroups":[{"type":"smallbullet","safeZone":0,"margin":8,"degradation":0}],"labelMargin":25},"10":{"priorityGroups":[{"type":"smallbullet","safeZone":0,"margin":12,"degradation":0}],"labelMargin":25},"11":{"priorityGroups":[{"type":"middlebullet","safeZone":8,"margin":14,"degradation":22},{"type":"smallbullet","safeZone":0,"margin":8,"degradation":0}],"labelMargin":25},"12":{"priorityGroups":[{"type":"middlebullet","safeZone":8,"margin":14,"degradation":22},{"type":"smallbullet","safeZone":0,"margin":8,"degradation":0}],"labelMargin":25},"13":{"priorityGroups":[{"type":"middlebullet","safeZone":2,"margin":4,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":4,"degradation":0}],"labelMargin":20},"14":{"priorityGroups":[{"type":"middlebullet","safeZone":2,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":1,"margin":0,"degradation":0}],"labelMargin":15},"15":{"priorityGroups":[{"type":"middlebullet","safeZone":4,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":10},"16":{"priorityGroups":[{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":5},"17":{"priorityGroups":[{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":0},"18":{"priorityGroups":[{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":0}}')},95687:e=>{"use strict";e.exports=JSON.parse('{"icons":{"smallbullet":{"normal":{"img":"smallbullet.svg","size":[14,14],"offset":[0.5,0.5]},"hover":{"img":"smallbullet_hover.svg","size":[16,16],"offset":[0.43,0.43]},"high":{"img":"exchange/high_smallbullet.svg","size":[22,22],"offset":[0.5,0.5]},"medium":{"img":"exchange/medium_smallbullet.svg","size":[22,22],"offset":[0.5,0.5]},"low":{"img":"exchange/low_smallbullet.svg","size":[22,22],"offset":[0.5,0.5]}},"middlebullet":{"normal":{"img":"middlebullet.svg","size":[22,22],"offset":[0.5,0.5]},"hover":{"img":"middlebullet_hover.svg","size":[26,26],"offset":[0.42,0.42]},"high":{"img":"exchange/high_middlebullet.svg","size":[22,22],"offset":[0.5,0.5]},"medium":{"img":"exchange/medium_middlebullet.svg","size":[22,22],"offset":[0.5,0.5]},"low":{"img":"exchange/low_middlebullet.svg","size":[22,22],"offset":[0.5,0.5]}},"bigbullet":{"normal":{"img":"bigbullet.svg","size":[24,24],"offset":[0.5,0.5]},"hover":{"img":"bigbullet_hover.svg","size":[28,28],"offset":[0.43,0.43]},"high":{"img":"exchange/high_bigbullet.svg","size":[22,22],"offset":[0.5,0.5]},"medium":{"img":"exchange/medium_bigbullet.svg","size":[22,22],"offset":[0.5,0.5]},"low":{"img":"exchange/low_bigbullet.svg","size":[22,22],"offset":[0.5,0.5]}}},"zIndex":1}')},35595:e=>{"use strict";e.exports=JSON.parse('{"9":{"priorityGroups":[{"type":"personal_E2658B","safeZone":20,"margin":0,"degradation":0},{"type":"personal_198700","safeZone":20,"margin":0,"degradation":0},{"type":"personal_4F92F8","safeZone":20,"margin":0,"degradation":0},{"type":"personal_E7750B","safeZone":20,"margin":0,"degradation":0},{"type":"personal_738AB3","safeZone":20,"margin":0,"degradation":0},{"type":"personal_7435D2","safeZone":20,"margin":0,"degradation":0},{"type":"personal_DBAF00","safeZone":20,"margin":0,"degradation":0},{"type":"personal_00B305","safeZone":20,"margin":0,"degradation":0},{"type":"personal_00A989","safeZone":20,"margin":0,"degradation":0},{"type":"personal_9E578A","safeZone":20,"margin":0,"degradation":0},{"type":"personal_BA6612","safeZone":20,"margin":0,"degradation":0},{"type":"personal_1D66EE","safeZone":20,"margin":0,"degradation":0},{"type":"personal_F83A3A","safeZone":20,"margin":0,"degradation":0},{"type":"public","safeZone":20,"margin":0,"degradation":0}],"labelMargin":0}}')},19380:e=>{"use strict";e.exports=JSON.parse('{"icons":{"personal_E2658B":{"normal":{"img":"coloredPersonal/personal_E2658B_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_198700":{"normal":{"img":"coloredPersonal/personal_198700_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_4F92F8":{"normal":{"img":"coloredPersonal/personal_4F92F8_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_E7750B":{"normal":{"img":"coloredPersonal/personal_E7750B_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_738AB3":{"normal":{"img":"coloredPersonal/personal_738AB3_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_7435D2":{"normal":{"img":"coloredPersonal/personal_7435D2_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_DBAF00":{"normal":{"img":"coloredPersonal/personal_DBAF00_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_00B305":{"normal":{"img":"coloredPersonal/personal_00B305_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_00A989":{"normal":{"img":"coloredPersonal/personal_00A989_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_9E578A":{"normal":{"img":"coloredPersonal/personal_9E578A_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_BA6612":{"normal":{"img":"coloredPersonal/personal_BA6612_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_1D66EE":{"normal":{"img":"coloredPersonal/personal_1D66EE_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_F83A3A":{"normal":{"img":"coloredPersonal/personal_F83A3A_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal":{"normal":{"img":"fav-personal.svg","size":[16,16],"offset":[0.5,0.5]}},"public":{"normal":{"img":"fav-public.svg","size":[16,16],"offset":[0.5,0.5]}},"home":{"normal":{"img":"fav-home.svg","size":[16,16],"offset":[0.5,0.5]}},"work":{"normal":{"img":"fav-work.svg","size":[16,16],"offset":[0.5,0.5]}}},"zIndex":2}')},60785:e=>{"use strict";e.exports=JSON.parse('{"9":{"priorityGroups":[{"type":"commercial","safeZone":4,"margin":4,"degradation":0},{"type":"middlebullet","safeZone":4,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"10":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":12,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"11":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"bigbullet","safeZone":16,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":25},"12":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"bigbullet","safeZone":16,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":25},"13":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"bigbullet","safeZone":0,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":20},"14":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":78},{"type":"bigbullet","safeZone":0,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":15},"15":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"bigbullet","safeZone":0,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":10},"16":{"priorityGroups":[{"type":"commercial","safeZone":52,"margin":0,"degradation":78},{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":5},"17":{"priorityGroups":[{"type":"commercial","safeZone":52,"margin":0,"degradation":78},{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":0},"18":{"priorityGroups":[{"type":"commercial","safeZone":52,"margin":0,"degradation":78},{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":0}}')},77278:e=>{"use strict";e.exports=JSON.parse('{"icons":{"smallbullet":{"normal":{"img":"smallbullet.svg","size":[20,21],"offset":[0.5,0.42]},"hover":{"img":"smallbullet_hover.svg","size":[20,21],"offset":[0.5,0.42]},"active":{"img":"smallbullet_closed.svg","size":[20,21],"offset":[0.5,0.42]},"active_hover":{"img":"smallbullet_hover.svg","size":[20,21],"offset":[0.5,0.42]},"closed":{"img":"smallbullet_closed.svg","size":[20,21],"offset":[0.5,0.42]},"closed_hover":{"img":"smallbullet_hover.svg","size":[20,21],"offset":[0.5,0.42]},"deleted":{"img":"smallbullet_closed.svg","size":[20,21],"offset":[0.5,0.42]},"deleted_hover":{"img":"smallbullet_hover.svg","size":[20,21],"offset":[0.5,0.42]}},"middlebullet":{"normal":{"img":"middlebullet.svg","size":[26,26],"offset":[0.5,0.39]},"hover":{"img":"middlebullet_hover.svg","size":[26,26],"offset":[0.5,0.39]},"active":{"img":"middlebullet_closed.svg","size":[26,26],"offset":[0.5,0.39]},"active_hover":{"img":"middlebullet_hover.svg","size":[26,26],"offset":[0.5,0.39]},"closed":{"img":"middlebullet_closed.svg","size":[26,26],"offset":[0.5,0.39]},"closed_hover":{"img":"middlebullet_hover.svg","size":[26,26],"offset":[0.5,0.39]},"deleted":{"img":"middlebullet_closed.svg","size":[26,26],"offset":[0.5,0.39]},"deleted_hover":{"img":"middlebullet_hover.svg","size":[26,26],"offset":[0.5,0.39]}},"bigbullet":{"normal":{"img":"bigbullet.svg","size":[32,32],"offset":[0.5,0.42]},"hover":{"img":"bigbullet_hover.svg","size":[32,32],"offset":[0.5,0.42]},"active":{"img":"bigbullet_closed.svg","size":[32,32],"offset":[0.5,0.42]},"active_hover":{"img":"bigbullet_closed_hover.svg","size":[32,32],"offset":[0.5,0.42]},"closed":{"img":"bigbullet_closed.svg","size":[32,32],"offset":[0.5,0.42]},"closed_hover":{"img":"bigbullet_closed_hover.svg","size":[32,32],"offset":[0.5,0.42]},"deleted":{"img":"bigbullet_closed.svg","size":[32,32],"offset":[0.5,0.42]},"deleted_hover":{"img":"bigbullet_closed_hover.svg","size":[32,32],"offset":[0.5,0.42]}},"commercial":{"normal":{"img":"commercial.svg","size":[42,42],"offset":[0.5,0.43]},"hover":{"img":"commercial_hover.svg","size":[42,42],"offset":[0.5,0.43]},"active":{"img":"bigbullet_closed.svg","size":[32,32],"offset":[0.5,0.42]},"active_hover":{"img":"bigbullet_closed_hover.svg","size":[32,32],"offset":[0.5,0.42]},"closed":{"img":"bigbullet_closed.svg","size":[32,32],"offset":[0.5,0.42]},"closed_hover":{"img":"bigbullet_closed_hover.svg","size":[32,32],"offset":[0.5,0.42]},"deleted":{"img":"bigbullet_closed.svg","size":[32,32],"offset":[0.5,0.42]},"deleted_hover":{"img":"bigbullet_closed_hover.svg","size":[32,32],"offset":[0.5,0.42]}},"commercial_logo":{"normal":{"img":"commercial_logo.svg","size":[42,42],"offset":[0.5,0.43]},"hover":{"img":"commercial_logo_hover.svg","size":[42,42],"offset":[0.5,0.43]}},"pin":{"normal":{"img":"pin.svg","size":[48,56],"offset":[0.5,0.8]}},"pin-commercial":{"normal":{"img":"pin-commercial.svg","size":[48,56],"offset":[0.5,0.8]}},"pin-commercial-logo":{"normal":{"img":"pin-commercial-logo.svg","size":[48,56],"offset":[0.5,0.8]}}},"zIndex":1}')},99516:e=>{"use strict";e.exports=JSON.parse('{"icons":{"pin":{"normal":{"img":"pin.svg","size":[36,44],"offset":[0.5,0.95]}},"pin-commercial":{"normal":{"img":"pin-commercial.svg","size":[36,44],"offset":[0.5,0.95]}},"pin-commercial-logo":{"normal":{"img":"pin-commercial-logo.svg","size":[36,44],"offset":[0.5,0.95]}}},"zIndex":3}')},41759:e=>{"use strict";e.exports=JSON.parse('{"9":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"10":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"11":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"12":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"13":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"14":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"15":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"16":{"priorityGroups":[{"type":"restriction","safeZone":5,"margin":5,"degradation":0},{"type":"crash","safeZone":5,"margin":5,"degradation":0},{"type":"roadwork","safeZone":5,"margin":5,"degradation":0},{"type":"comment","safeZone":5,"margin":5,"degradation":0},{"type":"other","safeZone":5,"margin":5,"degradation":0},{"type":"camera","safeZone":5,"margin":5,"degradation":0},{"type":"camera-20","safeZone":5,"margin":5,"degradation":0},{"type":"camera-30","safeZone":5,"margin":5,"degradation":0},{"type":"camera-40","safeZone":5,"margin":5,"degradation":0},{"type":"camera-50","safeZone":5,"margin":5,"degradation":0},{"type":"camera-60","safeZone":5,"margin":5,"degradation":0},{"type":"camera-70","safeZone":5,"margin":5,"degradation":0},{"type":"camera-80","safeZone":5,"margin":5,"degradation":0},{"type":"camera-90","safeZone":5,"margin":5,"degradation":0},{"type":"camera-100","safeZone":5,"margin":5,"degradation":0},{"type":"camera-110","safeZone":5,"margin":5,"degradation":0},{"type":"camera-120","safeZone":5,"margin":5,"degradation":0},{"type":"camera-130","safeZone":5,"margin":5,"degradation":0},{"type":"camera-140","safeZone":5,"margin":5,"degradation":0},{"type":"camera-tl","safeZone":5,"margin":5,"degradation":0},{"type":"camera-bus","safeZone":5,"margin":5,"degradation":0},{"type":"camera-line","safeZone":5,"margin":5,"degradation":0},{"type":"camera-parking","safeZone":5,"margin":5,"degradation":0}],"labelMargin":0},"17":{"priorityGroups":[{"type":"restriction","safeZone":5,"margin":5,"degradation":0},{"type":"crash","safeZone":5,"margin":5,"degradation":0},{"type":"roadwork","safeZone":5,"margin":5,"degradation":0},{"type":"comment","safeZone":5,"margin":5,"degradation":0},{"type":"other","safeZone":5,"margin":5,"degradation":0},{"type":"camera","safeZone":5,"margin":5,"degradation":0},{"type":"camera-20","safeZone":5,"margin":5,"degradation":0},{"type":"camera-30","safeZone":5,"margin":5,"degradation":0},{"type":"camera-40","safeZone":5,"margin":5,"degradation":0},{"type":"camera-50","safeZone":5,"margin":5,"degradation":0},{"type":"camera-60","safeZone":5,"margin":5,"degradation":0},{"type":"camera-70","safeZone":5,"margin":5,"degradation":0},{"type":"camera-80","safeZone":5,"margin":5,"degradation":0},{"type":"camera-90","safeZone":5,"margin":5,"degradation":0},{"type":"camera-100","safeZone":5,"margin":5,"degradation":0},{"type":"camera-110","safeZone":5,"margin":5,"degradation":0},{"type":"camera-120","safeZone":5,"margin":5,"degradation":0},{"type":"camera-130","safeZone":5,"margin":5,"degradation":0},{"type":"camera-140","safeZone":5,"margin":5,"degradation":0},{"type":"camera-tl","safeZone":5,"margin":5,"degradation":0},{"type":"camera-bus","safeZone":5,"margin":5,"degradation":0},{"type":"camera-line","safeZone":5,"margin":5,"degradation":0},{"type":"camera-parking","safeZone":5,"margin":5,"degradation":0}],"labelMargin":0},"18":{"priorityGroups":[{"type":"restriction","safeZone":5,"margin":5,"degradation":0},{"type":"crash","safeZone":5,"margin":5,"degradation":0},{"type":"roadwork","safeZone":5,"margin":5,"degradation":0},{"type":"comment","safeZone":5,"margin":5,"degradation":0},{"type":"other","safeZone":5,"margin":5,"degradation":0},{"type":"camera","safeZone":5,"margin":5,"degradation":0},{"type":"camera-20","safeZone":5,"margin":5,"degradation":0},{"type":"camera-30","safeZone":5,"margin":5,"degradation":0},{"type":"camera-40","safeZone":5,"margin":5,"degradation":0},{"type":"camera-50","safeZone":5,"margin":5,"degradation":0},{"type":"camera-60","safeZone":5,"margin":5,"degradation":0},{"type":"camera-70","safeZone":5,"margin":5,"degradation":0},{"type":"camera-80","safeZone":5,"margin":5,"degradation":0},{"type":"camera-90","safeZone":5,"margin":5,"degradation":0},{"type":"camera-100","safeZone":5,"margin":5,"degradation":0},{"type":"camera-110","safeZone":5,"margin":5,"degradation":0},{"type":"camera-120","safeZone":5,"margin":5,"degradation":0},{"type":"camera-130","safeZone":5,"margin":5,"degradation":0},{"type":"camera-140","safeZone":5,"margin":5,"degradation":0},{"type":"camera-tl","safeZone":5,"margin":5,"degradation":0},{"type":"camera-bus","safeZone":5,"margin":5,"degradation":0},{"type":"camera-line","safeZone":5,"margin":5,"degradation":0},{"type":"camera-parking","safeZone":5,"margin":5,"degradation":0}],"labelMargin":0}}')},88955:e=>{"use strict";e.exports=JSON.parse('{"icons":{"camera":{"normal":{"img":"tUgc-camera.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera.svg","size":[40,40],"offset":[0.5,1]}},"camera-20":{"normal":{"img":"tUgc-camera-20.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-20.svg","size":[40,40],"offset":[0.5,1]}},"camera-30":{"normal":{"img":"tUgc-camera-30.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-30.svg","size":[40,40],"offset":[0.5,1]}},"camera-40":{"normal":{"img":"tUgc-camera-40.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-40.svg","size":[40,40],"offset":[0.5,1]}},"camera-50":{"normal":{"img":"tUgc-camera-50.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-50.svg","size":[40,40],"offset":[0.5,1]}},"camera-60":{"normal":{"img":"tUgc-camera-60.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-60.svg","size":[40,40],"offset":[0.5,1]}},"camera-70":{"normal":{"img":"tUgc-camera-70.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-70.svg","size":[40,40],"offset":[0.5,1]}},"camera-80":{"normal":{"img":"tUgc-camera-80.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-80.svg","size":[40,40],"offset":[0.5,1]}},"camera-90":{"normal":{"img":"tUgc-camera-90.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-90.svg","size":[40,40],"offset":[0.5,1]}},"camera-100":{"normal":{"img":"tUgc-camera-100.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-100.svg","size":[40,40],"offset":[0.5,1]}},"camera-110":{"normal":{"img":"tUgc-camera-110.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-110.svg","size":[40,40],"offset":[0.5,1]}},"camera-120":{"normal":{"img":"tUgc-camera-120.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-120.svg","size":[40,40],"offset":[0.5,1]}},"camera-130":{"normal":{"img":"tUgc-camera-130.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-130.svg","size":[40,40],"offset":[0.5,1]}},"camera-140":{"normal":{"img":"tUgc-camera-140.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-140.svg","size":[40,40],"offset":[0.5,1]}},"camera-tl":{"normal":{"img":"tUgc-camera-tl.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-tl.svg","size":[40,40],"offset":[0.5,1]}},"camera-bus":{"normal":{"img":"tUgc-camera-bus.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-bus.svg","size":[40,40],"offset":[0.5,1]}},"camera-line":{"normal":{"img":"tUgc-camera-line.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-line.svg","size":[40,40],"offset":[0.5,1]}},"camera-parking":{"normal":{"img":"tUgc-camera-parking.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-parking.svg","size":[40,40],"offset":[0.5,1]}},"crash":{"normal":{"img":"tUgc-crash.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-crash.svg","size":[40,40],"offset":[0.5,1]}},"roadwork":{"normal":{"img":"tUgc-roadwork.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-roadwork.svg","size":[40,40],"offset":[0.5,1]}},"restriction":{"normal":{"img":"tUgc-restriction.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-restriction.svg","size":[40,40],"offset":[0.5,1]}},"comment":{"normal":{"img":"tUgc-comment.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-comment.svg","size":[40,40],"offset":[0.5,1]}},"other":{"normal":{"img":"tUgc-other.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-other.svg","size":[40,40],"offset":[0.5,1]}}},"zIndex":0}')},60429:e=>{"use strict";e.exports=JSON.parse('{"icons":{"bar":{"commercial_normal":{"img":"rubric/marker_bar.svg","size":[30,30],"offset":[0.5,0.455]},"commercial_hover":{"img":"rubric/marker_bar_hover.svg","size":[30,30],"offset":[0.5,0.455]},"bigbullet_normal":{"img":"rubric/marker_bar.svg","size":[24,24],"offset":[0.5,0.455]},"bigbullet_hover":{"img":"rubric/marker_bar_hover.svg","size":[24,24],"offset":[0.5,0.455]}},"cafe":{"commercial_normal":{"img":"rubric/marker_cafe.svg","size":[30,30],"offset":[0.5,0.455]},"commercial_hover":{"img":"rubric/marker_cafe_hover.svg","size":[30,30],"offset":[0.5,0.455]},"bigbullet_normal":{"img":"rubric/marker_cafe.svg","size":[24,24],"offset":[0.5,0.455]},"bigbullet_hover":{"img":"rubric/marker_cafe_hover.svg","size":[24,24],"offset":[0.5,0.455]}},"candy":{"commercial_normal":{"img":"rubric/marker_candy.svg","size":[30,30],"offset":[0.5,0.455]},"commercial_hover":{"img":"rubric/marker_candy_hover.svg","size":[30,30],"offset":[0.5,0.455]},"bigbullet_normal":{"img":"rubric/marker_candy.svg","size":[24,24],"offset":[0.5,0.455]},"bigbullet_hover":{"img":"rubric/marker_candy_hover.svg","size":[24,24],"offset":[0.5,0.455]}},"coffe_to_go":{"commercial_normal":{"img":"rubric/marker_coffe_to_go.svg","size":[30,30],"offset":[0.5,0.455]},"commercial_hover":{"img":"rubric/marker_coffe_to_go_hover.svg","size":[30,30],"offset":[0.5,0.455]},"bigbullet_normal":{"img":"rubric/marker_coffe_to_go.svg","size":[24,24],"offset":[0.5,0.455]},"bigbullet_hover":{"img":"rubric/marker_coffe_to_go_hover.svg","size":[24,24],"offset":[0.5,0.455]}},"coffee":{"commercial_normal":{"img":"rubric/marker_coffee.svg","size":[30,30],"offset":[0.5,0.455]},"commercial_hover":{"img":"rubric/marker_coffee_hover.svg","size":[30,30],"offset":[0.5,0.455]},"bigbullet_normal":{"img":"rubric/marker_coffee.svg","size":[24,24],"offset":[0.5,0.455]},"bigbullet_hover":{"img":"rubric/marker_coffee_hover.svg","size":[24,24],"offset":[0.5,0.455]}},"fastfood":{"commercial_normal":{"img":"rubric/marker_fastfood.svg","size":[30,30],"offset":[0.5,0.455]},"commercial_hover":{"img":"rubric/marker_fastfood_hover.svg","size":[30,30],"offset":[0.5,0.455]},"bigbullet_normal":{"img":"rubric/marker_fastfood.svg","size":[24,24],"offset":[0.5,0.455]},"bigbullet_hover":{"img":"rubric/marker_fastfood_hover.svg","size":[24,24],"offset":[0.5,0.455]}},"pizza":{"commercial_normal":{"img":"rubric/marker_pizza.svg","size":[30,30],"offset":[0.5,0.455]},"commercial_hover":{"img":"rubric/marker_pizza_hover.svg","size":[30,30],"offset":[0.5,0.455]},"bigbullet_normal":{"img":"rubric/marker_pizza.svg","size":[24,24],"offset":[0.5,0.455]},"bigbullet_hover":{"img":"rubric/marker_pizza_hover.svg","size":[24,24],"offset":[0.5,0.455]}},"sushi":{"commercial_normal":{"img":"rubric/marker_sushi.svg","size":[30,30],"offset":[0.5,0.455]},"commercial_hover":{"img":"rubric/marker_sushi_hover.svg","size":[30,30],"offset":[0.5,0.455]},"bigbullet_normal":{"img":"rubric/marker_sushi.svg","size":[24,24],"offset":[0.5,0.455]},"bigbullet_hover":{"img":"rubric/marker_sushi_hover.svg","size":[24,24],"offset":[0.5,0.455]}}},"zIndex":1}')},84169:e=>{"use strict";e.exports=JSON.parse('{"9":{"priorityGroups":[{"type":"commercial","safeZone":10,"margin":20,"degradation":30},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"10":{"priorityGroups":[{"type":"commercial","safeZone":10,"margin":20,"degradation":30},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"11":{"priorityGroups":[{"type":"commercial","safeZone":10,"margin":20,"degradation":30},{"type":"middlebullet","safeZone":5,"margin":10,"degradation":20},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"12":{"priorityGroups":[{"type":"commercial","safeZone":10,"margin":20,"degradation":30},{"type":"middlebullet","safeZone":5,"margin":10,"degradation":20},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"13":{"priorityGroups":[{"type":"commercial","safeZone":15,"margin":30,"degradation":40},{"type":"middlebullet","safeZone":10,"margin":20,"degradation":30},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":20},"14":{"priorityGroups":[{"type":"commercial","safeZone":8,"margin":20,"degradation":30},{"type":"middlebullet","safeZone":5,"margin":20,"degradation":30},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":23},"15":{"priorityGroups":[{"type":"commercial","safeZone":30,"margin":30,"degradation":40},{"type":"bigbullet","safeZone":20,"margin":20,"degradation":30},{"type":"middlebullet","safeZone":10,"margin":10,"degradation":20},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":20},"16":{"priorityGroups":[{"type":"commercial","safeZone":30,"margin":30,"degradation":40},{"type":"bigbullet","safeZone":20,"margin":20,"degradation":30},{"type":"middlebullet","safeZone":10,"margin":10,"degradation":20},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":15},"17":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":52,"degradation":78},{"type":"bigbullet","safeZone":0,"margin":20,"degradation":0},{"type":"middlebullet","safeZone":0,"margin":20,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":12,"degradation":0}],"labelMargin":0},"18":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":52,"degradation":78},{"type":"bigbullet","safeZone":0,"margin":20,"degradation":0},{"type":"middlebullet","safeZone":0,"margin":20,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":12,"degradation":0}],"labelMargin":0}}')},94116:e=>{"use strict";e.exports=JSON.parse('{"icons":{"smallbullet":{"normal":{"img":"smallbullet.svg","size":[14,14],"offset":[0.5,0.5]},"hover":{"img":"smallbullet_hover.svg","size":[16,16],"offset":[0.43,0.43]},"active":{"img":"smallbullet_closed.svg","size":[14,14],"offset":[0.5,0.5]},"closed":{"img":"smallbullet_closed.svg","size":[14,14],"offset":[0.5,0.5]},"deleted":{"img":"deleted_smallbullet.svg","size":[14,14],"offset":[0.5,0.5]},"deleted_hover":{"img":"deleted_smallbullet_hover.svg","size":[16,16],"offset":[0.43,0.43]}},"middlebullet":{"normal":{"img":"middlebullet.svg","size":[22,22],"offset":[0.5,0.5]},"hover":{"img":"middlebullet_hover.svg","size":[26,26],"offset":[0.42,0.42]},"active":{"img":"middlebullet_closed.svg","size":[22,22],"offset":[0.5,0.5]},"closed":{"img":"middlebullet_closed.svg","size":[22,22],"offset":[0.5,0.5]},"deleted":{"img":"deleted_middlebullet.svg","size":[22,22],"offset":[0.5,0.5]},"deleted_hover":{"img":"deleted_middlebullet_hover.svg","size":[24,24],"offset":[0.42,0.42]}},"bigbullet":{"normal":{"img":"bigbullet.svg","size":[24,24],"offset":[0.5,0.5]},"hover":{"img":"bigbullet_hover.svg","size":[28,28],"offset":[0.43,0.43]},"active":{"img":"bigbullet_closed.svg","size":[24,24],"offset":[0.5,0.5]},"closed":{"img":"bigbullet_closed.svg","size":[24,24],"offset":[0.5,0.5]},"deleted":{"img":"deleted_bigbullet.svg","size":[22,22],"offset":[0.5,0.5]},"deleted_hover":{"img":"deleted_bigbullet_hover.svg","size":[26,26],"offset":[0.43,0.43]}},"commercial":{"normal":{"img":"commercial.svg","size":[30,30],"offset":[0.5,0.455]},"hover":{"img":"commercial_hover.svg","size":[30,30],"offset":[0.5,0.455]},"active":{"img":"commercial_closed.svg","size":[36,36],"offset":[0.5,0.5]},"closed":{"img":"commercial_closed.svg","size":[36,36],"offset":[0.5,0.5]},"deleted":{"img":"commercial_closed.svg","size":[36,36],"offset":[0.5,0.5]}},"commercial_logo":{"normal":{"img":"commercial_logo.svg","size":[30,30],"offset":[0.5,0.455]},"hover":{"img":"commercial_logo_hover.svg","size":[30,30],"offset":[0.5,0.455]}}},"zIndex":1}')},22078:e=>{"use strict";e.exports=JSON.parse('{"9":{"priorityGroups":[{"type":"smallbullet","safeZone":0,"margin":8,"degradation":0}],"labelMargin":25},"10":{"priorityGroups":[{"type":"smallbullet","safeZone":0,"margin":12,"degradation":0}],"labelMargin":25},"11":{"priorityGroups":[{"type":"middlebullet","safeZone":8,"margin":14,"degradation":22},{"type":"smallbullet","safeZone":0,"margin":8,"degradation":0}],"labelMargin":25},"12":{"priorityGroups":[{"type":"middlebullet","safeZone":8,"margin":14,"degradation":22},{"type":"smallbullet","safeZone":0,"margin":8,"degradation":0}],"labelMargin":25},"13":{"priorityGroups":[{"type":"middlebullet","safeZone":2,"margin":4,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":4,"degradation":0}],"labelMargin":20},"14":{"priorityGroups":[{"type":"middlebullet","safeZone":2,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":1,"margin":0,"degradation":0}],"labelMargin":15},"15":{"priorityGroups":[{"type":"middlebullet","safeZone":4,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":10},"16":{"priorityGroups":[{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":5},"17":{"priorityGroups":[{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":0},"18":{"priorityGroups":[{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":0}}')},83104:e=>{"use strict";e.exports=JSON.parse('{"icons":{"smallbullet":{"normal":{"img":"smallbullet.svg","size":[14,14],"offset":[0.5,0.5]},"hover":{"img":"smallbullet_hover.svg","size":[16,16],"offset":[0.43,0.43]},"high":{"img":"exchange/high_smallbullet.svg","size":[22,22],"offset":[0.5,0.5]},"medium":{"img":"exchange/medium_smallbullet.svg","size":[22,22],"offset":[0.5,0.5]},"low":{"img":"exchange/low_smallbullet.svg","size":[22,22],"offset":[0.5,0.5]}},"middlebullet":{"normal":{"img":"middlebullet.svg","size":[22,22],"offset":[0.5,0.5]},"hover":{"img":"middlebullet_hover.svg","size":[26,26],"offset":[0.42,0.42]},"high":{"img":"exchange/high_middlebullet.svg","size":[22,22],"offset":[0.5,0.5]},"medium":{"img":"exchange/medium_middlebullet.svg","size":[22,22],"offset":[0.5,0.5]},"low":{"img":"exchange/low_middlebullet.svg","size":[22,22],"offset":[0.5,0.5]}},"bigbullet":{"normal":{"img":"bigbullet.svg","size":[24,24],"offset":[0.5,0.5]},"hover":{"img":"bigbullet_hover.svg","size":[28,28],"offset":[0.43,0.43]},"high":{"img":"exchange/high_bigbullet.svg","size":[22,22],"offset":[0.5,0.5]},"medium":{"img":"exchange/medium_bigbullet.svg","size":[22,22],"offset":[0.5,0.5]},"low":{"img":"exchange/low_bigbullet.svg","size":[22,22],"offset":[0.5,0.5]}}},"zIndex":1}')},84366:e=>{"use strict";e.exports=JSON.parse('{"9":{"priorityGroups":[{"type":"personal_E2658B","safeZone":20,"margin":0,"degradation":0},{"type":"personal_198700","safeZone":20,"margin":0,"degradation":0},{"type":"personal_4F92F8","safeZone":20,"margin":0,"degradation":0},{"type":"personal_E7750B","safeZone":20,"margin":0,"degradation":0},{"type":"personal_738AB3","safeZone":20,"margin":0,"degradation":0},{"type":"personal_7435D2","safeZone":20,"margin":0,"degradation":0},{"type":"personal_DBAF00","safeZone":20,"margin":0,"degradation":0},{"type":"personal_00B305","safeZone":20,"margin":0,"degradation":0},{"type":"personal_00A989","safeZone":20,"margin":0,"degradation":0},{"type":"personal_9E578A","safeZone":20,"margin":0,"degradation":0},{"type":"personal_BA6612","safeZone":20,"margin":0,"degradation":0},{"type":"personal_1D66EE","safeZone":20,"margin":0,"degradation":0},{"type":"personal_F83A3A","safeZone":20,"margin":0,"degradation":0},{"type":"public","safeZone":20,"margin":0,"degradation":0}],"labelMargin":0}}')},34432:e=>{"use strict";e.exports=JSON.parse('{"icons":{"personal_E2658B":{"normal":{"img":"coloredPersonal/personal_E2658B_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_198700":{"normal":{"img":"coloredPersonal/personal_198700_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_4F92F8":{"normal":{"img":"coloredPersonal/personal_4F92F8_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_E7750B":{"normal":{"img":"coloredPersonal/personal_E7750B_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_738AB3":{"normal":{"img":"coloredPersonal/personal_738AB3_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_7435D2":{"normal":{"img":"coloredPersonal/personal_7435D2_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_DBAF00":{"normal":{"img":"coloredPersonal/personal_DBAF00_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_00B305":{"normal":{"img":"coloredPersonal/personal_00B305_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_00A989":{"normal":{"img":"coloredPersonal/personal_00A989_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_9E578A":{"normal":{"img":"coloredPersonal/personal_9E578A_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_BA6612":{"normal":{"img":"coloredPersonal/personal_BA6612_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_1D66EE":{"normal":{"img":"coloredPersonal/personal_1D66EE_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal_F83A3A":{"normal":{"img":"coloredPersonal/personal_F83A3A_marker.svg","size":[16,16],"offset":[0.5,0.5]}},"personal":{"normal":{"img":"fav-personal.svg","size":[16,16],"offset":[0.5,0.5]}},"public":{"normal":{"img":"fav-public.svg","size":[16,16],"offset":[0.5,0.5]}},"home":{"normal":{"img":"fav-home.svg","size":[16,16],"offset":[0.5,0.5]}},"work":{"normal":{"img":"fav-work.svg","size":[16,16],"offset":[0.5,0.5]}}},"zIndex":2}')},80156:e=>{"use strict";e.exports=JSON.parse('{"9":{"priorityGroups":[{"type":"commercial","safeZone":4,"margin":4,"degradation":0},{"type":"middlebullet","safeZone":4,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"10":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":12,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":0,"margin":0,"degradation":0}],"labelMargin":25},"11":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"bigbullet","safeZone":16,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":25},"12":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"bigbullet","safeZone":16,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":25},"13":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"bigbullet","safeZone":0,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":20},"14":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":78},{"type":"bigbullet","safeZone":0,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":15},"15":{"priorityGroups":[{"type":"commercial","safeZone":0,"margin":0,"degradation":0},{"type":"bigbullet","safeZone":0,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":2,"margin":0,"degradation":0}],"labelMargin":10},"16":{"priorityGroups":[{"type":"commercial","safeZone":52,"margin":0,"degradation":78},{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":5},"17":{"priorityGroups":[{"type":"commercial","safeZone":52,"margin":0,"degradation":78},{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":0},"18":{"priorityGroups":[{"type":"commercial","safeZone":52,"margin":0,"degradation":78},{"type":"bigbullet","safeZone":20,"margin":0,"degradation":0},{"type":"middlebullet","safeZone":20,"margin":0,"degradation":0},{"type":"smallbullet","safeZone":12,"margin":0,"degradation":0}],"labelMargin":0}}')},56596:e=>{"use strict";e.exports=JSON.parse('{"icons":{"smallbullet":{"normal":{"img":"smallbullet.svg","size":[14,14],"offset":[0.5,0.5]},"hover":{"img":"smallbullet_hover.svg","size":[16,16],"offset":[0.43,0.43]},"active":{"img":"smallbullet_closed.svg","size":[14,14],"offset":[0.5,0.5]},"closed":{"img":"smallbullet_closed.svg","size":[14,14],"offset":[0.5,0.5]},"deleted":{"img":"deleted_smallbullet.svg","size":[14,14],"offset":[0.5,0.5]},"deleted_hover":{"img":"deleted_smallbullet_hover.svg","size":[16,16],"offset":[0.43,0.43]}},"middlebullet":{"normal":{"img":"middlebullet.svg","size":[22,22],"offset":[0.5,0.5]},"hover":{"img":"middlebullet_hover.svg","size":[26,26],"offset":[0.42,0.42]},"active":{"img":"middlebullet_closed.svg","size":[22,22],"offset":[0.5,0.5]},"closed":{"img":"middlebullet_closed.svg","size":[22,22],"offset":[0.5,0.5]},"deleted":{"img":"deleted_middlebullet.svg","size":[22,22],"offset":[0.5,0.5]},"deleted_hover":{"img":"deleted_middlebullet_hover.svg","size":[24,24],"offset":[0.42,0.42]}},"bigbullet":{"normal":{"img":"bigbullet.svg","size":[24,24],"offset":[0.5,0.5]},"hover":{"img":"bigbullet_hover.svg","size":[28,28],"offset":[0.43,0.43]},"active":{"img":"bigbullet_closed.svg","size":[24,24],"offset":[0.5,0.5]},"closed":{"img":"bigbullet_closed.svg","size":[24,24],"offset":[0.5,0.5]},"deleted":{"img":"deleted_bigbullet.svg","size":[22,22],"offset":[0.5,0.5]},"deleted_hover":{"img":"deleted_bigbullet_hover.svg","size":[26,26],"offset":[0.43,0.43]}},"commercial":{"normal":{"img":"commercial.svg","size":[30,30],"offset":[0.5,0.46]},"hover":{"img":"commercial_hover.svg","size":[30,30],"offset":[0.5,0.46]},"active":{"img":"commercial_closed.svg","size":[36,36],"offset":[0.5,0.5]},"closed":{"img":"commercial_closed.svg","size":[36,36],"offset":[0.5,0.5]},"deleted":{"img":"commercial_closed.svg","size":[36,36],"offset":[0.5,0.5]}},"commercial_logo":{"normal":{"img":"commercial_logo.svg","size":[30,30],"offset":[0.5,0.46]},"hover":{"img":"commercial_logo_hover.svg","size":[30,30],"offset":[0.5,0.46]}}},"zIndex":1}')},93136:e=>{"use strict";e.exports=JSON.parse('{"icons":{"pin":{"normal":{"img":"pin.svg","size":[36,44],"offset":[0.5,0.95]}},"pin-commercial":{"normal":{"img":"pin-commercial.svg","size":[36,44],"offset":[0.5,0.95]}},"pin-commercial-logo":{"normal":{"img":"pin-commercial-logo.svg","size":[36,44],"offset":[0.5,0.95]}}},"zIndex":3}')},81477:e=>{"use strict";e.exports=JSON.parse('{"9":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"10":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"11":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"12":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"13":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"14":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"15":{"priorityGroups":[{"type":"restriction","safeZone":16,"margin":16,"degradation":0},{"type":"crash","safeZone":16,"margin":16,"degradation":0},{"type":"roadwork","safeZone":16,"margin":16,"degradation":0},{"type":"comment","safeZone":16,"margin":16,"degradation":0},{"type":"other","safeZone":16,"margin":16,"degradation":0}],"labelMargin":0},"16":{"priorityGroups":[{"type":"restriction","safeZone":5,"margin":5,"degradation":0},{"type":"crash","safeZone":5,"margin":5,"degradation":0},{"type":"roadwork","safeZone":5,"margin":5,"degradation":0},{"type":"comment","safeZone":5,"margin":5,"degradation":0},{"type":"other","safeZone":5,"margin":5,"degradation":0},{"type":"camera","safeZone":5,"margin":5,"degradation":0},{"type":"camera-20","safeZone":5,"margin":5,"degradation":0},{"type":"camera-30","safeZone":5,"margin":5,"degradation":0},{"type":"camera-40","safeZone":5,"margin":5,"degradation":0},{"type":"camera-50","safeZone":5,"margin":5,"degradation":0},{"type":"camera-60","safeZone":5,"margin":5,"degradation":0},{"type":"camera-70","safeZone":5,"margin":5,"degradation":0},{"type":"camera-80","safeZone":5,"margin":5,"degradation":0},{"type":"camera-90","safeZone":5,"margin":5,"degradation":0},{"type":"camera-100","safeZone":5,"margin":5,"degradation":0},{"type":"camera-110","safeZone":5,"margin":5,"degradation":0},{"type":"camera-120","safeZone":5,"margin":5,"degradation":0},{"type":"camera-130","safeZone":5,"margin":5,"degradation":0},{"type":"camera-140","safeZone":5,"margin":5,"degradation":0},{"type":"camera-tl","safeZone":5,"margin":5,"degradation":0},{"type":"camera-bus","safeZone":5,"margin":5,"degradation":0},{"type":"camera-line","safeZone":5,"margin":5,"degradation":0},{"type":"camera-parking","safeZone":5,"margin":5,"degradation":0}],"labelMargin":0},"17":{"priorityGroups":[{"type":"restriction","safeZone":5,"margin":5,"degradation":0},{"type":"crash","safeZone":5,"margin":5,"degradation":0},{"type":"roadwork","safeZone":5,"margin":5,"degradation":0},{"type":"comment","safeZone":5,"margin":5,"degradation":0},{"type":"other","safeZone":5,"margin":5,"degradation":0},{"type":"camera","safeZone":5,"margin":5,"degradation":0},{"type":"camera-20","safeZone":5,"margin":5,"degradation":0},{"type":"camera-30","safeZone":5,"margin":5,"degradation":0},{"type":"camera-40","safeZone":5,"margin":5,"degradation":0},{"type":"camera-50","safeZone":5,"margin":5,"degradation":0},{"type":"camera-60","safeZone":5,"margin":5,"degradation":0},{"type":"camera-70","safeZone":5,"margin":5,"degradation":0},{"type":"camera-80","safeZone":5,"margin":5,"degradation":0},{"type":"camera-90","safeZone":5,"margin":5,"degradation":0},{"type":"camera-100","safeZone":5,"margin":5,"degradation":0},{"type":"camera-110","safeZone":5,"margin":5,"degradation":0},{"type":"camera-120","safeZone":5,"margin":5,"degradation":0},{"type":"camera-130","safeZone":5,"margin":5,"degradation":0},{"type":"camera-140","safeZone":5,"margin":5,"degradation":0},{"type":"camera-tl","safeZone":5,"margin":5,"degradation":0},{"type":"camera-bus","safeZone":5,"margin":5,"degradation":0},{"type":"camera-line","safeZone":5,"margin":5,"degradation":0},{"type":"camera-parking","safeZone":5,"margin":5,"degradation":0}],"labelMargin":0},"18":{"priorityGroups":[{"type":"restriction","safeZone":5,"margin":5,"degradation":0},{"type":"crash","safeZone":5,"margin":5,"degradation":0},{"type":"roadwork","safeZone":5,"margin":5,"degradation":0},{"type":"comment","safeZone":5,"margin":5,"degradation":0},{"type":"other","safeZone":5,"margin":5,"degradation":0},{"type":"camera","safeZone":5,"margin":5,"degradation":0},{"type":"camera-20","safeZone":5,"margin":5,"degradation":0},{"type":"camera-30","safeZone":5,"margin":5,"degradation":0},{"type":"camera-40","safeZone":5,"margin":5,"degradation":0},{"type":"camera-50","safeZone":5,"margin":5,"degradation":0},{"type":"camera-60","safeZone":5,"margin":5,"degradation":0},{"type":"camera-70","safeZone":5,"margin":5,"degradation":0},{"type":"camera-80","safeZone":5,"margin":5,"degradation":0},{"type":"camera-90","safeZone":5,"margin":5,"degradation":0},{"type":"camera-100","safeZone":5,"margin":5,"degradation":0},{"type":"camera-110","safeZone":5,"margin":5,"degradation":0},{"type":"camera-120","safeZone":5,"margin":5,"degradation":0},{"type":"camera-130","safeZone":5,"margin":5,"degradation":0},{"type":"camera-140","safeZone":5,"margin":5,"degradation":0},{"type":"camera-tl","safeZone":5,"margin":5,"degradation":0},{"type":"camera-bus","safeZone":5,"margin":5,"degradation":0},{"type":"camera-line","safeZone":5,"margin":5,"degradation":0},{"type":"camera-parking","safeZone":5,"margin":5,"degradation":0}],"labelMargin":0}}')},26109:e=>{"use strict";e.exports=JSON.parse('{"icons":{"camera":{"normal":{"img":"tUgc-camera.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera.svg","size":[40,40],"offset":[0.5,1]}},"camera-20":{"normal":{"img":"tUgc-camera-20.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-20.svg","size":[40,40],"offset":[0.5,1]}},"camera-30":{"normal":{"img":"tUgc-camera-30.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-30.svg","size":[40,40],"offset":[0.5,1]}},"camera-40":{"normal":{"img":"tUgc-camera-40.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-40.svg","size":[40,40],"offset":[0.5,1]}},"camera-50":{"normal":{"img":"tUgc-camera-50.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-50.svg","size":[40,40],"offset":[0.5,1]}},"camera-60":{"normal":{"img":"tUgc-camera-60.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-60.svg","size":[40,40],"offset":[0.5,1]}},"camera-70":{"normal":{"img":"tUgc-camera-70.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-70.svg","size":[40,40],"offset":[0.5,1]}},"camera-80":{"normal":{"img":"tUgc-camera-80.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-80.svg","size":[40,40],"offset":[0.5,1]}},"camera-90":{"normal":{"img":"tUgc-camera-90.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-90.svg","size":[40,40],"offset":[0.5,1]}},"camera-100":{"normal":{"img":"tUgc-camera-100.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-100.svg","size":[40,40],"offset":[0.5,1]}},"camera-110":{"normal":{"img":"tUgc-camera-110.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-110.svg","size":[40,40],"offset":[0.5,1]}},"camera-120":{"normal":{"img":"tUgc-camera-120.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-120.svg","size":[40,40],"offset":[0.5,1]}},"camera-130":{"normal":{"img":"tUgc-camera-130.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-130.svg","size":[40,40],"offset":[0.5,1]}},"camera-140":{"normal":{"img":"tUgc-camera-140.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-140.svg","size":[40,40],"offset":[0.5,1]}},"camera-tl":{"normal":{"img":"tUgc-camera-tl.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-tl.svg","size":[40,40],"offset":[0.5,1]}},"camera-bus":{"normal":{"img":"tUgc-camera-bus.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-bus.svg","size":[40,40],"offset":[0.5,1]}},"camera-line":{"normal":{"img":"tUgc-camera-line.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-line.svg","size":[40,40],"offset":[0.5,1]}},"camera-parking":{"normal":{"img":"tUgc-camera-parking.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-camera-parking.svg","size":[40,40],"offset":[0.5,1]}},"crash":{"normal":{"img":"tUgc-crash.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-crash.svg","size":[40,40],"offset":[0.5,1]}},"roadwork":{"normal":{"img":"tUgc-roadwork.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-roadwork.svg","size":[40,40],"offset":[0.5,1]}},"restriction":{"normal":{"img":"tUgc-restriction.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-restriction.svg","size":[40,40],"offset":[0.5,1]}},"comment":{"normal":{"img":"tUgc-comment.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-comment.svg","size":[40,40],"offset":[0.5,1]}},"other":{"normal":{"img":"tUgc-other.svg","size":[36,34],"offset":[0.5,1]},"active":{"img":"tUgc-other.svg","size":[40,40],"offset":[0.5,1]}}},"zIndex":0}')}},e=>{e.O(0,[4736,1321,9554,5514,9685],(()=>{return t=85311,e(e.s=t);var t}));e.O()}]);